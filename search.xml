<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>switch ç”ŸåŒ–å±æœºå¯ç¤ºå½•2 é€šå…³æµ‹è¯„</title>
      <link href="2021/05/20/2021-05-20-Resident-Evil-Revelations-2/"/>
      <url>2021/05/20/2021-05-20-Resident-Evil-Revelations-2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¸¸æˆåç§°ï¼šç”ŸåŒ–å±æœº å¯ç¤ºå½•2<br>è‹±æ–‡åç§°ï¼šResident Evil Revelations 2<br>æ¸¸æˆç±»å‹ï¼šåŠ¨ä½œå†’é™©<br>æ¸¸æˆåˆ¶ä½œï¼šå¡æ™®ç©º<br>æ¸¸æˆå‘è¡Œï¼šå¡æ™®ç©º<br>æ¸¸æˆå¹³å°ï¼šNintendo Switch<br>ä¸Šå¸‚æ—¶é—´ï¼š2017.11.28<br>å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.nintendo.com/games/detail/resident-evil-revelations-2-switch/">ç‚¹å‡»è¿›å…¥</a></p></blockquote><div class="tip "><p>æ¸¸æˆæ˜¯switchå•†åº—å²ä½æ‰“æŠ˜<emp>40Â¥</emp>è´­å…¥çš„</p></div><p>é€šå…³æ—¶é•¿11å°æ—¶30åˆ†é’Ÿ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210520100421.jpg" alt="é€šå…³æ—¶é•¿"></p><p>17å¹´å‡ºçš„æ¸¸æˆï¼Œæˆ‘ç°åœ¨æ‰æ¥è§¦ğŸ˜</p><p>æ¸¸æˆæ•´ä½“ç´ è´¨ç›¸å½“é«˜äº†ï¼Œåœ¨switchä¸Šç”»è´¨ã€æ“ä½œè¡¨ç°æˆ‘æ„¿ç§°ä¹‹ä¸ºä¸Šä¹˜ä¹‹ä½œ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/041b09f790529822b21334a6d2ca7bcb0a46d46f.jpg"></p><p>æ¯ä¸ªç« èŠ‚æœ‰ç”·å¥³ä¸¤ä½ä¸»è§’äº¤æ›¿è¿›è¡Œå‰§æƒ…ï¼Œæ¯ä½ä¸»è§’èº«è¾¹éƒ½æœ‰ä¸€ä½å‰¯æ‰‹ï¼Œå¦‚å…‹è•¾å„¿å’Œè«ä¾èˆã€å·´ç‘å’Œå¨œå¡”è‰äºšï¼Œä»–ä»¬æ‹¥æœ‰å„è‡ªçš„æŠ€èƒ½ï¼Œå¯ä»¥äº’ç›¸åˆ‡æ¢ã€‚</p><p>æŸäº›è°œé¢˜å¿…é¡»è¦ä¸¤ä½è§’è‰²äº’ç›¸é…åˆï¼Œè¿ç”¨å·±èº«æ‰€é•¿ä¸ºä¼™ä¼´åˆ›é€ ç”Ÿè·¯ã€‚</p><p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹æ¯ä½è§’è‰²çš„åŸºæœ¬èƒ½åŠ›ï¼š</p><ol><li><p>å…‹è•¾å„¿<br>æ¢³ç€ä¸€å¤´é©¬å°¾è¾«ï¼Œç²¾æ˜å¹²ç»ƒã€‚ç†Ÿæ‚‰æªæ¢°å¹¶å…·æœ‰ä¸€å®šçš„ä½“èƒ½åŠ›é‡ã€‚<br>æŠ€èƒ½1ï¼šä¸»æ­¦å™¨æ˜¯æªæ”¯ï¼ˆæ‰‹æªã€éœ°å¼¹æªç­‰ï¼‰ï¼Œæ‹¥æœ‰ç†Ÿç»ƒçš„æªæ¢°æŠ€å·§ä»¥å°„æ€æ•Œäººã€‚<br>æŠ€èƒ½2ï¼šå‰¯æ‰‹æ­¦å™¨æ˜¯é˜²èº«åŒ•é¦–ï¼Œå¯ä»¥æœæ•Œäººåˆºæ–©ï¼Œåªæ˜¯ä¼¤å®³æœ‰é™ã€‚<br>æŠ€èƒ½3ï¼šæ‹¥æœ‰ä¸€å®šçš„åŠ›é‡ï¼Œèƒ½å°†çœ©æ™•åƒµç›´çš„ä¸€è„šè¸¢ç¿»åœ¨åœ°ã€‚<br>æŠ€èƒ½4ï¼šèƒ½å¤Ÿæ¨å¼€é˜»æŒ¡é“è·¯çš„ç®±æŸœã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/b2273a292df5e0fe9fcdf064596034a85fdf72b1.jpg"></p></li><li><p>è«ä¾èˆ<br>èº«å½¢ç›¸å¯¹å¨‡å°çš„å¥³ç”Ÿï¼Œä½†è¿™å¹¶ä¸è¡¨ç¤ºå¥¹å¾ˆå¼±å°ï¼Œå‘èµ·ç‹ æ¥è¿ç”·äººéƒ½è¦é€€é¿ä¸‰èˆã€‚<br>æŠ€èƒ½1ï¼šä¸»æ­¦å™¨æ˜¯æ’¬æ£ï¼Œå®ƒçš„ä¼¤å®³åŠ›å’Œä¼¤å®³èŒƒå›´è¦æ¯”å…‹è•¾å„¿çš„åŒ•é¦–ç»™åŠ›å¾—å¤šã€‚<br>æŠ€èƒ½2ï¼šå‰¯æ­¦å™¨æ˜¯æ‰‹ç”µç­’ï¼Œæ²¡é”™ï¼Œå°±æ˜¯æ‰‹ç”µç­’ã€‚æ‰‹ç”µç­’æœ‰å¸¸å…‰å’Œèšå…‰ï¼ˆæŒ‰é¼ æ ‡å³é”®ï¼‰ä¸¤ç§çŠ¶æ€ï¼Œåœ¨èšå…‰çŠ¶æ€ä¸‹ï¼Œå¯è‡´æ•Œäººæš‚æ—¶ç›®ç›²ï¼Œè¿™æ ·å…‹è•¾å„¿å¯ä»¥å‘åŠ¨ä½“æœ¯ä¸€å‡»å€’åœ°ã€‚ä¸è¿‡æ‰‹ç”µç­’çš„ç”µåŠ›æœ‰é™ï¼Œèšå…‰çŠ¶æ€ä¸èƒ½æŒç»­å¤ªä¹…ã€‚<br>æŠ€èƒ½3ï¼šä½¿ç”¨æ‰‹ç”µç­’çš„èšå…‰çŠ¶æ€å¯ä»¥æœç´¢éšè—çš„å®ç‰©ï¼Œè¯è‰ã€å¼¹è¯ä¸å†å‘æ„äº†ã€‚<br>æŠ€èƒ½4ï¼šæ©‡æ£ç«–ç›´ä¸€æ’ï¼Œå°†å€’åœ°çš„åƒµå°¸ä¸€å‡»å¿…æ€ã€‚<br>æŠ€èƒ½5ï¼šå¯ä»¥æ©‡å¼€å®ç®±ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/14769258d109b3de8fa69c0dc9bf6c81800a4c75.jpg"></p></li><li><p>å·´ç‘<br>èº«å½¢é­æ¢§çš„å¤§å”ï¼Œæ‹¥æœ‰çŸ«å¥çš„èº«æ‰‹å’Œä¸ä¿—çš„æˆ˜æ–—æŠ€å·§ï¼Œå³ä½¿é¢å¯¹å†å¤šçš„æ•Œäººä¹Ÿè½»æ¾åº”ä»˜ã€‚<br>æŠ€èƒ½1ï¼šä¸»æ­¦å™¨æ˜¯æªæ¢°ï¼ˆæ‰‹æªã€é©¬æ ¼å—æ‰‹æªã€çªå‡»æ­¥æªç­‰ï¼‰ï¼Œå¨´ç†Ÿçš„å°„å‡»æŠ€èƒ½ä½¿å¾—ä»–é¢å¯¹æ½®æ¶Œè€Œæ¥çš„åƒµå°¸ä¹Ÿæ— æ‰€ç•æƒ§ã€‚<br>æŠ€èƒ½2ï¼šå‰¯æ‰‹æ­¦å™¨æ˜¯é‡æˆ˜åŒ•é¦–ï¼Œå¯ä»¥ä»èº«åæš—æ€æ•Œäººã€‚<br>æŠ€èƒ½3ï¼šèƒ½å¤Ÿæ¨å¼€é˜»è·¯çš„ç®±æŸœï¼Œæ›´èƒ½æ¬è¿é‡ç‰©ä½œä¸ºå«è„šçŸ³ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/f121ebc4b74543a9e19c9aa91b178a82b8011483.jpg"></p></li><li><p>å¨œå¡”è‰äºš<br>ä¸€è¢­ç™½è¢çš„å°å§‘å¨˜ï¼Œè™½ç„¶çœ‹æ¥å¼±ä¸ç¦é£ï¼Œå´æ‹¥æœ‰è®©äººæ„æƒ³ä¸åˆ°çš„å‹‡æ•¢å’Œåšå¼ºã€‚<br>æŠ€èƒ½1ï¼šå¥¹çš„æ­¦å™¨å°±æ˜¯ç –å¤´ï¼Œæ¬èµ·æ¥ç ¸æ­»æ•Œäººã€‚<br>æŠ€èƒ½2ï¼šå¯ä»¥æ¢æµ‹æ•Œäººä½ç½®ï¼Œä¸‹è¹²å¯ä»¥æå‡æ„ŸçŸ¥çš„èŒƒå›´ã€‚å¥¹åœ¨è¹²ä¼çš„æ—¶å€™æ— å£°æ— æ¯ç§»åŠ¨ï¼Œè®©æ•Œäººéš¾ä»¥å‘ç°ã€‚<br>æŠ€èƒ½3ï¼šå¥¹å’Œè«ä¾èˆä¸€æ ·ï¼Œå¯ä»¥æœç´¢åˆ°éšè—çš„ç‰©å“ã€‚<br>æŠ€èƒ½4ï¼šå¥¹èƒ½é’»è¿‡å¾ˆå°çš„å¢™æ´ï¼Œæ”¶é›†é“å…·æˆ–ä¸ºæ­æ¡£æ‰“å¼€å‰è¿›çš„é“è·¯ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/484302087bf40ad1eb63a786522c11dfa8ecce8c.jpg"></p></li></ol><p>11.5å°æ—¶é€šå…³ï¼Œè§£å¯†éƒ¨åˆ†ä¹Ÿè°ˆä¸ä¸Šè§£å¯†ï¼Œéš¾åº¦ä¸é«˜ï¼Œå°±æ˜¯æ‰¾é’¥åŒ™ã€‚ä»»åŠ¡æ ‡ç‚¹ä¹Ÿå¾ˆæ˜ç¡®ï¼Œä¸ä¼šè®©ä½ ä¸çŸ¥é“å¹²å•¥ã€‚æœ€ååœ°ä¸‹çš„å®éªŒå®¤åœºæ™¯çš„ç”»é¢è¶…åˆºæ¿€ï¼Œç¬¬ä¸€æ¬¡ç©ä¼šè®©äººæ¯›éª¨æ‚šç„¶ï¼Œæ•´ä½“ä¸‹æ¥ä½“éªŒè¿˜æ˜¯ä¸é”™ã€‚é€šå…³ä¹‹åï¼Œä¹…ä¹…å›å‘³ï¼Œç»å¯¹ç¥ä½œï¼ï¼ˆè¿›æ¸¸æˆä¹‹å‰è®°å¾—æ¢æœè£…å“ˆå“ˆå“ˆå“ˆğŸ˜ï¼‰</p><p>æ¸¸æˆè¿˜æ”¯æŒçº¿ä¸Šæ¨¡å¼ï¼Œæ‰“æ€ªå®Œæˆä»»åŠ¡å‡çº§åšè£…å¤‡ï¼Œå‡çº§æŠ€èƒ½ã€‚å¯ä»¥å’Œçº¿ä¸Šçš„å¥½å‹æˆ–è€…å…¶ä»–äººåˆ›å»ºæˆ¿é—´ï¼Œä¸€èµ·æ‰“ä¸§å°¸ã€‚ä¸è¿‡æˆ‘ç©çš„æ—¶å€™åŸºæœ¬æœä¸åˆ°æœ‰çº¿ä¸Šçš„äººåœ¨ç©ï¼ŒåŸºæœ¬çº¿ä¸Šæ²¡å•¥äººäº†</p><p>çº¿ä¸Šæ¨¡å¼ç©å¾—ä¸å¤šï¼Œæ¨èå’Œå¥½å‹ä¸€èµ·ç©ã€‚</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot01.webp"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot02.webp"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot03.webp"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot04.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot05.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/screenshot06.webp"></p>          </div><p>ç”ŸåŒ–å±æœºéƒ½çŸ¥é“æ˜¯ä»¥ä¸§å°¸ä¸ºèƒŒæ™¯çš„å†’é™©æ¸¸æˆï¼Œè´´ä¸€äº›ç”ŸåŒ–å±æœºå¯ç¤ºå½•2å‡ºç°çš„æ€ª</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/6c4b8bd4b31c8701cf12d883227f9e2f0608ffe3.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/77c2e6cd7b899e514f5f507147a7d933c9950dbd.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/77c2e6cd7b899e514f43507147a7d933c9950db9.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/debad158ccbf6c8185a5468db93eb13532fa40f8.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/7276251f95cad1c8b34696427a3e6709c83d5189.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/030c970a304e251f873e8e9da286c9177e3e5345.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/8f29728b4710b912eb8a9c9bc6fdfc03934522c7.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/846410385343fbf20a28f646b57eca8065388f03.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/9f6c564e9258d1094bf3fbd7d458ccbf6c814d7f.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/27000cd7912397dd6e41fb615c82b2b7d0a28757.jpg"></p>          </div><p>æˆ‘ç©æ¸¸æˆåŸºæœ¬å¾ˆéš¾æŠŠä¸€ä¸ªæ¸¸æˆä¸€é¼“ä½œæ°”çš„ç©é€šå…³ï¼ŒåŸºæœ¬éƒ½æ˜¯ç©åˆ°ä¸€åŠæˆ–è€…ä¸€å°åŠå°±ä¸ç©äº†<br>å¯¼è‡´å¾ˆå¤šæ¸¸æˆéƒ½åƒç°äº†ã€‚</p><p>è¿™æ¬¡æŠŠswitchç»™ç ´è§£äº†ï¼Œæˆ‘512Gçš„å†…å­˜å¡éƒ½è£…æ»¡äº†æ¸¸æˆï¼Œå¤ªå¤šäº†ã€‚æ˜¯æ—¶å€™å¥½å¥½æ¶ˆåŒ–ä¸€æ³¢ğŸ˜‚ï¼Œå€Ÿæ­¤å†™å†™è®°å½•ä¸€ä¸‹</p>]]></content>
      
      
      <categories>
          
          <category> æ¸¸æˆå¨±ä¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> switch </tag>
            
            <tag> ç”ŸåŒ–å±æœºå¯ç¤ºå½•2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº Butterfly çš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥-ç¬”è®°</title>
      <link href="2021/05/17/2021-05-17-butterfly-tag-plugins-plus/"/>
      <url>2021/05/17/2021-05-17-butterfly-tag-plugins-plus/</url>
      
        <content type="html"><![CDATA[<h1 id="è¡Œå†…æ–‡æœ¬æ ·å¼-text"><a href="#è¡Œå†…æ–‡æœ¬æ ·å¼-text" class="headerlink" title="è¡Œå†…æ–‡æœ¬æ ·å¼ text"></a>è¡Œå†…æ–‡æœ¬æ ·å¼ text</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">ç¤ºä¾‹ä»£ç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% u æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% emp æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% wavy æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% del æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% kbd æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% psw æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><ol><li>å¸¦ <u>ä¸‹åˆ’çº¿</u> çš„æ–‡æœ¬</li><li>å¸¦ <emp>ç€é‡å·</emp> çš„æ–‡æœ¬</li><li>å¸¦ <wavy>æ³¢æµªçº¿</wavy> çš„æ–‡æœ¬</li><li>å¸¦ <del>åˆ é™¤çº¿</del> çš„æ–‡æœ¬</li><li>é”®ç›˜æ ·å¼çš„æ–‡æœ¬ <kbd>command</kbd> + <kbd>D</kbd></li><li>å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š<psw>è¿™é‡Œæ²¡æœ‰éªŒè¯ç </psw><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">1.</span> å¸¦ &#123;% u ä¸‹åˆ’çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">2.</span> å¸¦ &#123;% emp ç€é‡å· %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">3.</span> å¸¦ &#123;% wavy æ³¢æµªçº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">4.</span> å¸¦ &#123;% del åˆ é™¤çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">5.</span> é”®ç›˜æ ·å¼çš„æ–‡æœ¬ &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š&#123;% psw è¿™é‡Œæ²¡æœ‰éªŒè¯ç  %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="è¡Œå†…æ–‡æœ¬-span"><a href="#è¡Œå†…æ–‡æœ¬-span" class="headerlink" title="è¡Œå†…æ–‡æœ¬ span"></a>è¡Œå†…æ–‡æœ¬ span</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% span æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>å­—ä½“:logo, code</li><li>é¢œè‰²:<span class='p red'>çº¢è‰²</span>ã€<span class='p yellow'>é»„è‰²</span>ã€<span class='p green'>ç»¿è‰²</span>ã€<span class='p cyan'>é’è‰²</span>ã€<span class='p blue'>è“è‰²</span>ã€<span class='p gray'>ç°è‰²</span></li><li>å¤§å°: small, h4, h3, h2, h1, large, huge, ultra</li><li>å¯¹é½æ–¹å‘: left, center, right<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<span class='p red'>çº¢è‰²</span>ã€<span class='p yellow'>é»„è‰²</span>ã€<span class='p green'>ç»¿è‰²</span>ã€<span class='p cyan'>é’è‰²</span>ã€<span class='p blue'>è“è‰²</span>ã€<span class='p gray'>ç°è‰²</span>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<span class='p center logo large'>Volantis</span><span class='p center small'>A Wonderful Theme for Hexo</span><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% span red, çº¢è‰² %&#125;ã€&#123;% span yellow, é»„è‰² %&#125;ã€&#123;% span green, ç»¿è‰² %&#125;ã€&#123;% span cyan, é’è‰² %&#125;ã€&#123;% span blue, è“è‰² %&#125;ã€&#123;% span gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="æ®µè½æ–‡æœ¬-p"><a href="#æ®µè½æ–‡æœ¬-p" class="headerlink" title="æ®µè½æ–‡æœ¬ p"></a>æ®µè½æ–‡æœ¬ p</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% p æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>å­—ä½“:logo, code</li><li>é¢œè‰²:<span class='p red'>çº¢è‰²</span>ã€<span class='p yellow'>é»„è‰²</span>ã€<span class='p green'>ç»¿è‰²</span>ã€<span class='p cyan'>é’è‰²</span>ã€<span class='p blue'>è“è‰²</span>ã€<span class='p gray'>ç°è‰²</span></li><li>å¤§å°: small, h4, h3, h2, h1, large, huge, ultra</li><li>å¯¹é½æ–¹å‘: left, center, right<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<p class='p red'>çº¢è‰²</p>ã€<p class='p yellow'>é»„è‰²</p>ã€<p class='p green'>ç»¿è‰²</p>ã€<p class='p cyan'>é’è‰²</p>ã€<p class='p blue'>è“è‰²</p>ã€<p class='p gray'>ç°è‰²</p>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% p red, çº¢è‰² %&#125;ã€&#123;% p yellow, é»„è‰² %&#125;ã€&#123;% p green, ç»¿è‰² %&#125;ã€&#123;% p cyan, é’è‰² %&#125;ã€&#123;% p blue, è“è‰² %&#125;ã€&#123;% p gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="å¼•ç”¨-note"><a href="#å¼•ç”¨-note" class="headerlink" title="å¼•ç”¨ note"></a>å¼•ç”¨ note</h1><div class="note orange icon flat"><i class="note-icon fas fa-battery-half"></i><p>æœ€æ–°ç‰ˆ <code>butterfly</code> æ ‡ç­¾æ”¯æŒå¼•ç”¨ <code>fontawesome V5</code> å›¾æ ‡ï¼Œæ•ˆæœä¸Šå·²ç»ä¼˜äº <code>volantis</code> çš„ note æ ‡ç­¾ã€‚æ•…ä¸å†é¢å¤–å¼•å…¥<code> volantis</code>çš„noteæ ·å¼ã€‚<del>åšæ ·å¼é€‚é…å¥½éº»çƒ¦çš„å•Šï¼Œèƒ½å·æ‡’å°±å·æ‡’å§</del> </p></div><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>ä»¥ä¸‹æ˜¯ <code>butterfly</code> ä¸»é¢˜çš„ note å†™æ³•ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">é€šç”¨é…ç½®</button></li><li class="tab"><button type="button" data-href="#-2">è¯­æ³•æ ¼å¼</button></li><li class="tab active"><button type="button" data-href="#-3">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#-4">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-5">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p><code>Note</code>æ ‡ç­¾å¤–æŒ‚æœ‰ä¸¤ç§ç”¨æ³•ã€‚<code>icons</code>å’Œ<code>light_bg_offset</code>åªå¯¹æ–¹æ³•ä¸€ç”Ÿæ•ˆã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><details cyan><summary> æ–¹æ³•ä¸€ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details blue><summary> æ–¹æ³•äºŒ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><details cyan><summary> æ–¹æ³•ä¸€ </summary>              <div class='content'>              <table><thead><tr><th align="left">å‚æ•°</th><th align="left">ç”¨æ³•</th></tr></thead><tbody><tr><td align="left">class</td><td align="left">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰²<br/>ï¼ˆ default / primary / success / info / warning / danger ï¼‰</td></tr><tr><td align="left">no-icon</td><td align="left">ã€å¯é€‰ã€‘ä¸æ˜¾ç¤º icon</td></tr><tr><td align="left">style</td><td align="left">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ styleï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table>              </div>            </details><details blue><summary> æ–¹æ³•äºŒ </summary>              <div class='content'>              <table><thead><tr><th>å‚æ•°</th><th align="left">ç”¨æ³•</th></tr></thead><tbody><tr><td>class</td><td align="left">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰²<br/>ï¼ˆ default / primary / success / info / warning / danger ï¼‰</td></tr><tr><td>no-icon</td><td align="left">ã€å¯é€‰ã€‘å¯é…ç½®è‡ªå®šä¹‰ icon (åªæ”¯æŒ fontawesome å›¾æ ‡, ä¹Ÿå¯ä»¥é…ç½® no-icon )</td></tr><tr><td>style</td><td align="left">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ style<br/>ï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><details cyan><summary> æ–¹æ³•ä¸€ </summary>              <div class='content'>              <details blue><summary> 1. simpleæ ·å¼ </summary>              <div class='content'>              <div class="note simple"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default simple"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary simple"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success simple"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info simple"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning simple"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger simple"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details red><summary> 2. modernæ ·å¼ </summary>              <div class='content'>              <div class="note modern"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default modern"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary modern"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success modern"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info modern"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning modern"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger modern"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details yellow><summary> 3. flatæ ·å¼ </summary>              <div class='content'>              <div class="note flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details green><summary> 4. disabledæ ·å¼ </summary>              <div class='content'>              <div class="note disabled"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default disabled"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary disabled"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success disabled"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info disabled"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning disabled"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger disabled"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details cyan><summary> 5. no-iconæ ·å¼ </summary>              <div class='content'>              <div class="note no-icon flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default no-icon flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary no-icon flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success no-icon flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info no-icon flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning no-icon flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger no-icon flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details>              </div>            </details><details blue><summary> æ–¹æ³•äºŒ </summary>              <div class='content'>              <details blue><summary> 1. simpleæ ·å¼ </summary>              <div class='content'>              <div class="note icon simple"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon simple"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon simple"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon simple"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon simple"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon simple"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon simple"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><details red><summary> 2. modernæ ·å¼ </summary>              <div class='content'>              <div class="note icon modern"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon modern"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon modern"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon modern"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon modern"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon modern"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><details yellow><summary> 3. flatæ ·å¼ </summary>              <div class='content'>              <div class="note icon flat"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon flat"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon flat"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon flat"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon flat"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon flat"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><details green><summary> 4. disabledæ ·å¼ </summary>              <div class='content'>              <div class="note icon disabled"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon disabled"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon disabled"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon disabled"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon disabled"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon disabled"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><details cyan><summary> 5. no-iconæ ·å¼ </summary>              <div class='content'>              <div class="note no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue no-icon flat"><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink no-icon flat"><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red no-icon flat"><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple no-icon flat"><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green no-icon flat"><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-5"><details cyan><summary> æ–¹æ³•ä¸€ </summary>              <div class='content'>              <details blue><summary> 1. simpleæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note simple %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default simple %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary simple %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success simple %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info simple %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning simple %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger simple %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details red><summary> 2. modernæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note modern %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default modern %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary modern %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success modern %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info modern %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning modern %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger modern %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details yellow><summary> 3. flatæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note flat %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default flat %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary flat %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success flat %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info flat %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning flat %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger flat %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> 4. disabledæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note disabled %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default disabled %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary disabled %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success disabled %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info disabled %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning disabled %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger disabled %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> 5. no-iconæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note default no-icon %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note primary no-icon %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note success no-icon %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note info no-icon %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note warning no-icon %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line">&#123;% note danger no-icon %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>              </div>            </details><details blue><summary> æ–¹æ³•äºŒ </summary>              <div class='content'>              <details blue><summary> 1. simpleæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details red><summary> 2. modernæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details yellow><summary> 3. flatæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details green><summary> 4. disabledæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details cyan><summary> 5. no-iconæ ·å¼ </summary>              <div class='content'>              <figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note blue no-icon %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line">&#123;% note pink no-icon %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line">&#123;% note red no-icon %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note orange no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line">&#123;% note purple no-icon %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line">&#123;% note green no-icon %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="ä¸Šæ ‡æ ‡ç­¾-tip"><a href="#ä¸Šæ ‡æ ‡ç­¾-tip" class="headerlink" title="ä¸Šæ ‡æ ‡ç­¾ tip"></a>ä¸Šæ ‡æ ‡ç­¾ tip</h1><div class="tip cogs"><p>ä¸»è¦æ ·å¼å‚è€ƒè‡ªå°åº·çš„<code>butterfly</code>æ¸å˜èƒŒæ™¯æ ‡ç­¾,è‡ªå·±å†™äº†ä¸ª<code>tip.js</code>æ¥æ¸²æŸ“æ ‡ç­¾ï¼Œç²¾ç®€äº†ä¸€ä¸‹ä»£ç ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>æ ·å¼: <code>success</code>, <code>error</code>, <code>warning</code>, <code>bolt</code>, <code>ban</code>, <code>home</code>, <code>sync</code>, <code>cogs</code>, <code>key</code>, <code>bell</code></li><li>è‡ªå®šä¹‰å›¾æ ‡: æ”¯æŒ<code>fontawesome</code>ã€‚<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class="tip "><p>é»˜è®¤æƒ…å†µ</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>è‡ªå®šä¹‰font awesomeå›¾æ ‡</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip %&#125;é»˜è®¤æƒ…å†µ&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;è‡ªå®šä¹‰font awesomeå›¾æ ‡&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="åŠ¨æ€æ ‡ç­¾-anima"><a href="#åŠ¨æ€æ ‡ç­¾-anima" class="headerlink" title="åŠ¨æ€æ ‡ç­¾ anima"></a>åŠ¨æ€æ ‡ç­¾ anima</h1><div class="tip faa-horizontal animated"><p>åŠ¨æ€æ ‡ç­¾çš„å®è´¨æ˜¯å¼•ç”¨äº†<a href="https://github.com/l-lin/font-awesome-animation">font-awesome-animation</a>çš„cssæ ·å¼ï¼Œä¸ä¸€å®šå±€é™äºtipæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ ‡ç­¾ã€‚<br>åªä¸è¿‡è¿™é‡Œ<code>tip.js</code>æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œæ‰€ä»¥æˆ‘æ¸…æ¥šå®ƒä¼šæ€ä¹ˆè¢«æ¸²æŸ“æˆhtmlï¼Œæ‰ç”¨çš„è¿™ä¸ªå†™æ³•ã€‚<br>å¯ä»¥ç†Ÿè¯»æ–‡æ¡£ï¼Œä½¿ç”¨htmlè¯­è¨€æ¥ç¼–å†™å…¶ä»–æ ‡ç­¾ç±»å‹ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p>æ›´å¤šè¯¦æƒ…è¯·å‚çœ‹<a href="https://l-lin.github.io/font-awesome-animation/">font-awesome-animation</a>æ–‡æ¡£</p><ol><li>å°†æ‰€éœ€çš„CSSç±»æ·»åŠ åˆ°å›¾æ ‡ï¼ˆæˆ–DOMä¸­çš„ä»»ä½•å…ƒç´ ï¼‰ã€‚</li><li>å¯¹äºçˆ¶çº§æ‚¬åœæ ·å¼ï¼Œéœ€è¦ç»™ç›®æ ‡å…ƒç´ æ·»åŠ æŒ‡å®šCSSç±»ï¼ŒåŒæ—¶è¿˜è¦ç»™ç›®æ ‡å…ƒç´ çš„çˆ¶çº§å…ƒç´ æ·»åŠ CSSç±»<code>faa-parent animated-hover</code>ã€‚ï¼ˆè¯¦æƒ…è§ç¤ºä¾‹åŠç¤ºä¾‹æºç ï¼‰<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li></ol></div><ol start="3"><li>å¯ä»¥é€šè¿‡ç»™ç›®æ ‡å…ƒç´ æ·»åŠ CSSç±»<code>faa-fast</code>æˆ–<code>faa-slow</code>æ¥æ§åˆ¶åŠ¨ç”»å¿«æ…¢ã€‚</li></ol><table><thead><tr><th align="left"><strong>On DOM load</strong><br/><strong>å½“é¡µé¢åŠ è½½æ—¶</strong><br/><strong>æ˜¾ç¤ºåŠ¨ç”»</strong></th><th><strong>On hover</strong><br/><strong>å½“é¼ æ ‡æ‚¬åœæ—¶</strong><br/><strong>æ˜¾ç¤ºåŠ¨ç”»</strong></th><th><strong>On parent hover</strong><br/><strong>å½“é¼ æ ‡æ‚¬åœ</strong><br/><strong>åœ¨çˆ¶çº§å…ƒç´ æ—¶</strong><br/><strong>æ˜¾ç¤ºåŠ¨ç”»</strong></th></tr></thead><tbody><tr><td align="left"><i class="fa fa-wrench faa-wrench animated"></i> faa-wrench animated</td><td><i class="fa fa-wrench faa-wrench animated-hover"></i> faa-wrench animated-hover</td><td><i class="fa fa-wrench faa-wrench"></i> faa-wrench</td></tr><tr><td align="left"><i class="fas fa-bell faa-ring animated"></i> faa-ring animated</td><td><i class="fa fa-bell faa-ring animated-hover"></i> faa-ring animated-hover</td><td><i class="fa fa-bell faa-ring"></i> faa-ring</td></tr><tr><td align="left"><i class="fas fa-envelope faa-horizontal animated"></i> faa-horizontal animated</td><td><i class="fa fa-envelope faa-horizontal animated-hover"></i> faa-horizontal animated-hover</td><td><i class="fa fa-envelope faa-horizontal"></i> faa-wrench</td></tr><tr><td align="left"><i class="fas fa-thumbs-up faa-vertical animated"></i> faa-vertical animated</td><td><i class="fas fa-thumbs-up faa-vertical animated-hover"></i> faa-vertical animated-hover</td><td><i class="fas fa-thumbs-up faa-vertical"></i> faa-vertical</td></tr><tr><td align="left"><i class="fas fa-exclamation-triangle faa-flash animated"></i> faa-flash animated</td><td><i class="fas fa-exclamation-triangle faa-flash animated-hover"></i> faa-flash animated-hover</td><td><i class="fas fa-exclamation-triangle faa-flash"></i> faa-flash animated</td></tr><tr><td align="left"><i class="fas fa-thumbs-up faa-bounce animated"></i> faa-bounce animated</td><td><i class="fas fa-thumbs-up faa-bounce animated-hover"></i> faa-bounce animated-hover</td><td><i class="fas fa-thumbs-up faa-bounce"></i> faa-bounce</td></tr><tr><td align="left"><i class="fas fa-spinner faa-spin animated"></i> faa-spin animated</td><td><i class="fas fa-spinner faa-spin animated-hover"></i> faa-spin animated-hover</td><td><i class="fas fa-spinner faa-spin"></i> faa-spin</td></tr><tr><td align="left"><i class="fas fa-plane faa-tada animated"></i> faa-tada animated</td><td><i class="fas fa-plane faa-tada animated-hover"></i> faa-tada animated-hover</td><td><i class="fas fa-plane faa-tada"></i> faa-tada</td></tr><tr><td align="left"><i class="fas fa-heart faa-tada animated"></i> faa-tada animated</td><td><i class="fas fa-heart faa-tada animated-hover"></i> faa-tada animated-hover</td><td><i class="fas fa-tada faa-pulse"></i> faa-tada</td></tr><tr><td align="left"><i class="fas fa-envelope faa-shake animated"></i> faa-shake animated</td><td><i class="fas fa-envelope faa-shake animated-hover"></i> faa-shake animated-hover</td><td><i class="fas fa-envelope faa-shake"></i> faa-shake</td></tr><tr><td align="left"><i class="fas fa-trophy faa-tada animated"></i> faa-tada animated</td><td><i class="fas fa-trophy faa-tada animated-hover"></i> faa-tada animated-hover</td><td><i class="fas fa-trophy faa-tada"></i> faa-tada</td></tr><tr><td align="left"><i class="fas fa-space-shuttle faa-passing animated"></i> faa-passing  animated</td><td><i class="fas fa-space-shuttle faa-passing animated-hover"></i> faa-passing animated-hover</td><td><i class="fas fa-space-shuttle faa-passing"></i> faa-passing</td></tr><tr><td align="left"><i class="fas fa-space-shuttle faa-passing-reverse animated"></i> faa-passing-reverse  animated</td><td><i class="fas fa-space-shuttle faa-passing-reverse animated-hover"></i> faa-passing-reverse animated-hover</td><td><i class="fas fa-space-shuttle faa-passing-reverse"></i> faa-passing-reverse</td></tr><tr><td align="left"><i class="fas fa-circle faa-burst animated"></i> faa-burst animated</td><td><i class="fas fa-circle faa-burst animated-hover"></i> faa-burst animated-hover</td><td><i class="fas fa-circle faa-burst"></i> faa-burst</td></tr><tr><td align="left"><i class="fas fa-space-shuttle faa-passing animated"></i> faa-passing  animated</td><td><i class="fas fa-space-shuttle faa-passing animated-hover"></i> faa-passing animated-hover</td><td><i class="fas fa-space-shuttle faa-passing"></i> faa-passing</td></tr><tr><td align="left"><i class="fas fa-star faa-falling animated"></i> faa-falling animated</td><td><i class="fas fa-star faa-falling animated-hover"></i> faa-falling animated-hover</td><td><i class="fas fa-star faa-falling"></i> faa-falling</td></tr><tr><td align="left"><i class="fas fa-rocket faa-rising animated"></i> faa-rising animated</td><td><i class="fas fa-rocket faa-passing animated-hover"></i> faa-rising animated-hover</td><td><i class="fas fa-rocket faa-rising"></i> faa-rising</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><ol><li><p>On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div></li><li><p>è°ƒæ•´åŠ¨ç”»é€Ÿåº¦</p><div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div></li><li><p>On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><ol><li>On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li><li>è°ƒæ•´åŠ¨ç”»é€Ÿåº¦<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure></li><li>On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="å¤é€‰åˆ—è¡¨-checkbox"><a href="#å¤é€‰åˆ—è¡¨-checkbox" class="headerlink" title="å¤é€‰åˆ—è¡¨ checkbox"></a>å¤é€‰åˆ—è¡¨ checkbox</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">å®ä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% checkbox æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>é¢œè‰²: <span class='p red'>red</span>ã€<span class='p yellow'>yellow</span>ã€<span class='p green'>green</span>ã€<span class='p cyan'>cyan</span>ã€<span class='p blue'>blue</span>ã€<span class='p gray'>gray</span></li><li>é€‰ä¸­çŠ¶æ€: checked<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class='checkbox'><input type="radio" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="radio" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green'><input type="radio" />            <p>ç»¿è‰²</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>é»„è‰²</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>é’è‰²</p>            </div><div class='checkbox blue'><input type="radio" />            <p>è“è‰²</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="å•é€‰åˆ—è¡¨-radio"><a href="#å•é€‰åˆ—è¡¨-radio" class="headerlink" title="å•é€‰åˆ—è¡¨ radio"></a>å•é€‰åˆ—è¡¨ radio</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% radio æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>é¢œè‰²: <span class='p red'>red</span>ã€<span class='p yellow'>yellow</span>ã€<span class='p green'>green</span>ã€<span class='p cyan'>cyan</span>ã€<span class='p blue'>blue</span>ã€<span class='p gray'>gray</span></li><li>é€‰ä¸­çŠ¶æ€: checked<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class='checkbox'><input type="radio" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="radio" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green'><input type="radio" />            <p>ç»¿è‰²</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>é»„è‰²</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>é’è‰²</p>            </div><div class='checkbox blue'><input type="radio" />            <p>è“è‰²</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="æ—¶é—´è½´-timeline"><a href="#æ—¶é—´è½´-timeline" class="headerlink" title="æ—¶é—´è½´ timeline"></a>æ—¶é—´è½´ timeline</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">å®ä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline æ—¶é—´çº¿æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% timenode æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ %&#125;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line">&#123;% timenode æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ %&#125;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><div class="timeline"><div class="timenode"><div class="meta"><p><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></p></div><div class="body"><ol><li>å¦‚æœæœ‰ <code>hexo-lazyload-image</code> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <code>lazyload.isSPA: true</code>ã€‚</li><li>2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <code>use_cdn: true</code> åˆ™éœ€è¦åˆ é™¤ã€‚</li><li>2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</li><li>2.x ç‰ˆæœ¬çš„ç½®é¡¶ <code>top: true</code> æ”¹ä¸ºäº† <code>pin: true</code>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <code>layout: page</code> çš„é¡µé¢ã€‚</li><li>å¦‚æœä½¿ç”¨äº† <code>hexo-offline</code> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</li></ol></div></div><div class="timenode"><div class="meta"><p><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></p></div><div class="body"><p>ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</p></div></div><div class="timenode"><div class="meta"><p><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></p></div><div class="body"><ol><li>å…¨å±€æœç´¢ <code>seotitle</code> å¹¶æ›¿æ¢ä¸º <code>seo_title</code>ã€‚</li><li>group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<code>group: group_name</code> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <code>group_name</code>ã€‚</li><li>group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <code>short_title</code> å…¶æ¬¡æ˜¯ <code>title</code>ã€‚</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% timeline %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å¦‚æœæœ‰ <span class="code">`hexo-lazyload-image`</span> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <span class="code">`lazyload.isSPA: true`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> 2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <span class="code">`use_cdn: true`</span> åˆ™éœ€è¦åˆ é™¤ã€‚</span><br><span class="line"><span class="bullet">3.</span> 2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</span><br><span class="line"><span class="bullet">4.</span> 2.x ç‰ˆæœ¬çš„ç½®é¡¶ <span class="code">`top: true`</span> æ”¹ä¸ºäº† <span class="code">`pin: true`</span>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <span class="code">`layout: page`</span> çš„é¡µé¢ã€‚</span><br><span class="line"><span class="bullet">5.</span> å¦‚æœä½¿ç”¨äº† <span class="code">`hexo-offline`</span> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) %&#125;</span><br><span class="line"></span><br><span class="line">ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å…¨å±€æœç´¢ <span class="code">`seotitle`</span> å¹¶æ›¿æ¢ä¸º <span class="code">`seo_title`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<span class="code">`group: group_name`</span> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <span class="code">`group_name`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <span class="code">`short_title`</span> å…¶æ¬¡æ˜¯ <span class="code">`title`</span>ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="é“¾æ¥å¡ç‰‡-link"><a href="#é“¾æ¥å¡ç‰‡-link" class="headerlink" title="é“¾æ¥å¡ç‰‡ link"></a>é“¾æ¥å¡ç‰‡ link</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">å®ä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% link æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><div class="tag link"><a class="link-card" title="é¸Ÿä¸æ‹‰è¯—" href="https://niaobulashi.com/"><div class="left"><img src="https://niaobulashi.com/favicon.ico"/></div><div class="right"><p class="text">é¸Ÿä¸æ‹‰è¯—</p><p class="url">https://niaobulashi.com/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% link é¸Ÿä¸æ‹‰è¯—, https://niaobulashi.com/, https://niaobulashi.com/favicon.ico %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="æŒ‰é’®-btns"><a href="#æŒ‰é’®-btns" class="headerlink" title="æŒ‰é’® btns"></a>æŒ‰é’® btns</h1><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p><code>Volantis</code> çš„æŒ‰é’®ä½¿ç”¨çš„æ˜¯ <code>btn</code> å’Œ <code>btns</code> æ ‡ç­¾ã€‚<code>btns</code> å’Œ <code>butterfly</code> çš„ <code>button</code> ä¸å†²çªï¼Œä½†æ˜¯ <code>btn</code> ä¼šè¢«å¼ºåˆ¶æ¸²æŸ“ï¼Œå¯¼è‡´éƒ¨åˆ†å‚æ•°å¤±æ•ˆï¼Œè€Œä¸” <code>btn</code> çš„æ•ˆæœè¿˜æ˜¯ <code>butterfly</code> çš„ <code>button</code> æ›´å¥½çœ‹äº›ã€‚æ‰€ä»¥å°±åªé€‚é…äº† <code>btns</code>ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">è¯­æ³•æ ‡ç­¾</button></li><li class="tab"><button type="button" data-href="#-2">å‚æ•°é…ç½®</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% btns æ ·å¼å‚æ•° %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>åœ†è§’æ ·å¼ï¼šrounded, circle</li><li>å¢åŠ æ–‡å­—æ ·å¼ï¼šå¯ä»¥åœ¨å®¹å™¨å†…å¢åŠ  <code>&lt;b&gt;æ ‡é¢˜&lt;/b&gt;</code> å’Œ <code>&lt;p&gt;æè¿°æ–‡å­—&lt;/p&gt;</code></li><li>å¸ƒå±€æ–¹å¼ï¼š<br> é»˜è®¤ä¸ºè‡ªåŠ¨å®½åº¦ï¼Œé€‚åˆè§†é‡å†…åªæœ‰ä¸€ä¸¤ä¸ªçš„æƒ…å†µã€‚</li></ol><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>wide</td><td>å®½ä¸€ç‚¹çš„æŒ‰é’®</td></tr><tr><td>fill</td><td>å¡«å……å¸ƒå±€ï¼Œè‡ªåŠ¨é“ºæ»¡è‡³å°‘ä¸€è¡Œï¼Œå¤šäº†ä¼šæ¢è¡Œ</td></tr><tr><td>center</td><td>å±…ä¸­ï¼ŒæŒ‰é’®ä¹‹é—´æ˜¯å›ºå®šé—´è·</td></tr><tr><td>around</td><td>å±…ä¸­åˆ†æ•£</td></tr><tr><td>grid2</td><td>ç­‰å®½æœ€å¤š 2 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid3</td><td>ç­‰å®½æœ€å¤š 3 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid4</td><td>ç­‰å®½æœ€å¤š 4 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid5</td><td>ç­‰å®½æœ€å¤š 5 åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><ol><li>å¦‚æœéœ€è¦æ˜¾ç¤ºç±»ä¼¼ã€Œå›¢é˜Ÿæˆå‘˜ã€ä¹‹ç±»çš„ä¸€ç»„å«æœ‰å¤´åƒçš„é“¾æ¥ï¼š <div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div></li><li>æˆ–è€…å«æœ‰å›¾æ ‡çš„æŒ‰é’®ï¼š<div class="btns rounded grid5">            <a class="button" href='/' title='ä¸‹è½½æºç '><i class='fas fa-download'></i>ä¸‹è½½æºç </a><a class="button" href='/' title='æŸ¥çœ‹æ–‡æ¡£'><i class='fas fa-book-open'></i>æŸ¥çœ‹æ–‡æ¡£</a>          </div></li><li>åœ†å½¢å›¾æ ‡ + æ ‡é¢˜ + æè¿° + å›¾ç‰‡ + ç½‘æ ¼ 5 åˆ— + å±…ä¸­ <div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'><i class='fab fa-apple'></i><b>å¿ƒç‡ç®¡å®¶</b><p class='p red'>ä¸“ä¸šç‰ˆ</p><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'><i class='fab fa-apple'></i><b>å¿ƒç‡ç®¡å®¶</b><p class='p green'>å…è´¹ç‰ˆ</p><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="github-å¡ç‰‡-ghcard"><a href="#github-å¡ç‰‡-ghcard" class="headerlink" title="github å¡ç‰‡ ghcard"></a>github å¡ç‰‡ ghcard</h1><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p>ghcard ä½¿ç”¨äº† github-readme-stats çš„ APIï¼Œæ”¯æŒç›´æ¥ä½¿ç”¨ markdown è¯­æ³•æ¥å†™ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><p>æ›´å¤šå‚æ•°å¯ä»¥å‚è€ƒï¼š</p><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/anuraghazra/github-readme-stats"><img src="https://github-readme-stats.vercel.app/api/pin/?username=anuraghazra&repo=github-readme-stats&show_owner=true"/></a><p>ä½¿ç”¨<code>,</code>åˆ†å‰²å„ä¸ªå‚æ•°ã€‚å†™æ³•ä¸ºï¼š<code>å‚æ•°å=å‚æ•°å€¼</code><br>ä»¥ä¸‹åªå†™å‡ ä¸ªå¸¸ç”¨å‚æ•°å€¼ã€‚</p><table><thead><tr><th align="left"><strong>å‚æ•°å</strong></th><th><strong>å–å€¼</strong></th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td align="left">hide</td><td>stars,commits,prs,issues,contribs</td><td>éšè—æŒ‡å®šç»Ÿè®¡</td></tr><tr><td align="left">count_private</td><td>true</td><td>å°†ç§äººé¡¹ç›®è´¡çŒ®æ·»åŠ åˆ°æ€»æäº¤è®¡æ•°ä¸­</td></tr><tr><td align="left">show_icons</td><td>true</td><td>æ˜¾ç¤ºå›¾æ ‡</td></tr><tr><td align="left">theme</td><td>è¯·æŸ¥é˜… <a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>ä¸»é¢˜</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><ol><li>ç”¨æˆ·ä¿¡æ¯å¡ç‰‡</li></ol><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=calm&show_owner=true"/></a></td></tr></tbody></table><ol start="2"><li>ä»“åº“ä¿¡æ¯å¡ç‰‡</li></ol><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><ol><li>ç”¨æˆ·ä¿¡æ¯å¡ç‰‡<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| &#123;% ghcard xaoxuu %&#125; | &#123;% ghcard xaoxuu, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=buefy %&#125; | &#123;% ghcard xaoxuu, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=onedark %&#125; | &#123;% ghcard xaoxuu, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=algolia %&#125; | &#123;% ghcard xaoxuu, theme=calm %&#125; |</span><br></pre></td></tr></table></figure></li><li>ä»“åº“ä¿¡æ¯å¡ç‰‡<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="github-å¾½æ ‡-ghbdage"><a href="#github-å¾½æ ‡-ghbdage" class="headerlink" title="github å¾½æ ‡ ghbdage"></a>github å¾½æ ‡ ghbdage</h1><div class="tip faa-horizontal animated"><p>å…³äº ghbdage å‚æ•°çš„æ›´å¤šå…·ä½“ç”¨æ³•å¯ä»¥å‚çœ‹ç«™å†…æ•™ç¨‹ï¼šæ·»åŠ  github å¾½æ ‡</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li><p><code>left</code>ï¼šå¾½æ ‡å·¦è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ã€‚</p></li><li><p><code>right</code>: å¾½æ ‡å³è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ï¼Œ</p></li><li><p><code>logo</code>ï¼šå¾½æ ‡å›¾æ ‡ï¼Œå›¾æ ‡åç§°è¯¦è§ <a href="https://simpleicons.org/">simpleicons</a>ï¼Œå¯é€‰å‚æ•°ã€‚</p></li><li><p><code>color</code>ï¼šå¾½æ ‡å³è¾¹çš„é¢œè‰²ï¼Œå¯é€‰å‚æ•°ã€‚</p></li><li><p><code>link</code>ï¼šæŒ‡å‘çš„é“¾æ¥ï¼Œå¯é€‰å‚æ•°ã€‚</p></li><li><p><code>title</code>ï¼šå¾½æ ‡çš„é¢å¤–ä¿¡æ¯ï¼Œå¯é€‰å‚æ•°ã€‚ä¸»è¦ç”¨äºä¼˜åŒ– SEOï¼Œä½† <code>object</code> æ ‡ç­¾ä¸ä¼šåƒ <code>a</code> æ ‡ç­¾ä¸€æ ·åœ¨é¼ æ ‡æ‚¬åœæ˜¾ç¤º<code> title</code> ä¿¡æ¯ã€‚</p></li><li><p><code>option</code>ï¼šè‡ªå®šä¹‰å‚æ•°ï¼Œæ”¯æŒ <a href="https://shields.io/">shields.io</a> çš„å…¨éƒ¨ API å‚æ•°æ”¯æŒï¼Œå…·ä½“å‚æ•°å¯ä»¥å‚çœ‹ä¸Šæ–‡ä¸­çš„æ‹“å±•å†™æ³•ç¤ºä¾‹ã€‚å½¢å¼ä¸º <code>name1=value2&amp;name2=value2</code>ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class="note info modern"><p>æœ¬å¤–æŒ‚æ ‡ç­¾çš„å‚æ•°åˆ†ä¸ºä¸‰ç»„ï¼Œç”¨<code> ||</code> åˆ†å‰²ã€‚</p></div></li><li><p>åŸºæœ¬å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object></li><li><p>ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object><p>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²</p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object></li><li><p>æ‹“å±•å‚æ•°ï¼Œæ”¯æŒ shields çš„ API çš„å…¨éƒ¨å‚æ•°å†…å®¹</p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object><p>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²</p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><div class="note primary modern"><p>æœ¬å¤–æŒ‚æ ‡ç­¾çš„å‚æ•°åˆ†ä¸ºä¸‰ç»„ï¼Œç”¨<code> ||</code> åˆ†å‰²ã€‚</p></div></li><li><p>åŸºæœ¬å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‹“å±•å‚æ•°ï¼Œæ”¯æŒ shields çš„ API çš„å…¨éƒ¨å‚æ•°å†…å®¹</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="ç½‘ç«™å¡ç‰‡-sites"><a href="#ç½‘ç«™å¡ç‰‡-sites" class="headerlink" title="ç½‘ç«™å¡ç‰‡ sites"></a>ç½‘ç«™å¡ç‰‡ sites</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><div class="site-card-group"><a class="site-card" href="https://xaoxuu.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png"/><span class="title">xaoxuu</span><span class="desc">ç®€çº¦é£æ ¼</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png, description=ç®€çº¦é£æ ¼ %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="è¡Œå†…å›¾ç‰‡-inlineimage"><a href="#è¡Œå†…å›¾ç‰‡-inlineimage" class="headerlink" title="è¡Œå†…å›¾ç‰‡ inlineimage"></a>è¡Œå†…å›¾ç‰‡ inlineimage</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% inlineimage å›¾ç‰‡é“¾æ¥, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>é«˜åº¦ï¼šheight=20px<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><p>è¿™æ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> ä¸€æ®µè¯ã€‚</li></p></ol><p>è¿™åˆæ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> ä¸€æ®µè¯ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">è¿™æ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; ä¸€æ®µè¯ã€‚</span><br><span class="line"></span><br><span class="line">è¿™åˆæ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; ä¸€æ®µè¯ã€‚</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="å•å¼ å›¾ç‰‡-image"><a href="#å•å¼ å›¾ç‰‡-image" class="headerlink" title="å•å¼ å›¾ç‰‡ image"></a>å•å¼ å›¾ç‰‡ image</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% image é“¾æ¥, width=å®½åº¦ï¼ˆå¯é€‰ï¼‰, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰, alt=æè¿°ï¼ˆå¯é€‰ï¼‰, bg=å ä½é¢œè‰²ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>å›¾ç‰‡å®½åº¦é«˜åº¦ï¼šwidth=300px, height=32px</li><li>å›¾ç‰‡æè¿°ï¼šalt = å›¾ç‰‡æè¿°ï¼ˆbutterfly éœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¼€å¯å›¾ç‰‡æè¿°ï¼‰</li><li>å ä½èƒŒæ™¯è‰²ï¼šbg=#f2f2f2<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚"/></div><span class="image-caption">æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚</span></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><p>123</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="éŸ³é¢‘-audio"><a href="#éŸ³é¢‘-audio" class="headerlink" title="éŸ³é¢‘ audio"></a>éŸ³é¢‘ audio</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab active"><button type="button" data-href="#-2">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-3">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% audio éŸ³é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-2"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="è§†é¢‘-video"><a href="#è§†é¢‘-video" class="headerlink" title="è§†é¢‘ video"></a>è§†é¢‘ video</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% video è§†é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li><p>å¯¹å…¶æ–¹å‘ï¼šleft, center, right</p></li><li><p>åˆ—æ•°ï¼šé€—å·åé¢ç›´æ¥å†™åˆ—æ•°ï¼Œæ”¯æŒ 1 ï½ 4 åˆ—ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><ol><li>100% å®½åº¦<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure></li><li>50% å®½åº¦<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure></li><li>25% å®½åº¦<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="ç›¸å†Œ-gallery"><a href="#ç›¸å†Œ-gallery" class="headerlink" title="ç›¸å†Œ gallery"></a>ç›¸å†Œ gallery</h1><div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p><code>Butterfly</code> è‡ªå¸¦ <code>gallery</code> ç›¸å†Œï¼Œè€Œä¸”ä¼šæ ¹æ®å›¾ç‰‡å¤§å°è‡ªåŠ¨è°ƒæ•´æ’ç‰ˆï¼Œæ•ˆæœæ¯” <code>Volantis</code> çš„ <code>gallery</code> æ›´å¥½ï¼Œæ•…ä¸å†æ”¶å½• <code>Volantis</code> çš„ <code>gallery</code> æ ‡ç­¾ã€‚</p></div><blockquote><p>ä»¥ä¸‹ä¸º <code>Butterfly</code> è‡ªå¸¦çš„ <code>gallery</code> æ ‡ç­¾å†™æ³•ã€‚ç›¸å†Œå›¾åº“å’Œç›¸å†Œé…åˆä½¿ç”¨ã€‚</p></blockquote><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><ol><li>gallerygroup ç›¸å†Œå›¾åº“<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>gallery ç›¸å†Œ<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><div class="note info flat"><p>å¯¹äºå¾ˆå¤šåŒå­¦æé—®çš„ <code>gallerygroup</code> å’Œ <code>gallery</code> ç›¸å†Œé¡µçš„é“¾æ¥é—®é¢˜ã€‚è¿™é‡Œè¯´ä¸‹æˆ‘ä¸ªäººçš„ä½¿ç”¨ä¹ æƒ¯ã€‚<br>ä¸€èˆ¬ä½¿ç”¨ç›¸å†Œå›¾åº“çš„è¯ï¼Œå¯ä»¥åœ¨å¯¼èˆªæ åŠ ä¸€ä¸ª gallery çš„ page (ä½¿ç”¨æŒ‡ä»¤ <strong><code>hexo new page gallery</code></strong> æ·»åŠ )ï¼Œé‡Œé¢æ”¾ç›¸å†Œå›¾åº“ä½œä¸ºå°é¢ã€‚ç„¶ååœ¨ <code>[Blogroot]/source/gallery/</code> ä¸‹é¢å»ºç«‹ç›¸åº”çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚è‹¥æŒ‰ç…§è¿™é‡Œçš„ç¤ºä¾‹ï¼Œè‹¥æ¬²ä½¿ç”¨ <code>/gallery/MC/</code> è·¯å¾„è®¿é—® MC ç›¸å†Œï¼Œåˆ™éœ€è¦æ–°å»º <code>[Blogroot]/source/gallery/MC/index.md</code>ï¼Œå¹¶åœ¨é‡Œé¢å¡«å…¥ <code>gallery</code> ç›¸å†Œå†…å®¹ã€‚</p></div><ol><li>gallerygroup ç›¸å†Œå›¾åº“<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup &#x27;å£ç´™&#x27; &#x27;æ”¶è—çš„ä¸€äº›å£ç´™&#x27; &#x27;/Gallery/wallpaper&#x27; https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png %&#125;</span><br><span class="line">&#123;% galleryGroup &#x27;æ¼«å¨&#x27; &#x27;é—œæ–¼æ¼«å¨çš„åœ–ç‰‡&#x27; &#x27;/Gallery/marvel&#x27; https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup &#x27;OH MY GIRL&#x27; &#x27;é—œæ–¼OH MY GIRLçš„åœ–ç‰‡&#x27; &#x27;/Gallery/ohmygirl&#x27; https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li>gallery ç›¸å†Œ<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg)</span><br><span class="line">![](https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="æŠ˜å æ¡†-folding"><a href="#æŠ˜å æ¡†-folding" class="headerlink" title="æŠ˜å æ¡† folding"></a>æŠ˜å æ¡† folding</h1><div class="note success flat"><p><code>Butterfly</code> è™½ç„¶ä¹Ÿæœ‰å†…ç½®æŠ˜å æ¡† <code>hideToggle</code> æ ‡ç­¾ï¼Œä½†æ˜¯ <code>Volantis</code> çš„ <code>folding</code> æŠ˜å æ¡†æ›´å¥½çœ‹ä¸€äº›ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% folding å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ ‡é¢˜ %&#125;</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>é¢œè‰²ï¼šblue, cyan, green, yellow, red</li><li>çŠ¶æ€ï¼šçŠ¶æ€å¡«å†™ open ä»£è¡¨é»˜è®¤æ‰“å¼€ã€‚<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><details ><summary> æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"></p>              </div>            </details></li></ol><details cyan open><summary> æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† </summary>              <div class='content'>              <p>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</p>              </div>            </details><details green><summary> æŸ¥çœ‹ä»£ç æµ‹è¯• </summary>              <div class='content'>              <p>å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</p>              </div>            </details><details yellow><summary> æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details red><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯• </summary>              <div class='content'>              <details blue><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 </summary>              <div class='content'>              <details ><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% folding æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† %&#125;</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, æŸ¥çœ‹ä»£ç æµ‹è¯• %&#125;</span><br><span class="line">å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, æŸ¥çœ‹åµŒå¥—æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="åˆ†æ -tab"><a href="#åˆ†æ -tab" class="headerlink" title="åˆ†æ  tab"></a>åˆ†æ  tab</h1><div class="note success flat"><p><code>Butterfly</code> çš„ <code>tab</code> æ ‡ç­¾å’Œ <code>Volantis</code> çš„ <code>tab</code> æ ‡ç­¾éƒ½æ˜¯ç§»å€¼è‡ª <code>NexT</code> ä¸»é¢˜ï¼Œæ‰€ä»¥å†™æ³•å’Œæ•ˆæœä¸€æ¨¡ä¸€æ ·ã€‚</p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>Unique name :</li></ol><ul><li>é€‰é¡¹å¡å—æ ‡ç­¾çš„å”¯ä¸€åç§°ï¼Œä¸å¸¦é€—å·ã€‚</li><li>å°†åœ¨ #id ä¸­ç”¨ä½œæ¯ä¸ªæ ‡ç­¾åŠå…¶ç´¢å¼•å·çš„å‰ç¼€ã€‚</li><li>å¦‚æœåç§°ä¸­åŒ…å«ç©ºæ ¼ï¼Œåˆ™å¯¹äºç”Ÿæˆ #idï¼Œæ‰€æœ‰ç©ºæ ¼å°†ç”±ç ´æŠ˜å·ä»£æ›¿ã€‚</li><li>ä»…å½“å‰å¸–å­ / é¡µé¢çš„ URL å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼</li></ul><ol start="2"><li>[index]:</li></ol><ul><li>æ´»åŠ¨é€‰é¡¹å¡çš„ç´¢å¼•å·ã€‚</li><li>å¦‚æœæœªæŒ‡å®šï¼Œå°†é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼ˆ1ï¼‰ã€‚</li><li>-å¦‚æœ index ä¸º - 1ï¼Œåˆ™ä¸ä¼šé€‰æ‹©ä»»ä½•é€‰é¡¹å¡ã€‚</li><li>å¯é€‰å‚æ•°ã€‚</li></ul><ol start="3"><li>[Tab caption]:</li></ol><ul><li>-å½“å‰é€‰é¡¹å¡çš„æ ‡é¢˜ã€‚</li><li>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œåˆ™å¸¦æœ‰åˆ¶è¡¨ç¬¦ç´¢å¼•åç¼€çš„å”¯ä¸€åç§°å°†ç”¨ä½œåˆ¶è¡¨ç¬¦çš„æ ‡é¢˜ã€‚</li><li>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œä½†æŒ‡å®šäº†å›¾æ ‡ï¼Œåˆ™æ ‡é¢˜å°†ä¸ºç©ºã€‚</li><li>å¯é€‰å‚æ•°ã€‚</li></ul><ol start="4"><li>[@icon]:</li></ol><ul><li>FontAwesome å›¾æ ‡åç§°ï¼ˆå…¨åï¼Œçœ‹èµ·æ¥åƒ â€œfas fa-fontâ€ï¼‰</li><li>å¯ä»¥æŒ‡å®šå¸¦ç©ºæ ¼æˆ–ä¸å¸¦ç©ºæ ¼ï¼›</li><li>ä¾‹å¦‚â€™Tab caption @iconâ€™ å’Œ â€˜Tab caption@iconâ€™.</li><li>å¯é€‰å‚æ•°ã€‚<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class="note primary flat"><p>Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p></div><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ul><div class="note primary flat"><p>Demo 2 - é¢„è®¾é€‰æ‹© tabs</p></div><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note primary flat"><p>Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p></div><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note primary flat"><p>Demo 4 - è‡ªå®šä¹‰ Tab å + åªæœ‰ icon + icon å’Œ Tab å</p></div><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><div class="note primary flat"><p>Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="note primary flat"><p>Demo 2 - é¢„è®¾é€‰æ‹© tabs</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="note primary flat"><p>Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><div class="note primary flat"><p>Demo 4 - è‡ªå®šä¹‰ Tab å + åªæœ‰ icon + icon å’Œ Tab å</p></div><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;</span><br><span class="line"><span class="strong">**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**åå­—+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="æ•°æ®é›†åˆ-issues"><a href="#æ•°æ®é›†åˆ-issues" class="headerlink" title="æ•°æ®é›†åˆ issues"></a>æ•°æ®é›†åˆ issues</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% issues type | api=url | group=key:value1,value2ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p class='p center logo large'>type (ç±»å‹)ï¼š</p><p>æ ¹æ®éœ€æ±‚ä¸åŒï¼Œä¼šå°† issues å†…å®¹è§£ææˆä¸åŒçš„ HTML æ ‡ç­¾ï¼Œç›®å‰æ”¯æŒçš„ç±»å‹æœ‰ï¼š</p><ol><li>æ—¶é—´è½´ <code>timeline</code>: è§£ææˆ <code>timeline</code> æ ‡ç­¾ï¼Œ<code>issue</code> çš„æ ‡é¢˜å¯¹åº” <code>timeline</code> çš„æ—¶é—´ï¼Œ<code>issue</code> çš„å†…å®¹å¯¹åº” <code>timeline</code> çš„å†…å®¹ã€‚</li><li>ç½‘ç«™å¡ç‰‡ <code>sites</code>: è§£ææˆ <code>sites</code> æ ‡ç­¾ï¼Œéœ€è¦æœ‰ <code>JSON</code> ä»£ç å—ï¼Œå„å‚æ•°å¯¹åº” <code>sites</code> æ ‡ç­¾å‚æ•°:<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;screenshot&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;ã€Œkeywordsã€&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><table><thead><tr><th>å‚æ•°</th><th align="left">é‡Šä¹‰</th></tr></thead><tbody><tr><td>title</td><td align="left">ç½‘ç«™åç§°</td></tr><tr><td>screenshot</td><td align="left">ç½‘ç«™é¢„è§ˆå›¾</td></tr><tr><td>url</td><td align="left">ç½‘ç«™é“¾æ¥ï¼Œéœ€è¦æ·»åŠ <code>https://</code> åè®®ç»„æˆå®Œæ•´åŸŸåã€‚<br/>å¦åˆ™å¯èƒ½è¢«è¯†åˆ«æˆç«™ç‚¹ç›¸å¯¹è·¯å¾„ã€‚</td></tr><tr><td>avatar</td><td align="left">ç«™é•¿å¤´åƒ</td></tr><tr><td>ã€Œkeywordsã€</td><td align="left">åˆ†ç»„ä¾æ®ï¼Œ<br/>æœªå¿…è¦å«ã€Œkeywordsã€ï¼Œ<br/>è¯¦è§ä¸‹æ–‡ group (åˆ†ç»„)</td></tr></tbody></table><p class='p center logo large'>api (æ¥å£)ï¼š</p><p>urlä¸ºå¯ä»¥è°ƒçš„é€šçš„APIï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">api=https://gitee.com/api/v5/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per<span class="emphasis">_page=100&amp;labels=active</span></span><br><span class="line"><span class="emphasis">api=https://api.github.com/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per_</span>page=100&amp;labels=active</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th align="left">é‡Šä¹‰</th></tr></thead><tbody><tr><td><a href="https://gitee.com/api/v5/">https://gitee.com/api/v5/</a></td><td align="left">giteeä»“åº“çš„api</td></tr><tr><td><a href="https://api.github.com/">https://api.github.com/</a></td><td align="left">githubä»“åº“çš„api</td></tr><tr><td>repos/xaoxuu/friends/issues</td><td align="left">repos/ç”¨æˆ·å/ä»“åº“å/issues</td></tr><tr><td>sort=updated&amp;state=open</td><td align="left">ç•Œå®šå“ªäº›ç±»å‹çš„issuesä¼šè¢«è¯»å–è¿‡æ¥æ¸²æŸ“æˆç›¸åº”çš„æ ‡ç­¾</td></tr><tr><td>page=1&amp;per_page=100</td><td align="left">è¯»å–å‰100æ¡issues</td></tr><tr><td>labels=active</td><td align="left">æ§åˆ¶é»˜è®¤çš„issueä¸æ˜¾ç¤ºï¼Œ<br>åªæœ‰è‡ªå·±å®¡æ ¸é€šè¿‡æ·»åŠ äº†activeæ ‡ç­¾ä¹‹åæ‰ä¼šæ˜¾ç¤º</td></tr></tbody></table><p class='p center logo large'>group(åˆ†ç»„)ï¼š</p><p><code>sites</code>å‹çš„<code>issues</code>é»˜è®¤ä¸åˆ†ç»„ï¼Œå¦‚æœéœ€è¦åˆ†ç»„ï¼Œå¯æŒ‡å®šåˆ†ç»„ä¾æ®<code>ã€Œkeywordsã€</code>ï¼Œå’Œåˆ†ç»„ç™½åå•<code>ã€Œvalue1ã€</code>ã€<code>ã€Œvalue2ã€</code>ç­‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">group=version:v4,v3,v2</span></span><br><span class="line"><span class="comment"># æ­¤å¤„çš„versionå°±æ˜¯ä¸Šæ–‡ä¸­çš„ã€Œkeywordsã€</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‚æ•°çš„ä½œç”¨å°±æ˜¯ï¼Œç­›é€‰å‡º<code>JSON</code>ä¸­åŒ…å«<code>&quot;version&quot;: &quot;v4&quot;</code>æˆ–è€…<code>&quot;version&quot;:&quot;v3&quot;</code>æˆ–è€…<code>&quot;version&quot;: &quot;v2&quot;</code>çš„æ•°æ®ï¼Œå¹¶åˆ†ç»„æ˜¾ç¤ºã€‚</p><p class='p center logo large'>ä»“åº“ISSUESæ¨¡æ¿é…ç½®</p><details ><summary> Githubä»“åº“é…ç½®æ–¹æ¡ˆ </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg"></p>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><ol><li>æ—¶é—´è½´æ ‡ç­¾<code>timeline</code>æ¸²æŸ“<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% issues timeline | api=https://gitee.com/api/v5/repos/xaoxuu/timeline/issues?state=open&amp;creator=xaoxuu&amp;sort=created&amp;direction=desc&amp;page=1&amp;per<span class="emphasis">_page=100 %&#125;</span></span><br></pre></td></tr></table></figure></li><li>ç½‘ç«™å¡ç‰‡æ ‡ç­¾<code>sites</code>æ¸²æŸ“</li></ol><ul><li>giteeä»“åº“ç¤ºä¾‹<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% issues sites | api=https://gitee.com/api/v5/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per<span class="emphasis">_page=100&amp;labels=active %&#125;</span></span><br></pre></td></tr></table></figure></li><li>githubä»“åº“ç¤ºä¾‹<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% issues sites | api=https://api.github.com/repos/xaoxuu/friends/issues?sort=updated&amp;state=open&amp;page=1&amp;per<span class="emphasis">_page=100&amp;labels=active %&#125;</span></span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li>ç½‘ç«™å¡ç‰‡æ ‡ç­¾<code>sites</code>åˆ†ç»„æ¸²æŸ“<br>è¿™æ˜¯<code>Volantis</code>ä¸»é¢˜å®˜ç½‘çš„ã€Œç¤ºä¾‹åšå®¢ã€é¡µé¢çš„æ•°æ®ï¼š<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% issues sites | api=https://api.github.com/repos/volantis-x/examples/issues?sort=updated&amp;state=open&amp;page=1&amp;per<span class="emphasis">_page=100 | group=version:ç‰ˆæœ¬ï¼š^4.0,ç‰ˆæœ¬ï¼š^3.0,ç‰ˆæœ¬ï¼š^2.0 %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="è¯—è¯æ ‡ç­¾-poem"><a href="#è¯—è¯æ ‡ç­¾-poem" class="headerlink" title="è¯—è¯æ ‡ç­¾ poem"></a>è¯—è¯æ ‡ç­¾ poem</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% poem [title],[author] %&#125;</span><br><span class="line">è¯—è¯å†…å®¹</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li>titleï¼šè¯—è¯æ ‡é¢˜</li><li>authorï¼šä½œè€…ï¼Œå¯ä»¥ä¸å†™<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><div class='poem'><div class='poem-title'>æ°´è°ƒæ­Œå¤´</div><div class='poem-author'>è‹è½¼</div><p>ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚<br>æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚<br>ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ<br>æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚<br>èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</p><p>è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚<br>ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ<br>äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚<br>ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% poem æ°´è°ƒæ­Œå¤´,è‹è½¼ %&#125;</span><br><span class="line">ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚</span><br><span class="line">æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚</span><br><span class="line">ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ</span><br><span class="line">æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚</span><br><span class="line">èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</span><br><span class="line"></span><br><span class="line">è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚</span><br><span class="line">ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ</span><br><span class="line">äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚</span><br><span class="line">ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></li></ol><h1 id="é˜¿é‡Œå›¾æ ‡-icon"><a href="#é˜¿é‡Œå›¾æ ‡-icon" class="headerlink" title="é˜¿é‡Œå›¾æ ‡ icon"></a>é˜¿é‡Œå›¾æ ‡ icon</h1><div class="tip cogs"><p>æœ¬æ ‡ç­¾çš„å›¾æ ‡éœ€è¦è‡ªå·±é¢å¤–å¼•å…¥é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“çš„æ ·å¼ï¼Œå…·ä½“å¼•å…¥æ–¹æ¡ˆè¯·ç§»æ­¥ï¼š<a href="https://akilar.top/posts/d2ebecef/">Hexoå¼•å…¥é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“</a></p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li><code>icon-xxxx</code>ï¼šè¡¨ç¤ºå›¾æ ‡ <code>font-class</code>, å¯ä»¥åœ¨è‡ªå·±çš„é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“é¡¹ç›®çš„ <code>font-class</code> å¼•ç”¨æ–¹æ¡ˆå†…æŸ¥è¯¢å¹¶å¤åˆ¶ã€‚</li><li><code>font-size</code>ï¼šè¡¨ç¤ºå›¾æ ‡å¤§å°ï¼Œç›´æ¥å¡«å†™æ•°å­—å³å¯ï¼Œå•ä½ä¸º <code>em</code>ã€‚å›¾æ ‡å¤§å°é»˜è®¤å€¼ä¸º <code>1em</code>ã€‚<button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg></li></p></ol><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="ç‰¹æ•ˆæ ‡ç­¾-wow"><a href="#ç‰¹æ•ˆæ ‡ç­¾-wow" class="headerlink" title="ç‰¹æ•ˆæ ‡ç­¾ wow"></a>ç‰¹æ•ˆæ ‡ç­¾ wow</h1><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p>ç‰¹æ•ˆæ ‡ç­¾çš„é™æ€èµ„æºæœªæ·»åŠ åœ¨æœ¬å¸–çš„é…ç½®å†…å®¹ä¸­ï¼ˆå› ä¸ºå¤šä¸º cdn é…ç½®ï¼‰ï¼Œè¯·ç§»æ­¥ç«™å†…æ•™ç¨‹å®Œæˆç›¸å…³é…ç½®ï¼š<div class="tag link"><a class="link-card" title="ä½¿ç”¨ wowjs ç»™åšå®¢æ·»åŠ åŠ¨ç”»æ•ˆæœ" href="https://akilar.top/posts/abab51cf/"><div class="left"><img src="https://images.niaobulashi.com/hexo/niaobulashi/fluid/source/img/friends/akilar.ico"/></div><div class="right"><p class="text">ä½¿ç”¨ wowjs ç»™åšå®¢æ·»åŠ åŠ¨ç”»æ•ˆæœ</p><p class="url">https://akilar.top/posts/abab51cf/</p></div></a></div></p></div><div class="tabs" id=""><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#-1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#-2">é…ç½®å‚æ•°</button></li><li class="tab active"><button type="button" data-href="#-3">æ ·å¼é¢„è§ˆ</button></li><li class="tab"><button type="button" data-href="#-4">ç¤ºä¾‹æºç </button></li></ul><div class="tab-contents"><div class="tab-item-content" id="-1"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="-3"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><a class="btn-beautify button--animated red larger" href="https://akilar.top/posts/615e2dec/#%E5%BC%95%E7%94%A8-note"   title="å‚è€ƒï¼šåŸºäº Butterfly çš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥"><i class="far fa-hand-point-right fa-fw"></i><span>å‚è€ƒï¼šåŸºäº Butterfly çš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥</span></a>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DDDé¢†åŸŸé©±åŠ¨è®¾è®¡è¯¦è§£</title>
      <link href="2021/05/10/2021-05-10-DDD-xue-xi/"/>
      <url>2021/05/10/2021-05-10-DDD-xue-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>åº”ç”¨æ¶æ„ï¼ŒæŒ‡è½¯ä»¶ç³»ç»Ÿä¸­å›ºå®šä¸å˜çš„ä»£ç ç»“æ„ã€è®¾è®¡æ¨¡å¼ã€è§„èŒƒå’Œç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼ã€‚åœ¨åº”ç”¨å¼€å‘ä¸­æ¶æ„ä¹‹æ‰€ä»¥æ˜¯æœ€é‡è¦çš„ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºä¸€ä¸ªå¥½çš„æ¶æ„èƒ½è®©ç³»ç»Ÿå®‰å…¨ã€ç¨³å®šã€å¿«é€Ÿè¿­ä»£ã€‚ä½†æ˜¯ä»Šå¤©æˆ‘ä»¬åœ¨åšä¸šåŠ¡ç ”å‘æ—¶ï¼Œæ›´å¤šä¼šå…³æ³¨ä¸€äº›å®è§‚çš„æ¶æ„ï¼Œè€Œå¿½ç•¥äº†åº”ç”¨å†…éƒ¨çš„æ¶æ„è®¾è®¡ï¼Œå¸Œæœ›èƒ½é€šè¿‡æ¡ˆä¾‹åˆ†æå’Œé‡æ„ï¼Œæ¨æ¼”å‡ºä¸€å¥—é«˜è´¨é‡çš„DDDæ¶æ„ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/3_1620613131601.png" alt="image.png"></p><p>æ¶æ„è¿™ä¸ªè¯æºäºè‹±æ–‡é‡Œçš„â€œArchitectureâ€œï¼Œæºå¤´æ˜¯åœŸæœ¨å·¥ç¨‹é‡Œçš„â€œå»ºç­‘â€å’Œâ€œç»“æ„â€ï¼Œè€Œæ¶æ„é‡Œçš„â€æ¶â€œåŒæ—¶åˆåŒ…å«äº†â€æ¶å­â€œï¼ˆscaffoldingï¼‰çš„å«ä¹‰ï¼Œæ„æŒ‡èƒ½å¿«é€Ÿæ­å»ºèµ·æ¥çš„å›ºå®šç»“æ„ã€‚è€Œä»Šå¤©çš„åº”ç”¨æ¶æ„ï¼Œæ„æŒ‡è½¯ä»¶ç³»ç»Ÿä¸­å›ºå®šä¸å˜çš„ä»£ç ç»“æ„ã€è®¾è®¡æ¨¡å¼ã€è§„èŒƒå’Œç»„ä»¶é—´çš„é€šä¿¡æ–¹å¼ã€‚åœ¨åº”ç”¨å¼€å‘ä¸­æ¶æ„ä¹‹æ‰€ä»¥æ˜¯æœ€é‡è¦çš„ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºä¸€ä¸ªå¥½çš„æ¶æ„èƒ½è®©ç³»ç»Ÿå®‰å…¨ã€ç¨³å®šã€å¿«é€Ÿè¿­ä»£ã€‚åœ¨ä¸€ä¸ªå›¢é˜Ÿå†…é€šè¿‡è§„å®šä¸€ä¸ªå›ºå®šçš„æ¶æ„è®¾è®¡ï¼Œå¯ä»¥è®©å›¢é˜Ÿå†…èƒ½åŠ›å‚å·®ä¸é½çš„åŒå­¦ä»¬éƒ½èƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€çš„å¼€å‘è§„èŒƒï¼Œé™ä½æ²Ÿé€šæˆæœ¬ï¼Œæå‡æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚</p><p>åœ¨åšæ¶æ„è®¾è®¡æ—¶ï¼Œä¸€ä¸ªå¥½çš„æ¶æ„åº”è¯¥éœ€è¦å®ç°ä»¥ä¸‹å‡ ä¸ªç›®æ ‡ï¼š</p><ul><li><strong>ç‹¬ç«‹äºæ¡†æ¶ï¼š</strong>æ¶æ„ä¸åº”è¯¥ä¾èµ–æŸä¸ªå¤–éƒ¨çš„åº“æˆ–æ¡†æ¶ï¼Œä¸åº”è¯¥è¢«æ¡†æ¶çš„ç»“æ„æ‰€æŸç¼šã€‚</li><li><strong>ç‹¬ç«‹äºUIï¼š</strong>å‰å°å±•ç¤ºçš„æ ·å¼å¯èƒ½ä¼šéšæ—¶å‘ç”Ÿå˜åŒ–ï¼ˆä»Šå¤©å¯èƒ½æ˜¯ç½‘é¡µã€æ˜å¤©å¯èƒ½å˜æˆconsoleã€åå¤©æ˜¯ç‹¬ç«‹appï¼‰ï¼Œä½†æ˜¯åº•å±‚æ¶æ„ä¸åº”è¯¥éšä¹‹è€Œå˜åŒ–ã€‚</li><li><strong>ç‹¬ç«‹äºåº•å±‚æ•°æ®æºï¼š</strong>æ— è®ºä»Šå¤©ä½ ç”¨MySQLã€Oracleè¿˜æ˜¯MongoDBã€CouchDBï¼Œç”šè‡³ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿï¼Œè½¯ä»¶æ¶æ„ä¸åº”è¯¥å› ä¸ºä¸åŒçš„åº•å±‚æ•°æ®å‚¨å­˜æ–¹å¼è€Œäº§ç”Ÿå·¨å¤§æ”¹å˜ã€‚</li><li><strong>ç‹¬ç«‹äºå¤–éƒ¨ä¾èµ–ï¼š</strong>æ— è®ºå¤–éƒ¨ä¾èµ–å¦‚ä½•å˜æ›´ã€å‡çº§ï¼Œä¸šåŠ¡çš„æ ¸å¿ƒé€»è¾‘ä¸åº”è¯¥éšä¹‹è€Œå¤§å¹…å˜åŒ–ã€‚</li><li><strong>å¯æµ‹è¯•ï¼š</strong>æ— è®ºå¤–éƒ¨ä¾èµ–äº†ä»€ä¹ˆæ•°æ®åº“ã€ç¡¬ä»¶ã€UIæˆ–è€…æœåŠ¡ï¼Œä¸šåŠ¡çš„é€»è¾‘åº”è¯¥éƒ½èƒ½å¤Ÿå¿«é€Ÿè¢«éªŒè¯æ­£ç¡®æ€§ã€‚</li></ul><p>è¿™å°±å¥½åƒæ˜¯å»ºç­‘ä¸­çš„æ¥¼å®‡ï¼Œä¸€ä¸ªå¥½çš„æ¥¼å®‡ï¼Œæ— è®ºå†…éƒ¨æ‰¿è½½äº†ä»€ä¹ˆäººã€æœ‰ä»€ä¹ˆæ ·çš„æ´»åŠ¨ã€è¿˜æ˜¯å¤–éƒ¨æœ‰ä»€ä¹ˆé£é›¨ï¼Œä¸€æ ‹æ¥¼éƒ½åº”è¯¥å±¹ç«‹ä¸å€’ï¼Œè€Œä¸”å¯ä»¥ç¡®ä¿å®ƒä¸ä¼šå€’ã€‚ä½†æ˜¯ä»Šå¤©æˆ‘ä»¬åœ¨åšä¸šåŠ¡ç ”å‘æ—¶ï¼Œæ›´å¤šçš„ä¼šå»å…³æ³¨ä¸€äº›å®è§‚çš„æ¶æ„ï¼Œæ¯”å¦‚SOAæ¶æ„ã€å¾®æœåŠ¡æ¶æ„ï¼Œè€Œå¿½ç•¥äº†åº”ç”¨å†…éƒ¨çš„æ¶æ„è®¾è®¡ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´ä»£ç é€»è¾‘æ··ä¹±ï¼Œå¾ˆéš¾ç»´æŠ¤ï¼Œå®¹æ˜“äº§ç”Ÿbugè€Œä¸”å¾ˆéš¾å‘ç°ã€‚ä»Šå¤©ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿé€šè¿‡æ¡ˆä¾‹çš„åˆ†æå’Œé‡æ„ï¼Œæ¥æ¨æ¼”å‡ºä¸€å¥—é«˜è´¨é‡çš„DDDæ¶æ„ã€‚</p><h1 id="æ¡ˆä¾‹åˆ†æ"><a href="#æ¡ˆä¾‹åˆ†æ" class="headerlink" title="æ¡ˆä¾‹åˆ†æ"></a>æ¡ˆä¾‹åˆ†æ</h1><p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹éœ€æ±‚å¦‚ä¸‹ï¼š</p><p>ç”¨æˆ·å¯ä»¥é€šè¿‡é“¶è¡Œç½‘é¡µè½¬è´¦ç»™å¦ä¸€ä¸ªè´¦å·ï¼Œæ”¯æŒè·¨å¸ç§è½¬è´¦ã€‚</p><p>åŒæ—¶å› ä¸ºç›‘ç®¡å’Œå¯¹è´¦éœ€æ±‚ï¼Œéœ€è¦è®°å½•æœ¬æ¬¡è½¬è´¦æ´»åŠ¨ã€‚</p><p>æ‹¿åˆ°è¿™ä¸ªéœ€æ±‚ä¹‹åï¼Œä¸€ä¸ªå¼€å‘å¯èƒ½ä¼šç»å†ä¸€äº›æŠ€æœ¯é€‰å‹ï¼Œæœ€ç»ˆå¯èƒ½æ‹†è§£éœ€æ±‚å¦‚ä¸‹ï¼š</p><p>1ã€ä»MySqlæ•°æ®åº“ä¸­æ‰¾åˆ°è½¬å‡ºå’Œè½¬å…¥çš„è´¦æˆ·ï¼Œé€‰æ‹©ç”¨ MyBatis çš„ mapper å®ç° DAOï¼›2ã€ä» Yahooï¼ˆæˆ–å…¶ä»–æ¸ é“ï¼‰æä¾›çš„æ±‡ç‡æœåŠ¡è·å–è½¬è´¦çš„æ±‡ç‡ä¿¡æ¯ï¼ˆåº•å±‚æ˜¯ http å¼€æ”¾æ¥å£ï¼‰ï¼›</p><p>3ã€è®¡ç®—éœ€è¦è½¬å‡ºçš„é‡‘é¢ï¼Œç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿä½™é¢ï¼Œå¹¶ä¸”æ²¡è¶…å‡ºæ¯æ—¥è½¬è´¦ä¸Šé™ï¼›</p><p>4ã€å®ç°è½¬å…¥å’Œè½¬å‡ºæ“ä½œï¼Œæ‰£é™¤æ‰‹ç»­è´¹ï¼Œä¿å­˜æ•°æ®åº“ï¼›</p><p>5ã€å‘é€ Kafka å®¡è®¡æ¶ˆæ¯ï¼Œä»¥ä¾¿å®¡è®¡å’Œå¯¹è´¦ç”¨ï¼›</p><p>è€Œä¸€ä¸ªç®€å•çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransferController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TransferService transferService;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;Boolean&gt; <span class="title">transfer</span><span class="params">(String targetAccountNumber, BigDecimal amount, HttpSession session)</span> </span>&#123;</span><br><span class="line">        Long userId = (Long) session.getAttribute(<span class="string">&quot;userId&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> transferService.transfer(userId, targetAccountNumber, amount, <span class="string">&quot;CNY&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransferServiceImpl</span> <span class="keyword">implements</span> <span class="title">TransferService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC_AUDIT_LOG = <span class="string">&quot;TOPIC_AUDIT_LOG&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> AccountMapper accountDAO;</span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;</span><br><span class="line">    <span class="keyword">private</span> YahooForexService yahooForex;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;Boolean&gt; <span class="title">transfer</span><span class="params">(Long sourceUserId, String targetAccountNumber, BigDecimal targetAmount, String targetCurrency)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1. ä»æ•°æ®åº“è¯»å–æ•°æ®ï¼Œå¿½ç•¥æ‰€æœ‰æ ¡éªŒé€»è¾‘å¦‚è´¦å·æ˜¯å¦å­˜åœ¨ç­‰</span></span><br><span class="line">        AccountDO sourceAccountDO = accountDAO.selectByUserId(sourceUserId);</span><br><span class="line">        AccountDO targetAccountDO = accountDAO.selectByAccountNumber(targetAccountNumber);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ä¸šåŠ¡å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> (!targetAccountDO.getCurrency().equals(targetCurrency)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidCurrencyException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. è·å–å¤–éƒ¨æ•°æ®ï¼Œå¹¶ä¸”åŒ…å«ä¸€å®šçš„ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">        <span class="comment">// exchange rate = 1 source currency = X target currency</span></span><br><span class="line">        BigDecimal exchangeRate = BigDecimal.ONE;</span><br><span class="line">        <span class="keyword">if</span> (sourceAccountDO.getCurrency().equals(targetCurrency)) &#123;</span><br><span class="line">            exchangeRate = yahooForex.getExchangeRate(sourceAccountDO.getCurrency(), targetCurrency);</span><br><span class="line">        &#125;</span><br><span class="line">        BigDecimal sourceAmount = targetAmount.divide(exchangeRate, RoundingMode.DOWN);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. ä¸šåŠ¡å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> (sourceAccountDO.getAvailable().compareTo(sourceAmount) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InsufficientFundsException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (sourceAccountDO.getDailyLimit().compareTo(sourceAmount) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> DailyLimitExceededException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. è®¡ç®—æ–°å€¼ï¼Œå¹¶ä¸”æ›´æ–°å­—æ®µ</span></span><br><span class="line">        BigDecimal newSource = sourceAccountDO.getAvailable().subtract(sourceAmount);</span><br><span class="line">        BigDecimal newTarget = targetAccountDO.getAvailable().add(targetAmount);</span><br><span class="line">        sourceAccountDO.setAvailable(newSource);</span><br><span class="line">        targetAccountDO.setAvailable(newTarget);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. æ›´æ–°åˆ°æ•°æ®åº“</span></span><br><span class="line">        accountDAO.update(sourceAccountDO);</span><br><span class="line">        accountDAO.update(targetAccountDO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7. å‘é€å®¡è®¡æ¶ˆæ¯</span></span><br><span class="line">        String message = sourceUserId + <span class="string">&quot;,&quot;</span> + targetAccountNumber + <span class="string">&quot;,&quot;</span> + targetAmount + <span class="string">&quot;,&quot;</span> + targetCurrency;</span><br><span class="line">        kafkaTemplate.send(TOPIC_AUDIT_LOG, message);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ®µä¸šåŠ¡ä»£ç é‡Œç»å¸¸åŒ…å«äº†å‚æ•°æ ¡éªŒã€æ•°æ®è¯»å–å­˜å‚¨ã€ä¸šåŠ¡è®¡ç®—ã€è°ƒç”¨å¤–éƒ¨æœåŠ¡ã€å‘é€æ¶ˆæ¯ç­‰å¤šç§é€»è¾‘ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œè™½ç„¶æ˜¯å†™åœ¨äº†åŒä¸€ä¸ªæ–¹æ³•é‡Œï¼Œåœ¨çœŸå®ä»£ç ä¸­ç»å¸¸ä¼šè¢«æ‹†åˆ†æˆå¤šä¸ªå­æ–¹æ³•ï¼Œä½†å®é™…æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œè€Œåœ¨æˆ‘ä»¬æ—¥å¸¸çš„å·¥ä½œä¸­ï¼Œç»å¤§éƒ¨åˆ†ä»£ç éƒ½æˆ–å¤šæˆ–å°‘çš„æ¥è¿‘äºæ­¤ç±»ç»“æ„ã€‚åœ¨Martin Fowlerçš„ P of EAAä¹¦ä¸­ï¼Œè¿™ç§å¾ˆå¸¸è§çš„ä»£ç æ ·å¼è¢«å«åšTransaction Scriptï¼ˆäº‹åŠ¡è„šæœ¬ï¼‰ã€‚è™½ç„¶è¿™ç§ç±»ä¼¼äºè„šæœ¬çš„å†™æ³•åœ¨åŠŸèƒ½ä¸Šæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯é•¿ä¹…æ¥çœ‹ï¼Œä»–æœ‰ä»¥ä¸‹å‡ ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼šå¯ç»´æŠ¤æ€§å·®ã€å¯æ‰©å±•æ€§å·®ã€å¯æµ‹è¯•æ€§å·®ã€‚</p><h2 id="é—®é¢˜1-å¯ç»´æŠ¤æ€§èƒ½å·®"><a href="#é—®é¢˜1-å¯ç»´æŠ¤æ€§èƒ½å·®" class="headerlink" title="é—®é¢˜1-å¯ç»´æŠ¤æ€§èƒ½å·®"></a>é—®é¢˜1-å¯ç»´æŠ¤æ€§èƒ½å·®</h2><p>ä¸€ä¸ªåº”ç”¨æœ€å¤§çš„æˆæœ¬ä¸€èˆ¬éƒ½ä¸æ˜¯æ¥è‡ªäºå¼€å‘é˜¶æ®µï¼Œè€Œæ˜¯åº”ç”¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„æ€»ç»´æŠ¤æˆæœ¬ï¼Œæ‰€ä»¥ä»£ç çš„å¯ç»´æŠ¤æ€§ä»£è¡¨äº†æœ€ç»ˆæˆæœ¬ã€‚</p><p><strong>å¯ç»´æŠ¤æ€§ = å½“ä¾èµ–å˜åŒ–æ—¶ï¼Œæœ‰å¤šå°‘ä»£ç éœ€è¦éšä¹‹æ”¹å˜</strong><br>å‚è€ƒä»¥ä¸Šçš„æ¡ˆä¾‹ä»£ç ï¼Œäº‹åŠ¡è„šæœ¬ç±»çš„ä»£ç å¾ˆéš¾ç»´æŠ¤å› ä¸ºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><strong>æ•°æ®ç»“æ„çš„ä¸ç¨³å®šæ€§ï¼š</strong>AccountDOç±»æ˜¯ä¸€ä¸ªçº¯æ•°æ®ç»“æ„ï¼Œæ˜ å°„äº†æ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ã€‚è¿™é‡Œçš„é—®é¢˜æ˜¯æ•°æ®åº“çš„è¡¨ç»“æ„å’Œè®¾è®¡æ˜¯åº”ç”¨çš„å¤–éƒ¨ä¾èµ–ï¼Œé•¿è¿œæ¥çœ‹éƒ½æœ‰å¯èƒ½ä¼šæ”¹å˜ï¼Œæ¯”å¦‚æ•°æ®åº“è¦åšShardingï¼Œæˆ–è€…æ¢ä¸€ä¸ªè¡¨è®¾è®¡ï¼Œæˆ–è€…æ”¹å˜å­—æ®µåã€‚</li><li><strong>ä¾èµ–åº“çš„å‡çº§ï¼š</strong>AccountMapperä¾èµ–MyBatisçš„å®ç°ï¼Œå¦‚æœMyBatisæœªæ¥å‡çº§ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šé€ æˆç”¨æ³•çš„ä¸åŒï¼ˆå¯ä»¥å‚è€ƒiBatiså‡çº§åˆ°åŸºäºæ³¨è§£çš„MyBatisçš„è¿ç§»æˆæœ¬ï¼‰ã€‚åŒæ ·çš„ï¼Œå¦‚æœæœªæ¥æ¢ä¸€ä¸ªORMä½“ç³»ï¼Œè¿ç§»æˆæœ¬ä¹Ÿæ˜¯å·¨å¤§çš„ã€‚</li><li><strong>ç¬¬ä¸‰æ–¹æœåŠ¡ä¾èµ–çš„ä¸ç¡®å®šæ€§</strong>ï¼šç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ¯”å¦‚Yahooçš„æ±‡ç‡æœåŠ¡æœªæ¥å¾ˆæœ‰å¯èƒ½ä¼šæœ‰å˜åŒ–ï¼šè½»åˆ™APIç­¾åå˜åŒ–ï¼Œé‡åˆ™æœåŠ¡ä¸å¯ç”¨éœ€è¦å¯»æ‰¾å…¶ä»–å¯æ›¿ä»£çš„æœåŠ¡ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹æ”¹é€ å’Œè¿ç§»æˆæœ¬éƒ½æ˜¯å·¨å¤§çš„ã€‚åŒæ—¶ï¼Œå¤–éƒ¨ä¾èµ–çš„å…œåº•ã€é™æµã€ç†”æ–­ç­‰æ–¹æ¡ˆéƒ½éœ€è¦éšä¹‹æ”¹å˜ã€‚</li><li><strong>ç¬¬ä¸‰æ–¹æœåŠ¡APIçš„æ¥å£å˜åŒ–ï¼š</strong>YahooForexService.getExchangeRateè¿”å›çš„ç»“æœæ˜¯å°æ•°ç‚¹è¿˜æ˜¯ç™¾åˆ†æ¯”ï¼Ÿå…¥å‚æ˜¯ï¼ˆsource, targetï¼‰è¿˜æ˜¯ï¼ˆtarget, sourceï¼‰ï¼Ÿè°èƒ½ä¿è¯æœªæ¥æ¥å£ä¸ä¼šæ”¹å˜ï¼Ÿå¦‚æœæ”¹å˜äº†ï¼Œæ ¸å¿ƒçš„é‡‘é¢è®¡ç®—é€»è¾‘å¿…é¡»è·Ÿç€æ”¹ï¼Œå¦åˆ™ä¼šé€ æˆèµ„æŸã€‚</li><li><strong>ä¸­é—´ä»¶æ›´æ¢ï¼š</strong>ä»Šå¤©æˆ‘ä»¬ç”¨Kafkaå‘æ¶ˆæ¯ï¼Œæ˜å¤©å¦‚æœè¦ä¸Šé˜¿é‡Œäº‘ç”¨RocketMQè¯¥æ€ä¹ˆåŠï¼Ÿåå¤©å¦‚æœæ¶ˆæ¯çš„åºåˆ—åŒ–æ–¹å¼ä»Stringæ”¹ä¸ºBinaryè¯¥æ€ä¹ˆåŠï¼Ÿå¦‚æœéœ€è¦æ¶ˆæ¯åˆ†ç‰‡è¯¥æ€ä¹ˆæ”¹ï¼Ÿ</li></ul><p>æˆ‘ä»¬å‘ç°æ¡ˆä¾‹é‡Œçš„ä»£ç å¯¹äºä»»ä½•å¤–éƒ¨ä¾èµ–çš„æ”¹å˜éƒ½ä¼šæœ‰æ¯”è¾ƒå¤§çš„å½±å“ã€‚å¦‚æœä½ çš„åº”ç”¨é‡Œæœ‰å¤§é‡çš„æ­¤ç±»ä»£ç ï¼Œä½ æ¯ä¸€å¤©çš„æ—¶é—´åŸºæœ¬ä¸Šä¼šè¢«å„ç§åº“å‡çº§ã€ä¾èµ–æœåŠ¡å‡çº§ã€ä¸­é—´ä»¶å‡çº§ã€jaråŒ…å†²çªå æ»¡ï¼Œæœ€ç»ˆè¿™ä¸ªåº”ç”¨å˜æˆäº†ä¸€ä¸ªä¸æ•¢å‡çº§ã€ä¸æ•¢éƒ¨ç½²ã€ä¸æ•¢å†™æ–°åŠŸèƒ½ã€å¹¶ä¸”éšæ—¶ä¼šçˆ†å‘çš„ç‚¸å¼¹ï¼Œç»ˆæœ‰ä¸€å¤©ä¼šç»™ä½ å¸¦æ¥æƒŠå–œã€‚</p><h2 id="é—®é¢˜2-å¯æ‹“å±•æ€§å·®"><a href="#é—®é¢˜2-å¯æ‹“å±•æ€§å·®" class="headerlink" title="é—®é¢˜2-å¯æ‹“å±•æ€§å·®"></a>é—®é¢˜2-å¯æ‹“å±•æ€§å·®</h2><p>äº‹åŠ¡è„šæœ¬å¼ä»£ç çš„ç¬¬äºŒå¤§ç¼ºé™·æ˜¯ï¼šè™½ç„¶å†™å•ä¸ªç”¨ä¾‹çš„ä»£ç éå¸¸é«˜æ•ˆç®€å•ï¼Œä½†æ˜¯å½“ç”¨ä¾‹å¤šèµ·æ¥æ—¶ï¼Œå…¶æ‰©å±•æ€§ä¼šå˜å¾—è¶Šæ¥è¶Šå·®ã€‚</p><p><strong>å¯æ‰©å±•æ€§ = åšæ–°éœ€æ±‚æˆ–æ”¹é€»è¾‘æ—¶ï¼Œéœ€è¦æ–°å¢/ä¿®æ”¹å¤šå°‘ä»£ç </strong></p><p>å‚è€ƒä»¥ä¸Šçš„ä»£ç ï¼Œå¦‚æœä»Šå¤©éœ€è¦å¢åŠ ä¸€ä¸ªè·¨è¡Œè½¬è´¦çš„èƒ½åŠ›ï¼Œä½ ä¼šå‘ç°åŸºæœ¬ä¸Šéœ€è¦é‡æ–°å¼€å‘ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰ä»»ä½•çš„å¯å¤ç”¨æ€§ï¼š</p><ul><li><strong>æ•°æ®æ¥æºè¢«å›ºå®šã€æ•°æ®æ ¼å¼ä¸å…¼å®¹ï¼š</strong>åŸæœ‰çš„AccountDOæ˜¯ä»æœ¬åœ°è·å–çš„ï¼Œè€Œè·¨è¡Œè½¬è´¦çš„æ•°æ®å¯èƒ½éœ€è¦ä»ä¸€ä¸ªç¬¬ä¸‰æ–¹æœåŠ¡è·å–ï¼Œè€ŒæœåŠ¡ä¹‹é—´æ•°æ®æ ¼å¼ä¸å¤ªå¯èƒ½æ˜¯å…¼å®¹çš„ï¼Œå¯¼è‡´ä»æ•°æ®æ ¡éªŒã€æ•°æ®è¯»å†™ã€åˆ°å¼‚å¸¸å¤„ç†ã€é‡‘é¢è®¡ç®—ç­‰é€»è¾‘éƒ½è¦é‡å†™ã€‚</li><li><strong>ä¸šåŠ¡é€»è¾‘æ— æ³•å¤ç”¨ï¼š</strong>æ•°æ®æ ¼å¼ä¸å…¼å®¹çš„é—®é¢˜ä¼šå¯¼è‡´æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— æ³•å¤ç”¨ã€‚æ¯ä¸ªç”¨ä¾‹éƒ½æ˜¯ç‰¹æ®Šé€»è¾‘çš„åæœæ˜¯æœ€ç»ˆä¼šé€ æˆå¤§é‡çš„if-elseè¯­å¥ï¼Œè€Œè¿™ç§åˆ†æ”¯å¤šçš„é€»è¾‘ä¼šè®©åˆ†æä»£ç éå¸¸å›°éš¾ï¼Œå®¹æ˜“é”™è¿‡è¾¹ç•Œæƒ…å†µï¼Œé€ æˆbugã€‚</li><li><strong>é€»è¾‘å’Œæ•°æ®å­˜å‚¨çš„ç›¸äº’ä¾èµ–ï¼š</strong>å½“ä¸šåŠ¡é€»è¾‘å¢åŠ å˜å¾—è¶Šæ¥è¶Šå¤æ‚æ—¶ï¼Œæ–°åŠ å…¥çš„é€»è¾‘å¾ˆæœ‰å¯èƒ½éœ€è¦å¯¹æ•°æ®åº“schemaæˆ–æ¶ˆæ¯æ ¼å¼åšå˜æ›´ã€‚è€Œå˜æ›´äº†æ•°æ®æ ¼å¼åä¼šå¯¼è‡´åŸæœ‰çš„å…¶ä»–é€»è¾‘éœ€è¦ä¸€èµ·è·Ÿç€åŠ¨ã€‚åœ¨æœ€æç«¯çš„åœºæ™¯ä¸‹ï¼Œä¸€ä¸ªæ–°åŠŸèƒ½çš„å¢åŠ ä¼šå¯¼è‡´æ‰€æœ‰åŸæœ‰åŠŸèƒ½çš„é‡æ„ï¼Œæˆæœ¬å·¨å¤§ã€‚</li></ul><p>åœ¨äº‹åŠ¡è„šæœ¬å¼çš„æ¶æ„ä¸‹ï¼Œä¸€èˆ¬åšç¬¬ä¸€ä¸ªéœ€æ±‚éƒ½éå¸¸çš„å¿«ï¼Œä½†æ˜¯åšç¬¬Nä¸ªéœ€æ±‚æ—¶éœ€è¦çš„æ—¶é—´å¾ˆæœ‰å¯èƒ½æ˜¯å‘ˆæŒ‡æ•°çº§ä¸Šå‡çš„ï¼Œç»å¤§éƒ¨åˆ†æ—¶é—´èŠ±è´¹åœ¨è€åŠŸèƒ½çš„é‡æ„å’Œå…¼å®¹ä¸Šï¼Œæœ€ç»ˆä½ çš„åˆ›æ–°é€Ÿåº¦ä¼šè·Œä¸º0ï¼Œä¿ƒä½¿è€åº”ç”¨è¢«æ¨ç¿»é‡æ„ã€‚</p><h2 id="é—®é¢˜3-å¯æµ‹è¯•æ€§èƒ½å·®"><a href="#é—®é¢˜3-å¯æµ‹è¯•æ€§èƒ½å·®" class="headerlink" title="é—®é¢˜3-å¯æµ‹è¯•æ€§èƒ½å·®"></a>é—®é¢˜3-å¯æµ‹è¯•æ€§èƒ½å·®</h2><p>é™¤äº†éƒ¨åˆ†å·¥å…·ç±»ã€æ¡†æ¶ç±»å’Œä¸­é—´ä»¶ç±»çš„ä»£ç æœ‰æ¯”è¾ƒé«˜çš„æµ‹è¯•è¦†ç›–ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­å¾ˆéš¾çœ‹åˆ°ä¸šåŠ¡ä»£ç æœ‰æ¯”è¾ƒå¥½çš„æµ‹è¯•è¦†ç›–ï¼Œè€Œç»å¤§éƒ¨åˆ†çš„ä¸Šçº¿å‰çš„æµ‹è¯•å±äºäººè‚‰çš„â€œé›†æˆæµ‹è¯•â€ã€‚ä½æµ‹è¯•ç‡å¯¼è‡´æˆ‘ä»¬å¯¹ä»£ç è´¨é‡å¾ˆéš¾æœ‰æŠŠæ§ï¼Œå®¹æ˜“é”™è¿‡è¾¹ç•Œæ¡ä»¶ï¼Œå¼‚å¸¸caseåªæœ‰çº¿ä¸Šçˆ†å‘äº†æ‰è¢«åŠ¨å‘ç°ã€‚è€Œä½æµ‹è¯•è¦†ç›–ç‡çš„ä¸»è¦åŸå› æ˜¯ä¸šåŠ¡ä»£ç çš„å¯æµ‹è¯•æ€§æ¯”è¾ƒå·®ã€‚</p><p><strong>å¯æµ‹è¯•æ€§ = è¿è¡Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰€èŠ±è´¹çš„æ—¶é—´ * æ¯ä¸ªéœ€æ±‚æ‰€éœ€è¦å¢åŠ çš„æµ‹è¯•ç”¨ä¾‹æ•°é‡</strong></p><p>å‚è€ƒä»¥ä¸Šçš„ä¸€æ®µä»£ç ï¼Œè¿™ç§ä»£ç æœ‰æä½çš„å¯æµ‹è¯•æ€§ï¼š</p><ul><li>è®¾æ–½æ­å»ºå›°éš¾ï¼šå½“ä»£ç ä¸­å¼ºä¾èµ–äº†æ•°æ®åº“ã€ç¬¬ä¸‰æ–¹æœåŠ¡ã€ä¸­é—´ä»¶ç­‰å¤–éƒ¨ä¾èµ–ä¹‹åï¼Œæƒ³è¦å®Œæ•´è·‘é€šä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹éœ€è¦ç¡®ä¿æ‰€æœ‰ä¾èµ–éƒ½èƒ½è·‘èµ·æ¥ï¼Œè¿™ä¸ªåœ¨é¡¹ç›®æ—©æœŸæ˜¯åŠå…¶å›°éš¾çš„ã€‚åœ¨é¡¹ç›®åæœŸä¹Ÿä¼šç”±äºå„ç§ç³»ç»Ÿçš„ä¸ç¨³å®šæ€§è€Œå¯¼è‡´æµ‹è¯•æ— æ³•é€šè¿‡ã€‚</li><li>è¿è¡Œè€—æ—¶é•¿ï¼šå¤§å¤šæ•°çš„å¤–éƒ¨ä¾èµ–è°ƒç”¨éƒ½æ˜¯I/Oå¯†é›†å‹ï¼Œå¦‚è·¨ç½‘ç»œè°ƒç”¨ã€ç£ç›˜è°ƒç”¨ç­‰ï¼Œè€Œè¿™ç§I/Oè°ƒç”¨åœ¨æµ‹è¯•æ—¶éœ€è¦è€—æ—¶å¾ˆä¹…ã€‚å¦ä¸€ä¸ªç»å¸¸ä¾èµ–çš„æ˜¯ç¬¨é‡çš„æ¡†æ¶å¦‚Springï¼Œå¯åŠ¨Springå®¹å™¨é€šå¸¸éœ€è¦å¾ˆä¹…ã€‚å½“ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹éœ€è¦èŠ±è¶…è¿‡10ç§’é’Ÿæ‰èƒ½è·‘é€šæ—¶ï¼Œç»å¤§éƒ¨åˆ†å¼€å‘éƒ½ä¸ä¼šå¾ˆé¢‘ç¹çš„æµ‹è¯•ã€‚</li><li>è€¦åˆåº¦é«˜ï¼šå‡å¦‚ä¸€æ®µè„šæœ¬ä¸­æœ‰Aã€Bã€Cä¸‰ä¸ªå­æ­¥éª¤ï¼Œè€Œæ¯ä¸ªæ­¥éª¤æœ‰Nä¸ªå¯èƒ½çš„çŠ¶æ€ï¼Œå½“å¤šä¸ªå­æ­¥éª¤è€¦åˆåº¦é«˜æ—¶ï¼Œä¸ºäº†å®Œæ•´è¦†ç›–æ‰€æœ‰ç”¨ä¾‹ï¼Œæœ€å¤šéœ€è¦æœ‰N <em>N</em> Nä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚å½“è€¦åˆçš„å­æ­¥éª¤è¶Šå¤šæ—¶ï¼Œéœ€è¦çš„æµ‹è¯•ç”¨ä¾‹å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚</li></ul><p>åœ¨äº‹åŠ¡è„šæœ¬æ¨¡å¼ä¸‹ï¼Œå½“æµ‹è¯•ç”¨ä¾‹å¤æ‚åº¦è¿œå¤§äºçœŸå®ä»£ç å¤æ‚åº¦ï¼Œå½“è¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„è€—æ—¶è¶…å‡ºäººè‚‰æµ‹è¯•æ—¶ï¼Œç»å¤§éƒ¨åˆ†äººä¼šé€‰æ‹©ä¸å†™å®Œæ•´çš„æµ‹è¯•è¦†ç›–ï¼Œè€Œè¿™ç§æƒ…å†µé€šå¸¸å°±æ˜¯bugå¾ˆéš¾è¢«æ—©ç‚¹å‘ç°çš„åŸå› ã€‚</p><h2 id="æ€»ç»“åˆ†æ"><a href="#æ€»ç»“åˆ†æ" class="headerlink" title="æ€»ç»“åˆ†æ"></a>æ€»ç»“åˆ†æ</h2><p>æˆ‘ä»¬é‡æ–°æ¥åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆä»¥ä¸Šçš„é—®é¢˜ä¼šå‡ºç°ï¼Ÿå› ä¸ºä»¥ä¸Šçš„ä»£ç è¿èƒŒäº†è‡³å°‘ä»¥ä¸‹å‡ ä¸ªè½¯ä»¶è®¾è®¡çš„åŸåˆ™ï¼š</p><ul><li><strong>å•ä¸€æ€§åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰ï¼š</strong>å•ä¸€æ€§åŸåˆ™è¦æ±‚ä¸€ä¸ªå¯¹è±¡/ç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå˜æ›´çš„åŸå› ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œä»£ç å¯èƒ½ä¼šå› ä¸ºä»»æ„ä¸€ä¸ªå¤–éƒ¨ä¾èµ–æˆ–è®¡ç®—é€»è¾‘çš„æ”¹å˜è€Œæ”¹å˜ã€‚</li><li><strong>ä¾èµ–åè½¬åŸåˆ™ï¼ˆDependency Inversion Principleï¼‰ï¼š</strong>ä¾èµ–åè½¬åŸåˆ™è¦æ±‚åœ¨ä»£ç ä¸­ä¾èµ–æŠ½è±¡ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œå¤–éƒ¨ä¾èµ–éƒ½æ˜¯å…·ä½“çš„å®ç°ï¼Œæ¯”å¦‚YahooForexServiceè™½ç„¶æ˜¯ä¸€ä¸ªæ¥å£ç±»ï¼Œä½†æ˜¯å®ƒå¯¹åº”çš„æ˜¯ä¾èµ–äº†Yahooæä¾›çš„å…·ä½“æœåŠ¡ï¼Œæ‰€ä»¥ä¹Ÿç®—æ˜¯ä¾èµ–äº†å®ç°ã€‚åŒæ ·çš„KafkaTemplateã€MyBatisçš„DAOå®ç°éƒ½å±äºå…·ä½“å®ç°ã€‚</li><li><strong>å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen Closed Principleï¼‰ï¼š</strong>å¼€æ”¾å°é—­åŸåˆ™æŒ‡å¼€æ”¾æ‰©å±•ï¼Œä½†æ˜¯å°é—­ä¿®æ”¹ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œçš„é‡‘é¢è®¡ç®—å±äºå¯èƒ½ä¼šè¢«ä¿®æ”¹çš„ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™è¯¥é€»è¾‘åº”è¯¥éœ€è¦è¢«åŒ…è£…æˆä¸ºä¸å¯ä¿®æ”¹çš„è®¡ç®—ç±»ï¼Œæ–°åŠŸèƒ½é€šè¿‡è®¡ç®—ç±»çš„æ‹“å±•å®ç°ã€‚</li></ul><p>æˆ‘ä»¬éœ€è¦å¯¹ä»£ç é‡æ„æ‰èƒ½è§£å†³è¿™äº›é—®é¢˜ã€‚</p><h1 id="é‡æ„æ–¹æ¡ˆ"><a href="#é‡æ„æ–¹æ¡ˆ" class="headerlink" title="é‡æ„æ–¹æ¡ˆ"></a>é‡æ„æ–¹æ¡ˆ</h1><p>åœ¨é‡æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç”»ä¸€å¼ æµç¨‹å›¾ï¼Œæè¿°å½“å‰ä»£ç åœ¨åšçš„æ¯ä¸ªæ­¥éª¤ï¼š</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/4_1620613131602.png" alt="image.png"></p><p>è¿™æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„ä¸‰å±‚åˆ†å±‚ç»“æ„ï¼šUIå±‚ã€ä¸šåŠ¡å±‚ã€å’ŒåŸºç¡€è®¾æ–½å±‚ã€‚ä¸Šå±‚å¯¹äºä¸‹å±‚æœ‰ç›´æ¥çš„ä¾èµ–å…³ç³»ï¼Œå¯¼è‡´è€¦åˆåº¦è¿‡é«˜ã€‚åœ¨ä¸šåŠ¡å±‚ä¸­å¯¹äºä¸‹å±‚çš„åŸºç¡€è®¾æ–½æœ‰å¼ºä¾èµ–ï¼Œè€¦åˆåº¦é«˜ã€‚æˆ‘ä»¬éœ€è¦å¯¹è¿™å¼ å›¾ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹åšæŠ½è±¡å’Œæ•´ç†ï¼Œæ¥é™ä½å¯¹å¤–éƒ¨ä¾èµ–çš„è€¦åˆåº¦ã€‚</p><h2 id="æŠ½è±¡æ•°æ®å­˜å‚¨å±‚"><a href="#æŠ½è±¡æ•°æ®å­˜å‚¨å±‚" class="headerlink" title="æŠ½è±¡æ•°æ®å­˜å‚¨å±‚"></a>æŠ½è±¡æ•°æ®å­˜å‚¨å±‚</h2><p>ç¬¬ä¸€æ­¥å¸¸è§çš„æ“ä½œæ˜¯å°†Data Accesså±‚åšæŠ½è±¡ï¼Œé™ä½ç³»ç»Ÿå¯¹æ•°æ®åº“çš„ç›´æ¥ä¾èµ–ã€‚å…·ä½“çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li>æ–°å»ºAccountå®ä½“å¯¹è±¡ï¼šä¸€ä¸ªå®ä½“ï¼ˆEntityï¼‰æ˜¯æ‹¥æœ‰IDçš„åŸŸå¯¹è±¡ï¼Œé™¤äº†æ‹¥æœ‰æ•°æ®ä¹‹å¤–ï¼ŒåŒæ—¶æ‹¥æœ‰è¡Œä¸ºã€‚Entityå’Œæ•°æ®åº“å‚¨å­˜æ ¼å¼æ— å…³ï¼Œåœ¨è®¾è®¡ä¸­è¦ä»¥è¯¥é¢†åŸŸçš„é€šç”¨ä¸¥è°¨è¯­è¨€ï¼ˆUbiquitous Languageï¼‰ä¸ºä¾æ®ã€‚</li><li>æ–°å»ºå¯¹è±¡å‚¨å­˜æ¥å£ç±»AccountRepositoryï¼šRepositoryåªè´Ÿè´£Entityå¯¹è±¡çš„å­˜å‚¨å’Œè¯»å–ï¼Œè€ŒRepositoryçš„å®ç°ç±»å®Œæˆæ•°æ®åº“å­˜å‚¨çš„ç»†èŠ‚ã€‚é€šè¿‡åŠ å…¥Repositoryæ¥å£ï¼Œåº•å±‚çš„æ•°æ®åº“è¿æ¥å¯ä»¥é€šè¿‡ä¸åŒçš„å®ç°ç±»è€Œæ›¿æ¢ã€‚</li></ul><p>å…·ä½“çš„ç®€å•ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><p>Accountå®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> AccountId id;</span><br><span class="line">    <span class="keyword">private</span> AccountNumber accountNumber;</span><br><span class="line">    <span class="keyword">private</span> UserId userId;</span><br><span class="line">    <span class="keyword">private</span> Money available;</span><br><span class="line">    <span class="keyword">private</span> Money dailyLimit;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(Money money)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è½¬å‡º</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(Money money)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è½¬å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’ŒAccountRepositoryåŠMyBatiså®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> </span>&#123;</span><br><span class="line">    <span class="function">Account <span class="title">find</span><span class="params">(AccountId id)</span></span>;</span><br><span class="line">    <span class="function">Account <span class="title">find</span><span class="params">(AccountNumber accountNumber)</span></span>;</span><br><span class="line">    <span class="function">Account <span class="title">find</span><span class="params">(UserId userId)</span></span>;</span><br><span class="line">    <span class="function">Account <span class="title">save</span><span class="params">(Account account)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountRepositoryImpl</span> <span class="keyword">implements</span> <span class="title">AccountRepository</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountMapper accountDAO;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountBuilder accountBuilder;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">find</span><span class="params">(AccountId id)</span> </span>&#123;</span><br><span class="line">        AccountDO accountDO = accountDAO.selectById(id.getValue());</span><br><span class="line">        <span class="keyword">return</span> accountBuilder.toAccount(accountDO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">find</span><span class="params">(AccountNumber accountNumber)</span> </span>&#123;</span><br><span class="line">        AccountDO accountDO = accountDAO.selectByAccountNumber(accountNumber.getValue());</span><br><span class="line">        <span class="keyword">return</span> accountBuilder.toAccount(accountDO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">find</span><span class="params">(UserId userId)</span> </span>&#123;</span><br><span class="line">        AccountDO accountDO = accountDAO.selectByUserId(userId.getId());</span><br><span class="line">        <span class="keyword">return</span> accountBuilder.toAccount(accountDO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">save</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        AccountDO accountDO = accountBuilder.fromAccount(account);</span><br><span class="line">        <span class="keyword">if</span> (accountDO.getId() == <span class="keyword">null</span>) &#123;</span><br><span class="line">            accountDAO.insert(accountDO);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            accountDAO.update(accountDO);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> accountBuilder.toAccount(accountDO);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Accountå®ä½“ç±»å’ŒAccountDOæ•°æ®ç±»çš„å¯¹æ¯”å¦‚ä¸‹ï¼š</p><ul><li><strong>Data Objectæ•°æ®ç±»ï¼š</strong>AccountDOæ˜¯å•çº¯çš„å’Œæ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³»ï¼Œæ¯ä¸ªå­—æ®µå¯¹åº”æ•°æ®åº“è¡¨çš„ä¸€ä¸ªcolumnï¼Œè¿™ç§å¯¹è±¡å«Data Objectã€‚DOåªæœ‰æ•°æ®ï¼Œæ²¡æœ‰è¡Œä¸ºã€‚AccountDOçš„ä½œç”¨æ˜¯å¯¹æ•°æ®åº“åšå¿«é€Ÿæ˜ å°„ï¼Œé¿å…ç›´æ¥åœ¨ä»£ç é‡Œå†™SQLã€‚æ— è®ºä½ ç”¨çš„æ˜¯MyBatisè¿˜æ˜¯Hibernateè¿™ç§ORMï¼Œä»æ•°æ®åº“æ¥çš„éƒ½åº”è¯¥å…ˆç›´æ¥æ˜ å°„åˆ°DOä¸Šï¼Œä½†æ˜¯ä»£ç é‡Œåº”è¯¥å®Œå…¨é¿å…ç›´æ¥æ“ä½œ DOã€‚</li><li><strong>Entityå®ä½“ç±»ï¼š</strong>Account æ˜¯åŸºäºé¢†åŸŸé€»è¾‘çš„å®ä½“ç±»ï¼Œå®ƒçš„å­—æ®µå’Œæ•°æ®åº“å‚¨å­˜ä¸éœ€è¦æœ‰å¿…ç„¶çš„è”ç³»ã€‚EntityåŒ…å«æ•°æ®ï¼ŒåŒæ—¶ä¹Ÿåº”è¯¥åŒ…å«è¡Œä¸ºã€‚åœ¨ Account é‡Œï¼Œå­—æ®µä¹Ÿä¸ä»…ä»…æ˜¯Stringç­‰åŸºç¡€ç±»å‹ï¼Œè€Œåº”è¯¥å°½å¯èƒ½ç”¨ä¸Šä¸€è®²çš„ Domain Primitive ä»£æ›¿ï¼Œå¯ä»¥é¿å…å¤§é‡çš„æ ¡éªŒä»£ç ã€‚</li></ul><p>DAO å’Œ Repository ç±»çš„å¯¹æ¯”å¦‚ä¸‹ï¼š</p><ul><li>DAOå¯¹åº”çš„æ˜¯ä¸€ä¸ªç‰¹å®šçš„æ•°æ®åº“ç±»å‹çš„æ“ä½œï¼Œç›¸å½“äºSQLçš„å°è£…ã€‚æ‰€æœ‰æ“ä½œçš„å¯¹è±¡éƒ½æ˜¯DOç±»ï¼Œæ‰€æœ‰æ¥å£éƒ½å¯ä»¥æ ¹æ®æ•°æ®åº“å®ç°çš„ä¸åŒè€Œæ”¹å˜ã€‚æ¯”å¦‚ï¼Œinsert å’Œ update å±äºæ•°æ®åº“ä¸“å±çš„æ“ä½œã€‚</li><li>Repositoryå¯¹åº”çš„æ˜¯Entityå¯¹è±¡è¯»å–å‚¨å­˜çš„æŠ½è±¡ï¼Œåœ¨æ¥å£å±‚é¢åšç»Ÿä¸€ï¼Œä¸å…³æ³¨åº•å±‚å®ç°ã€‚æ¯”å¦‚ï¼Œé€šè¿‡ save ä¿å­˜ä¸€ä¸ªEntityå¯¹è±¡ï¼Œä½†è‡³äºå…·ä½“æ˜¯ insert è¿˜æ˜¯ update å¹¶ä¸å…³å¿ƒã€‚Repositoryçš„å…·ä½“å®ç°ç±»é€šè¿‡è°ƒç”¨DAOæ¥å®ç°å„ç§æ“ä½œï¼Œé€šè¿‡Builder/Factoryå¯¹è±¡å®ç°AccountDO åˆ° Accountä¹‹é—´çš„è½¬åŒ–</li></ul><h3 id="Repositoryå’ŒEntity"><a href="#Repositoryå’ŒEntity" class="headerlink" title="Repositoryå’ŒEntity"></a>Repositoryå’ŒEntity</h3><ul><li>é€šè¿‡Accountå¯¹è±¡ï¼Œé¿å…äº†å…¶ä»–ä¸šåŠ¡é€»è¾‘ä»£ç å’Œæ•°æ®åº“çš„ç›´æ¥è€¦åˆï¼Œé¿å…äº†å½“æ•°æ®åº“å­—æ®µå˜åŒ–æ—¶ï¼Œå¤§é‡ä¸šåŠ¡é€»è¾‘ä¹Ÿè·Ÿç€å˜çš„é—®é¢˜ã€‚</li><li>é€šè¿‡Repositoryï¼Œæ”¹å˜ä¸šåŠ¡ä»£ç çš„æ€ç»´æ–¹å¼ï¼Œè®©ä¸šåŠ¡é€»è¾‘ä¸å†é¢å‘æ•°æ®åº“ç¼–ç¨‹ï¼Œè€Œæ˜¯é¢å‘é¢†åŸŸæ¨¡å‹ç¼–ç¨‹ã€‚</li><li>Accountå±äºä¸€ä¸ªå®Œæ•´çš„å†…å­˜ä¸­å¯¹è±¡ï¼Œå¯ä»¥æ¯”è¾ƒå®¹æ˜“çš„åšå®Œæ•´çš„æµ‹è¯•è¦†ç›–ï¼ŒåŒ…å«å…¶è¡Œä¸ºã€‚</li><li>Repositoryä½œä¸ºä¸€ä¸ªæ¥å£ç±»ï¼Œå¯ä»¥æ¯”è¾ƒå®¹æ˜“çš„å®ç°Mockæˆ–Stubï¼Œå¯ä»¥å¾ˆå®¹æ˜“æµ‹è¯•ã€‚</li><li>AccountRepositoryImplå®ç°ç±»ï¼Œç”±äºå…¶èŒè´£è¢«å•ä¸€å‡ºæ¥ï¼Œåªéœ€è¦å…³æ³¨Accountåˆ°AccountDOçš„æ˜ å°„å…³ç³»å’ŒRepositoryæ–¹æ³•åˆ°DAOæ–¹æ³•ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œç›¸å¯¹äºæ¥è¯´æ›´å®¹æ˜“æµ‹è¯•ã€‚</li></ul><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/5_1620613131603.png" alt="image.png"></p><h2 id="æŠ½è±¡ç¬¬ä¸‰æ–¹æœåŠ¡"><a href="#æŠ½è±¡ç¬¬ä¸‰æ–¹æœåŠ¡" class="headerlink" title="æŠ½è±¡ç¬¬ä¸‰æ–¹æœåŠ¡"></a>æŠ½è±¡ç¬¬ä¸‰æ–¹æœåŠ¡</h2><p>ç±»ä¼¼å¯¹äºæ•°æ®åº“çš„æŠ½è±¡ï¼Œæ‰€æœ‰ç¬¬ä¸‰æ–¹æœåŠ¡ä¹Ÿéœ€è¦é€šè¿‡æŠ½è±¡è§£å†³ç¬¬ä¸‰æ–¹æœåŠ¡ä¸å¯æ§ï¼Œå…¥å‚å‡ºå‚å¼ºè€¦åˆçš„é—®é¢˜ã€‚åœ¨è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬æŠ½è±¡å‡º ExchangeRateService çš„æœåŠ¡ï¼Œå’Œä¸€ä¸ªExchangeRateçš„Domain Primitiveç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ExchangeRateService</span> </span>&#123;</span><br><span class="line">    <span class="function">ExchangeRate <span class="title">getExchangeRate</span><span class="params">(Currency source, Currency target)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExchangeRateServiceImpl</span> <span class="keyword">implements</span> <span class="title">ExchangeRateService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> YahooForexService yahooForexService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ExchangeRate <span class="title">getExchangeRate</span><span class="params">(Currency source, Currency target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (source.equals(target)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ExchangeRate(BigDecimal.ONE, source, target);</span><br><span class="line">        &#125;</span><br><span class="line">        BigDecimal forex = yahooForexService.getExchangeRate(source.getValue(), target.getValue());</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ExchangeRate(forex, source, target);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="é˜²è…å±‚ï¼ˆACLï¼‰"><a href="#é˜²è…å±‚ï¼ˆACLï¼‰" class="headerlink" title="é˜²è…å±‚ï¼ˆACLï¼‰"></a>é˜²è…å±‚ï¼ˆACLï¼‰</h3><p>è¿™ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼å«åšAnti-Corruption Layerï¼ˆé˜²è…å±‚æˆ–ACLï¼‰ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„ç³»ç»Ÿä¼šå»ä¾èµ–å…¶ä»–çš„ç³»ç»Ÿï¼Œè€Œè¢«ä¾èµ–çš„ç³»ç»Ÿå¯èƒ½åŒ…å«ä¸åˆç†çš„æ•°æ®ç»“æ„ã€APIã€åè®®æˆ–æŠ€æœ¯å®ç°ï¼Œå¦‚æœå¯¹å¤–éƒ¨ç³»ç»Ÿå¼ºä¾èµ–ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬çš„ç³»ç»Ÿè¢«â€è…èš€â€œã€‚è¿™ä¸ªæ—¶å€™ï¼Œé€šè¿‡åœ¨ç³»ç»Ÿé—´åŠ å…¥ä¸€ä¸ªé˜²è…å±‚ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„éš”ç¦»å¤–éƒ¨ä¾èµ–å’Œå†…éƒ¨é€»è¾‘ï¼Œæ— è®ºå¤–éƒ¨å¦‚ä½•å˜æ›´ï¼Œå†…éƒ¨ä»£ç å¯ä»¥å°½å¯èƒ½çš„ä¿æŒä¸å˜ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/6_1620613131605.png" alt="image.png"></p><p>ACL ä¸ä»…ä»…åªæ˜¯å¤šäº†ä¸€å±‚è°ƒç”¨ï¼Œåœ¨å®é™…å¼€å‘ä¸­ACLèƒ½å¤Ÿæä¾›æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼š</p><ul><li><strong>é€‚é…å™¨ï¼š</strong>å¾ˆå¤šæ—¶å€™å¤–éƒ¨ä¾èµ–çš„æ•°æ®ã€æ¥å£å’Œåè®®å¹¶ä¸ç¬¦åˆå†…éƒ¨è§„èŒƒï¼Œé€šè¿‡é€‚é…å™¨æ¨¡å¼ï¼Œå¯ä»¥å°†æ•°æ®è½¬åŒ–é€»è¾‘å°è£…åˆ°ACLå†…éƒ¨ï¼Œé™ä½å¯¹ä¸šåŠ¡ä»£ç çš„ä¾µå…¥ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å°è£…äº†ExchangeRateå’ŒCurrencyå¯¹è±¡ï¼Œè½¬åŒ–äº†å¯¹æ–¹çš„å…¥å‚å’Œå‡ºå‚ï¼Œè®©å…¥å‚å‡ºå‚æ›´ç¬¦åˆæˆ‘ä»¬çš„æ ‡å‡†ã€‚</li><li><strong>ç¼“å­˜ï¼š</strong>å¯¹äºé¢‘ç¹è°ƒç”¨ä¸”æ•°æ®å˜æ›´ä¸é¢‘ç¹çš„å¤–éƒ¨ä¾èµ–ï¼Œé€šè¿‡åœ¨ACLé‡ŒåµŒå…¥ç¼“å­˜é€»è¾‘ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„é™ä½å¯¹äºå¤–éƒ¨ä¾èµ–çš„è¯·æ±‚å‹åŠ›ã€‚åŒæ—¶ï¼Œå¾ˆå¤šæ—¶å€™ç¼“å­˜é€»è¾‘æ˜¯å†™åœ¨ä¸šåŠ¡ä»£ç é‡Œçš„ï¼Œé€šè¿‡å°†ç¼“å­˜é€»è¾‘åµŒå…¥ACLï¼Œèƒ½å¤Ÿé™ä½ä¸šåŠ¡ä»£ç çš„å¤æ‚åº¦ã€‚</li><li><strong>å…œåº•ï¼š</strong>å¦‚æœå¤–éƒ¨ä¾èµ–çš„ç¨³å®šæ€§è¾ƒå·®ï¼Œä¸€ä¸ªèƒ½å¤Ÿæœ‰æ•ˆæå‡æˆ‘ä»¬ç³»ç»Ÿç¨³å®šæ€§çš„ç­–ç•¥æ˜¯é€šè¿‡ACLèµ·åˆ°å…œåº•çš„ä½œç”¨ï¼Œæ¯”å¦‚å½“å¤–éƒ¨ä¾èµ–å‡ºé—®é¢˜åï¼Œè¿”å›æœ€è¿‘ä¸€æ¬¡æˆåŠŸçš„ç¼“å­˜æˆ–ä¸šåŠ¡å…œåº•æ•°æ®ã€‚è¿™ç§å…œåº•é€»è¾‘ä¸€èˆ¬éƒ½æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœæ•£è½åœ¨æ ¸å¿ƒä¸šåŠ¡ä»£ç ä¸­ä¼šå¾ˆéš¾ç»´æŠ¤ï¼Œé€šè¿‡é›†ä¸­åœ¨ACLä¸­ï¼Œæ›´åŠ å®¹æ˜“è¢«æµ‹è¯•å’Œä¿®æ”¹ã€‚</li><li><strong>æ˜“äºæµ‹è¯•ï¼š</strong>ç±»ä¼¼äºä¹‹å‰çš„Repositoryï¼ŒACLçš„æ¥å£ç±»èƒ½å¤Ÿå¾ˆå®¹æ˜“çš„å®ç°Mockæˆ–Stubï¼Œä»¥ä¾¿äºå•å…ƒæµ‹è¯•ã€‚</li><li><strong>åŠŸèƒ½å¼€å…³ï¼š</strong>æœ‰äº›æ—¶å€™æˆ‘ä»¬å¸Œæœ›èƒ½åœ¨æŸäº›åœºæ™¯ä¸‹å¼€æ”¾æˆ–å…³é—­æŸä¸ªæ¥å£çš„åŠŸèƒ½ï¼Œæˆ–è€…è®©æŸä¸ªæ¥å£è¿”å›ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ACLé…ç½®åŠŸèƒ½å¼€å…³æ¥å®ç°ï¼Œè€Œä¸ä¼šå¯¹çœŸå®ä¸šåŠ¡ä»£ç é€ æˆå½±å“ã€‚åŒæ—¶ï¼Œä½¿ç”¨åŠŸèƒ½å¼€å…³ä¹Ÿèƒ½è®©æˆ‘ä»¬å®¹æ˜“çš„å®ç°Monkeyæµ‹è¯•ï¼Œè€Œä¸éœ€è¦çœŸæ­£ç‰©ç†æ€§çš„å…³é—­å¤–éƒ¨ä¾èµ–ã€‚</li></ul><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/7_1620613131606.png" alt="image.png"></p><h2 id="æŠ½è±¡ä¸­é—´ä»¶"><a href="#æŠ½è±¡ä¸­é—´ä»¶" class="headerlink" title="æŠ½è±¡ä¸­é—´ä»¶"></a>æŠ½è±¡ä¸­é—´ä»¶</h2><p>ç±»ä¼¼äº2.2çš„ç¬¬ä¸‰æ–¹æœåŠ¡çš„æŠ½è±¡ï¼Œå¯¹å„ç§ä¸­é—´ä»¶çš„æŠ½è±¡çš„ç›®çš„æ˜¯è®©ä¸šåŠ¡ä»£ç ä¸å†ä¾èµ–ä¸­é—´ä»¶çš„å®ç°é€»è¾‘ã€‚å› ä¸ºä¸­é—´ä»¶é€šå¸¸éœ€è¦æœ‰é€šç”¨å‹ï¼Œä¸­é—´ä»¶çš„æ¥å£é€šå¸¸æ˜¯Stringæˆ–Byte[] ç±»å‹çš„ï¼Œå¯¼è‡´åºåˆ—åŒ–/ååºåˆ—åŒ–é€»è¾‘é€šå¸¸å’Œä¸šåŠ¡é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œé€ æˆèƒ¶æ°´ä»£ç ã€‚é€šè¿‡ä¸­é—´ä»¶çš„ACLæŠ½è±¡ï¼Œå‡å°‘é‡å¤èƒ¶æ°´ä»£ç ã€‚</p><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å°è£…ä¸€ä¸ªæŠ½è±¡çš„AuditMessageProducerå’ŒAuditMessage DPå¯¹è±¡ï¼Œå®ç°å¯¹åº•å±‚kafkaå®ç°çš„éš”ç¦»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuditMessage</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserId userId;</span><br><span class="line">    <span class="keyword">private</span> AccountNumber source;</span><br><span class="line">    <span class="keyword">private</span> AccountNumber target;</span><br><span class="line">    <span class="keyword">private</span> Money money;</span><br><span class="line">    <span class="keyword">private</span> Date date;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userId + <span class="string">&quot;,&quot;</span> + source + <span class="string">&quot;,&quot;</span> + target + <span class="string">&quot;,&quot;</span> + money + <span class="string">&quot;,&quot;</span> + date;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> AuditMessage <span class="title">deserialize</span><span class="params">(String value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// todo</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AuditMessageProducer</span> </span>&#123;</span><br><span class="line">    <span class="function">SendResult <span class="title">send</span><span class="params">(AuditMessage message)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuditMessageProducerImpl</span> <span class="keyword">implements</span> <span class="title">AuditMessageProducer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String TOPIC_AUDIT_LOG = <span class="string">&quot;TOPIC_AUDIT_LOG&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SendResult <span class="title">send</span><span class="params">(AuditMessage message)</span> </span>&#123;</span><br><span class="line">        String messageBody = message.serialize();</span><br><span class="line">        kafkaTemplate.send(TOPIC_AUDIT_LOG, messageBody);</span><br><span class="line">        <span class="keyword">return</span> SendResult.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“çš„åˆ†æå’Œ2.2ç±»ä¼¼ï¼Œåœ¨æ­¤ç•¥è¿‡ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/8_1620613131607.png" alt="image.png"></p><h2 id="å°è£…ä¸šåŠ¡é€»è¾‘"><a href="#å°è£…ä¸šåŠ¡é€»è¾‘" class="headerlink" title="å°è£…ä¸šåŠ¡é€»è¾‘"></a>å°è£…ä¸šåŠ¡é€»è¾‘</h2><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæœ‰å¾ˆå¤šä¸šåŠ¡é€»è¾‘æ˜¯è·Ÿå¤–éƒ¨ä¾èµ–çš„ä»£ç æ··åˆçš„ï¼ŒåŒ…æ‹¬é‡‘é¢è®¡ç®—ã€è´¦æˆ·ä½™é¢çš„æ ¡éªŒã€è½¬è´¦é™åˆ¶ã€é‡‘é¢å¢å‡ç­‰ã€‚è¿™ç§é€»è¾‘æ··æ·†å¯¼è‡´äº†æ ¸å¿ƒè®¡ç®—é€»è¾‘æ— æ³•è¢«æœ‰æ•ˆçš„æµ‹è¯•å’Œå¤ç”¨ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„è§£æ³•æ˜¯é€šè¿‡Entityã€Domain Primitiveå’ŒDomain Serviceå°è£…æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘ï¼š</p><h3 id="ç”¨Domain-Primitiveå°è£…è·Ÿå®ä½“æ— å…³çš„æ— çŠ¶æ€è®¡ç®—é€»è¾‘"><a href="#ç”¨Domain-Primitiveå°è£…è·Ÿå®ä½“æ— å…³çš„æ— çŠ¶æ€è®¡ç®—é€»è¾‘" class="headerlink" title="ç”¨Domain Primitiveå°è£…è·Ÿå®ä½“æ— å…³çš„æ— çŠ¶æ€è®¡ç®—é€»è¾‘"></a>ç”¨Domain Primitiveå°è£…è·Ÿå®ä½“æ— å…³çš„æ— çŠ¶æ€è®¡ç®—é€»è¾‘</h3><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œä½¿ç”¨ExchangeRateæ¥å°è£…æ±‡ç‡è®¡ç®—é€»è¾‘ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BigDecimal exchangeRate = BigDecimal.ONE;</span><br><span class="line"><span class="keyword">if</span> (sourceAccountDO.getCurrency().equals(targetCurrency)) &#123;</span><br><span class="line">    exchangeRate = yahooForex.getExchangeRate(sourceAccountDO.getCurrency(), targetCurrency);</span><br><span class="line">&#125;</span><br><span class="line">BigDecimal sourceAmount = targetAmount.divide(exchangeRate, RoundingMode.DOWN);</span><br></pre></td></tr></table></figure><p>å˜ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ExchangeRate exchangeRate = exchangeRateService.getExchangeRate(sourceAccount.getCurrency(), targetMoney.getCurrency());</span><br><span class="line">Money sourceMoney = exchangeRate.exchangeTo(targetMoney);</span><br></pre></td></tr></table></figure><h3 id="ç”¨Entityå°è£…å•å¯¹è±¡çš„æœ‰çŠ¶æ€çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä¸šåŠ¡æ ¡éªŒ"><a href="#ç”¨Entityå°è£…å•å¯¹è±¡çš„æœ‰çŠ¶æ€çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä¸šåŠ¡æ ¡éªŒ" class="headerlink" title="ç”¨Entityå°è£…å•å¯¹è±¡çš„æœ‰çŠ¶æ€çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä¸šåŠ¡æ ¡éªŒ"></a>ç”¨Entityå°è£…å•å¯¹è±¡çš„æœ‰çŠ¶æ€çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä¸šåŠ¡æ ¡éªŒ</h3><p>ç”¨Accountå®ä½“ç±»å°è£…æ‰€æœ‰Accountçš„è¡Œä¸ºï¼ŒåŒ…æ‹¬ä¸šåŠ¡æ ¡éªŒå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AccountId id;</span><br><span class="line">    <span class="keyword">private</span> AccountNumber accountNumber;</span><br><span class="line">    <span class="keyword">private</span> UserId userId;</span><br><span class="line">    <span class="keyword">private</span> Money available;</span><br><span class="line">    <span class="keyword">private</span> Money dailyLimit;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Currency <span class="title">getCurrency</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.available.getCurrency();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è½¬å…¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deposit</span><span class="params">(Money money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">this</span>.getCurrency().equals(money.getCurrency())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InvalidCurrencyException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.available = <span class="keyword">this</span>.available.add(money);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è½¬å‡º</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(Money money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.available.compareTo(money) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InsufficientFundsException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.dailyLimit.compareTo(money) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> DailyLimitExceededException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>.available = <span class="keyword">this</span>.available.subtract(money);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸæœ‰çš„ä¸šåŠ¡ä»£ç åˆ™å¯ä»¥ç®€åŒ–ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">sourceAccount.deposit(sourceMoney);</span><br><span class="line">targetAccount.withdraw(targetMoney);</span><br></pre></td></tr></table></figure><h3 id="ç”¨Domain-Serviceå°è£…å¤šå¯¹è±¡é€»è¾‘"><a href="#ç”¨Domain-Serviceå°è£…å¤šå¯¹è±¡é€»è¾‘" class="headerlink" title="ç”¨Domain Serviceå°è£…å¤šå¯¹è±¡é€»è¾‘"></a>ç”¨Domain Serviceå°è£…å¤šå¯¹è±¡é€»è¾‘</h3><p>åœ¨è¿™ä¸ªæ¡ˆä¾‹é‡Œï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸¤ä¸ªè´¦å·çš„è½¬å‡ºå’Œè½¬å…¥å®é™…ä¸Šæ˜¯ä¸€ä½“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ç§è¡Œä¸ºåº”è¯¥è¢«å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­å»ã€‚ç‰¹åˆ«æ˜¯è€ƒè™‘åˆ°æœªæ¥è¿™ä¸ªé€»è¾‘å¯èƒ½ä¼šäº§ç”Ÿå˜åŒ–ï¼šæ¯”å¦‚å¢åŠ ä¸€ä¸ªæ‰£æ‰‹ç»­è´¹çš„é€»è¾‘ã€‚è¿™ä¸ªæ—¶å€™åœ¨åŸæœ‰çš„TransferServiceä¸­åšå¹¶ä¸åˆé€‚ï¼Œåœ¨ä»»ä½•ä¸€ä¸ªEntityæˆ–è€…Domain Primitiveé‡Œä¹Ÿä¸åˆé€‚ï¼Œéœ€è¦æœ‰ä¸€ä¸ªæ–°çš„ç±»å»åŒ…å«è·¨åŸŸå¯¹è±¡çš„è¡Œä¸ºã€‚è¿™ç§å¯¹è±¡å«åšDomain Serviceã€‚</p><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªAccountTransferServiceçš„ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountTransferService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Account sourceAccount, Account targetAccount, Money targetMoney, ExchangeRate exchangeRate)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountTransferServiceImpl</span> <span class="keyword">implements</span> <span class="title">AccountTransferService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ExchangeRateService exchangeRateService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Account sourceAccount, Account targetAccount, Money targetMoney, ExchangeRate exchangeRate)</span> </span>&#123;</span><br><span class="line">        Money sourceMoney = exchangeRate.exchangeTo(targetMoney);</span><br><span class="line">        sourceAccount.deposit(sourceMoney);</span><br><span class="line">        targetAccount.withdraw(targetMoney);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€ŒåŸå§‹ä»£ç åˆ™ç®€åŒ–ä¸ºä¸€è¡Œï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">accountTransferService.transfer(sourceAccount, targetAccount, targetMoney, exchangeRate);</span><br></pre></td></tr></table></figure><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/9_1620613131608.png" alt="image.png"></p><h2 id="é‡æ„åç»“æœåˆ†æ"><a href="#é‡æ„åç»“æœåˆ†æ" class="headerlink" title="é‡æ„åç»“æœåˆ†æ"></a>é‡æ„åç»“æœåˆ†æ</h2><p>è¿™ä¸ªæ¡ˆä¾‹é‡æ„åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransferServiceImplNew</span> <span class="keyword">implements</span> <span class="title">TransferService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AccountRepository accountRepository;</span><br><span class="line">    <span class="keyword">private</span> AuditMessageProducer auditMessageProducer;</span><br><span class="line">    <span class="keyword">private</span> ExchangeRateService exchangeRateService;</span><br><span class="line">    <span class="keyword">private</span> AccountTransferService accountTransferService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;Boolean&gt; <span class="title">transfer</span><span class="params">(Long sourceUserId, String targetAccountNumber, BigDecimal targetAmount, String targetCurrency)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        Money targetMoney = <span class="keyword">new</span> Money(targetAmount, <span class="keyword">new</span> Currency(targetCurrency));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¯»æ•°æ®</span></span><br><span class="line">        Account sourceAccount = accountRepository.find(<span class="keyword">new</span> UserId(sourceUserId));</span><br><span class="line">        Account targetAccount = accountRepository.find(<span class="keyword">new</span> AccountNumber(targetAccountNumber));</span><br><span class="line">        ExchangeRate exchangeRate = exchangeRateService.getExchangeRate(sourceAccount.getCurrency(), targetMoney.getCurrency());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line">        accountTransferService.transfer(sourceAccount, targetAccount, targetMoney, exchangeRate);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿å­˜æ•°æ®</span></span><br><span class="line">        accountRepository.save(sourceAccount);</span><br><span class="line">        accountRepository.save(targetAccount);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å‘é€å®¡è®¡æ¶ˆæ¯</span></span><br><span class="line">        AuditMessage message = <span class="keyword">new</span> AuditMessage(sourceAccount, targetAccount, targetMoney);</span><br><span class="line">        auditMessageProducer.send(message);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œç»è¿‡é‡æ„åçš„ä»£ç æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</p><ul><li>ä¸šåŠ¡é€»è¾‘æ¸…æ™°ï¼Œæ•°æ®å­˜å‚¨å’Œä¸šåŠ¡é€»è¾‘å®Œå…¨åˆ†éš”ã€‚</li><li>Entityã€Domain Primitiveã€Domain Serviceéƒ½æ˜¯ç‹¬ç«‹çš„å¯¹è±¡ï¼Œæ²¡æœ‰ä»»ä½•å¤–éƒ¨ä¾èµ–ï¼Œä½†æ˜¯å´åŒ…å«äº†æ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå¯ä»¥å•ç‹¬å®Œæ•´æµ‹è¯•ã€‚</li><li>åŸæœ‰çš„TransferServiceä¸å†åŒ…æ‹¬ä»»ä½•è®¡ç®—é€»è¾‘ï¼Œä»…ä»…ä½œä¸ºç»„ä»¶ç¼–æ’ï¼Œæ‰€æœ‰é€»è¾‘å‡delegateåˆ°å…¶ä»–ç»„ä»¶ã€‚è¿™ç§ä»…åŒ…å«Orchestrationï¼ˆç¼–æ’ï¼‰çš„æœåŠ¡å«åšApplication Serviceï¼ˆåº”ç”¨æœåŠ¡ï¼‰ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®æ–°çš„ç»“æ„é‡æ–°ç”»ä¸€å¼ å›¾ï¼š</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/10_1620613131609.png" alt="image.png"></p><p>ç„¶åé€šè¿‡é‡æ–°ç¼–æ’åè¯¥å›¾å˜ä¸ºï¼š</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/11_1620613131610.png" alt="image.png"></p><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé€šè¿‡å¯¹å¤–éƒ¨ä¾èµ–çš„æŠ½è±¡å’Œå†…éƒ¨é€»è¾‘çš„å°è£…é‡æ„ï¼Œåº”ç”¨æ•´ä½“çš„ä¾èµ–å…³ç³»å˜äº†ï¼š</p><ul><li>æœ€åº•å±‚ä¸å†æ˜¯æ•°æ®åº“ï¼Œè€Œæ˜¯Entityã€Domain Primitiveå’ŒDomain Serviceã€‚è¿™äº›å¯¹è±¡ä¸ä¾èµ–ä»»ä½•å¤–éƒ¨æœåŠ¡å’Œæ¡†æ¶ï¼Œè€Œæ˜¯çº¯å†…å­˜ä¸­çš„æ•°æ®å’Œæ“ä½œã€‚è¿™äº›å¯¹è±¡æˆ‘ä»¬æ‰“åŒ…ä¸ºDomain Layerï¼ˆé¢†åŸŸå±‚ï¼‰ã€‚é¢†åŸŸå±‚æ²¡æœ‰ä»»ä½•å¤–éƒ¨ä¾èµ–å…³ç³»ã€‚</li><li>å†å…¶æ¬¡çš„æ˜¯è´Ÿè´£ç»„ä»¶ç¼–æ’çš„Application Serviceï¼Œä½†æ˜¯è¿™äº›æœåŠ¡ä»…ä»…ä¾èµ–äº†ä¸€äº›æŠ½è±¡å‡ºæ¥çš„ACLç±»å’ŒRepositoryç±»ï¼Œè€Œå…¶å…·ä½“å®ç°ç±»æ˜¯é€šè¿‡ä¾èµ–æ³¨å…¥æ³¨è¿›æ¥çš„ã€‚Application Serviceã€Repositoryã€ACLç­‰æˆ‘ä»¬ç»Ÿç§°ä¸ºApplication Layerï¼ˆåº”ç”¨å±‚ï¼‰ã€‚åº”ç”¨å±‚ ä¾èµ– é¢†åŸŸå±‚ï¼Œä½†ä¸ä¾èµ–å…·ä½“å®ç°ã€‚</li><li>æœ€åæ˜¯ACLï¼ŒRepositoryç­‰çš„å…·ä½“å®ç°ï¼Œè¿™äº›å®ç°é€šå¸¸ä¾èµ–å¤–éƒ¨å…·ä½“çš„æŠ€æœ¯å®ç°å’Œæ¡†æ¶ï¼Œæ‰€ä»¥ç»Ÿç§°ä¸ºInfrastructure Layerï¼ˆåŸºç¡€è®¾æ–½å±‚ï¼‰ã€‚Webæ¡†æ¶é‡Œçš„å¯¹è±¡å¦‚Controllerä¹‹ç±»çš„é€šå¸¸ä¹Ÿå±äºåŸºç¡€è®¾æ–½å±‚ã€‚</li></ul><p>å¦‚æœä»Šå¤©èƒ½å¤Ÿé‡æ–°å†™è¿™æ®µä»£ç ï¼Œè€ƒè™‘åˆ°æœ€ç»ˆçš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬å¯èƒ½å…ˆå†™Domainå±‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œç„¶åå†å†™Applicationå±‚çš„ç»„ä»¶ç¼–æ’ï¼Œæœ€åæ‰å†™æ¯ä¸ªå¤–éƒ¨ä¾èµ–çš„å…·ä½“å®ç°ã€‚è¿™ç§æ¶æ„æ€è·¯å’Œä»£ç ç»„ç»‡ç»“æ„å°±å«åšDomain-Driven Designï¼ˆé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæˆ–DDDï¼‰ã€‚æ‰€ä»¥DDDä¸æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ¶æ„è®¾è®¡ï¼Œè€Œæ˜¯æ‰€æœ‰Transction Scriptä»£ç ç»è¿‡åˆç†é‡æ„åä¸€å®šä¼šæŠµè¾¾çš„ç»ˆç‚¹ã€‚</p><h1 id="DDDçš„å…­è¾¹å½¢æ¶æ„"><a href="#DDDçš„å…­è¾¹å½¢æ¶æ„" class="headerlink" title="DDDçš„å…­è¾¹å½¢æ¶æ„"></a>DDDçš„å…­è¾¹å½¢æ¶æ„</h1><p>åœ¨æˆ‘ä»¬ä¼ ç»Ÿçš„ä»£ç é‡Œï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½å¾ˆæ³¨é‡æ¯ä¸ªå¤–éƒ¨ä¾èµ–çš„å®ç°ç»†èŠ‚å’Œè§„èŒƒï¼Œä½†æ˜¯ä»Šå¤©æˆ‘ä»¬éœ€è¦æ•¢äºæŠ›å¼ƒæ‰åŸæœ‰çš„ç†å¿µï¼Œé‡æ–°å®¡è§†ä»£ç ç»“æ„ã€‚åœ¨ä¸Šé¢é‡æ„çš„ä»£ç é‡Œï¼Œå¦‚æœæŠ›å¼ƒæ‰æ‰€æœ‰Repositoryã€ACLã€Producerç­‰çš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ¯ä¸€ä¸ªå¯¹å¤–éƒ¨çš„æŠ½è±¡ç±»å…¶å®å°±æ˜¯è¾“å…¥æˆ–è¾“å‡ºï¼Œç±»ä¼¼äºè®¡ç®—æœºç³»ç»Ÿä¸­çš„I/OèŠ‚ç‚¹ã€‚è¿™ä¸ªè§‚ç‚¹åœ¨CQRSæ¶æ„ä¸­ä¹ŸåŒæ ·é€‚ç”¨ï¼Œå°†æ‰€æœ‰æ¥å£åˆ†ä¸ºCommandï¼ˆè¾“å…¥ï¼‰å’ŒQueryï¼ˆè¾“å‡ºï¼‰ä¸¤ç§ã€‚é™¤äº†I/Oä¹‹å¤–å…¶ä»–çš„å†…éƒ¨é€»è¾‘ï¼Œå°±æ˜¯åº”ç”¨ä¸šåŠ¡çš„æ ¸å¿ƒé€»è¾‘ã€‚åŸºäºè¿™ä¸ªåŸºç¡€ï¼ŒAlistair Cockburnåœ¨2005å¹´æå‡ºäº†Hexagonal Architectureï¼ˆå…­è¾¹å½¢æ¶æ„ï¼‰ï¼Œåˆè¢«ç§°ä¹‹ä¸ºPorts and Adaptersï¼ˆç«¯å£å’Œé€‚é…å™¨æ¶æ„ï¼‰ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/12_1620613131611.png" alt="image.png"></p><p>åœ¨è¿™å¼ å›¾ä¸­ï¼š</p><ul><li>I/Oçš„å…·ä½“å®ç°åœ¨æ¨¡å‹çš„æœ€å¤–å±‚</li><li>æ¯ä¸ªI/Oçš„é€‚é…å™¨åœ¨ç°è‰²åœ°å¸¦</li><li>æ¯ä¸ªHexçš„è¾¹æ˜¯ä¸€ä¸ªç«¯å£</li><li>Hexçš„ä¸­å¤®æ˜¯åº”ç”¨çš„æ ¸å¿ƒé¢†åŸŸæ¨¡å‹</li></ul><p>åœ¨Hexä¸­ï¼Œæ¶æ„çš„ç»„ç»‡å…³ç³»ç¬¬ä¸€æ¬¡å˜æˆäº†ä¸€ä¸ªäºŒç»´çš„å†…å¤–å…³ç³»ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿä¸€ç»´çš„ä¸Šä¸‹å…³ç³»ã€‚åŒæ—¶åœ¨Hexæ¶æ„ä¸­æˆ‘ä»¬ç¬¬ä¸€æ¬¡å‘ç°UIå±‚ã€DBå±‚ã€å’Œå„ç§ä¸­é—´ä»¶å±‚å®é™…ä¸Šæ˜¯æ²¡æœ‰æœ¬è´¨ä¸ŠåŒºåˆ«çš„ï¼Œéƒ½åªæ˜¯æ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºï¼Œè€Œä¸æ˜¯åœ¨ä¼ ç»Ÿæ¶æ„ä¸­çš„æœ€ä¸Šå±‚å’Œæœ€ä¸‹å±‚ã€‚</p><p>é™¤äº†2005å¹´çš„Hexæ¶æ„ï¼Œ2008å¹´ Jeffery Palermoçš„Onion Architectureï¼ˆæ´‹è‘±æ¶æ„ï¼‰å’Œ2017å¹´ Robert Martinçš„Clean Architectureï¼ˆå¹²å‡€æ¶æ„ï¼‰ï¼Œéƒ½æ˜¯æä¸ºç±»ä¼¼çš„æ€æƒ³ã€‚é™¤äº†å‘½åä¸ä¸€æ ·ã€åˆ‡å…¥ç‚¹ä¸ä¸€æ ·ä¹‹å¤–ï¼Œå…¶ä»–çš„æ•´ä½“æ¶æ„éƒ½æ˜¯åŸºäºä¸€ä¸ªäºŒç»´çš„å†…å¤–å…³ç³»ã€‚è¿™ä¹Ÿè¯´æ˜äº†åŸºäºDDDçš„æ¶æ„æœ€ç»ˆçš„å½¢æ€éƒ½æ˜¯ç±»ä¼¼çš„ã€‚Herberto Gracaæœ‰ä¸€ä¸ªå¾ˆå…¨é¢çš„å›¾åŒ…å«äº†ç»å¤§éƒ¨åˆ†ç°å®ä¸­çš„ç«¯å£ç±»ï¼Œå€¼å¾—å€Ÿé‰´ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/13_1620613131612.png" alt="image.png"></p><h2 id="ä»£ç ç»„ç»‡ç»“æ„"><a href="#ä»£ç ç»„ç»‡ç»“æ„" class="headerlink" title="ä»£ç ç»„ç»‡ç»“æ„"></a>ä»£ç ç»„ç»‡ç»“æ„</h2><p>ä¸ºäº†æœ‰æ•ˆçš„ç»„ç»‡ä»£ç ç»“æ„ï¼Œé¿å…ä¸‹å±‚ä»£ç ä¾èµ–åˆ°ä¸Šå±‚å®ç°çš„æƒ…å†µï¼Œåœ¨Javaä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡POM Moduleå’ŒPOMä¾èµ–æ¥å¤„ç†ç›¸äº’çš„å…³ç³»ã€‚é€šè¿‡Spring/SpringBootçš„å®¹å™¨æ¥è§£å†³è¿è¡Œæ—¶åŠ¨æ€æ³¨å…¥å…·ä½“å®ç°çš„ä¾èµ–çš„é—®é¢˜ã€‚ä¸€ä¸ªç®€å•çš„ä¾èµ–å…³ç³»å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/14_1620613131613.png" alt="image.png"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/15_1620613131614.png" alt="image.png"></p><h3 id="Types-æ¨¡å—"><a href="#Types-æ¨¡å—" class="headerlink" title="Types æ¨¡å—"></a>Types æ¨¡å—</h3><p>Typesæ¨¡å—æ˜¯ä¿å­˜å¯ä»¥å¯¹å¤–æš´éœ²çš„Domain Primitivesçš„åœ°æ–¹ã€‚Domain Primitiveså› ä¸ºæ˜¯æ— çŠ¶æ€çš„é€»è¾‘ï¼Œå¯ä»¥å¯¹å¤–æš´éœ²ï¼Œæ‰€ä»¥ç»å¸¸è¢«åŒ…å«åœ¨å¯¹å¤–çš„APIæ¥å£ä¸­ï¼Œéœ€è¦å•ç‹¬æˆä¸ºæ¨¡å—ã€‚Typesæ¨¡å—ä¸ä¾èµ–ä»»ä½•ç±»åº“ï¼Œçº¯ POJO ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/16_1620613131615.png" alt="image.png"></p><h3 id="Domain-æ¨¡å—"><a href="#Domain-æ¨¡å—" class="headerlink" title="Domain æ¨¡å—"></a>Domain æ¨¡å—</h3><p>Domain æ¨¡å—æ˜¯æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„é›†ä¸­åœ°ï¼ŒåŒ…å«æœ‰çŠ¶æ€çš„Entityã€é¢†åŸŸæœåŠ¡Domain Serviceã€ä»¥åŠå„ç§å¤–éƒ¨ä¾èµ–çš„æ¥å£ç±»ï¼ˆå¦‚Repositoryã€ACLã€ä¸­é—´ä»¶ç­‰ã€‚Domainæ¨¡å—ä»…ä¾èµ–Typesæ¨¡å—ï¼Œä¹Ÿæ˜¯çº¯ POJO ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/17_1620613131616.png" alt="image.png"></p><h3 id="Applicationæ¨¡å—"><a href="#Applicationæ¨¡å—" class="headerlink" title="Applicationæ¨¡å—"></a>Applicationæ¨¡å—</h3><p>Applicationæ¨¡å—ä¸»è¦åŒ…å«Application Serviceå’Œä¸€äº›ç›¸å…³çš„ç±»ã€‚Applicationæ¨¡å—ä¾èµ–Domainæ¨¡å—ã€‚è¿˜æ˜¯ä¸ä¾èµ–ä»»ä½•æ¡†æ¶ï¼Œçº¯POJOã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/18_1620613131617.png" alt="image.png"></p><h3 id="Infrastructureæ¨¡å—"><a href="#Infrastructureæ¨¡å—" class="headerlink" title="Infrastructureæ¨¡å—"></a>Infrastructureæ¨¡å—</h3><p>Infrastructureæ¨¡å—åŒ…å«äº†Persistenceã€Messagingã€Externalç­‰æ¨¡å—ã€‚æ¯”å¦‚ï¼šPersistenceæ¨¡å—åŒ…å«æ•°æ®åº“DAOçš„å®ç°ï¼ŒåŒ…å«Data Objectã€ORM Mapperã€Entityåˆ°DOçš„è½¬åŒ–ç±»ç­‰ã€‚Persistenceæ¨¡å—è¦ä¾èµ–å…·ä½“çš„ORMç±»åº“ï¼Œæ¯”å¦‚MyBatisã€‚å¦‚æœéœ€è¦ç”¨Spring-Mybatisæä¾›çš„æ³¨è§£æ–¹æ¡ˆï¼Œåˆ™éœ€è¦ä¾èµ–Springã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/19_1620613131618.png" alt="image.png"></p><h3 id="Webæ¨¡å—"><a href="#Webæ¨¡å—" class="headerlink" title="Webæ¨¡å—"></a>Webæ¨¡å—</h3><p>Webæ¨¡å—åŒ…å«Controllerç­‰ç›¸å…³ä»£ç ã€‚å¦‚æœç”¨SpringMVCåˆ™éœ€è¦ä¾èµ–Springã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/20_1620613131619.png" alt="image.png"></p><h3 id="Startæ¨¡å—"><a href="#Startæ¨¡å—" class="headerlink" title="Startæ¨¡å—"></a>Startæ¨¡å—</h3><p>Startæ¨¡å—æ˜¯SpringBootçš„å¯åŠ¨ç±»ã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><ul><li>Typesï¼ŒDomainæ¨¡å—éƒ½å±äºæ— å¤–éƒ¨ä¾èµ–çš„çº¯POJOï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥100%çš„è¢«å•å…ƒæµ‹è¯•è¦†ç›–ã€‚</li><li>Applicationæ¨¡å—çš„ä»£ç ä¾èµ–å¤–éƒ¨æŠ½è±¡ç±»ï¼Œéœ€è¦é€šè¿‡æµ‹è¯•æ¡†æ¶å»Mockæ‰€æœ‰å¤–éƒ¨ä¾èµ–ï¼Œä½†ä»ç„¶å¯ä»¥100%è¢«å•å…ƒæµ‹è¯•ã€‚</li><li>Infrastructureçš„æ¯ä¸ªæ¨¡å—çš„ä»£ç ç›¸å¯¹ç‹¬ç«‹ï¼Œæ¥å£æ•°é‡æ¯”è¾ƒå°‘ï¼Œç›¸å¯¹æ¯”è¾ƒå®¹æ˜“å†™å•æµ‹ã€‚ä½†æ˜¯ç”±äºä¾èµ–äº†å¤–éƒ¨I/Oï¼Œé€Ÿåº¦ä¸Šä¸å¯èƒ½å¾ˆå¿«ï¼Œä½†å¥½åœ¨æ¨¡å—çš„å˜åŠ¨ä¸ä¼šå¾ˆé¢‘ç¹ï¼Œå±äºä¸€åŠ³æ°¸é€¸ã€‚</li><li>Webæ¨¡å—æœ‰ä¸¤ç§æµ‹è¯•æ–¹æ³•ï¼šé€šè¿‡Springçš„MockMVCæµ‹è¯•ï¼Œæˆ–è€…é€šè¿‡HttpClientè°ƒç”¨æ¥å£æµ‹è¯•ã€‚ä½†æ˜¯åœ¨æµ‹è¯•æ—¶æœ€å¥½æŠŠControllerä¾èµ–çš„æœåŠ¡ç±»éƒ½Mockæ‰ã€‚ä¸€èˆ¬æ¥è¯´å½“ä½ æŠŠControllerçš„é€»è¾‘éƒ½åç½®åˆ°Application Serviceä¸­æ—¶ï¼ŒControllerçš„é€»è¾‘å˜å¾—æä¸ºç®€å•ï¼Œå¾ˆå®¹æ˜“100%è¦†ç›–ã€‚</li><li>Startæ¨¡å—ï¼šé€šå¸¸åº”ç”¨çš„é›†æˆæµ‹è¯•å†™åœ¨starté‡Œã€‚å½“å…¶ä»–æ¨¡å—çš„å•å…ƒæµ‹è¯•éƒ½èƒ½100%è¦†ç›–åï¼Œé›†æˆæµ‹è¯•ç”¨æ¥éªŒè¯æ•´ä½“é“¾è·¯çš„çœŸå®æ€§ã€‚</li></ul><h2 id="ä»£ç çš„æ¼”è¿›-å˜åŒ–é€Ÿåº¦"><a href="#ä»£ç çš„æ¼”è¿›-å˜åŒ–é€Ÿåº¦" class="headerlink" title="ä»£ç çš„æ¼”è¿›/å˜åŒ–é€Ÿåº¦"></a>ä»£ç çš„æ¼”è¿›/å˜åŒ–é€Ÿåº¦</h2><p>åœ¨ä¼ ç»Ÿæ¶æ„ä¸­ï¼Œä»£ç ä»ä¸Šåˆ°ä¸‹çš„å˜åŒ–é€Ÿåº¦åŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œæ”¹ä¸ªéœ€æ±‚éœ€è¦ä»æ¥å£ã€åˆ°ä¸šåŠ¡é€»è¾‘ã€åˆ°æ•°æ®åº“å…¨é‡å˜æ›´ï¼Œè€Œç¬¬ä¸‰æ–¹å˜æ›´å¯èƒ½ä¼šå¯¼è‡´æ•´ä¸ªä»£ç çš„é‡å†™ã€‚ä½†æ˜¯åœ¨DDDä¸­ä¸åŒæ¨¡å—çš„ä»£ç çš„æ¼”è¿›é€Ÿåº¦æ˜¯ä¸ä¸€æ ·çš„ï¼š</p><ul><li>Domainå±‚å±äºæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå±äºç»å¸¸è¢«ä¿®æ”¹çš„åœ°æ–¹ã€‚æ¯”å¦‚ï¼šåŸæ¥ä¸éœ€è¦æ‰£æ‰‹ç»­è´¹ï¼Œç°åœ¨éœ€è¦äº†ä¹‹ç±»çš„ã€‚é€šè¿‡Entityèƒ½å¤Ÿè§£å†³åŸºäºå•ä¸ªå¯¹è±¡çš„é€»è¾‘å˜æ›´ï¼Œé€šè¿‡Domain Serviceè§£å†³å¤šä¸ªå¯¹è±¡é—´çš„ä¸šåŠ¡é€»è¾‘å˜æ›´ã€‚</li><li>Applicationå±‚å±äºUse Caseï¼ˆä¸šåŠ¡ç”¨ä¾‹ï¼‰ã€‚ä¸šåŠ¡ç”¨ä¾‹ä¸€èˆ¬éƒ½æ˜¯æè¿°æ¯”è¾ƒå¤§æ–¹å‘çš„éœ€æ±‚ï¼Œæ¥å£ç›¸å¯¹ç¨³å®šï¼Œç‰¹åˆ«æ˜¯å¯¹å¤–çš„æ¥å£ä¸€èˆ¬ä¸ä¼šé¢‘ç¹å˜æ›´ã€‚æ·»åŠ ä¸šåŠ¡ç”¨ä¾‹å¯ä»¥é€šè¿‡æ–°å¢Application Serviceæˆ–è€…æ–°å¢æ¥å£å®ç°åŠŸèƒ½çš„æ‰©å±•ã€‚</li><li>Infrastructureå±‚å±äºæœ€ä½é¢‘å˜æ›´çš„ã€‚ä¸€èˆ¬è¿™ä¸ªå±‚çš„æ¨¡å—åªæœ‰åœ¨å¤–éƒ¨ä¾èµ–å˜æ›´äº†ä¹‹åæ‰ä¼šè·Ÿç€å‡çº§ï¼Œè€Œå¤–éƒ¨ä¾èµ–çš„å˜æ›´é¢‘ç‡ä¸€èˆ¬è¿œä½äºä¸šåŠ¡é€»è¾‘çš„å˜æ›´é¢‘ç‡ã€‚</li></ul><p>æ‰€ä»¥åœ¨DDDæ¶æ„ä¸­ï¼Œèƒ½æ˜æ˜¾çœ‹å‡ºè¶Šå¤–å±‚çš„ä»£ç è¶Šç¨³å®šï¼Œè¶Šå†…å±‚çš„ä»£ç æ¼”è¿›è¶Šå¿«ï¼ŒçœŸæ­£ä½“ç°äº†é¢†åŸŸâ€œé©±åŠ¨â€çš„æ ¸å¿ƒæ€æƒ³ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>DDDä¸æ˜¯ä¸€ä¸ªä»€ä¹ˆç‰¹æ®Šçš„æ¶æ„ï¼Œè€Œæ˜¯ä»»ä½•ä¼ ç»Ÿä»£ç ç»è¿‡åˆç†çš„é‡æ„ä¹‹åæœ€ç»ˆä¸€å®šä¼šæŠµè¾¾çš„ç»ˆç‚¹ã€‚DDDçš„æ¶æ„èƒ½å¤Ÿæœ‰æ•ˆçš„è§£å†³ä¼ ç»Ÿæ¶æ„ä¸­çš„é—®é¢˜ï¼š</p><ul><li><strong>é«˜å¯ç»´æŠ¤æ€§ï¼š</strong>å½“å¤–éƒ¨ä¾èµ–å˜æ›´æ—¶ï¼Œå†…éƒ¨ä»£ç åªç”¨å˜æ›´è·Ÿå¤–éƒ¨å¯¹æ¥çš„æ¨¡å—ï¼Œå…¶ä»–ä¸šåŠ¡é€»è¾‘ä¸å˜ã€‚</li><li><strong>é«˜å¯æ‰©å±•æ€§ï¼š</strong>åšæ–°åŠŸèƒ½æ—¶ï¼Œç»å¤§éƒ¨åˆ†çš„ä»£ç éƒ½èƒ½å¤ç”¨ï¼Œä»…éœ€è¦å¢åŠ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å³å¯ã€‚</li><li><strong>é«˜å¯æµ‹è¯•æ€§ï¼š</strong>æ¯ä¸ªæ‹†åˆ†å‡ºæ¥çš„æ¨¡å—éƒ½ç¬¦åˆå•ä¸€æ€§åŸåˆ™ï¼Œç»å¤§éƒ¨åˆ†ä¸ä¾èµ–æ¡†æ¶ï¼Œå¯ä»¥å¿«é€Ÿçš„å•å…ƒæµ‹è¯•ï¼Œåšåˆ°100%è¦†ç›–ã€‚</li><li><strong>ä»£ç ç»“æ„æ¸…æ™°ï¼š</strong>é€šè¿‡POM moduleå¯ä»¥è§£å†³æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œ æ‰€æœ‰å¤–æ¥æ¨¡å—éƒ½å¯ä»¥å•ç‹¬ç‹¬ç«‹æˆJaråŒ…è¢«å¤ç”¨ã€‚å½“å›¢é˜Ÿå½¢æˆè§„èŒƒåï¼Œå¯ä»¥å¿«é€Ÿçš„å®šä½åˆ°ç›¸å…³ä»£ç ã€‚</li></ul><p>è½¬è½½äºï¼š<a href="https://developer.aliyun.com/article/719251">é˜¿é‡ŒæŠ€æœ¯ä¸“å®¶è¯¦è§£DDDç³»åˆ— ç¬¬äºŒå¼¹ - åº”ç”¨æ¶æ„</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢†åŸŸé©±åŠ¨è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”Ÿæ—¥è¿™å¤©è¿˜å¾—ä¸Šç­</title>
      <link href="2021/05/08/2021-05-08-sheng-ri-shang-ban/"/>
      <url>2021/05/08/2021-05-08-sheng-ri-shang-ban/</url>
      
        <content type="html"><![CDATA[<p>ç”Ÿæ—¥è¿™å¤©è¿˜å¾—ä¸Šç­ï¼Œå•Šå•Šå•Šå•Šå•Š</p><p>æ˜æ˜æ˜¯å‘¨æœ«</p><p>ç¥è‡ªå·±ç”Ÿæ—¥å¿«ä¹å§</p><p>æ˜å¤©æ˜¯æˆ‘åª³å¦‡ç”Ÿæ—¥ï¼Œæœ¬æ¥æ˜¯åº”è¯¥æ”¾å‡äº†çš„</p><p>å¯æ˜¯å…¬å¸åˆšå¥½è¿™ä¸¤å¤©æœ‰ä¸ªåŸ¹è®­ï¼Œè¿˜å¿…é¡»å¾—å‚åŠ æ¥ç€</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20210508084719.png"></p><p>ä»€ä¹ˆé¬¼å•Šå•Š</p><p>éƒ½ä¸èƒ½å¥½å¥½è¿‡ç”Ÿæ—¥äº†å•Šå–‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/430b5bcf981d7560a76ddc92b54fe580.jpeg"></p><p>è¿‡ä¸ªç”Ÿæ—¥çœŸéš¾</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº”ä¸€å»çš„åª³å¦‡å®¶</title>
      <link href="2021/05/06/2021-05-06-qu-xi-fu-jia-shou/"/>
      <url>2021/05/06/2021-05-06-qu-xi-fu-jia-shou/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æŠ¢ç¥¨å¼‚å¸¸æ¿€çƒˆçš„æƒ…å†µä¸‹ï¼Œç»ˆäºæŠ¢åˆ°äº†ä»è¥¿å®‰ç›´è¾¾éšå·çš„ç¥¨äº†ã€‚<br>ä¹‹å‰ä¸€ç›´æ²¡æœ‰å‘ç°æœ‰ç›´è¾¾çš„ç«è½¦ï¼Œéƒ½æ˜¯ä»è¥¿å®‰åˆ°æ­¦æ±‰ï¼Œæ­¦æ±‰åˆ°éšå·<br>ç™½ç™½èŠ±å†¤æ‰é’±è¿˜ç»•è¿œè·¯äº†ã€‚</p><p>ä½†æ˜¯å‡ºå‘æ—¶é—´ä¸æ˜¯å¾ˆå¥½ï¼Œäº”æœˆä¸€å·çš„ä¸­åˆ12ç‚¹å‡ºå‘ï¼Œæ™šä¸Š8ç‚¹åˆ°éšå·ï¼Œä¸€æ•´ä¸ªç™½å¤©éƒ½åœ¨ç«è½¦ä¸Šåº¦è¿‡ã€‚<br>ä¹°å¥½é›¶é£Ÿæ³¡é¢ä¸Šç«è½¦å›å®¶ï¼</p><p>è®°å½•ä¸‹å®¶åé¢çš„æ™¯è±¡</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092329.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092332.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092340.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092342.jpg"></p>          </div><p>å‰é¢æ˜¯ä¸ªäºŒå±‚æ¥¼çš„å¹³æˆ¿ï¼Œåé¢æ˜¯è€æˆ¿å­ï¼Œå›´èµ·æ¥åƒä¸ªå››åˆé™¢<br>ä¸­é—´çš„é™¢å­å¯ä»¥å…»å…»é¸¡<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092352.jpg"></p><p>æˆ‘åª³å¦‡å®¶æœ‰ä¸ªå°å–éƒ¨ï¼Œå–äº›ä¸ƒä¸ƒå…«å…«çš„ä¸œè¥¿<br>è¿™ç§å°å–éƒ¨ç°åœ¨å¾ˆå°‘è§äº†ï¼Œåœ¨é©¬è·¯æ—è¾¹ï¼Œä¸€èˆ¬ä¼šæœ‰å¾ˆå¤šäººåœ¨è¿™é—²èŠå•¥çš„</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092345.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092350.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092355.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506092357.jpg"></p>          </div><p>å°å–éƒ¨ç›¸å½“æœ‰å¹´ä»£æ„Ÿäº†ï¼Œä¸€ç›´æ²¡æœ‰å˜<br>æ˜å¹´ä¼šç¨å¾®æ”¹å»ºä¸€ä¸‹</p><blockquote><p>å°å–éƒ¨è¿˜ä¼šåœ¨5æœˆä»½æ”¶èœˆèš£<br> ä»¥ä¸‹æ¶‰åŠåˆ°èœˆèš£ï¼Œå¦‚æœ‰ä¸é€‚è¯·åˆ«å¾€ä¸‹æ»‘ï¼ˆæˆ‘è§‰å¾—è¿˜å¥½ï¼‰</p></blockquote><p>èœˆèš£ç”¨äºä¸­è¯æï¼Œæœ‰åŒ»è¯å…¬å¸çš„äººä¼šæ¥é‡‡è´­èœˆèš£<br>æ¯å¹´äº”æœˆä»½éƒ½ä¼šæœ‰è¶…å¤šèœˆèš£äº§å‡ºï¼Œæœ¬åœ°äººéƒ½ä¼šå»å±±ä¸ŠæŒ–æ¡èœˆèš£<br>æ­£å½“äº”æœˆå¤©ï¼Œå½“åœ°å±±ä¸Šéƒ½æœ‰å¾ˆå¤šèœˆèš£ï¼Œä¸€èˆ¬éƒ½æ˜¯æ™šä¸Šå¤©æ°”å‡‰äº†å‡ºæ´<br>äººä»¬ä¼šåœ¨å¤´ä¸Šå¸¦ä¸ªç…§æ˜ç¯ï¼Œé‚£ä¸ªå¤¹å­ï¼Œè…°èƒŒä¸ªç“¶å­ï¼Œæ•´è£…å¾…å‘ä¸Šå±±æ¡èœˆèš£</p><p>ä¸€èˆ¬æ¡çš„èœˆèš£å¤šäº†ï¼Œå¯ä»¥æ”¶ä¸ª3ã€400å—é’±ï¼Œåœ¨å†œæ‘è¿™æ ·ä¸€æ¯”æ”¶å…¥è¿˜æ˜¯ç¾æ»‹æ»‹çš„ã€‚<br>åª³å¦‡å®¶æ”¶èœˆèš£ï¼Œä»·æ ¼æ ¹æ®å½“å¹´è¡Œæƒ…è€Œå®š<br>ä»·æ ¼ï¼šå¤§äºç­‰äº13cmçš„2å—3ä¸€æ¡ï¼Œå°äº13cmçš„1.3ä¸€æ¡ï¼Œæ¯å¹´çš„è¡Œæƒ…ä¸ä¸€æ ·<br>å½“æ—¶ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¹ˆå¤šèœˆèš£ï¼Œæœ‰ç‚¹å°æ€•ï¼Œç°åœ¨è¿˜å¥½</p><p>æ”¶è¿‡æ¥çš„èœˆèš£åˆ°å–éœ€è¦ä¸€ç³»åˆ—æ“ä½œï¼š</p><ul><li>é¦–å…ˆä¼šç”¨æ°´æ³¡ä¸€æ³¡ï¼Œè®©èœˆèš£æ­»ç¿˜ç¿˜äº†</li><li>ç„¶åç©¿èœˆèš£ï¼šç”¨ç«¹ç¼–å°†èœˆèš£æ‹‰é•¿å›ºå®šä½</li><li>å¤ªé˜³ä¸‹æ›æ™’</li><li>æ•°èœˆèš£ï¼Œä¸€ç™¾ä¸ªæ•°æ‰ä¸€æ†</li><li>ç­‰é‡‡è´­çš„æ¥å–</li></ul><p>åœ¨ä¸€æ•´å¥—åœ¨è¿™é‡Œå½¢æˆäº†å®Œæ•´çš„äº§ä¸šé“¾ï¼Œæœ‰äººå»æŒ–èœˆèš£ï¼Œæœ‰äººå–ç«¹ç¼–ï¼Œæœ‰äººæ”¶èœˆèš£<br>æ¯å¹´5æœˆä»½éƒ½ä¼šå¤§é‡çš„èœˆèš£ï¼Œè¿™åœ°æ–¹å¾ˆç¥å¥‡ï¼Œæˆ‘è€å®¶é‚£è¾¹å°±æ²¡æœ‰äººå¼„è¿™ä¸ªï¼Œä»å°ä¹Ÿæ²¡æœ‰è§åˆ°è¿‡ã€‚</p><p>æˆ‘è¿˜ä¸æ•¢ç©¿èœˆèš£ï¼Œå®åœ¨å…‹æœä¸äº†ã€‚ã€‚<br>åªèƒ½å¸®å¿™æ™’èœˆèš£ï¼Œæ•°èœˆèš£</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210506150407.png"></p><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/å¾®ä¿¡æˆªå›¾_20210506170043.png">      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/2021/202105/1111e067d59d966b2d882485e9db0bf6.mp4" type="video/mp4"></video><p>éœ€è¦ä¸€ç™¾ä¸ªèœˆèš£æ†ä¸€æ‰ï¼Œå¤§æ¦‚æœ‰ä¸Šä¸‡æ¡ğŸ˜‚<br>æˆ‘å’Œæˆ‘åª³å¦‡ï¼Œè¿˜æœ‰å²³çˆ¶å²³æ¯å¤§äºº4ä¸ªäººä¸€èµ·æ•°<br>å·¥ä½œé‡å·¨å¤§å“‡</p><p>è¿™ä¸ªè¿˜æ˜¯æŒºèµšé’±çš„ï¼Œèµšå·®ä»·ï¼Œé‡å¤§äº†è¿˜æ˜¯èµšé’±</p><p>æˆ‘åœ¨æƒ³è¿™ä¸ªèœˆèš£å¯ä¸å¯ä»¥å®¶å…»ï¼Œä¸­åŒ»è¯å…¬å¸éœ€è¦è¿™ä¸ªï¼Œåœ¨è¿™è¾¹ä¹Ÿæ²¡æœ‰äººå®¶å…»è¿‡ï¼Œéƒ½æ˜¯æŠ“é‡ç”Ÿçš„</p><p>æœ‰ç©ºç ”ç©¶ç ”ç©¶å¯è¡Œæ€§ğŸ˜œæ²¡å‡†æ‰¾åˆ°è·¯å­äº†ï¼Œå°±ä¸å¹²ç¨‹åºå‘˜äº†å›å®¶åšç”Ÿæ„å»</p><hr><p>æœ‰æ—¶å€™æˆ‘ä¹Ÿæƒ³ç€è¦ä¸è¦è·Ÿç€åª³å¦‡çš„å§¨å¦ˆå»å–çŒªè‚‰ï¼ˆå¹´æ”¶å…¥å¤§æ¦‚30ä¸‡ï¼‰<br>æˆ–è€…è·Ÿç€æˆ‘åª³å¦‡çš„è¡¨å“¥å»å–è½¦ï¼ˆå¹´æ”¶å…¥æ›´å¤šï¼‰<br>ä¹±ä¸ƒå…«ç³Ÿçš„æƒ³æ³•ï¼Œç¨‹åºå‘˜ä¸çŸ¥é“åé¢çš„è¡Œæƒ…å’‹æ ·ï¼Œä¸Šå¹´é¾„äº†è‚¯å®šä¸åƒé¦™ï¼Œå†…å·å¤ªä¸¥é‡ï¼Œå‹åŠ›ä¹Ÿå¤§</p><p>ä¸æƒ³å·è¿›å»</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡æœŸä½™é¢æŸ¥è¯¢</title>
      <link href="2021/04/30/2021-04-30-May-Day/"/>
      <url>2021/04/30/2021-04-30-May-Day/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¹´åŠ³åŠ¨èŠ‚ï¼š5æœˆ1æ—¥è‡³5æ—¥æ”¾å‡è°ƒä¼‘ï¼Œå…±5å¤©ã€‚4æœˆ25æ—¥ï¼ˆæ˜ŸæœŸæ—¥ï¼‰ã€5æœˆ8æ—¥ï¼ˆæ˜ŸæœŸå…­ï¼‰ä¸Šç­ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/b5d3ea9b568a60f5c2427816dfb3b3ea.gif"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/900b7fb5640c3e0d86b26d842b70d5d5.gif"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/5c3a06d7d70826ec7c1dcba80f011e4b.gif"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/333fed62f55769d133a2995f4489550c.gif"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/df8bd5932784bbce7e5790ae4505d53b.gif"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹ç­å»å¤§é›å¡”æºœè¾¾</title>
      <link href="2021/04/29/2021-04-29-xia-ban-qu-da-tang/"/>
      <url>2021/04/29/2021-04-29-xia-ban-qu-da-tang/</url>
      
        <content type="html"><![CDATA[<p>æ˜¨å¤©å¤©æ°”éš¾å¾—çš„å¥½å“‡ï¼Œä¸‹ç­çš„ç‚¹è¿˜æ˜¯æ™´ç©ºä¸‡é‡Œ</p><p>ä¸‹ç­åå°±å’Œåª³å¦‡å»å¤§å”ä¸å¤œåŸé›å¼¯</p><p>æ²¡æƒ³åˆ°è¿˜æ˜¯è¿™ä¹ˆçƒ­é—¹ï¼Œæ„Ÿè§‰å¥½åƒæ”¾å‡ä¸€æ ·ï¼Œä¹Ÿæ˜¯äººå±±äººæµ·çš„</p><p>çœ‹å¥½å¤šéƒ½æ˜¯è€å¹´å›¢ï¼Œè·Ÿå›¢æ¥è¥¿å®‰æ—…æ¸¸çš„</p><p>æˆ‘çš„æ„¿æœ›ä¹Ÿæ˜¯é€€ä¼‘ä¹‹åï¼Œå¯ä»¥æ¸¸å±±ç©æ°´åˆ°å¤„æ¸¸ç©ï¼ŒçœŸå¥½</p><p>æ¥åˆ°å¤§é›å¡”å‰æ–¹çš„éŸ³ä¹å–·æ³‰ï¼Œæ¥ï¼Œåˆä¸ªå½±</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103513.webp"></p><p>åœ¨å³æ‰‹è¾¹æœ‰ä¹‹å‰æŠ–éŸ³ä¸Šå¾ˆç«çš„ä¸å€’ç¿ï¼ŒçœŸçš„äººå¤šå•Šï¼Œè¿™æ‰7ç‚¹é’Ÿï¼Œå°±è¿™ä¹ˆå¤šäºº<br>éƒ½åœ¨ç€çœ‹ä¸å€’ç¿</p><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429104433.png">      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202104/36ea541831869f6c67450ecc0fb58b27.mp4" type="video/mp4"></video><p>æ‹äº†ä¸ªè§†é¢‘æˆ‘å°±æ’¤äº†ï¼Œå®åœ¨äººå¤šå•Š<br><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429104802.jpg"><br>      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202104/9f86b0615140376e93cae205f09347b4.mp4" type="video/mp4"><br></video></p><p>å¤§é›å¡”è¿™é‡Œå¯ä»¥è¯´æ˜¯è¥¿å®‰çš„åœ°æ ‡æ€§å»ºç­‘äº†ï¼Œæ¥è¥¿å®‰è¿™è¾¹æ¸¸ç©ä¸€å®šå¾—åˆ°è¿™é‡Œé€›ä¸€é€›</p><p>æˆ‘åœ¨è¥¿å®‰ä¸¤å¹´å¤šæ¥å¤§é›å¡”æ¬¡æ•°æœ€å¤šğŸ˜‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103507.webp"></p><p>åœ¨æ—è¾¹å°±å¯ä»¥çœ‹åˆ°è¥¿å®‰å›å¿†<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103531.webp"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103526.webp"></p><p>è¥¿å®‰åä¸‰æœå¤éƒ½ï¼šè¥¿å‘¨ï¼Œç§¦ï¼Œè¥¿æ±‰ï¼Œæ–°ï¼Œä¸œæ±‰ï¼Œè¥¿æ™‹ï¼Œå‰èµµï¼Œå‰ç§¦ï¼Œåç§¦ï¼Œè¥¿é­ï¼ŒåŒ—å‘¨ï¼Œéš‹ï¼Œå”ç­‰åä¸‰ä¸ªæœä»£åœ¨æ­¤å»ºéƒ½ï¼Œæ—¶é—´é•¿è¾¾è¿‘1200å¹´</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103433.webp"></p><p>å¤©è‰²æ…¢æ…¢æš—äº†ä¸‹æ¥ï¼Œæ²¡æœ‰èµ°å¤ªè¿œï¼Œèµ°åˆ°å¤§é›å¡”æ­£é—¨çš„å¹¿åœºï¼Œå°±æŠ˜è¿”å›å»ï¼Œé€¼è¿‘æ˜å¤©è¿˜å¾—ä¸Šç­å‘¢</p><p>å½“åœ°äººåœ¨ä¸€ç‰‡ç©ºåœ°ä¸Šå¼€å§‹è·³èµ·å¹¿åœºèˆäº†ï¼Œæœè£…ä¸€è‡´ï¼ŒåŠ¨ä½œæ•´é½åˆ’ä¸€ï¼Œæœ‰æ¸¸å®¢åœ¨åé¢ä¹Ÿè·Ÿç€è·³</p><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429105618.jpg">      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202104/0de875186f41074b0d0a34b75a7e49a3.mp4" type="video/mp4"></video><p>å¤©è‰²æš—ä¸‹æ¥ï¼Œç¯å…‰ä¹Ÿéšä¹‹äº®èµ·æ¥äº†ï¼Œç§€çš„é›…ç—çš„ç¯å…‰</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103522.webp"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429103517.webp"></p><p>å¥½å•¦ï¼Œäº”ä¸€å‰æ¥è¶Ÿå¤§é›å¡”é›ä¸€é›</p><p>é©¬ä¸Šå°±è¦æ”¾å‡å•¦ï¼Œè¿˜å¾—åˆ’æ°´åˆ’ä¸¤å¤©ğŸ˜</p><p>å¯¹ç”Ÿæ´»å……æ»¡ä¹è§‚ï¼Œä¸­å›½å¤§å¥½å±±æ²³è¿˜æ²¡é€›å¤Ÿå‘¢ï¼</p><p>å“¦è€¶</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§’æ€ä¸šåŠ¡æ–¹æ¡ˆæ€è·¯</title>
      <link href="2021/04/28/2021-04-28-miao-sha-ye-wu/"/>
      <url>2021/04/28/2021-04-28-miao-sha-ye-wu/</url>
      
        <content type="html"><![CDATA[<p>ç§’æ€ä¸šåŠ¡æœ€å¤§çš„ä¸šåŠ¡ç‰¹ç‚¹ï¼ŒçŸ­æ—¶é—´å†…ï¼Œé«˜å¹¶å‘ï¼Œå¤§é‡è¯»è¯·æ±‚ï¼Œå¤§é‡çš„å†™è¯·æ±‚ã€‚å¦‚æœä¸ç»ä»»ä½•ä¼˜åŒ–ï¼Œç›´æ¥å°†å…¨éƒ¨è¯»å†™è¯·æ±‚æ‰“åˆ°æ•°æ®åº“å±‚ï¼Œæ•°æ®åº“å±‚ç”±äºé”å†²çªï¼Œç‰¹åˆ«æ˜¯çƒ­ç‚¹æ•°æ®è¡Œé”å†²çªï¼Œå¾ˆå®¹æ˜“é€ æˆæ­»é”ï¼Œé™ä½æ•°æ®åº“æ‰§è¡Œæ•ˆç‡ã€‚è€Œä¸”æµé‡å¾ˆå¤§çš„æƒ…å†µï¼Œå¾ˆå®¹æ˜“å°†ä¼šæŠŠæ•°æ®åº“å‹æ­»ã€‚æ•°æ®åº“å±‚è‹¥æŒ‚äº†ï¼Œå¦‚æœå†æ¬¡å¯åŠ¨ï¼Œå¾ˆå¯èƒ½åˆä¼šè¢«å¤§æµé‡å†æ¬¡å‹å®ã€‚</p><p>ä»ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼Œåœ¨ç§’æ€ä¸šåŠ¡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦ä¿æŠ¤æ•°æ®å±‚çš„å®‰å…¨ã€‚ </p><p>ä¸ºäº†ä¿è¯æ•°æ®åº“çš„å®‰å…¨ï¼Œæˆ‘ä»¬å°±è¦é™ä½æœ€ååˆ°è¾¾æ•°æ®åº“å±‚è¯»å†™æµé‡ï¼Œä½¿å…¶ä¸€ç›´å¤„äºå®‰å…¨çš„æƒ…å†µä¸‹è¿è¡Œã€‚ </p><p>ä»è¯»å†™æ–¹å‘ï¼Œä¼˜åŒ–æ€è·¯ï¼š </p><ul><li>é™è¯» </li><li>é™å†™ </li></ul><p>é™ä½æ•°æ®å±‚è¯»è¯·æ±‚ï¼Œä¸»è¦åŠæ³•å°±æ˜¯åŠ ç¼“å­˜ï¼Œæ•°æ®ä¼˜å…ˆè¯»å–ç¼“å­˜ï¼Œç¼“å­˜ä¸å­˜åœ¨å†ä»æ•°æ®åº“å±‚è¯»å–ã€‚ç¼“å­˜è§£å†³åŠæ³•æ¯”è¾ƒå¤šï¼Œä¸‹é¢ä¸»è¦ä»‹ç»é™å†™çš„å¤„ç†åŠæ³•ã€‚ </p><p>é™ä½æ•°æ®å±‚å†™è¯·æ±‚ï¼Œæˆ‘ä»¬å°±å¿…é¡»åœ¨ä¸Šæ¸¸åº”ç”¨å±‚è¿‡æ»¤å†™æ¸…æ±‚ã€‚ </p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210428142339.png"></p><h2 id="æŠ€æœ¯ä¼˜åŒ–æ‰‹æ®µ"><a href="#æŠ€æœ¯ä¼˜åŒ–æ‰‹æ®µ" class="headerlink" title="æŠ€æœ¯ä¼˜åŒ–æ‰‹æ®µ"></a>æŠ€æœ¯ä¼˜åŒ–æ‰‹æ®µ</h2><p>å‡è®¾æˆ‘ä»¬çš„ç³»ç»Ÿæ¶æ„å¦‚ä¸‹ï¼š </p><p>ç½‘ç«™/APPâ€”-&gt;ç«™ç‚¹æ¥å…¥åº”ç”¨â€”â€”&gt;åå°æœåŠ¡â€”-&gt;æ•°æ®åº“å±‚ </p><p>æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸‰å±‚åšä¼˜åŒ–ï¼Œæ‹¦æˆªå†™è¯·æ±‚ï¼Œé™ä½æ•°æ®å±‚å†™å‹åŠ›ã€‚ </p><p>åœ¨ç½‘ç«™/APP å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JS ç­‰æ‰‹æ®µï¼Œé˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»ã€‚ </p><p>ä¸è¿‡è¿™ç§æ‰‹æ®µåªèƒ½é¢„é˜²æ™®é€šç”¨æˆ·ï¼Œé«˜çº§ç”¨æˆ·å¯ä»¥é€šè¿‡æŠ“åŒ…è·å–è¯·æ±‚æ¥å£ï¼Œé€šè¿‡ç¨‹åºå‘èµ·ï¼Œç»•å¼€ JSã€‚ </p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ç«™ç‚¹æ¥å…¥å±‚é€šè¿‡è®¡æ•°çš„æ–¹å¼ï¼Œé˜²æ­¢åŒä¸€ç”¨æˆ·é¢‘ç¹å‘é€è¯·æ±‚ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é™åˆ¶åŒä¸€ç”¨æˆ·æ¯ 5 ç§’ï¼Œåªæœ‰ä¸€æ¬¡è¯·æ±‚æ‰æœ‰æ•ˆï¼Œå…¶ä½™è¯·æ±‚è¿”å›è¯·æ±‚é€Ÿç‡è¿‡å¿«ã€‚ </p><p>ç«™ç‚¹å±‚åªèƒ½é™åˆ¶å•ä¸€ç”¨æˆ·ï¼Œå¯ä»¥é€šè¿‡å¤šç”¨æˆ·æ‰‹æ®µç»•å¼€è¿™ä¸€é™åˆ¶ã€‚</p><p> ç­‰åˆ°å†™è¯·æ±‚åˆ°è¾¾æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚å¯ä»¥å‘é€åˆ° MQ é˜Ÿåˆ—æˆ–è€…å†…å­˜é˜Ÿåˆ—ï¼Œç„¶åæ ¹æ®åº“å­˜æ•°é‡ï¼Œæˆ–è€…æ•°æ®åº“æŠ—å‹èƒ½åŠ›å¤„ç†ã€‚ </p><p>æ¯”å¦‚è¯´æŸä»¶å•†å“åº“å­˜åªæœ‰ 2000 ä¸ªï¼Œè¿™æ—¶æœåŠ¡å±‚ç°æ”¶åˆ° 2 w ä¸ªå†™è¯·æ±‚ï¼Œå…¨éƒ¨å‘é€åˆ°é˜Ÿåˆ—ä¸­ã€‚å‡è®¾æ•°æ®åº“å±‚åªèƒ½æœ€å¤§åªèƒ½å¤„ç† 1000 ä¸ªå†™è¯·æ±‚ï¼Œé‚£æˆ‘ä»¬æ¶ˆè´¹ç¨‹åºå°±æ‹‰å– 1000 æ¡æ¶ˆæ¯ï¼ŒçœŸæ­£è¿›è¡Œæ•°æ®å†™è¯·æ±‚ã€‚ </p><p>å†™å…¥æˆåŠŸä¹‹åï¼Œå†æ¬¡æ¶ˆè´¹æ¶ˆæ¯ï¼Œç›´åˆ°åº“å­˜ä¸º 0 ã€‚è¿™æ—¶å‰©ä¸‹çš„æ¶ˆæ¯ï¼Œéƒ½æ— éœ€å†æ‰§è¡Œæ•°æ®åº“çš„å†™è¯·æ±‚ã€‚ </p><h2 id="äº§å“æ‰‹æ®µ"><a href="#äº§å“æ‰‹æ®µ" class="headerlink" title="äº§å“æ‰‹æ®µ"></a>äº§å“æ‰‹æ®µ</h2><p>é™¤äº†ä¸Šè¿°çš„æŠ€æœ¯æ‰‹æ®µä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨äº§å“è®¾è®¡æ–¹é¢å‡å°‘å†™è¯·æ±‚ã€‚ </p><p>æˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä½¿ä¸‹å•æŒ‰é’®ç½®ç°ï¼Œé˜²æ­¢é‡å¤ç‚¹å‡»ã€‚ </p><p>æˆ‘ä»¬è¿˜å¯ä»¥é¡µé¢æ˜¯ä¸æ˜¾ç¤ºåº“å­˜å…·ä½“æ•°é‡ï¼Œåªæ˜¾ç¤ºåº“å­˜çš„æ˜¯å¦è¿˜æœ‰ï¼Œé™ä½ç¼“å­˜çš„æ·˜æ±°ç‡ã€‚ </p><p>æˆ‘ä»¬è¿˜å¯ä»¥å°†ä¸‹å•ä¸æ”¯ä»˜æµç¨‹åˆ†ç¦»ï¼Œä¸‹å•æˆåŠŸåï¼Œæ‰èƒ½å»æ”¯ä»˜ã€‚è¿™æ—¶æ”¯ä»˜ç³»ç»Ÿçš„å‹åŠ›å°±å¾ˆå°å¾ˆå¤šã€‚ </p><h3 id="ç›¸å…³é—®é¢˜"><a href="#ç›¸å…³é—®é¢˜" class="headerlink" title="ç›¸å…³é—®é¢˜"></a>ç›¸å…³é—®é¢˜</h3><h4 id="ç«™ç‚¹å±‚æœåŠ¡å‹åŠ›å¾ˆå¤§çš„å¤„ç†æ–¹æ¡ˆ"><a href="#ç«™ç‚¹å±‚æœåŠ¡å‹åŠ›å¾ˆå¤§çš„å¤„ç†æ–¹æ¡ˆ" class="headerlink" title="ç«™ç‚¹å±‚æœåŠ¡å‹åŠ›å¾ˆå¤§çš„å¤„ç†æ–¹æ¡ˆ"></a>ç«™ç‚¹å±‚æœåŠ¡å‹åŠ›å¾ˆå¤§çš„å¤„ç†æ–¹æ¡ˆ</h4><p>åœ¨æˆ‘ä»¬ä¸Šé¢çš„æ–¹æ¡ˆä¸­ï¼Œç«™ç‚¹æ¥å…¥å±‚éœ€è¦è®¡æ•°è¿‡æ»¤ï¼Œå‹åŠ›å¯èƒ½ä¼šå¾ˆå¤§ã€‚ç”±äºç«™ç‚¹æ¥å…¥å±‚ä¸€èˆ¬éƒ½æ˜¯æ— çŠ¶æ€åº”ç”¨ï¼Œå¯ä»¥æ°´å¹³æ‰©å±•ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€‚å½“å¢åŠ æœºå™¨ï¼Œå¢åŠ å¤„ç†èƒ½åŠ›ã€‚ </p><p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è®¾ç½®ä¸€å®šé˜ˆå€¼ï¼Œç­‰è¯·æ±‚åˆ°è¾¾é˜ˆå€¼ä¹‹åï¼ŒæœåŠ¡é™çº§ï¼ŒæŠ›å¼ƒåç»­è¯·æ±‚ã€‚ </p><h4 id="è®¡æ•°é—®é¢˜"><a href="#è®¡æ•°é—®é¢˜" class="headerlink" title="è®¡æ•°é—®é¢˜"></a>è®¡æ•°é—®é¢˜</h4><p>è®¡æ•°æˆ‘ä»¬å¯ä»¥å­˜å‚¨åœ¨ Redis ä¸­ï¼Œå¦‚æœ Redis æ€§èƒ½ä¸å¤Ÿï¼Œæˆ‘ä»¬å¯ä»¥æ°´å¹³æ‰©å±•ï¼Œä½¿ç”¨ç±»ä¼¼ Redis Cluster æ–¹æ¡ˆã€‚  </p><p>Redis ååé‡å¾ˆå¤§ï¼Œå¦‚æœå®³æ€•ç½‘ç»œå¸¦å®½æˆä¸ºç“¶é¢ˆï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸ä½¿ç”¨ Redis ï¼Œç›´æ¥åœ¨å†…å­˜ä¸­è®¡æ•°ï¼Œä¸è¿‡è¿™ç§æ–¹æ¡ˆå°±éœ€è¦è€ƒè™‘æ•°æ®ä¸€è‡´æ€§ã€‚ </p><p>å¦‚æœä½¿ç”¨å†…å­˜è®¡æ•°ï¼ŒåŒä¸€ç”¨æˆ·çš„è¯·æ±‚å°±å¿…é¡»è½åœ¨åŒä¸€å°æœºå™¨ä¸Šã€‚è¿™é‡Œçš„å¤„ç†çš„æ–¹æ¡ˆæˆ‘ä»¬å¯ä»¥åœ¨ Nginx å±‚ä½¿ç”¨ ç”¨æˆ· ID åˆ‡åˆ†ï¼Œç„¶ååœ¨åˆ†å‘åˆ°çš„ç«™ç‚¹æ¥å…¥å±‚ã€‚ </p><p>å¦å¤–ä½¿ç”¨å†…å­˜è®¡æ•°ï¼Œæˆ‘ä»¬é™ä½æ•°æ®çš„ä¸€è‡´æ€§ä¸å‡†ç¡®æ€§ï¼Œå…è®¸å› ä¸šåŠ¡é‡å¯ï¼Œå¯¼è‡´å†…å­˜çš„ä¸¢å¤±çš„æƒ…å†µã€‚ </p><h4 id="é˜Ÿåˆ—å¼‚æ­¥å¤„ç†ï¼Œæµè§ˆå™¨-APPå¤„ç†æ–¹å¼"><a href="#é˜Ÿåˆ—å¼‚æ­¥å¤„ç†ï¼Œæµè§ˆå™¨-APPå¤„ç†æ–¹å¼" class="headerlink" title="é˜Ÿåˆ—å¼‚æ­¥å¤„ç†ï¼Œæµè§ˆå™¨/APPå¤„ç†æ–¹å¼"></a>é˜Ÿåˆ—å¼‚æ­¥å¤„ç†ï¼Œæµè§ˆå™¨/APPå¤„ç†æ–¹å¼</h4><p>1.åœ¨è¯·æ±‚å‘é€åˆ°é˜Ÿåˆ—ä¸­æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æå‰é¢„åˆ†é…ä¸€ä¸ªè®¢å•å·ï¼Œæ¶ˆæ¯å‘é€æˆåŠŸï¼Œå°†è®¢å•å·è¿”å›ç»™é¡µé¢ </p><p>2.æµè§ˆå™¨/APP æ‹¿åˆ°è®¢å•å·è¿”å›ä¹‹åï¼Œè·³è½¬åˆ°ä¸­é—´ä¹Ÿï¼Œç„¶åå®šæ—¶è½®è¯¢ã€‚é¡µé¢æˆ‘ä»¬å¯ä»¥æç¤ºç”¨æˆ·ï¼Œè®¢å•æ­£åœ¨æ’é˜Ÿä¸­ï¼Œè‹¥åˆ·æ–°å°†ä¼šå†æ¬¡è¿›å…¥æ’é˜Ÿï¼Œé˜²æ­¢ç”¨æˆ·å†æ¬¡åˆ·æ–°ä¸‹å•ã€‚  </p><h2 id="çƒ­ç‚¹éš”ç¦»"><a href="#çƒ­ç‚¹éš”ç¦»" class="headerlink" title="çƒ­ç‚¹éš”ç¦»"></a>çƒ­ç‚¹éš”ç¦»</h2><p>ç§’æ€ç³»ç»Ÿè®¾è®¡çš„ç¬¬ä¸€ä¸ªåŸåˆ™å°±æ˜¯å°†è¿™ç§çƒ­ç‚¹æ•°æ®éš”ç¦»å‡ºæ¥ï¼Œä¸è¦è®©1%çš„è¯·æ±‚å½±å“åˆ°å¦å¤–çš„99%ï¼Œéš”ç¦»å‡ºæ¥åä¹Ÿæ›´æ–¹ä¾¿å¯¹è¿™1%çš„è¯·æ±‚åšé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚é’ˆå¯¹ç§’æ€æˆ‘ä»¬åšäº†å¤šä¸ªå±‚æ¬¡çš„éš”ç¦»ï¼š</p><h3 id="ä¸šåŠ¡éš”ç¦»"><a href="#ä¸šåŠ¡éš”ç¦»" class="headerlink" title="ä¸šåŠ¡éš”ç¦»"></a>ä¸šåŠ¡éš”ç¦»</h3><p>æŠŠç§’æ€åšæˆä¸€ç§è¥é”€æ´»åŠ¨ï¼Œå–å®¶è¦å‚åŠ ç§’æ€è¿™ç§è¥é”€æ´»åŠ¨éœ€è¦å•ç‹¬æŠ¥åï¼Œä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œå–å®¶æŠ¥ååå¯¹æˆ‘ä»¬æ¥è¯´å°±æ˜¯å·²çŸ¥çƒ­ç‚¹ï¼Œå½“çœŸæ­£å¼€å§‹æ—¶æˆ‘ä»¬å¯ä»¥æå‰åšå¥½é¢„çƒ­ã€‚å…¶å®è¿™ç§æ–¹æ³•æ¯”è¾ƒæ¶å¿ƒï¼Œä¹Ÿæ˜¯ç°åœ¨æŸå®ï¼ŒæŸä¸œç»å¸¸åšçš„ï¼Œè€Œä¸”è¿˜æœ‰é‚£ç§æ¸¸æˆé‡Œé¢åšçš„ä¹Ÿæ˜¯è¿™ç§å½¢å¼ã€‚</p><h3 id="ç³»ç»Ÿéš”ç¦»"><a href="#ç³»ç»Ÿéš”ç¦»" class="headerlink" title="ç³»ç»Ÿéš”ç¦»"></a>ç³»ç»Ÿéš”ç¦»</h3><p>ç³»ç»Ÿéš”ç¦»æ›´å¤šæ˜¯è¿è¡Œæ—¶çš„éš”ç¦»ï¼Œå¯ä»¥é€šè¿‡åˆ†ç»„éƒ¨ç½²çš„æ–¹å¼å’Œå¦å¤–99%åˆ†å¼€ã€‚ç§’æ€è¿˜ç”³è¯·äº†å•ç‹¬çš„åŸŸåï¼Œç›®çš„ä¹Ÿæ˜¯è®©è¯·æ±‚è½åˆ°ä¸åŒçš„é›†ç¾¤ä¸­ã€‚ æ•°æ®éš”ç¦»ã€‚ç§’æ€æ‰€è°ƒç”¨çš„æ•°æ®å¤§éƒ¨åˆ†éƒ½æ˜¯çƒ­æ•°æ®ï¼Œæ¯”å¦‚ä¼šå¯ç”¨å•ç‹¬cacheé›†ç¾¤æˆ–MySQLæ•°æ®åº“æ¥æ”¾çƒ­ç‚¹æ•°æ®ï¼Œç›®å‰ä¹Ÿæ˜¯ä¸æƒ³0.01%çš„æ•°æ®å½±å“å¦å¤–99.99%ã€‚</p><h2 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h2><p>å¤§å®¶çœ‹ä¸€ä¸‹å›¾ä¸€<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210429092153.png"><br>è¿™æ˜¯æŠŠæ•´ä¸ªé¡µé¢Cacheåœ¨ç”¨æˆ·æµè§ˆå™¨ï¼Œè¿™æ ·æŠŠ90%çš„é™æ€æ•°æ®ç¼“å­˜åœ¨ç”¨æˆ·ç«¯æˆ–è€…CDNä¸Šï¼Œå½“çœŸæ­£ç§’æ€æ—¶ç”¨æˆ·åªéœ€è¦ç‚¹å‡»ç‰¹æ®Šçš„æŒ‰é’®â€œåˆ·æ–°æŠ¢å®â€å³å¯ï¼Œè€Œä¸éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œè¿™æ ·åªå‘æœåŠ¡ç«¯è¯·æ±‚å¾ˆå°‘çš„æœ‰æ•ˆæ•°æ®ï¼Œè€Œä¸éœ€è¦é‡å¤è¯·æ±‚å¤§é‡é™æ€æ•°æ®ã€‚ç§’æ€çš„åŠ¨æ€æ•°æ®å’Œæ™®é€šçš„è¯¦æƒ…é¡µé¢çš„åŠ¨æ€æ•°æ®ç›¸æ¯”æ›´å°‘ï¼Œæ€§èƒ½ä¹Ÿæ¯”æ™®é€šçš„è¯¦æƒ…æå‡3å€ä»¥ä¸Šã€‚æ‰€ä»¥â€œåˆ·æ–°æŠ¢å®â€è¿™ç§è®¾è®¡æ€è·¯å¾ˆå¥½åœ°è§£å†³äº†ä¸åˆ·æ–°é¡µé¢å°±èƒ½è¯·æ±‚åˆ°æœåŠ¡ç«¯æœ€æ–°çš„åŠ¨æ€æ•°æ®ã€‚ </p><p>å…¶å®è¿™ç§æˆ‘å‘ç°ä¹Ÿæ˜¯ç”¨äºè§£å†³é«˜å¹¶å‘çš„ä¸€ç§æ‰‹æ®µï¼Œåƒå¦‚æœè¦æ˜¯å¾ˆå¤šåŸ¹è®­å‡ºæ¥çš„åŒå­¦çš„è¯ï¼Œæœ‰åšç”µå•†é¡¹ç›®çš„å¯èƒ½ä¼šç”¨åˆ°çš„ï¼Œå¸Œæœ›èƒ½ç»™å¤§å®¶æœ‰ä¸€äº›å¥½çš„å¯å‘ï¼Œå¦‚æœèƒ½å”¬ä½é¢è¯•å®˜çš„è¯ï¼Œé‚£è‚¯å®šèƒ½è·å–ä¸€ä»½ä¸é”™çš„offer</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§’æ€ä¸šåŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€›ä¸€é€›å¤§å”èŠ™è“‰å›­</title>
      <link href="2021/04/26/2021-04-26-lotus-palace-of-tang-dynasty/"/>
      <url>2021/04/26/2021-04-26-lotus-palace-of-tang-dynasty/</url>
      
        <content type="html"><![CDATA[<p>3æœˆåº•åˆšå¥½é²œèŠ±ç››å¼€ä¹‹é™…ï¼Œå»é€›äº†ä¸‹å¤§å”èŠ™è“‰å›­</p><p>æ¥è¥¿å®‰æœ‰ä¸¤å¹´åŠæœ‰ä½™ï¼Œè¿˜æ˜¯ç¬¬ä¸€æ¬¡æ¥å¤§å”èŠ™è“‰å›­ï¼Œå®åœ¨æƒ­æ„§å•Š</p><p>å…³é”®æ˜¯é‚£æ—¶å€™é—¨ç¥¨1ç™¾å¤šï¼Œè¿™æ—¶å€™é—¨ç¥¨50ï¼Œå°±ä¸è¯·è‡ªæ¥äº†ğŸ˜‚</p><p>è¾¾åˆ°å¤§å”èŠ™è“‰å›­åœ°é“ç«™å°±å¾ˆæœ‰ç‰¹è‰²äº†ï¼Œå£ç”»æ˜ å…¥çœ¼å¸˜</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426081522.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426081540.jpg"></p>          </div><p>åœ¨å¤§å”èŠ™è“‰å›­é—¨å£ï¼Œæœ‰è§†é¢‘åšä¸»åœ¨æ‹ä»‹ç»è¥¿å®‰å¤§å”èŠ™è“‰å›­çš„è§†é¢‘</p><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right: auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426101600.png">      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202103/819ee081ce324e6360c218071c46baf6.mp4" type="video/mp4"></video><p>åœ¨é—¨å£ä¹°ä¸¤å¼ ç¥¨ï¼Œå¤–åœ°äºº50ï¼Œæœ¬åœ°äººå’Œå­¦ç”ŸåŠä»·25ğŸ˜…</p><p>é—¨å£çš„å»ºç­‘ä¸Šé¢å†™ç€å¤§å”èŠ™è“‰å›­ï¼Œä¸‹æ–¹æ˜¯å¾¡è‹‘é—¨</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426091718.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426091724.jpg"></p>          </div><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426102223.jpg"></p><p>è¿›å…¥å¤§é—¨æ˜¯ä¸€ä¸ªè¶…å¤§åˆ»ç« å†™çš„ï¼šå¤§å”èŠ™è“‰å›­çš„å­—æ ·<br>å‰æ–¹æ˜¯ä¸€åº§ç”±é¾™å‡¤ç¼ ç»•çš„æ¡¥ï¼Œåœ¨æ™šä¸Šç¯å…‰éƒ½æ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œè‚¯å®šä¼šç»šä¸½å¤ºç›®</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426091743.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426091749.jpg"></p>          </div><p>åœ¨è·¯è¾¹å¯ä»¥çœ‹åˆ°ï¼šå¤§å”èŠ™è“‰å›­å…¨æ™¯æ¸¸è§ˆå›¾<br>æˆ‘ä»¬æ˜¯ä»å¤§é—¨è¿›å…¥ï¼Œé€†æ—¶é’ˆæ–¹å‘èµ°ç»•äº†ä¸€åœˆï¼Œæœ€åå›æ¥åˆ°ä¸­é—´çš„ç´«äº‘æ¥¼<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426091648.jpg" alt="å¤§å”èŠ™è“‰å›­å…¨æ™¯æ¸¸è§ˆå›¾"></p><p>ç„¶åå°±æ˜¯æ•£æ•£æ­¥çœ‹çœ‹èŠ±èŠ±è‰è‰ï¼Œå«©ç»¿çš„å°è‰éƒ½é•¿äº†å‡ºæ¥</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426092807.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095102.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095112.jpg"></p>          </div><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095108.jpg"></p><p>èµ¤èµ°é‡‘é¾™</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426092816.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426092820.jpg"></p>          </div><p>åœ¨æ‹è§’å¤„æœ‰å°æºªæµ<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095056.jpg"></p><p>æ‹è¿‡å»æ˜¯ä¸ªå•†é“ºåŒºï¼Œåˆšå¥½åƒäº†ç‚¹å°åƒ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095117.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095122.jpg"></p><p>åœ¨æ›²æ±Ÿèƒ¡åº—è¿˜å¯ä»¥è§‚çœ‹ä¹æ›²<br><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right:auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426113124.png"><br>      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202103/2a7072f647e6ebe2c274fe8b97c335bc.mp4" type="video/mp4"><br></video></p><video id="video" controls="" preload="none" style="max-width: 100%; display: block; margin-left: auto; margin-right:auto;" poster="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426113141.png">      <source id="mp4" src="https://images.niaobulashi.com/hexo/niaobulashi/202103/22e0e8b6dbfb59b5a77e924d8e37a1c3.mp4" type="video/mp4"></video><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095147.jpg"></p><p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯é…éŸ³ï¼Œå‡‘è¿‘äº†çœ‹æ˜¯çœŸå®çš„ç”¨ä¹å™¨åœ¨æ¼”å¥ğŸ‘</p><p>åœ¨å½©éœäº­ï¼Œé£æ™¯ä¼˜ç¾ï¼Œååœ¨é•¿äº­çš„æ¿å‡³ä¸Šï¼Œæ¬£èµé£æ™¯ï¼Œä¼‘æ¯ä¼‘æ¯</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095207.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095212.jpg"></p>          </div><p>ç»è¿‡ç¯æ¹–çš„é•¿å»Š<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095202.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095216.jpg"></p><p>ç»•äº†ä¸€åœˆåï¼Œæœ€åè¿›å…¥ç´«äº‘è·¯åŒºåŸŸ</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095221.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095236.jpg"></p>          </div><p>åœ¨ç´«äº‘è·¯å†…éƒ¨</p><div class="justified-gallery"><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095228.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095232.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095240.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202103/20210426095244.jpg"></p>          </div><p>å·®ä¸å¤šä¸‹åˆ4ç‚¹å¤šå›å»äº†ã€‚æ¥çš„æ—¶é—´æ²¡æœ‰å®‰æ’å¥½ï¼Œæœ€å¥½æ˜¯ä¸‹åˆ4ç‚¹æˆ–è€…5ç‚¹æ¥æœ€å¥½</p><p>å› ä¸ºåˆ°äº†æ™šä¸Šï¼Œå¾ˆå¤šéƒ½ä¼šäº®ç¯ï¼Œå„ç§å»ºç­‘éƒ½ä¼šæœ‰ç¯å…‰å±•ç¤ºï¼Œç»å¯¹å¥½çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘å›½é€‚é¾„å„¿ç«¥å¯å…è´¹æ¥ç§15ç§ç–«è‹—</title>
      <link href="2021/04/25/2021-04-25-child-yimiao/"/>
      <url>2021/04/25/2021-04-25-child-yimiao/</url>
      
        <content type="html"><![CDATA[<p>è¿‘æ—¥ï¼Œå›½å®¶å«å¥å§”å…¬å¸ƒã€Šå›½å®¶å…ç–«è§„åˆ’ç–«è‹—å„¿ç«¥å…ç–«ç¨‹åºåŠè¯´æ˜ã€‹ï¼Œåˆ—å‡ºäº†éƒ¨åˆ†ç–«è‹—å‰‚æ¬¡çš„æ¥ç§èµ·å§‹å¹´é¾„ã€‚ä»Šå¤©ï¼Œå…¨å›½å„¿ç«¥é¢„é˜²æ¥ç§æ—¥ã€‚ä¸€å›¾çœ‹æ‡‚å„¿ç«¥æ¥ç§ç–«è‹—æ—¶é—´â†“</p><p>ä¼šç”¨åˆ°çš„ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210425111946.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€è¿‘æœ‰ç‚¹æ²‰è¿·switchæ¸¸æˆ</title>
      <link href="2021/04/23/2021-04-23-zui-jin-cheng-mi-you-xi/"/>
      <url>2021/04/23/2021-04-23-zui-jin-cheng-mi-you-xi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸»è¦æ˜¯æœ€è¿‘è¿™å‡ ä¸ªæœˆéƒ½ä¸å¤ªå¿™ï¼ŒåŸºæœ¬ä¸Šä¸æ€ä¹ˆåŠ ç­ï¼Œæˆ‘å°±å–œæ¬¢è¿™æ ·çš„å·¥ä½œèŠ‚å¥ã€‚</p></blockquote><p>å› ä¸ºä¸åŠ ç­ï¼Œé‚£å°±å¾—æ‰¾ç‚¹äº‹æƒ…æ¥åšï¼Œç©ç©æ¸¸æˆå•¥çš„</p><p>è¯´åˆ°æ¸¸æˆï¼Œé‚£æˆ‘å°±æ¥åŠ²äº†<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/9YWMv.gif" alt="hh"></p><h2 id="å°æ—¶å€™"><a href="#å°æ—¶å€™" class="headerlink" title="å°æ—¶å€™"></a>å°æ—¶å€™</h2><p>å°æ—¶å€™æˆ‘å“¥å¸¦ç€æˆ‘ç©è¿‡ä¸å°‘æ¸¸æˆ</p><p>é‚£æ—¶å€™éƒ½æ˜¯å°éœ¸ç‹å­¦ä¹ æœºï¼Œå’Œçˆ¶æ¯è¯´æå­¦ä¹ ç”¨çš„ï¼Œå…¶å®æ˜¯ä¹°å›æ¥ç©æ¸¸æˆçš„</p><p>å¡å¸¦éƒ½æ˜¯é‚£ç§å¤šå°‘åˆä¸€çš„ï¼Œæˆ‘å“¥ä¹°äº†å¥½å¤šæ¸¸æˆå¡å¸¦ï¼Œè¶…çº§å¤šï¼Œå¯æƒœç°åœ¨éƒ½æ‰¾ä¸åˆ°äº†</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/xiaobawang.webp" alt="å°éœ¸ç‹æ¸¸æˆæœº"></p><p>é‚£ä¸ªæ—¶å€™æˆ‘åªçŸ¥é“å°éœ¸ç‹ï¼Œä¸çŸ¥é“ä»€ä¹ˆçº¢ç™½æœº</p><p>æ‘é‡Œçš„å„¿æ—¶ç©ä¼´ä¹Ÿä¼šæ¥æˆ‘å®¶ä¸€èµ·ç©æ¸¸æˆ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423160513.jpg" alt="ä¸€èµ·ç©æ¸¸æˆ"></p><p>æˆ‘ä¹Ÿä¼šå»ä»–ä»¬å®¶ï¼Œç©ä¸åŒçš„æ¸¸æˆå¡å¸¦ï¼Œä¹Ÿç»å¸¸äº¤æ¢ç€å¡å¸¦ç©å“ˆå“ˆå“ˆå“ˆå“ˆ</p><h2 id="é•¿å¤§äº†"><a href="#é•¿å¤§äº†" class="headerlink" title="é•¿å¤§äº†"></a>é•¿å¤§äº†</h2><p>å› ä¸ºå°æ—¶å€™æœ‰è¿™äº›ç»å†ï¼Œé•¿å¤§äº†å·¥ä½œåï¼Œä¼šæ¯”è¾ƒå€¾å‘æ¥è§¦æ¸¸æˆè¿™å—</p><p>æ²¡æœ‰æˆ‘ç”µè„‘PCä¸Šçš„steamæ¸¸æˆäº†ï¼Œä¸»è¦æ˜¯å·¥ä½œéœ€è¦ï¼Œå¾—ç”¨ç¬”è®°æœ¬ï¼Œå°±ä¸€ç›´æ”¾åœ¨åŠå…¬ä½ä¸Š</p><p>ä¹‹å‰ç©steamæ¸¸æˆå‘¨æœ«éƒ½ä¼šèƒŒç€ç¬”è®°æœ¬å›æ¥ï¼Œç°åœ¨æˆ‘æ€•ä¸Šä¸‹ç­æ¥å›è·¯ä¸ŠèƒŒä¹…äº†æŠŠç¬”è®°æœ¬èƒŒåäº†</p><p>å¥½å®¶ä¼™é‚£å¯æ˜¯åƒé¥­çš„å®¶ä¼™ï¼Œå¯ä¸æ•¢æŠ˜è…¾ç”µè„‘ã€‚</p><p>æ‰€å¹¸ä¹‹å‰ä¹°çš„switchä¸€ç›´åœ¨åƒç°ï¼Œç°åœ¨ç»ˆäºå¯ä»¥æ‹¿å‡ºæ¥ç”¨äº†</p><p>æ‰‹é‡Œç›®å‰æœ‰switchã€3dså’Œä¸€ä¸ªå¼€æºæŒæœº<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423144710.jpg" alt="æ¸¸æˆæœº"></p><p>ä¸€å…±æœ‰11ä¸ªæ¸¸æˆå¡å¸¦</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423144723.jpg" alt="switchæ¸¸æˆå¡å¸¦"></p><p>å…¶ä»–éƒ¨åˆ†å°±æ˜¯æ•°å­—ç‰ˆçš„æ¸¸æˆ<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423_01.jpg" alt="æ¸¸æˆ1"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423_02.jpg" alt="æ¸¸æˆ2"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423_03.jpg" alt="æ¸¸æˆ3"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423_04.jpg" alt="æ¸¸æˆ4"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423_05.jpg" alt="æ¸¸æˆ5"></p><p>å¥½å®¶ä¼™ï¼Œæ¸¸æˆè¿™ä¹ˆå¤šï¼Œç©çš„è¿‡æ¥å—ï¼ŸğŸ˜</p><p>ç©ä¸è¿‡æ¥æ˜¯çœŸçš„ï¼Œå¯ä»¥ä¸ç©ä½†ä¸èƒ½æ²¡æœ‰ğŸ˜‚</p><p>ä¸æŠ½çƒŸä¸å–é…’çš„æˆ‘ï¼Œå°±æ˜¯å–œæ¬¢ç©ç‚¹æ¸¸æˆ</p><p>è¿˜æ˜¯ä¸èƒ½å¤ªæ²‰è¿·äº†ï¼Œå¶å°”ç©ç©æ²¡äº‹ï¼Œå¯ä¸èƒ½ä¸Šç˜¾äº†</p><p>å¾—å›å½’ä¸€ä¸‹æ­£å¸¸çš„ç”Ÿæ´»</p><h2 id="å›åˆ°è¿‡å»"><a href="#å›åˆ°è¿‡å»" class="headerlink" title="å›åˆ°è¿‡å»"></a>å›åˆ°è¿‡å»</h2><p>å°æ—¶å€™é‚£æ—¶é™¤äº†ä½œä¸šçš„çƒ¦æ¼ï¼ŒçœŸçš„å¯ä»¥æ— å¿§æ— è™‘</p><p>å¤å¤©å»å°æºªæµæŠ“é±¼ï¼Œå†¬å¤©ä¸€èµ·æ‰“é›ªä»—å †é›ªäºº</p><p>ç©å››é©±è½¦ï¼Œå»æ¸¸æ³³ï¼Œä¸¢çŸ³å­ï¼Œæ‰“éº»å°†ï¼Œè¿‡æ²³ï¼ˆåœ°ä¸Šåˆ’çº¿ï¼‰ã€è¿‡å®¶å®¶ã€æ¢é™©ã€é›å¼¯ã€è¸¢è¶³çƒã€æ‰“ç¯®çƒç­‰ç­‰ç­‰ç­‰</p><p>å¥½å¤šå¥½å¤šï¼Œç«¥å¹´çš„ç¾å¥½æ—¶å…‰ï¼Œéƒ½å†å†åœ¨ç›®</p><p>å“­è¿‡ä¹Ÿç¬‘è¿‡</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è€å®¶é€šåŸ</title>
      <link href="2021/04/23/2021-04-23-lao-jia-tong-cheng/"/>
      <url>2021/04/23/2021-04-23-lao-jia-tong-cheng/</url>
      
        <content type="html"><![CDATA[<blockquote><p>çºªå¿µä¸€ä¸‹è€å®¶é€šåŸï¼ŒåœŸç”ŸåœŸé•¿çš„åœ°æ–¹</p></blockquote><p>è€å®¶é€šåŸä¸Šä¸ªä¸–çºªçš„é‚£äº›è€æˆ¿å­</p><p>éƒ½åœ¨å²æœˆæ–‘é©³é‡Œè¢«æ‹†äº†</p><p>é‚£äº›ç†Ÿæ‚‰çš„è¡—é“éƒ½å˜äº†æ¨¡æ ·</p><p>æœ‰äº›ä¸œè¥¿åœ¨æ—¶ä»£æ›´è¿­é‡Œå¼„ä¸¢äº†</p><p>æœ‰äº›äº‹æƒ…åœ¨å…œå…œè½¬è½¬ç»™å¿˜äº†</p><p>é€šåŸï¼Œå°±åœ¨è¿™ä¸çŸ¥ä¸è§‰ä¸­æ…¢æ…¢â€œæ¶ˆå¤±â€äº†</p><p>æˆ‘ä»¬å®¶ä¹Ÿå¿«è¦æ‹†äº†</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423094521.jpg" alt="å®¶çš„é™¢å­1"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423094542.jpg" alt="å®¶çš„é™¢å­2"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210423094547.jpg" alt="å®¶çš„é™¢å­3"></p><h2 id="æ¶ˆå¤±çš„ç”Ÿæ´»"><a href="#æ¶ˆå¤±çš„ç”Ÿæ´»" class="headerlink" title="æ¶ˆå¤±çš„ç”Ÿæ´»"></a><strong>æ¶ˆå¤±çš„ç”Ÿæ´»</strong></h2><p>é‚£æ—¶å€™é‚»é‡Œé—´å¤„å¾—å°±è·Ÿä¸€å®¶äººä¼¼çš„</p><p>æœ‰äº‹å¤§å®¶å¸®å¿™ä¸è¦å·¥é’±</p><p>è¿˜é›†ä½“å‡ºå·¥</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/5_640.jpg" alt="æ’ç§§"></p><p>åœ¨ç”˜è–¯åœ°é‡Œè¿½è‚¥çš„è€ç…§ç‰‡</p><p>é‚£æ—¶å€™ä¸€å®¶äººæ™šé¥­å</p><p>åœ¨æˆ¿å‰çœ‹æ˜Ÿæ˜Ÿä¹˜å‡‰ï¼Œå­©å­ä»¬å¬‰é—¹ç©è€</p><p>æ²¡æœ‰æ‰‹æœºï¼Œæ²¡æœ‰ç”µè„‘</p><p>äº¤æµå¾ˆå¤šï¼Œæ„Ÿæƒ…å¾ˆæµ“</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/6_640.jpg" alt="ä¸€å®¶äººçš„æ™šé¥­å"></p><p>é‚£æ—¶å€™ï¼Œæˆ‘ä»¬æ²¡å¿ƒæ²¡è‚º</p><p>æ— å¿§æ— è™‘ï¼Œæ— æ‹˜æ— æŸ</p><h2 id="è€è¡Œå½“"><a href="#è€è¡Œå½“" class="headerlink" title="è€è¡Œå½“"></a><strong>è€è¡Œå½“</strong></h2><h3 id="1ã€å¼¹æ£‰èŠ±"><a href="#1ã€å¼¹æ£‰èŠ±" class="headerlink" title="1ã€å¼¹æ£‰èŠ±"></a>1ã€å¼¹æ£‰èŠ±</h3><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/7_640.jpg" alt="å¼¹æ£‰èŠ±"></p><p><strong>ä¸€å¼ å¼¹å¼“</strong></p><p><strong>ä¸€å¼ ç£¨ç›˜</strong></p><p><strong>ä¸€ä¸ªå¼¹èŠ±é”¤</strong></p><p><strong>ä¸€æ¡ç‰µçº±ç¯¾</strong></p><p>å°±æ˜¯â€œå¼¹æ£‰éƒâ€æœ€åˆè°‹ç”Ÿçš„å…¨éƒ¨è¡Œå½“</p><p>æ—§æ—¶ä»£ï¼Œé€šåŸäººç»“å©šéƒ½å¿…é¡»è¦</p><p>è¯·äººæ‰“æ£‰çµ®</p><p>æ–°æ‰“å‡ºæ¥çš„æ£‰çµ®</p><p>äººä»¬ä¼šç”¨çº¢æ¯›çº¿åœ¨ä¸Šé¢å†™ä¸Šå¹´ä»½</p><p>è½¬çœ¼é—´</p><p>â€œå¼¹æ£‰èŠ±â€è¿™é—¨è€è¡Œå½“æ¸æ¸æ·¡å‡ºäº†äººä»¬çš„ç”Ÿæ´»</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/8_640.jpg" alt="å¼¹æ£‰èŠ±2"></p><h3 id="2ã€åšè‰é‹"><a href="#2ã€åšè‰é‹" class="headerlink" title="2ã€åšè‰é‹"></a>2ã€åšè‰é‹</h3><p>è‰é‹æ˜¯ä¸­å›½å¤äººå‘æ˜çš„ä¸€ç§é‹</p><p>ä¸‹åœ°å¹²æ´»ã€ä¸Šå±±ç æŸ´</p><p>ä¼æœ¨ã€é‡‡è¯ã€ç‹©çŒ</p><p>ä¸åˆ†æ™´é›¨</p><p>æ°¸è¿œæ˜¯ä¸€åŒè‰é‹ç©¿åœ¨è„šä¸Š</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/9_640.jpg" alt="ç¼–è‰å¸­"></p><p>éšç€å†å²çš„å‘å±•</p><p>å½¢æˆäº†<strong>â€œè‰é‹æ–‡åŒ–â€</strong></p><p>è¡¨ç°åŠ³åŠ¨äººæ°‘<strong>å‹¤åŠ³ã€æ™ºæ…§ã€å‹‡æ°”å’Œå¥‹æ–—</strong></p><h3 id="3ã€æ‰“é“åŒ "><a href="#3ã€æ‰“é“åŒ " class="headerlink" title="3ã€æ‰“é“åŒ "></a>3ã€æ‰“é“åŒ </h3><p>æ‰“é“é“ºé‡Œ</p><p>é“ç §ä¸Šæº…å‡ºç‚½çƒ­çš„ç«å…‰</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/10_640.jpg" alt="æ‰“é“åŒ "></p><p>å¼ æ‰“é“ã€ææ‰“é“</p><p>æ‰“é“å¸ˆå‚…ä»¬</p><p>ä½ ä¸€ä¸‹ï¼Œæˆ‘ä¸€ä¸‹</p><p>å‘å‡ºâ€œå®å®å®â€çš„å£°éŸ³</p><p>çƒ­ç«æœå¤©â€¦</p><p>é€šåŸäººç”¨çš„é”„å¤´ã€èœåˆ€</p><p>æ–§å¤´ã€ç æŸ´åˆ€â€¦</p><p>éƒ½æ¥è‡ªæ‰“é“é“º</p><h3 id="4ã€å–è´§éƒ"><a href="#4ã€å–è´§éƒ" class="headerlink" title="4ã€å–è´§éƒ"></a>4ã€å–è´§éƒ</h3><p>è®°å¿†ä¸­ï¼Œå–è´§éƒæ¨ç€è½¦</p><p>æ‘‡ç€æ‹¨æµªé¼“</p><p>ä»å¤§è¡—å°å··èµ°è¿‡</p><p>èº«è¾¹æ€»æ˜¯å›´ç€ä¸€ç¾¤å°å­©å­</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/11_640.jpg" alt="å–è´§éƒ"></p><p>å–è´§éƒçš„è½¦å­æ˜¯ä¸ªç¥å¥‡çš„<strong>â€œç™¾è´§å¤©åœ°â€</strong></p><p>å„ç§å„æ ·çš„ä¸œè¥¿</p><p>åº”æœ‰å°½æœ‰</p><h3 id="5ã€è€æœ¨åŒ "><a href="#5ã€è€æœ¨åŒ " class="headerlink" title="5ã€è€æœ¨åŒ "></a>5ã€è€æœ¨åŒ </h3><p>è¯»ä¹¦æ—¶å€™ç”¨çš„ä¹¦æ¡Œã€ä¹¦æŸœ</p><p>éƒ½æ˜¯çˆ·çˆ·ä¸€æ‰‹æ‰“é€ çš„</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/12_640.jpg" alt="è€æœ¨åŒ "></p><p>åˆšæ‰“å¥½çš„æœ¨å·¥åˆ¶å“</p><p>æœ‰ç€ä¸€è‚¡æµ“æµ“çš„æœ¨å¤´çš„æ¸…é¦™å‘³~</p><p>ä¸ºäº†çºªå¿µ</p><p>ä¼šåœ¨ä¸Šé¢å†™ä¸Šå¹´ä»½å’Œåå­—</p><p>â€œæŸæŸæŸè®°ç”¨â€</p><h3 id="6ã€è€ç¯¾åŒ "><a href="#6ã€è€ç¯¾åŒ " class="headerlink" title="6ã€è€ç¯¾åŒ "></a>6ã€è€ç¯¾åŒ </h3><p>ç¯¾åŒ æ˜¯ä¸€é—¨å¤è€çš„èŒä¸š</p><p>é€šåŸåˆç››äº§æ¥ ç«¹</p><p>é€šåŸäººç”¨çš„ç¯®å­ã€ç°¸ç®•ã€ç®©ç­</p><p>éƒ½å‡ºè‡ªè¿™äº›è€ç¯¾åŒ ä¹‹æ‰‹</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/13_640.jpg" alt="è€ç¯¾åŒ "></p><p>å›¾æ¥æº@åˆ˜å»ºå¹³æ‘„å½±å¸ˆ</p><p>é€šåŸåŠ±å¿—ç›²äººè€ç¯¾åŒ å‘¨å››ç”«æ­£åœ¨ç¼–ç»‡ç¯®å­</p><h3 id="7ã€å‰ƒå¤´åŒ "><a href="#7ã€å‰ƒå¤´åŒ " class="headerlink" title="7ã€å‰ƒå¤´åŒ "></a>7ã€å‰ƒå¤´åŒ </h3><p>ä»¥å‰çš„å‰ƒå¤´é“º</p><p>å¾ˆç®€å•ä¹Ÿå¾ˆç¾å¥½</p><p>ä¸€ä¸ªå‰ƒå¤´å¸ˆå‚…</p><p>ä¸€é¢é•œå­</p><p>ä¸€å¼ æ¤…å­</p><p>ä¸€æŠŠå‰ƒå¤´åˆ€</p><p>å°±æ˜¯æ•´ä¸ªå‰ƒå¤´é“ºçš„ç»„æˆ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/14_640.jpg" alt="å‰ƒå¤´åŒ "></p><p>è€å¸ˆå‚…çš„æ‰‹è‰ºå¾ˆå¥½</p><p>ä¸€æ­¥ä¸€æ­¥ã€ä¸æ…Œä¸å¿™</p><p>ä¸å‡ºå‡ åˆ†é’Ÿä¿å‡†æ˜¯ä¸ªç„•ç„¶ä¸€æ–°çš„ä½ </p><p><strong>8ã€ä¿®é‹åŒ </strong></p><p>åœ¨è¿™ä¸ªäººäººéƒ½è¿½æ±‚æ½®æµçš„æ—¶ä»£</p><p>ä¿®é‹ï¼Œæ­£åœ¨å˜æˆä¸€ä¸ªé™Œç”Ÿçš„åŠ¨è¯</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/15_640.jpg" alt="ä¿®é‹åŒ "></p><p>å°å–‡å­é‡Œæ€»æ˜¯ä¼ æ¥ç†Ÿæ‚‰çš„å£°éŸ³</p><p><strong>â€œä¿®é‹ã€ä¿®é›¨ä¼ã€ä¸Šæ‹‰é“¾â€¦â€</strong></p><p>ä¿®é‹åŒ æ˜¯å¾ˆç¥å¥‡çš„å­˜åœ¨</p><p>é™¤äº†ä¿®é‹ï¼Œåœ¨ä»–ä»¬æ‰‹é‡Œ</p><p>åªè¦æ˜¯èƒ½ä¿®çš„ï¼Œéƒ½èƒ½ç»™ä½ ä¿®å¥½</p><p><strong>9ã€è¡¥é”…åŒ </strong></p><p>åœ¨è¿™ä¸ªäººäººéƒ½ç”¨ç”µé¥­ç…²çš„æ—¶ä»£</p><p>å¹´è½»çš„ä¸€ä»£å¾ˆå°‘çŸ¥é“</p><p>ä»¥å‰é€šåŸæœ‰è¡¥é”…åŒ è¿™ä¸€è¡Œå½“</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/16_640.jpg" alt="è¡¥é”…åŒ "></p><p>å„ç§ç ‚é”…é“é”…é”‘é”…</p><p>å¸ˆå‚…éƒ½èƒ½è¡¥</p><p>é™¤äº†ä¿®ä¸œè¥¿è¿˜è‡ªå¸¦ä¸€äº›å…¶ä»–æ‰‹è‰º</p><p>é€šå¸¸éƒ½ä¸éœ€è¦ç»™é’±</p><p>åªéœ€è¦ç»™ç‚¹ç±³å°±è¡Œäº†</p><h3 id="8ã€ç‚¸ç±³æ³¡"><a href="#8ã€ç‚¸ç±³æ³¡" class="headerlink" title="8ã€ç‚¸ç±³æ³¡"></a>8ã€ç‚¸ç±³æ³¡</h3><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/17_640.jpg" alt="å›¾ç‰‡"></p><p>æ›¾ç»åœ¨é€šåŸå¤§è¡—ä¸Šé‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„ç”»é¢</p><p>ç‹­é•¿çš„è¡—é“ä¸Šã€ç†Ÿæ‚‰çš„å«å–å£°</p><p>å¦‚ä»Šä½•åœ¨ï¼Ÿè¿˜è®°å¾—â€œç‚¸ç±³æ³¡â€çš„åœºæ™¯ï¼Ÿ</p><p>æ¶ˆå¤±çš„ä¸œè¥¿è¿˜æœ‰å¾ˆå¤šå¾ˆå¤š</p><p>çŸ­çŸ­ä¸€ç¯‡æ–‡ç« æ ¹æœ¬</p><p>è£…ä¸ä¸‹å¤§å®¶æ»¡æ»¡çš„å›å¿†</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/18_640.jpg" alt="é€šåŸé›å¡”"></p><p>å¦‚ä»Šæˆ‘ä»¬éƒ½å·²é•¿å¤§</p><p>é€šåŸä¹Ÿåœ¨é€æ¸å‘ç”Ÿå˜åŒ–</p><p>ä¸€åº§åŸå¸‚çš„å‘å±•</p><p>ä¹Ÿæ„å‘³ç€è®¸å¤šæ—¶ä»£çš„å°è®°</p><p>åœ¨ä¸æ–­åœ°æ¶ˆå¤±</p><p>æˆ–è®¸ï¼Œæœªæ¥è¿˜è¦è¿æ¥æ›´å¤šå‘Šåˆ«</p><p>ä½†è¿™ç§â€œæ¶ˆå¤±â€ï¼Œä¹Ÿæ„å‘³ç€ä¸€ç§æˆé•¿</p><p>åŸå¸‚çš„æˆé•¿å°‘ä¸äº†æ›´æ›¿è¿­ä»£</p><p>é‚£äº›â€œæ¶ˆå¤±â€çš„éƒ¨åˆ†</p><p>ç»ˆæœ‰ä¸€å¤©ï¼Œä¼šç”Ÿé•¿å‡ºæ–°çš„å¸Œæœ›ï¼</p><h2 id="æœªé€šç«è½¦"><a href="#æœªé€šç«è½¦" class="headerlink" title="æœªé€šç«è½¦"></a>æœªé€šç«è½¦</h2><p>æ¯”è¾ƒé—æ†¾çš„æ˜¯åˆ°ç°åœ¨é€šåŸè¿˜æ²¡æœ‰ç«è½¦</p><p>å»æ­¦æ±‰è¿˜å¾—å»å®¢è¿ç«™åå®¢è½¦</p><p>å¦‚æœèµ¶æ—¶é—´çš„è¯ï¼Œå°±å¾—åæ‹¼è½¦äº†</p><p>å¸Œæœ›ä»¥åå¯ä»¥è§„åˆ’å»ºè®¾ç«è½¦</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/19_640.jpg" alt="é€šåŸå®¢è¿ç«™"></p><h2 id="æˆ¿ä»·ä¹±è±¡"><a href="#æˆ¿ä»·ä¹±è±¡" class="headerlink" title="æˆ¿ä»·ä¹±è±¡"></a>æˆ¿ä»·ä¹±è±¡</h2><p>æƒ³ä¸é€šçš„æ˜¯ï¼Œ78çº¿å°åŸå¸‚ï¼Œæˆ¿ä»·ç«Ÿç„¶å¯ä»¥é£™åˆ°è¿™ä¹ˆé«˜</p><div id="echarts8920" style="width: 81%;height: 400px;margin: 0 auto"></div><script type="text/javascript">        // åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹        var myChart = echarts.init(document.getElementById('echarts8920'));        // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®        var option = {    title: {        text: 'é€šåŸå¿æˆ¿ä»·èµ°åŠ¿'    },    tooltip: {        trigger: 'axis'    },    legend: {        data: ['é€šåŸå¿', 'å’¸å®']    },    grid: {        left: '3%',        right: '4%',        bottom: '3%',        containLabel: true    },    toolbox: {        feature: {            saveAsImage: {}        }    },    xAxis: {        type: 'category',        boundaryGap: false,        data: [4944, 4986, 4500, 4500, 4500, 4300, 4200, 4172, 4172, 4290, 4290, 4290, 4290]    },    yAxis: {        type: 'value',        scale:true    },    series: [        {            name: 'é€šåŸå¿',            type: 'line',            data: [4944, 4986, 4500, 4500, 4500, 4200, 4172, 4172, 4290, 4290, 4290, 4290]        },        {            name: 'å’¸å®',            type: 'line',            data: [4781, 4772, 4675, 4659, 4640, 4625, 4604, 4555, 4557, 4574, 4559, 4649, 4625]        }    ]};        // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚        myChart.setOption(option);</script><p>è¯·å…ˆæŠŠé€šåŸçš„ç«è½¦è§„åˆ’å‡ºæ¥å§</p><p>ä¸€ä¸ªåŸå¸‚çš„å‘å±•ä¸æ˜¯ä»ç‚’æˆ¿ä»·å¼€å§‹çš„ï¼Œè€Œæ˜¯ä»åŸºå»ºå¼€å§‹ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>é€šåŸçš„å‘å±•ä¹Ÿè¶Šæ¥è¶Šå¿«ï¼Œé€šåŸæ”¿åºœå¸å¼•ç€å¾ˆå¤šå…¬å¸è¿›é©»ï¼Œæ‰“é€ å¾ˆå¤šå›­åŒºå’Œä¸»é¢˜æ€§çš„ç‰‡åŒºã€‚</p><p>è¿˜æ˜¯ä¸‹äº†åŠŸå¤«çš„ï¼Œä¹Ÿæœ‰ä¸å°‘çš„å¯ä»¥æ—…æ¸¸çš„åœ°æ–¹ï¼Œå¯ä»¥å»é€›é€›ï¼Œç¯å¢ƒä¹Ÿç®¡ç†çš„ä¸é”™ã€‚</p><p>å¸Œæœ›ä¸å¿˜åˆå¿ƒï¼Œç¨³æ­¥å‘å±•ï¼Œé’±éƒ½æå‡ºæ¥æåŸå¸‚å‘å±•</p><p>ä¸€å®šä¼šè¶Šæ¥è¶Šå¥½çš„</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äº”ä¸€å›å®¶ä¸€ç¥¨éš¾æ±‚å“‡</title>
      <link href="2021/04/21/2021-04-21-wu-yi-hui-jia-piao-nan-mai/"/>
      <url>2021/04/21/2021-04-21-wu-yi-hui-jia-piao-nan-mai/</url>
      
        <content type="html"><![CDATA[<p>å•Šå•Šå•Šå•Šï¼Œäº”ä¸€æ¥å›çš„ç¥¨åˆ°ç°åœ¨éƒ½è¿˜æ²¡æå®š<br>äº”ä¸€éƒ½è¿™ä¹ˆéš¾æŠ¢ï¼Œæ›´åˆ«è¯´å›½åº†äº†ğŸ˜­ã€‚</p><p>æƒ³å›å»åƒå®¶é‡Œçš„é¥­èœï¼Œå®åœ¨æƒ³å›å»å•Šã€‚</p><p>åˆ·å§ï¼Œåˆ·ç¥¨å§<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/202104/20210421135320.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸­ç§‘é™¢åšå£«è®ºæ–‡èµ°çº¢ç½‘ç»œâ€”â€”ã€Šè‡´è°¢ã€‹</title>
      <link href="2021/04/20/2021-04-20-zhi-xie/"/>
      <url>2021/04/20/2021-04-20-zhi-xie/</url>
      
        <content type="html"><![CDATA[<p>ä»–çš„ä¸–ç•Œæœ¬æ— å…‰ï¼Œä»–æŠŠè‡ªå·±æ´»æˆäº†å…‰ã€‚</p><p>çœ‹å‰é¢ä»–å¯¹è‡ªå·±ç»å†çš„æè¿°ï¼Œæ›´å¤šçš„æ˜¯æ„Ÿæ…¨ä¸é’¦ä½©ã€‚çœ‹åˆ°æœ€åé‚£å‡ å¥â€œç†æƒ³ä¸ä¼Ÿå¤§ï¼Œåªæ„¿å¹´è¿‡åŠç™¾ï¼Œå½’æ¥ä»æ˜¯å°‘å¹´ï¼Œå¸Œæœ›è¿˜æœ‰æœºä¼šé‡æ–°è®¤è¯†è¿™ä¸ªä¸–ç•Œï¼Œä¸è¾œè´Ÿè¿™ä¸€ç”Ÿåƒè¿‡çš„è‹¦ã€‚æœ€åå¦‚æœè¿˜èƒ½åšå‡ºç‚¹è®©åˆ«äººç”Ÿæ´»æ›´ç¾å¥½çš„äº‹ï¼Œé‚£è¿™è¾ˆå­å°±èµšäº†ã€‚â€çœŸå¿ƒæ•¬ä»°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@3.0/niaobulashi/2021/zhixie.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆæŠ±æ­‰ï¼‰åšå®¢ç§»æ¤è¿‡ç¨‹å‹é“¾å¯èƒ½å­˜åœ¨ç¼ºå¤±</title>
      <link href="2021/04/10/2021-04-10-bao-qian-bo-ke-yi-zhi-guo/"/>
      <url>2021/04/10/2021-04-10-bao-qian-bo-ke-yi-zhi-guo/</url>
      
        <content type="html"><![CDATA[<p>å®åœ¨ä¸å¥½æ„æ€å•Šï¼Œè¯·ç•™è¨€æˆ‘å†æ¬¡æ·»åŠ </p><p>ä¹Ÿæ¬¢è¿æ–°çš„æœ‹å‹</p><p>é˜¿é‡Œäº‘æœåŠ¡åˆ°æœŸä¹‹åæ²¡æœ‰å»ç»­æœŸï¼Œä¸¢å¤±çš„æ˜¯ä»¥å‰å°ä¼™ä¼´ä»¬çš„è¯„è®º<br>æƒ³æƒ³ä¹Ÿæ˜¯ç›¸å½“å¯æƒœäº†</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@2.0/niaobulashi/2021/1618058065520.jpeg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ•´ç†è¿ç§»è‡³githubé™æ€é¡µé¢</title>
      <link href="2021/04/09/2021-04-09-bo-ke-zheng-li-qian-yi/"/>
      <url>2021/04/09/2021-04-09-bo-ke-zheng-li-qian-yi/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰äº‘æœåŠ¡åˆ°æœŸäº†<br>åˆšä¹°æˆ¿çš„åŸå› ï¼Œç»­è´¹é˜¿é‡Œäº‘æœåŠ¡å™¨è´¹ç”¨æƒ³è¦èŠ‚çœå‡ºæ¥<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@2.0/niaobulashi/2021/1617878790923.png"></p><p>è¿˜æœ‰5ä¸ªå°æ—¶ï¼Œäº‘æœåŠ¡å°±åˆ°æœŸäº†</p><p>ä½†æ˜¯niaobulashi.com<br>è¿™ä¸ªåŸŸåä¼šä¸€ç›´ç”¨ä¸‹å»çš„ã€‚è¿˜æ˜¯å¯ä»¥æ‰¾åˆ°æˆ‘</p><p>å•Š å¯æƒœäº†ä¹‹å‰çš„ç½‘ç«™æ‰€æœ‰çš„ç•™è¨€ï¼Œéƒ½æ²¡æœ‰äº†</p><p>å¤ªä¼¤å¿ƒäº†</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gridea æ£€æµ‹è¿œç¨‹è¿æ¥å¤±è´¥</title>
      <link href="2021/04/08/2021-04-08-gridea-jian-ce/"/>
      <url>2021/04/08/2021-04-08-gridea-jian-ce/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h2><p>æ ¹æ®æ•™ç¨‹è®¾ç½®å¥½ä¸€ç³»åˆ—ä¿¡æ¯ï¼Œç»æµ‹è¯•åŸŸåå¯è®¿é—®ï¼Œå¹¶ä¸”ç¡®ä¿å…¶ä»–ä¿¡æ¯å‡æ­£ç¡®</p><p>æ£€æŸ¥è¿œç¨‹è¿æ¥é”™è¯¯ï¼šè¿œç¨‹è¿æ¥å¤±è´¥,è¯·æ£€æŸ¥ä»“åº“ã€ç”¨æˆ·åå’Œ token è®¾ç½®</p><p>é—®é¢˜åˆ†æ<br>å…ˆæŸ¥çœ‹ Gridea æ–‡ä»¶å­˜å‚¨ç›®å½•ï¼šC:\Users\Only\Documents\Gridea\output.git ä¸‹çš„ config æ–‡ä»¶ï¼Œçœ‹æ˜¯å¦æœ‰ [remote â€œoriginâ€] ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰è‡ªè¡Œæ·»åŠ </p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">[remote <span class="string">&quot;origin&quot;</span>]</span><br><span class="line">  url = https:<span class="regexp">//</span>ä½ çš„githubç”¨æˆ·å:Token@github.com<span class="regexp">/ä½ çš„githubç”¨æˆ·/</span>ä»“åº“å</span><br><span class="line">  fetch = +refs<span class="regexp">/heads/</span>*:refs<span class="regexp">/remotes/</span>origin/*</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é™„ï¼šæŸ¥çœ‹Grideaæ–‡ä»¶å­˜å‚¨ç›®å½•</p><p><img src="https://img-blog.csdnimg.cn/20200308221500462.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjAzNDk5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ£€æŸ¥é”™è¯¯ä¿¡æ¯ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200308221532551.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjAzNDk5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><code>[â€œfatal: unable to access &#39;https://github.com/Epitomâ€¦led to connect to github.com port 443: Timed outâ†µâ€]</code></p><p>é—®é¢˜è§£å†³<br>è°·æ­Œ 433 é”™è¯¯ï¼Œå¾—çŸ¥æ˜¯æ²¡æœ‰è®¾ç½®ä»£ç†æœåŠ¡å™¨çš„åŸå› ã€‚<br>ä»¥ä¸‹ä¸ºç½‘ä¸Šä¸€é«˜èµè§£å†³æ–¹å¼ï¼Œå¯è‡ªè¡Œå°è¯•ï¼Œï¼ˆä¸è¿‡å¯¹æˆ‘çš„é—®é¢˜æ— æ•ˆæœï¼‰<br>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/runningman2012/article/details/54633677">https://blog.csdn.net/runningman2012/article/details/54633677</a></p><p>å†æ¬¡è°·æ­Œ git å¦‚ä½•è®¾ç½®ä»£ç†æœåŠ¡å™¨</p><figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> http<span class="variable">.proxy</span> &#x27;socks5:<span class="comment">//127.0.0.1:1080&#x27;</span></span><br><span class="line">git <span class="keyword">config</span> --<span class="keyword">global</span> https<span class="variable">.proxy</span> &#x27;socks5:<span class="comment">//127.0.0.1:1080&#x27;</span></span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/isea533/article/details/84748009">https://blog.csdn.net/isea533/article/details/84748009</a></p><p>å†æ¬¡å°è¯•æ£€æµ‹è¿œç¨‹è¿æ¥æˆåŠŸ<br>æ¥ä¸‹æ¥åŒæ­¥æŸ¥çœ‹æ•ˆæœå®Œæˆåå°±å¯ä»¥å¼€å¯å¼€å¿ƒçš„å†™ä½œä¹‹æ—…å•¦~</p><h2 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h2><p>ç‰ˆæœ¬æ›´æ–°åˆ° 0.9.2 åé‡æ–°å®‰è£…äº† Gridea ï¼Œå†æ¬¡æ£€æµ‹è¿œç¨‹è¿æ¥å¤±è´¥</p><p><img src="https://img-blog.csdnimg.cn/20200308221821293.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjAzNDk5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é”™è¯¯ä¿¡æ¯</p><p><code>connect ETIMEDOUT 140.82.114.4:443</code></p><p>é—®é¢˜åˆ†æ<br>cmd å‘½ä»¤è¡Œ ping github.com å¤±è´¥ã€‚ä»£ç†é—®é¢˜<br>é—®é¢˜è§£å†³<br>ä½¿ç”¨ ping æ£€æµ‹å·¥å…·æ‰¾ä¸€ä¸ªèƒ½å¤Ÿ ping é€š github.com çš„ IPï¼Œæ£€æµ‹å·¥å…·ç½‘å€å¦‚ä¸‹ï¼š</p><p><a href="http://ping.chinaz.com/github.com">http://ping.chinaz.com/github.com</a></p><p><img src="https://img-blog.csdnimg.cn/20200308221858523.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjAzNDk5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é€‰æ‹©ä¸€ä¸ªå“åº”è¾ƒå¿«çš„ IPï¼Œæ·»åŠ åˆ° C:\Windows\System32\drivers\etc\host æ–‡ä»¶æœ«å°¾ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200308221942255.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NjAzNDk5MA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><code>140.82.113.3 github.com</code></p><p>å†æ¬¡æ£€æµ‹è¿œç¨‹è¿æ¥ï¼ŒæˆåŠŸã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­¦æ±‰ä¹°æˆ¿è®°å½•</title>
      <link href="2021/03/09/2021-03-09-wuhan-buy-a-house/"/>
      <url>2021/03/09/2021-03-09-wuhan-buy-a-house/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­¦æ±‰ä¹°æˆ¿è®°"><a href="#æ­¦æ±‰ä¹°æˆ¿è®°" class="headerlink" title="æ­¦æ±‰ä¹°æˆ¿è®°"></a>æ­¦æ±‰ä¹°æˆ¿è®°</h2><h3 id="çœ‹æˆ¿"><a href="#çœ‹æˆ¿" class="headerlink" title="çœ‹æˆ¿"></a>çœ‹æˆ¿</h3><p>ç»ˆäºåœ¨æ­¦æ±‰æœ‰äº†è‡ªå·±çš„ä¸€å¥—æˆ¿ï¼Œå†æ—¶ä¸‰ä¸ªæœˆçš„ä¹°æˆ¿å†ç¨‹ï¼Œè®°å½•ä¸€ä¸‹</p><p>ä»2020å¹´12æœˆ20æ—¥å¼€å§‹ï¼Œå…³æ³¨æ­¦æ±‰æ¥¼ç›˜æˆ¿ä»·ï¼Œé€šè¿‡æŸå¹³å°æŸ¥çœ‹<a href="https://wh.fang.anjuke.com/map/loupan/">æ­¦æ±‰æ¥¼ç›˜çš„åœ°å›¾æˆ¿ä»·ä¿¡æ¯</a>ï¼Œåˆæ­¥çœ‹å¥½æ±Ÿå¤åŒºåœ°åŒºçš„æ¥¼ç›˜ï¼Œå‡ä»·åœ¨13000å·¦å³ã€‚æœ€ç»ˆçœ‹å¥½ä¿åˆ©å†›è¿æ‘è¿™ä¸ªæ¥¼ç›˜ï¼Œä¸»è¦æ˜¯ä¸‹æ¥¼å°±æ˜¯åœ°é“ã€‚åŒäº‹é—®äº†åœ¨æ­¦æ±‰ä¹°æˆ¿çš„å¤§å­¦åŒå­¦ï¼Œæœ‰ä¸¤ä¸ªç©å¾—æŒºå¥½çš„åŒå­¦ä¹Ÿä¹°åœ¨å†›è¿æ‘ï¼Œè¿™æ›´åŠ åŠ å¼ºäº†æˆ‘æƒ³ä¹°å†›è¿æ‘ä¹°æˆ¿çš„æ„æ„¿äº†ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/1982273710.png" alt="01.png"></p><p>æˆ‘ä»¥é»„é¹¤æ¥¼ä¸ºæ­¦æ±‰ä¸­å¿ƒï¼Œä¿åˆ©å†›è¿æ‘ç¦»é»„é¹¤æ¥¼ç›´çº¿å…·ä½“æœ‰13å…¬é‡Œã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3923628661.png" alt="02.png"></p><p>å…·ä½“å…‰è°·å¹¿åœºè½¦ç¨‹å¤§çº¦50åˆ†é’Ÿ</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/2377522364.png" alt="03.png"></p><p>è·ç¦»æ±Ÿæ±‰è·¯å¤§äº1å°æ—¶è·¯ç¨‹</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/145083968.png" alt="04.png"></p><p>è¿˜è¡Œå§ï¼Œæ­¦æ˜ŒåŒºï¼Œæ±Ÿæ±‰åŒºçš„æˆ¿ä»·ä¹°ä¸èµ·ï¼Œè¿™é‡Œå…·ä½“ä¸­å¿ƒåŸåŒºä¹Ÿä¸ç®—è¿œã€‚æœ€ç»ˆå®šåœ¨è¿™é‡Œäº†ã€‚</p><p>é€‰æˆ¿è¿™ä¸ªæ­¥éª¤æ²¡æœ‰èŠ±å¤ªå¤šæ—¶é—´ï¼Œä¸»è¦æ˜¯æœ‰ä¸¤ä¸ªå¤§å­¦åŒå­¦ä¹°åœ¨è¿™é‡Œï¼Œå°±åŠ å¿«äº†é€‰å€å†³å¿ƒã€‚</p><h3 id="è·å¾—é™è´­èµ„æ ¼"><a href="#è·å¾—é™è´­èµ„æ ¼" class="headerlink" title="è·å¾—é™è´­èµ„æ ¼"></a>è·å¾—é™è´­èµ„æ ¼</h3><p>é€‰å®šçš„ä¿åˆ©å†›è¿æ‘æœ‰é™è´­ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦æ»¡è¶³é™è´­èµ„æ ¼</p><p>ä¸‹å›¾æ˜¯å¯ä»¥è·å¾—è´­æˆ¿èµ„æ ¼çš„é€”å¾„æ–¹å¼ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3919267904.png" alt="05.png"></p><p>å¦‚æœä½ æ˜¯éæ­¦æ±‰æˆ·å£ï¼Œä½†æ˜¯åœ¨æ­¦æ±‰è¿ç»­ç¼´æ»¡2å¹´ç¤¾ä¿ï¼Œæä¾›ç›¸å…³ææ–™å³å¯ã€‚</p><p>å¾®ä¿¡å…³æ³¨ï¼šæ­¦æ±‰ä½ä¿æˆ¿ç®¡åŠäº‹æœåŠ¡</p><p>åŠç†<strong>è´­æˆ¿èµ„æ ¼æ ¸æŸ¥æœåŠ¡</strong>ï¼Œå°±æ˜¯æ»¡è¶³æ˜¯å¦ç¬¦åˆé™è´­èµ„æ ¼ã€‚</p><p>å› ä¸ºæˆ‘è¿˜ä¸æ˜¯æ­¦æ±‰æˆ·å£ï¼Œæ‰€ä»¥é€‰æ‹©</p><p>2ã€éæœ¬å¸‚æ°‘æˆ·ç±å±…æ°‘å®¶åº­</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/1739115894.png" width="300" hegiht="400" align=center /><p>è¿›å»å¡«å†™èº«ä»½ä¿¡æ¯ï¼Œè´­æˆ¿åŒºåŸŸä¿¡æ¯ï¼Œæˆ‘å¡«å†™æ±Ÿå¤åŒº</p><p>ä¸‹ä¸€æ­¥ï¼Œä¸Šä¼ ç›¸å…³èµ„æ–™</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/1614071536.png" width="300" hegiht="600" align=center /><p>å¥½å®¶ä¼™ï¼Œè¿™ä¹ˆå¤šææ–™ï¼Œèº«ä»½è¯ã€æˆ·å£ç°¿ã€ç»“å©šè¯ã€ç¤¾ä¿ç¼´çº³æ˜ç»†å•ã€ä¸ªäººç¤¾ä¿å‚ä¿è¯æ˜ã€åŠ³åŠ¨åˆåŒã€ä¸ªäººæ‰€å¾—ç¨å®Œç¨èµ„æ–™ã€‚å¥½å®¶ä¼™ï¼Œå‡†å¤‡è¿™äº›ææ–™èŠ±äº†ä¸¤å¤©æ—¶é—´ã€‚å…¶ä¸­ç¤¾ä¿çš„ææ–™éƒ½å¯ä»¥ä»ç½‘ä¸Šä¸‹è½½pdfè‡ªè¡Œæ‰“å°ã€‚</p><p>ç»ˆäºå‡†å¤‡å¥½èµ„æ–™äº†ï¼Œä¸Šä¼ æ‰€æœ‰èµ„æ–™ï¼Œä¸‹ä¸€æ­¥ï¼Œæäº¤ï¼Œ48å°æ—¶å·¥ä½œæ—¶é—´å†…å®¹å³å¯åŠç†å®Œæˆã€‚æ•ˆç‡è¿˜è¡Œã€‚ç»ˆäºè¿‡äº†ä¸€å¤©çš„æ—©ä¸ŠæŸ¥çœ‹åŠç†ç»“æœã€‚</p><p>å¥½å®¶ä¼™ï¼Œå®¡æ‰¹æ²¡æœ‰é€šè¿‡ï¼Œå®¡æ‰¹ç»“æœä¹Ÿå†™å¾—å¾ˆæ˜æ˜¾ï¼š2020å¹´3æœˆä»½ç¤¾ä¿æ–­ç¼´ã€‚ã€‚ã€‚æˆ‘æ“¦äº†</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/1330462669.png" width="300" hegiht="500" align=center /><p>æŠ±ç€ä¾¥å¹¸å¿ƒç†ï¼Œæäº¤è¿™äº›ææ–™ï¼Œè¿˜çœŸçš„å¾ˆä¸¥æ ¼ã€‚ã€‚</p><p>è¿˜å¿…é¡»æ˜¯è¿ç»­ç¼´çº³ä¸¤å¹´çš„ç¤¾ä¿è®°å½•ï¼Œæ–­ç¼´ä¸€ä¸ªæœˆéƒ½ä¸è¡Œã€‚æ²¡åŠæ³•äº†ï¼Œè¿˜æœ‰ä¸€æ¡è·¯ï¼šåŠç†å¤§å­¦ç”Ÿè½æˆ·ã€‚</p><p>OKï¼Œè¿™ä¸ªå°±è¦åœ¨å¦å¤–ä¸€ä¸ªæ¸ é“åŠç†äº†</p><p>é€šè¿‡â€æ­¦æ±‰æœ¬åœ°å®â€æŸ¥è¯¢å¾—åˆ°</p><p><a href="http://m.wh.bendibao.com/live/118870.shtm">å¤§å­¦æ¯•ä¸šç”Ÿè½æˆ·æ­¦æ±‰</a></p><p>éœ€è¦æä¾›è¿™ä¹ˆå†™ææ–™</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/551088561.png" width="300" hegiht="500" align=center /><p>åˆè¦è¿™ä¹ˆå¤šææ–™ï¼Œçœ‹åˆ°è¿™ä¹ˆå¤šå°±æ„Ÿè§‰å¥½éº»çƒ¦ï¼Œæ²¡æ³•ä¸€ä¸ªä¸€ä¸ªæ¥å§ï¼Œå…¶ä¸­å±…ä½å‡­è¯éœ€è¦å’Œç½®ä¸šé¡¾é—®è”ç³»ï¼Œå¡«å†™ç½®ä¸šé¡¾é—®æä¾›çš„åœ°å€ï¼Œå› ä¸ºæˆ‘æœ¬äººä¸åœ¨æ­¦æ±‰å·¥ä½œå’Œå±…ä½</p><p>å…¨ç¨‹éƒ½æ˜¯åœ¨è¥¿å®‰è¿™è¾¹å‡†å¤‡ææ–™ï¼Œå¦‚æœåœ¨æ­¦æ±‰å·¥ä½œçš„è¯ï¼Œç›´æ¥å†™è‡ªå·±çœŸå®å±…ä½åœ°å€å°±è¡Œã€‚</p><p>æˆ‘æ˜¯è®©èŒä¸šé¡¾é—®æä¾›ä»–çš„åœ°å€ï¼Œåšä¸€ä¸ªå±…ä½å‡­è¯ã€‚å…¶ä»–çš„ææ–™å¦‚å®æä¾›å°±è¡Œã€‚</p><p>ææ–™å‡†å¤‡å®Œæˆï¼Œä¸‹ä¸€æ­¥ï¼Œæäº¤å®¡æ‰¹ã€‚å¾ˆå¿«å°±é€šè¿‡äº†ï¼Œå‰©ä¸‹çš„å°±å‡†å¤‡ä¸‹æ¬¡å›æ­¦æ±‰ï¼Œå°†èµ„æ–™å‡†å¤‡å¥½ï¼Œç›´æ¥å»æ±Ÿå¤åŒºçš„å¤§æ¡¥æ´¾å‡ºæ‰€åŠç†æˆ·ç±ä¸šåŠ¡å°±OKäº†ã€‚<strong>æ³¨æ„</strong>ï¼šæºå¸¦çš„ææ–™å¿…é¡»æ˜¯ä½ ä¸Šä¼ çš„é‚£äº›ææ–™ï¼Œéœ€è¦ä¿æŒä¸€è‡´ï¼Œæ¯•ä¸šè¯ä¹Ÿå¿…é¡»æ˜¯åŸä»¶å•Šå•Šå•Šã€‚</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/287611888.png" width="300" hegiht="500" align=center /><p>å¥½ï¼Œè½æˆ·ä¸šåŠ¡åŠç†æµç¨‹ï¼Œæš‚æ—¶å…ˆå‘Šä¸€æ®µè½ã€‚</p><p>å› ä¸ºæœ€åå»æ­¦æ±‰äº†ï¼Œæ‰èƒ½æ­£å¼è½æˆ·ã€‚ç°åœ¨æˆ‘è¿˜åœ¨è¥¿å®‰ï¼Œè¿˜éœ€è¦å‡†å¤‡å…¶ä»–çš„èµ„æ–™ï¼ˆmoneyï¼‰ã€‚</p><h3 id="å‡‘é¦–ä»˜"><a href="#å‡‘é¦–ä»˜" class="headerlink" title="å‡‘é¦–ä»˜"></a>å‡‘é¦–ä»˜</h3><p>å’Œç½®ä¸šé¡¾é—®è¯¢é—®äº†è´­ä¹°ä¿åˆ©å†›è¿æ‘çš„æˆ¿å­ï¼Œä¸­æ„105å¹³çš„é‚£ä¸€å¥—ï¼Œä¸‰æˆ¿ä¸¤å…ä¸¤ä½ï¼Œå—åŒ—é€šé€ï¼Œæˆ·å‹æŒºæ­£ã€‚æˆ·å‹å›¾å¦‚ä¸‹ï¼š</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3734251881.png" width="300" hegiht="500" align=center /><p>å¯¹äºåˆšéœ€æ¥è¯´ï¼Œæ˜¯è¶…çº§åˆé€‚çš„ã€‚ä¸­æ„ï¼ï¼ï¼</p><p>ç½®ä¸šé¡¾é—®è¯´é¦–ä»˜å¾—50ä¸ªï¼Œç»™æˆ‘ç®—äº†ä¸ªä»·æ ¼</p><p>OKï¼Œå‡†å¤‡é¦–ä»˜ï¼</p><p>æˆ‘å’Œæˆ‘åª³å¦‡å½“æ—¶çš„æ€»èµ„äº§25ä¸‡ï¼Œæˆ‘é¢„è®¡éœ€è¦50ä¸‡çš„é¦–ä»˜ï¼Œäºæ˜¯å°±å’Œæˆ‘çˆ¸å¦ˆå’Œå²³çˆ¶å²³æ¯å¤§äººè¯´äº†ä¹°æˆ¿çš„æ‰“ç®—ï¼Œéƒ½è¡¨ç¤ºæ”¯æŒï¼Œæˆ‘å¦ˆé‚£è¾¹æ‹¿å‡º15ä¸‡æ”¯æŒï¼Œæˆ‘å²³çˆ¶å²³æ¯æ‹¿å‡º10ä¸‡æ”¯æŒï¼Œéå¸¸æ„Ÿè°¢èƒ½æ”¯æŒæˆ‘ä»¬ï¼Œéå¸¸éå¸¸æ„Ÿè°¢ã€‚</p><p>é¦–ä»˜å¯ä»¥å‡‘é½ï¼Œå‰©ä¸‹çš„éƒ½å¥½è¯´ï¼Œè°å’Œé’±è¿‡ä¸å»å‘¢ã€‚</p><p>å› ä¸ºå²³çˆ¶å²³æ¯å¤§äººçš„10ä¸‡åœ¨2æœˆåº•æ‰åˆ°ä½ï¼Œæˆ‘åˆæ€•105å¹³çš„æˆ¿å­ä¼šæ²¡æœ‰äº†ï¼Œäºæ˜¯å’Œé¡¾é—®è¯´äº†è¿™ä¸ªäº‹æƒ…ï¼Œå¹´åæ‰åˆ°ä½ï¼Œè¿˜ç¼º10ä¸‡å·¦å³ï¼Œé¡¾é—®è¯´å¯ä»¥é¦–ä»˜è¿›è¡Œåˆ†æœŸï¼Œå…ˆä»˜1æˆçš„é¦–ä»˜ï¼Œåœ¨å‰©ä¸‹çš„55å¤©ä¹‹å†…ï¼Œå°†å‰©ä½™çš„2æˆé¦–ä»˜äº¤äº†å°±è¡Œï¼ŒOKå°±è¿™æ ·ã€‚</p><p>ç½®ä¸šé¡¾é—®æœ€åç»™äº†æˆ‘ä¸€ä¸ªä»·æ ¼æ¸…å•ã€‚ç®—ä¸‹æ¥å•ä»·ï¼š15752ä¸€å¹³ ç²¾è£…ï¼Œé¦–ä»˜506333</p><p>æœ¬æœˆå†…é¦–ä»˜ä¸€æˆ</p><p>å‰©ä½™è€Œæˆåœ¨é¦–ä»˜ä¸€æˆçš„æ—¶é—´èŠ‚ç‚¹å¾€åæ¨55å¤©ä¹‹å†…ç¼´çº³ã€‚</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3054632032.png" width="300" hegiht="500" align=center /><p>ç»™äº†å……è¶³çš„æ—¶é—´ã€‚</p><h3 id="è´·æ¬¾èµ„æ–™"><a href="#è´·æ¬¾èµ„æ–™" class="headerlink" title="è´·æ¬¾èµ„æ–™"></a>è´·æ¬¾èµ„æ–™</h3><p>ç”±äºæˆ‘éœ€è¦ç”³è¯·ç»„åˆè´·æ¬¾ã€‚</p><p>æ ¹æ®ç½®ä¸šé¡¾é—®æä¾›çš„èµ„æ–™æ¸…å•ï¼Œå»å‡†å¤‡èµ„æ–™</p><p>åŠç†æŒ‰æ­ï¼Œéœ€è¦å®¢æˆ·å‡†å¤‡å¤å°ä»¶:</p><ol><li>èº«ä»½è¯3ä»½</li><li>æˆ·å£æœ¬å…¨å¥—1ä»½(é¦–é¡µï¼Œæˆ·ä¸»é¡µï¼Œæœ¬äººé¡µ)</li><li>ç»“å©šè¯æˆ–è€…ç¦»å©šè¯åŠç¦»å©šåè®®å…¨å¥—2ä»½</li><li>è¯¦ç»†ç‰ˆå¾ä¿¡æŠ¥å‘Š(æœºæ„æ‰“å°ï¼Œä¸è¦è‡ªæŸ¥çš„ç½‘ç»œç‰ˆ)</li><li>æ”¶å…¥è¯æ˜</li><li>é“¶è¡Œæµæ°´</li><li>ç¤¾ä¿ç¼´å­˜æ˜ç»†æˆ–çº³ç¨æˆ–è¥ä¸šæ‰§ç…§</li><li>æ¶‰åŠå…¬ç§¯é‡‘éœ€è¦å…¬ç§¯é‡‘æ”¶å…¥è¯æ˜å’Œå…¬ç§¯é‡‘ç¼´å­˜æ˜ç»†ï¼Œå…¬å¸ç›–ç« </li></ol><p>é™¤äº†æ”¶å…¥è¯æ˜å’Œå…¬ç§¯é‡‘æ”¶å…¥è¯æ˜ï¼Œéœ€è¦å…¬å¸ç›–ç« ä¹‹å¤–ï¼Œå…¶ä»–çš„è‡ªå·±éƒ½å¯ä»¥æå®šã€‚</p><p>åŒå…¬å¸ç”³è¯·æ”¶å…¥è¯æ˜å’Œå…¬ç§¯é‡‘æ”¶å…¥è¯æ˜ã€‚ä¸¤å¤©å°±æ”¶åˆ°å•¦</p><p>å…¶ä»–ææ–™éƒ½å‡†å¤‡é½å…¨ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ è¦ä¹°æˆ¿ï¼Œä¸€å®šè¦æ³¨æ„è‡ªå·±çš„å¾ä¿¡ä¸€å®šä¸èƒ½èŠ±ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Œå°±æ˜¯å°½é‡ä¸è¦å»æå€Ÿè´·ï¼Œä¹Ÿä¸è¦å»ç”³è¯·è´·æ¬¾å®¡æ‰¹ï¼Œæ¯ä¸€æ¬¡è´·æ¬¾å®¡æ‰¹å¹³å°éƒ½ä¼šå»æŸ¥è¯¢å¾ä¿¡ï¼Œä¼šåœ¨å¾ä¿¡æŠ¥å‘Šä¸Šç•™ä¸€ç¬”è®°å½•</p><p>æ¯ä¸€ä¸ªæŸ¥è¯¢é¢åº¦ï¼Œå¹³å°éƒ½ä¼šå»æŸ¥è¯¢å¾ä¿¡è®°å½•ï¼Œæœ€åä¼šåœ¨å¾ä¿¡æŠ¥å‘Šä¸Šç•™ä¸€ç¬”æŸ¥è¯¢è®°å½•ï¼Œé“¶è¡Œäººå‘˜çœ‹åˆ°è¿™ä¸ªä¼šè§‰å¾—ä½ å¾ˆç¼ºé™·ï¼Œåˆ°å¤„æŸ¥è¯¢å€Ÿæ¬¾é¢åº¦ï¼Œæ„Ÿè§‰æ²¡æœ‰èƒ½åŠ›å¿è¿˜æŒ‰æ­è´·æ¬¾ã€‚å®¹æ˜“è¿‡ä¸äº†å®¡æ‰¹ã€‚</p><p>ä¸‹å›¾æ˜¯æˆ‘çš„å¾ä¿¡æŠ¥å‘Šçš„æŸ¥è¯¢è®°å½•ã€‚æˆ‘å‚»äº†å§å”§çš„å»å„ä¸ªè´·æ¬¾å¹³å°æŸ¥çœ‹è‡ªå·±çš„è´·æ¬¾é¢åº¦ï¼Œå¹¸å¥½ä¸æ˜¯å¾ˆå¤šã€‚ä½†æ˜¯æˆ‘æ²¡æœ‰å€Ÿæ¬¾è®°å½•ã€‚</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3483857008.png" width="300" hegiht="500" align=center /><p>æ‰€ä»¥ä¸€å®šè¦ä¿è¯å¥½è‡ªå·±çš„å¾ä¿¡æŠ¥å‘Šçš„è‰¯å¥½ã€‚</p><p>è¿™æ˜¯æˆ‘åª³å¦‡çš„å¾ä¿¡æŠ¥å‘Šï¼Œä¸€é¡µçº¸ï¼Œå¹²å‡€å¾—å¾ˆ</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/3817353869.png" alt="14.png"></p><p>å…¶ä¸­é“¶è¡Œæµæ°´ï¼Œè‡ªè¡Œå»é“¶è¡Œæ‰“å°å°±è¡Œäº†ï¼Œæ‰“å°è¿‘6ä¸ªæœˆçš„é“¶è¡Œæµæ°´</p><p>æ”¶å…¥è¯æ˜ç”±å…¬å¸å¼€å…·ï¼Œå¹¶ç”±å…¬å¸çš„ç›–ç« ç”Ÿæ•ˆã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šæ”¶å…¥è¯æ˜å…·æœ‰æ—¶æ•ˆæ€§ï¼Œä¸€èˆ¬æ—¶æ•ˆæ€§ä¸€ä¸ªæœˆä¹‹å†…å§ï¼æœ€å¥½åœ¨æœ€åæä¾›ã€‚</p><p>æ”¶å…¥è¯æ˜è‡³å°‘ä¿è¯å¤§äº ä¸¤å€çš„æœˆä¾›</p><p>è¿™ä¸ªéœ€è¦ä½ æå‰è®¡ç®—å¥½ï¼Œæˆ‘æœˆä¾›å¤§æ¦‚6åƒï¼Œæ”¶å…¥å¤§äº12kå·®ä¸å¤šå°±è¡Œï¼Œæ²¡å•¥é—®é¢˜äº†ã€‚</p><h3 id="å›æ­¦æ±‰"><a href="#å›æ­¦æ±‰" class="headerlink" title="å›æ­¦æ±‰"></a>å›æ­¦æ±‰</h3><p>å‡†å¤‡å¥½ä¸€åˆ‡ææ–™ï¼Œå‡ºå‘å»æ­¦æ±‰</p><p>å› ä¸ºè´­æˆ¿äººå†™çš„æ˜¯æˆ‘å’Œæˆ‘åª³å¦‡ä¸¤ä¸ªäººï¼Œæ‰€ä»¥æˆ‘ä¿©éœ€è¦ä¸€èµ·å»ç­¾åˆåŒã€‚</p><p>å› ä¸ºé¢ç­¾éœ€è¦åœ¨å·¥ä½œæ—¥é¢ç­¾ã€‚æ‰€ä»¥è¯·äº†å‘¨å››å‘¨äº”ä¸¤å¤©å‡ï¼Œå’Œè¿™å‘¨å…­ï¼Œä¸€å…±ä¸‰å¤©æ—¶é—´åŠç†è¿™äº›æ‰‹ç»­</p><p>OKï¼Œå‡ºå‘</p><p>ä¹°äº†3æœˆ3å·æ™šä¸Šçš„ç«è½¦ç¥¨</p><p>è¥¿å®‰â€“&gt;æ­¦æ±‰</p><p>3æœˆ6å·æ™šä¸Šçš„ç«è½¦ç¥¨</p><p>æ­¦æ±‰â€“&gt;è¥¿å®‰</p><p>3æœˆ4å·ä¸­åˆåˆ°è¾¾æ­¦æ±‰ï¼Œåƒä¸ªé¥­åå‰å¾€æ±Ÿå¤åŒºå¤§æ¡¥æ´¾å‡ºæ‰€</p><p>åŠç†å¤§å­¦ç”Ÿæ¯•ä¸šè½æˆ·åç»­çš„æµç¨‹</p><p>æä¾›å¿…è¦çš„ææ–™ï¼Œèº«ä»½è¯é‡æ–°æ‹ç…§</p><p>åŠç†äº†é›†ä½“æˆ·çš„æ­¦æ±‰æˆ·å£ï¼Œå› ä¸ºè¿˜æ²¡æœ‰è´­æˆ¿ï¼Œé¦–å…ˆå¼„çš„æ˜¯æ­¦æ±‰çš„é›†ä½“æˆ·ï¼Œä¹°å®Œæˆ¿æ‹¿åˆ°åˆåŒäº†åæœŸè½¬ä¸ºå®¶åº­æˆ·ã€‚</p><p>æ²¡äº‹ï¼Œè¿™ä¸ªé›†ä½“æˆ·ä¹Ÿå¯ä»¥å»ç”³è¯·æ­¦æ±‰è´­æˆ¿èµ„æ ¼æ ¸æŸ¥ã€‚</p><p>å›åˆ°è·å¾—é™è´­èµ„æ ¼é‚£é‡Œã€‚</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/1379674122.png" width="300" hegiht="500" align=center /><p>è¿™é‡Œå¯ä»¥é€‰æ‹©</p><p>1ã€é€‰æ‹©æœ¬å¸‚æˆ·ç±è´­æˆ¿å®¶åº­</p><p>å¡«å†™å®¶åº­ä¿¡æ¯ï¼Œä¸‹ä¸€æ­¥</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/4239701409.png" width="300" hegiht="500" align=center /><p>ç¬é—´æ¸…çˆ½æ— æ¯”ï¼Œåªè¦ä¸‰ä¸ªææ–™ï¼Œç«‹é©¬ä¸Šä¼ ï¼Œä¸‹ä¸€æ­¥ï¼Œæäº¤</p><p>æœ¬åœ°æˆ·å£è¿˜æ˜¯æ–¹ä¾¿å•Šã€‚</p><h3 id="æŒ‰æ­"><a href="#æŒ‰æ­" class="headerlink" title="æŒ‰æ­"></a>æŒ‰æ­</h3><p>ç¬¬äºŒå¤©å»äº†ä¿åˆ©å¤©æ‚¦ä¸­å¿ƒï¼Œä¿åˆ©å¼€å‘å•†çš„ç­¾çº¦ä¸­å¿ƒã€‚</p><p>é€šè¿‡é¢„çº¦å¥½çš„é“¶è¡Œå·¥ä½œäººå‘˜ï¼Œå¼€å§‹ç­¾çº¦æŒ‰æ­è´·æ¬¾ç›¸å…³åˆåŒ</p><p>æä¾›ææ–™ï¼Œçœ‹äº†çœ‹æ²¡å•¥é—®é¢˜ï¼Œå¼€å§‹äº†ç­¾åä¹‹è·¯ï¼Œå¤§çº¦åŠä¸ªå°æ—¶æå®šæ‰€æœ‰ä¸œè¥¿ã€‚</p><p>ä¸€è·¯ç­¾äº†å¥½å¤šèµ„æ–™å•Šï¼Œè¯´å®åœ¨çš„ï¼Œæ²¡æœ‰ç»†çœ‹ï¼Œæœ¬èº«éƒ½æ˜¯å®šå¥½äº†çš„ã€‚</p><p>ç»„åˆè´·æ¬¾ï¼Œ115ä¸‡</p><p>å…¬ç§¯é‡‘è´·æ¬¾é¢åº¦ï¼š472500<br>åˆ©ç‡ï¼š3.25%</p><p>å•†ä¸šè´·æ¬¾é¢åº¦ï¼š677500</p><p>åˆ©ç‡ï¼š5.68%</p><p>æ­¦æ±‰çš„å•†ä¸šè´·æ¬¾åˆ©ç‡æ˜¯çœŸçš„é«˜å•Šå•Šå•Šï¼Œå…¨å›½æœ€é«˜äº†</p><p>å…¬ç§¯é‡‘è´·æ¬¾è´·çš„ä¸å¤šï¼Œæœ€é«˜åªèƒ½å¸¦è¿™ä¹ˆå¤šï¼Œä¸»è¦æ˜¯ç°åœ¨çš„å…¬å¸å¤ªæŒ«äº†ï¼Œç¼´çº³çš„åŸºæ•°å¤ªä½ã€‚</p><p>ä¹ˆå¾—åŠæ³•ï¼Œæœ€åæ˜¯æŒ‰ç…§è¿™ä¸ªæ¥çš„</p><p>ç®—äº†ä¸‹ï¼Œæ¯æœˆæœˆä¾›å·®ä¸å¤š6åƒ</p><img src="https://images.niaobulashi.com/typecho/uploads/2021/03/2171961456.png" width="300" hegiht="500" align=center /><h3 id="äº¤é¦–ä»˜"><a href="#äº¤é¦–ä»˜" class="headerlink" title="äº¤é¦–ä»˜"></a>äº¤é¦–ä»˜</h3><p>ç¬¬ä¸€æ¬¡ç¼´çº³äº†ä¸€æˆé¦–ä»˜166333</p><p>è¿™æ¬¡å›æ­¦æ±‰ç¼´çº³åé¢çš„2æˆé¦–ä»˜ï¼š340000</p><p>ç›´æ¥åˆ·å¡ï¼</p><p>åˆ·å®Œå¡å¼€äº†æ”¶æ®ï¼Œè¿™äº›æ”¶æ®è¦ç•™å¥½ï¼Œåé¢æ ¹æ®è¿™äº›æ”¶æ®å¼€å…¨é¢å‘ç¥¨ã€‚</p><p>å…¨é¢å‘ç¥¨æ˜¯ä½ è½¬å˜ä¸ºæ­¦æ±‰å®¶åº­æˆ·æ‰€éœ€è¦çš„ææ–™ã€‚</p><p>äº¤å®Œé¦–ä»˜ä¹‹åï¼Œçœ‹äº†çœ‹å¡é‡Œçš„ä½™é¢ï¼Œä¹Ÿå¼€å§‹å˜ä¸ºæˆ¿å¥´äº†</p><p>æ²¡åŠæ³•ï¼Œè¿˜æ˜¯å¾—æœ‰ä¸ªå®¶</p><p>åœ¨å¤§åŸå¸‚è¿˜æ˜¯å¾—æœ‰ä¸ªå®¶</p><p>æŒ‰æ­æ…¢æ…¢è¿˜ï¼Œå€Ÿçš„é’±æ…¢æ…¢è¿˜ã€‚</p><p>åŠ æ²¹å§ï¼Œæ‰“å·¥äºº</p><h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>æˆ‘ä¹‹å‰æƒ³ç€ä¹°å•¥æˆ¿å•Šï¼ŒèƒŒç€ä¸€èº«çš„å€ºï¼Œæˆä¸ºæˆ¿å¥´ã€‚æ˜¯çš„ï¼Œæˆ‘ä¹‹å‰å°±æ˜¯è¿™æ ·æƒ³çš„ï¼Œä¸æƒ³ä¹°æˆ¿ï¼Œè€å®¶éƒ½æœ‰æˆ¿å­ã€‚</p><p>ä¸ä¹°æˆ¿ç”Ÿæ´»ä¼šè¿‡å¾—å¾ˆæ»‹æ¶¦ï¼Œæƒ³ä¹°å•¥ä¹°å•¥ï¼Œæ²¡å•¥å‹åŠ›</p><p>å¯æ˜¯å½“æƒ³æƒ³ä»¥åè¦å­©å­äº†ï¼Œè¿˜è¦è·Ÿç€æˆ‘ä»¬å»æ¼‚ï¼Œå»ç§Ÿæˆ¿å­ï¼Œæ²¡æœ‰ä¸€ä¸ªå½’å±æ„Ÿï¼Œæƒ³åˆ°è¿™é‡Œï¼Œè¿™æ˜¯æˆ‘ä¸æ„¿æ„é¢å¯¹çš„ã€‚</p><p>åœ¨æ­¦æ±‰ä¹Ÿè‡³å°‘æœ‰ä¸ªå®¶äº†ï¼Œä¸ç”¨åˆ°å¤„æ‰¾å®¾é¦†æ‰¾é…’åº—ä½äº†ã€‚</p><p>ç¡¬ç€å¤´çš®ä¸Šè½¦äº†ã€‚</p><p>å¿ƒé‡Œçš„çŸ³å¤´ä¹Ÿè½åœ°äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> ä¹°æˆ¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å§”æ‰˜ä¹¦å…¬è¯åŠç†ææ–™åŠèŒƒæ–‡</title>
      <link href="2021/01/11/2021-01-11-notarization-of-power-of-attorney/"/>
      <url>2021/01/11/2021-01-11-notarization-of-power-of-attorney/</url>
      
        <content type="html"><![CDATA[<p>**<a href="https://link.zhihu.com/?target=http://www.egongzheng.com">å§”æ‰˜ä¹¦å…¬è¯</a>**æ˜¯æŒ‡å›½å®¶å…¬è¯æœºå…³æ ¹æ®å½“äº‹äººçš„ç”³è¯·ï¼Œä¾æ³•è¯æ˜å§”æ‰˜äººæˆæƒä»–äººä»¥è‡ªå·±çš„åä¹‰å®æ–½æŸç§æ³•å¾‹è¡Œä¸ºçš„æ„æ€è¡¨ç¤ºçš„çœŸå®æ€§ã€åˆæ³•æ€§çš„æ´»åŠ¨ã€‚</p><h2 id="å§”æ‰˜ä¹¦åŠç†æ‰€éœ€ææ–™"><a href="#å§”æ‰˜ä¹¦åŠç†æ‰€éœ€ææ–™" class="headerlink" title="å§”æ‰˜ä¹¦åŠç†æ‰€éœ€ææ–™"></a><strong>å§”æ‰˜ä¹¦åŠç†æ‰€éœ€ææ–™</strong></h2><p>ä¸€ã€å§”æ‰˜äººæ˜¯å…¬æ°‘çš„ï¼š</p><ol><li><p>å§”æ‰˜äººçš„ã€Šå±…æ°‘èº«ä»½è¯ã€‹çš„åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½;</p></li><li><p>å¤«å¦»å§”æ‰˜æˆ–å¤«å¦»é—´ç›¸äº’å§”æ‰˜çš„åº”æäº¤ã€Šç»“å©šè¯ã€‹çš„åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½;</p></li><li><p>å—æ‰˜äººçš„ã€Šå±…æ°‘èº«ä»½è¯ã€‹å¤å°ä»¶æˆ–ä¼ çœŸä»¶ä¸€ä»½;</p></li><li><p>ã€Šå§”æ‰˜ä¹¦ã€‹æ–‡æœ¬è‹¥å¹²ä»½åŠ å…¬è¯å¤„å­˜æ¡£ä¸¤ä»½;</p></li></ol><p>äºŒã€å§”æ‰˜äººæ˜¯ä¼ä¸šæ³•äººçš„ï¼š</p><ol><li><p>ã€Šä¼ä¸šæ³•äººè¥ä¸šæ‰§ç…§ã€‹åŸæœ¬æˆ–å‰¯æœ¬çš„åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½;</p></li><li><p>ã€Šæœºæ„ä»£ç è¯ã€‹åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½;</p></li><li><p>ä¼ä¸šæ³•å®šä»£è¡¨äººèµ„æ ¼è¯æ˜åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½ï¼Œå¦‚ä»»å‘½ä¹¦ã€è¯æ˜;</p></li><li><p>ä¼ä¸šæ³•å®šä»£è¡¨äººçš„ã€Šå±…æ°‘èº«ä»½è¯ã€‹çš„åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½å’Œå•ä½ä»‹ç»ä¿¡ã€‚</p></li><li><p>ã€Šå§”æ‰˜ä¹¦ã€‹æ–‡æœ¬è‹¥å¹²ä»½åŠ å…¬è¯å¤„å­˜æ¡£ä¸¤ä»½;</p></li></ol><p>ä¸‰ã€å§”æ‰˜äººæ˜¯æœºå…³ã€äº‹ä¸šå•ä½æˆ–å…¶ä»–ç»„ç»‡çš„ï¼š</p><ol><li><p>ä¸»ç®¡éƒ¨é—¨åˆ¶å‘çš„ä¸»ä½“èµ„æ ¼è¯æ˜åŸä»¶å’Œå¤å°ä»¶ï¼Œå¦‚å•ä½æˆç«‹çš„æ–‡ä»¶;</p></li><li><p>ã€Šæœºæ„ä»£ç è¯ã€‹åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½;</p></li><li><p>æ³•å®šä»£è¡¨äºº(è´Ÿè´£äºº)èµ„æ ¼è¯æ˜åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½ï¼Œå¦‚ä»»å‘½ä¹¦ã€è¯æ˜;</p></li><li><p>æ³•å®šä»£è¡¨äºº(è´Ÿè´£äºº)ã€Šå±…æ°‘èº«ä»½è¯ã€‹åŸä»¶å’Œå¤å°ä»¶ä¸€ä»½å’Œå•ä½ä»‹ç»ä¿¡ã€‚</p></li><li><p>ã€Šå§”æ‰˜ä¹¦ã€‹æ–‡æœ¬è‹¥å¹²ä»½åŠ å…¬è¯å¤„å­˜æ¡£ä¸¤ä»½;</p></li></ol><h2 id="å§”æ‰˜ä¹¦åº”å…·å¤‡ä»¥ä¸‹å†…å®¹"><a href="#å§”æ‰˜ä¹¦åº”å…·å¤‡ä»¥ä¸‹å†…å®¹" class="headerlink" title="å§”æ‰˜ä¹¦åº”å…·å¤‡ä»¥ä¸‹å†…å®¹"></a><strong>å§”æ‰˜ä¹¦åº”å…·å¤‡ä»¥ä¸‹å†…å®¹</strong></h2><ol><li><p>å§”æ‰˜äººä¸å—æ‰˜äººçš„åŸºæœ¬æƒ…å†µï¼ˆå§“åã€æ€§åˆ«ã€å‡ºç”Ÿæ—¥æœŸã€ç°åœ¨ä½å€ï¼‰ï¼›</p></li><li><p>å§”æ‰˜äººä¸å—æ‰˜äººçš„å…³ç³»ï¼›</p></li><li><p>å§”æ‰˜çš„åŸå› ï¼›</p></li><li><p>å§”æ‰˜çš„æƒé™ï¼ˆå§”æ‰˜æƒé™è¦æ˜ç¡®ã€å…·ä½“ï¼‰ï¼›</p></li><li><p>å§”æ‰˜æœŸé™ï¼›</p></li><li><p>å—æ‰˜äººæœ‰æ— è½¬å§”æ‰˜æƒï¼›</p></li><li><p>å…¶ä»–åº”æ˜ç¡®çš„å†…å®¹ã€‚</p></li></ol><h2 id="å§”æ‰˜å…¬è¯ä¹¦èŒƒæ–‡ï¼š"><a href="#å§”æ‰˜å…¬è¯ä¹¦èŒƒæ–‡ï¼š" class="headerlink" title="*å§”æ‰˜å…¬è¯ä¹¦èŒƒæ–‡ï¼š"></a>*<em>å§”æ‰˜å…¬è¯ä¹¦èŒƒæ–‡ï¼š</em></h2><p>å§”æ‰˜äººï¼šxxxï¼Œå¥³ï¼Œxxxxå¹´xxæœˆxxxæ—¥å‡ºç”Ÿï¼Œç°ä½ç°ä½xxçœxxå¸‚xxxxxxxxxå·ï¼Œèº«ä»½è¯å·ç ï¼šxxxxxxã€‚</p><p>å—æ‰˜äººï¼šxxxï¼Œå¥³ï¼Œxxxxå¹´xxæœˆxxxæ—¥å‡ºç”Ÿï¼Œç°ä½xxçœxxå¸‚xxxxxxxxxxxå·ï¼Œèº«ä»½è¯å·ç ï¼šxxxxxxã€‚</p><p>å§”æ‰˜äººä¸å—æ‰˜äººç³»xxå…³ç³»ã€‚å§”æ‰˜äººç”±äºäººåœ¨å›½å¤–ï¼Œç°å…¨æƒå§”æ‰˜å—æ‰˜äººä»£åŠæœ¬äººxxxxå…¬è¯äº‹å®œã€‚</p><p>å—æ‰˜äººåœ¨åŠç†ä¸Šè¿°äº‹é¡¹ä¸­æ‰€ç­¾ç½²çš„ä¸€åˆ‡æœ‰å…³æ–‡ä»¶ï¼Œå§”æ‰˜äººå‡äºˆä»¥æ‰¿è®¤å¹¶è‡ªæ„¿æ‰¿æ‹…ä¸€åˆ‡æ³•å¾‹è´£ä»»ã€‚</p><p>å—æ‰˜äººæ— è½¬å§”æ‰˜æƒã€‚</p><p>å§”æ‰˜æœŸé™è‡ªæœ¬å§”æ‰˜äº‹é¡¹åŠç†å®Œæ¯•æ—¶æ­¢ã€‚</p><p>å§”æ‰˜äººï¼šxxx(ç­¾å)</p><p>äºŒ0ä¸€xå¹´xæœˆxæ—¥</p><p>æ³¨ï¼šå¤„åˆ†è´¢äº§ç­‰æƒåˆ©çš„å§”æ‰˜éœ€è¦æäº¤å©šå§»çŠ¶å†µè¯æ˜æˆ–å…±æœ‰äººã€ä¸»ç®¡éƒ¨é—¨çš„è¯æ˜ã€‚å§”æ‰˜ä¹¦åº”æ³¨æ˜å§”æ‰˜æœŸé™ï¼Œå§”æ‰˜æƒé™ï¼Œæœ‰æ— è½¬å§”æ‰˜æƒã€‚å§”æ‰˜å¤„åˆ†ä¸åŠ¨äº§çš„ï¼Œåº”æäº¤ä¸åŠ¨äº§æ‰€æœ‰æƒè¯æ˜ã€‚å§”æ‰˜ä¹¦å…¬è¯ä¸å¾—å§”æ‰˜ä»–äººä»£ç†åŠç†ã€‚å…¬è¯è¿‡çš„å§”æ‰˜ä¹¦å†…å®¹éœ€è¦ä¿®æ”¹çš„ï¼Œåªèƒ½é‡æ–°åŠç†å…¬è¯ã€‚å…¬è¯å‘˜æ ¹æ®å…¬è¯äº‹é¡¹çš„å…·ä½“æƒ…å†µå¯èƒ½éœ€è¦å½“äº‹äººè¡¥å……æäº¤å…¶ä»–è¯ä»¶ææ–™ã€‚ </p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®¶æ—ä¿¡æ‰˜äºŒåå¤§åŠŸèƒ½è§£è¯»</title>
      <link href="2020/12/24/2020-12-24-family-trust/"/>
      <url>2020/12/24/2020-12-24-family-trust/</url>
      
        <content type="html"><![CDATA[<p><img src="https://img-blog.csdnimg.cn/img_convert/40952db3b9457533031edab42e772f8e.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/13d6445ebe9b890b6f8316ef5387033b.png" alt="å›¾ç‰‡"></p><p><strong>å®¶æ—ä¿¡æ‰˜</strong>æ˜¯ä¸€ç§ä¿¡æ‰˜æœºæ„å—ä¸ªäººæˆ–å®¶æ—çš„å§”æ‰˜ï¼Œä»£ä¸ºç®¡ç†ã€å¤„ç½®å®¶åº­è´¢äº§çš„è´¢äº§ç®¡ç†æ–¹å¼ï¼Œä»¥å®ç°å¯Œäººçš„è´¢å¯Œè§„åˆ’åŠä¼ æ‰¿ç›®æ ‡ï¼Œæœ€æ—©å‡ºç°åœ¨é•¿è¾¾25å¹´ç»æµç¹è£æœŸä¹‹åçš„ç¾å›½ã€‚<strong>å®ƒ</strong>èƒ½å¤Ÿæ›´å¥½åœ°å¸®åŠ©é«˜å‡€å€¼äººç¾¤è§„åˆ’â€œè´¢å¯Œä¼ æ‰¿â€ï¼Œä¹Ÿé€æ¸è¢«ä¸­å›½å¯Œè±ªè®¤å¯ã€‚å…·ä½“æ¥è®²ï¼š</p><p><img src="https://img-blog.csdnimg.cn/img_convert/6aa766c1d8145ef17a5f9d93f7030746.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c90a84956fa2c7519e4a0fdbd3c5b6e4.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/1a2c26e1237b71d3f2e0c83514c49a2f.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/84165124ed61b5ec3336ff8098120e1a.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/3dcc73ca572eb08777fcbcc7f634798c.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/e5d6b70b7930adfe07d10c0699fdffbe.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c217ebe7d7dc1851620a9e9de5207054.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/769c6eca795d7c7aae5dc230d43cedeb.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/9d1721d0b9364a8a5f065871aa0f972d.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/598e5a6bbb683d74075495f1e31c9daa.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/10251ca201aeb5f161955ad5d5e0c828.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/a053bcd7c77b6217b31cd181556e9428.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/a98301603f51ed58d0d3b4d77ff5c94f.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/fc843819bf9f36435bd3fb0db8f5b53a.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c359a94127135ae1b3dd8b4a98870dcc.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c2ad10bd25bfc14629845a2543db8044.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/b802c7937ef22ff9f6e0b3f467352bc8.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/6047f0c47903275f869187226bfcbfa6.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/429d008d12c46eb1eba1193ad7712902.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/f001c68772255218ea88d7664ad73a4f.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/58411731cd23108171b6a6a47a6c2f40.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/f4a982ea99b6a8616a2f3936d0205c61.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/fed3c1662a687f2a4de660fbe9181530.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/2e8a0a34c211e93edbf91fdfcc1ebeff.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/5f5f9589b79ed8d2441cd5fefc9c08cd.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/dd9c3cacbce02963efbc41914d5b7d87.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/aa330bd99278cd429eec248f6ac18297.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/0a3c4493afaff9c3ec22dba8685dd35a.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c2c87ddd138888a9fb95d6304988d97d.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/c5965ca6b4a66ef20eb47a5a34d67c34.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/e8ced656c84ca2c46528351c51b5aba3.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/df7847474b5c44a4ef0e9fa5db618e78.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/63b221eae58385c01c39f6845201feba.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/aaac2b22efeaf66d5033a95ce4e08ada.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/56a032a22314f18763c654904e1e4827.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/70e06da3fb2a52db1d78307ccf314cbd.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/46ed78e7e26000e109c7c8222bdcec89.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/f75db162b04e5c28b60bad41e22c17c7.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/ea22bdbd26330fabec23d21ef4abd781.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/596846e67598e0c21ee8d0aa8c955303.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/5c6dd6f72fdfbeebca975b397d90e9b8.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/552e5f1c23f19e98b952f76409a70e0f.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/245760672b7216730b2ad89ba69da6c4.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/27bba46da3c90b8e8eb63233e5bfba85.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/bdf02190c070fc0e3186e5f0e2f62427.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/dca397399cab65ed81b3db76133197a6.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/0db97c6caec2a675317dd08d2f61b023.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/23714eeeefd2fb6f195c90b1587237c4.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/dd710e906e335ac4de50e5b2a15d0ee3.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/38b5586903fad74cb2c6dd43b53ae634.png" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/e42b39341c37e365c318351542dad483.gif" alt="å›¾ç‰‡"></p><p><img src="https://img-blog.csdnimg.cn/img_convert/47447463b5321655f2961cdad93ea485.png" alt="å›¾ç‰‡"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®¶æ—ä¿¡æ‰˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¢é˜Ÿå¦‚ä½•è¿›è¡ŒCodeReview</title>
      <link href="2020/12/14/2020-12-14-how-to-codereview/"/>
      <url>2020/12/14/2020-12-14-how-to-codereview/</url>
      
        <content type="html"><![CDATA[<p>å¾ˆå¤šå…¬å¸éƒ½è¦æ±‚é¡¹ç›®åšCodeReviewï¼Œä½†å¾ˆå¤šé¡¹ç›®ç¬¬ä¸€æ¬¡ç»„ç»‡CodeReviewå¾€å¾€ä¸çŸ¥é“è¯¥å¦‚ä½•åšï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆå»åšã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/620558722.jpg" alt="codereview1"></p><h2 id="å…­ä¸ªä¸è¦"><a href="#å…­ä¸ªä¸è¦" class="headerlink" title="å…­ä¸ªä¸è¦"></a><strong>å…­ä¸ªä¸è¦</strong></h2><ol><li>ä¸è¦åˆ»æ„çš„å»å¯»æ‰¾ä»£ç bug</li><li>ä¸è¦æŒ‰ç…§è‡ªå·±çš„ç¼–ç¨‹é£æ ¼å»è¯„è®ºåˆ«äººçš„ä»£ç </li><li>ä¸è¦å¸¦ç€æŠ¨å‡»å’Œè´¨ç–‘åˆ«äººèƒ½åŠ›çš„å¿ƒæ€å»è¿›è¡Œä»£ç è¯„å®¡</li><li>ä¸è¦åœ¨ä¸ç¡®å®šçš„é—®é¢˜ä¸Šäº‰æ¥äº‰å»</li><li>ä¸è¦å¬ä¸è¿›åˆ«äººçš„æ„è§å‚ä¸è€…æœ€å¥½</li><li>ä¸è¦è‡ªå·±éƒ½æ²¡æƒ³æ˜ç™½å°±ææ„è§</li></ol><h3 id="ä¸‰ä¸ªåŸåˆ™"><a href="#ä¸‰ä¸ªåŸåˆ™" class="headerlink" title="ä¸‰ä¸ªåŸåˆ™"></a><strong>ä¸‰ä¸ªåŸåˆ™</strong></h3><ol><li>å‘ç°ä»£ç çš„æ­£ç¡®æ€§</li><li>åˆ†äº«å’Œå­¦ä¹ ä¸šåŠ¡é€»è¾‘å’Œè®¾è®¡æ€è·¯</li><li>é«˜æ•ˆè¿…é€Ÿçš„å®ŒæˆCodeReview</li></ol><h3 id="Reviewä¼šè®®æµç¨‹"><a href="#Reviewä¼šè®®æµç¨‹" class="headerlink" title="Reviewä¼šè®®æµç¨‹"></a>Reviewä¼šè®®æµç¨‹</h3><h4 id="1-ä¸»æŒè€…åˆ†äº«ä¸šåŠ¡é€»è¾‘å’Œè®¾è®¡æ€è·¯ï¼ŒæŠ€æœ¯ç»éªŒã€‚å¹¶ä¸”å¯¹ä»£ç åŠŸèƒ½è¿›è¡Œä»‹ç»"><a href="#1-ä¸»æŒè€…åˆ†äº«ä¸šåŠ¡é€»è¾‘å’Œè®¾è®¡æ€è·¯ï¼ŒæŠ€æœ¯ç»éªŒã€‚å¹¶ä¸”å¯¹ä»£ç åŠŸèƒ½è¿›è¡Œä»‹ç»" class="headerlink" title="1. ä¸»æŒè€…åˆ†äº«ä¸šåŠ¡é€»è¾‘å’Œè®¾è®¡æ€è·¯ï¼ŒæŠ€æœ¯ç»éªŒã€‚å¹¶ä¸”å¯¹ä»£ç åŠŸèƒ½è¿›è¡Œä»‹ç»"></a><strong>1. ä¸»æŒè€…åˆ†äº«ä¸šåŠ¡é€»è¾‘å’Œè®¾è®¡æ€è·¯ï¼ŒæŠ€æœ¯ç»éªŒã€‚å¹¶ä¸”å¯¹ä»£ç åŠŸèƒ½è¿›è¡Œä»‹ç»</strong></h4><h4 id="2-æ£€æŸ¥è®¾è®¡çš„åˆç†æ€§å’Œä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§"><a href="#2-æ£€æŸ¥è®¾è®¡çš„åˆç†æ€§å’Œä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§" class="headerlink" title="2. æ£€æŸ¥è®¾è®¡çš„åˆç†æ€§å’Œä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§"></a><strong>2. æ£€æŸ¥è®¾è®¡çš„åˆç†æ€§å’Œä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§</strong></h4><ol><li>ä¸šåŠ¡æµç¨‹æ˜¯å¦èƒ½å¤Ÿèµ°é€š</li><li>å•ä¸€èŒè´£ï¼Œå…¥å‚æ˜¯å¦åˆç†</li><li>æ•°æ®åº“å­—æ®µè®¾è®¡æ˜¯å¦æ»¡è¶³éœ€æ±‚ï¼Œæ˜¯å¦æ»¡è¶³ä¸‰èŒƒå¼ï¼Œå®ä½“ç±»è®¾è®¡æ˜¯å¦åˆç†</li><li>æ˜¯å¦æœ‰å¼‚å¸¸å¤„ç†æœºåˆ¶</li><li>æ˜¯å¦å½±å“åç»­ä¸šåŠ¡çš„æ‰©å±•</li><li>å…³æ³¨æ•°æ®ç»“æ„ï¼šMap, HashMap, List, LinkedList</li><li>æ˜¯å¦æœ‰å½±å“æ€§èƒ½çš„ä»£ç ï¼šæ•°æ®åº“æ‰¹é‡æ“ä½œï¼Œèµ„æºæ˜¯å¦å…³é—­</li></ol><h4 id="3-æ£€æŸ¥ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§"><a href="#3-æ£€æŸ¥ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§" class="headerlink" title="3. æ£€æŸ¥ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§"></a><strong>3. æ£€æŸ¥ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</strong></h4><ol><li>å¿…è¦çš„æ³¨é‡Šï¼š ç±»ï¼Œæ–¹æ³•ï¼Œ å¤æ‚ä»£ç æ®µ</li><li>å‘½åè§„èŒƒ</li><li>é‡å¤ä»£ç æŠ½å–æˆæ–¹æ³•</li><li>ç¹çä»£ç ï¼Œèƒ½ç®€å•å®ç°çš„åœ°æ–¹æ˜¯å¦éœ€è¦ä¼˜åŒ–</li></ol><h4 id="4-æ€»ç»“ä¼˜ç¼ºç‚¹"><a href="#4-æ€»ç»“ä¼˜ç¼ºç‚¹" class="headerlink" title="4. æ€»ç»“ä¼˜ç¼ºç‚¹"></a><strong>4. æ€»ç»“ä¼˜ç¼ºç‚¹</strong></h4><ol><li>è®¾è®¡æ€æƒ³ã€æŠ€æœ¯æ–¹æ³•ã€ä¸šåŠ¡çŸ¥è¯†</li><li>ç¼–ç¨‹è§„èŒƒã€ä»£ç é£æ ¼</li><li>å¦‚ä½•é¿å‘</li></ol><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/528365237.jpeg" alt="7dd98d1001e93901ca2d308b444d9ee337d196fa.jpeg"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¢é˜Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èµ›åšæœ‹å…‹2077ç»ˆäºä¸å†è·³ç¥¨äº†</title>
      <link href="2020/12/08/2020-12-08-CyberPunk2077-1/"/>
      <url>2020/12/08/2020-12-08-CyberPunk2077-1/</url>
      
        <content type="html"><![CDATA[<p>ç»ˆäºå¯ä»¥ä¸ä¸‹è½½å•¦å•Šå•Šå•Šå•Š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3245873410.jpg" alt="cde8ab75dfe9657132ea7c401b9215af58fa0370.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1140271091.jpg" alt="dde711d4e370383aad83affbb6277815b9e912d4.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2975780163.jpg" alt="0a3a6b205cac73066bae3dddcb972c07b221dccd.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2975780163.jpg" alt="0a3a6b205cac73066bae3dddcb972c07b221dccd.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1858346715.jpg" alt="28234faf246c7efdc8644c511c8a7a70503018b3.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2565171456.png" alt="CyberPunk 2077"></p>]]></content>
      
      
      <categories>
          
          <category> æ¸¸æˆå¨±ä¹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> æ¸¸æˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥æµ…å‡ºHashMap</title>
      <link href="2020/12/04/2020-12-04-java-hashmap01/"/>
      <url>2020/12/04/2020-12-04-java-hashmap01/</url>
      
        <content type="html"><![CDATA[<h2 id="æ·±å…¥æµ…å‡ºå­¦Javaâ€”â€”HashMap"><a href="#æ·±å…¥æµ…å‡ºå­¦Javaâ€”â€”HashMap" class="headerlink" title="æ·±å…¥æµ…å‡ºå­¦Javaâ€”â€”HashMap"></a>æ·±å…¥æµ…å‡ºå­¦Javaâ€”â€”HashMap</h2><blockquote><p>å“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰<br>ä¹Ÿå«æ•£åˆ—è¡¨ï¼Œæ˜¯ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œåº”ç”¨åœºæ™¯åŠå…¶ä¸°å¯Œï¼Œè®¸å¤šç¼“å­˜æŠ€æœ¯ï¼ˆæ¯”å¦‚memcachedï¼‰çš„æ ¸å¿ƒå…¶å®å°±æ˜¯åœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€å¼ å¤§çš„å“ˆå¸Œè¡¨ï¼Œæœ¬æ–‡ä¼šå¯¹javaé›†åˆæ¡†æ¶ä¸­HashMapçš„å®ç°åŸç†è¿›è¡Œè®²è§£ï¼Œå¹¶å¯¹JDK7çš„HashMapæºç è¿›è¡Œåˆ†æã€‚</p></blockquote><h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯å“ˆå¸Œè¡¨"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯å“ˆå¸Œè¡¨" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯å“ˆå¸Œè¡¨"></a><strong>ä¸€ã€ä»€ä¹ˆæ˜¯å“ˆå¸Œè¡¨</strong></h3><p>åœ¨è®¨è®ºå“ˆå¸Œè¡¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤§æ¦‚äº†è§£ä¸‹å…¶ä»–æ•°æ®ç»“æ„åœ¨æ–°å¢ï¼ŒæŸ¥æ‰¾ç­‰åŸºç¡€æ“ä½œæ‰§è¡Œæ€§èƒ½</p><p><strong>æ•°ç»„</strong>ï¼šé‡‡ç”¨ä¸€æ®µè¿ç»­çš„å­˜å‚¨å•å…ƒæ¥å­˜å‚¨æ•°æ®ã€‚å¯¹äºæŒ‡å®šä¸‹æ ‡çš„æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼›é€šè¿‡ç»™å®šå€¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œéœ€è¦éå†æ•°ç»„ï¼Œé€ä¸€æ¯”å¯¹ç»™å®šå…³é”®å­—å’Œæ•°ç»„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå½“ç„¶ï¼Œå¯¹äºæœ‰åºæ•°ç»„ï¼Œåˆ™å¯é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ’å€¼æŸ¥æ‰¾ï¼Œæ–æ³¢é‚£å¥‘æŸ¥æ‰¾ç­‰æ–¹å¼ï¼Œå¯å°†æŸ¥æ‰¾å¤æ‚åº¦æé«˜ä¸ºO(logn)ï¼›å¯¹äºä¸€èˆ¬çš„æ’å…¥åˆ é™¤æ“ä½œï¼Œæ¶‰åŠåˆ°æ•°ç»„å…ƒç´ çš„ç§»åŠ¨ï¼Œå…¶å¹³å‡å¤æ‚åº¦ä¹Ÿä¸ºO(n)</p><p><strong>çº¿æ€§é“¾è¡¨</strong>ï¼šå¯¹äºé“¾è¡¨çš„æ–°å¢ï¼Œåˆ é™¤ç­‰æ“ä½œï¼ˆåœ¨æ‰¾åˆ°æŒ‡å®šæ“ä½œä½ç½®åï¼‰ï¼Œä»…éœ€å¤„ç†ç»“ç‚¹é—´çš„å¼•ç”¨å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œè€ŒæŸ¥æ‰¾æ“ä½œéœ€è¦éå†é“¾è¡¨é€ä¸€è¿›è¡Œæ¯”å¯¹ï¼Œå¤æ‚åº¦ä¸ºO(n)</p><p><strong>äºŒå‰æ ‘</strong>ï¼šå¯¹ä¸€æ£µç›¸å¯¹å¹³è¡¡çš„æœ‰åºäºŒå‰æ ‘ï¼Œå¯¹å…¶è¿›è¡Œæ’å…¥ï¼ŒæŸ¥æ‰¾ï¼Œåˆ é™¤ç­‰æ“ä½œï¼Œå¹³å‡å¤æ‚åº¦å‡ä¸ºO(logn)ã€‚</p><p><strong>å“ˆå¸Œè¡¨</strong>ï¼šç›¸æ¯”ä¸Šè¿°å‡ ç§æ•°æ®ç»“æ„ï¼Œåœ¨å“ˆå¸Œè¡¨ä¸­è¿›è¡Œæ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾ç­‰æ“ä½œï¼Œæ€§èƒ½ååˆ†ä¹‹é«˜ï¼Œä¸è€ƒè™‘å“ˆå¸Œå†²çªçš„æƒ…å†µä¸‹ï¼ˆåé¢ä¼šæ¢è®¨ä¸‹å“ˆå¸Œå†²çªçš„æƒ…å†µï¼‰ï¼Œä»…éœ€ä¸€æ¬¡å®šä½å³å¯å®Œæˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹å“ˆå¸Œè¡¨æ˜¯å¦‚ä½•å®ç°è¾¾åˆ°æƒŠè‰³çš„å¸¸æ•°é˜¶O(1)çš„ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®ç»“æ„çš„ç‰©ç†å­˜å‚¨ç»“æ„åªæœ‰ä¸¤ç§ï¼š<strong>é¡ºåºå­˜å‚¨ç»“æ„</strong>å’Œ<strong>é“¾å¼å­˜å‚¨ç»“æ„</strong>ï¼ˆåƒæ ˆï¼Œé˜Ÿåˆ—ï¼Œæ ‘ï¼Œå›¾ç­‰æ˜¯ä»é€»è¾‘ç»“æ„å»æŠ½è±¡çš„ï¼Œæ˜ å°„åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿè¿™ä¸¤ç§ç‰©ç†ç»„ç»‡å½¢å¼ï¼‰ï¼Œè€Œåœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨æ•°ç»„ä¸­æ ¹æ®ä¸‹æ ‡æŸ¥æ‰¾æŸä¸ªå…ƒç´ ï¼Œä¸€æ¬¡å®šä½å°±å¯ä»¥è¾¾åˆ°ï¼Œå“ˆå¸Œè¡¨åˆ©ç”¨äº†è¿™ç§ç‰¹æ€§ï¼Œ<strong>å“ˆå¸Œè¡¨çš„ä¸»å¹²å°±æ˜¯æ•°ç»„</strong>ã€‚</p><p><strong>æ¯”å¦‚æˆ‘ä»¬è¦æ–°å¢æˆ–æŸ¥æ‰¾æŸä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠå½“å‰å…ƒç´ çš„å…³é”®å­— é€šè¿‡æŸä¸ªå‡½æ•°æ˜ å°„åˆ°æ•°ç»„ä¸­çš„æŸä¸ªä½ç½®ï¼Œé€šè¿‡æ•°ç»„ä¸‹æ ‡ä¸€æ¬¡å®šä½å°±å¯å®Œæˆæ“ä½œã€‚</strong><br>ã€€ã€€<br>è¿™ä¸ªå‡½æ•°å¯ä»¥ç®€å•æè¿°ä¸ºï¼š<strong>å­˜å‚¨ä½ç½® = f(å…³é”®å­—)</strong> ï¼Œè¿™ä¸ªå‡½æ•°fä¸€èˆ¬ç§°ä¸ºå“ˆå¸Œå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„è®¾è®¡å¥½åä¼šç›´æ¥å½±å“åˆ°å“ˆå¸Œè¡¨çš„ä¼˜åŠ£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦åœ¨å“ˆå¸Œè¡¨ä¸­æ‰§è¡Œæ’å…¥æ“ä½œï¼š<br>æ’å…¥è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2861980324.png" alt="å“ˆå¸Œè¡¨æ•°æ®æ’å…¥è¿‡ç¨‹"></p><p>æŸ¥æ‰¾æ“ä½œåŒç†ï¼Œå…ˆé€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºå®é™…å­˜å‚¨åœ°å€ï¼Œç„¶åä»æ•°ç»„ä¸­å¯¹åº”åœ°å€å–å‡ºå³å¯ã€‚</p><p><strong>å“ˆå¸Œå†²çª</strong></p><p>ç„¶è€Œä¸‡äº‹æ— å®Œç¾ï¼Œ<strong>å¦‚æœä¸¤ä¸ªä¸åŒçš„å…ƒç´ ï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°å¾—å‡ºçš„å®é™…å­˜å‚¨åœ°å€ç›¸åŒæ€ä¹ˆåŠ</strong>ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬å¯¹æŸä¸ªå…ƒç´ è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå¾—åˆ°ä¸€ä¸ªå­˜å‚¨åœ°å€ï¼Œç„¶åè¦è¿›è¡Œæ’å…¥çš„æ—¶å€™ï¼Œå‘ç°å·²ç»è¢«å…¶ä»–å…ƒç´ å ç”¨äº†ï¼Œå…¶å®è¿™å°±æ˜¯æ‰€è°“çš„<strong>å“ˆå¸Œå†²çª</strong>ï¼Œä¹Ÿå«<strong>å“ˆå¸Œç¢°æ’</strong>ã€‚å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œå“ˆå¸Œå‡½æ•°çš„è®¾è®¡è‡³å…³é‡è¦ï¼Œå¥½çš„å“ˆå¸Œå‡½æ•°ä¼šå°½å¯èƒ½åœ°ä¿è¯ è®¡ç®—ç®€å•å’Œæ•£åˆ—åœ°å€åˆ†å¸ƒå‡åŒ€,ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦æ¸…æ¥šçš„æ˜¯ï¼Œæ•°ç»„æ˜¯ä¸€å—è¿ç»­çš„å›ºå®šé•¿åº¦çš„å†…å­˜ç©ºé—´ï¼Œå†å¥½çš„å“ˆå¸Œå‡½æ•°ä¹Ÿä¸èƒ½ä¿è¯å¾—åˆ°çš„å­˜å‚¨åœ°å€ç»å¯¹ä¸å‘ç”Ÿå†²çªã€‚é‚£ä¹ˆå“ˆå¸Œå†²çªå¦‚ä½•è§£å†³å‘¢ï¼Ÿå“ˆå¸Œå†²çªçš„è§£å†³æ–¹æ¡ˆæœ‰å¤šç§:å¼€æ”¾å®šå€æ³•ï¼ˆå‘ç”Ÿå†²çªï¼Œç»§ç»­å¯»æ‰¾ä¸‹ä¸€å—æœªè¢«å ç”¨çš„å­˜å‚¨åœ°å€ï¼‰ï¼Œå†æ•£åˆ—å‡½æ•°æ³•ï¼Œé“¾åœ°å€æ³•ï¼Œè€ŒHashMapå³æ˜¯é‡‡ç”¨äº†<strong>é“¾åœ°å€æ³•</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>æ•°ç»„+é“¾è¡¨</strong>çš„æ–¹å¼ã€‚</p><h3 id="äºŒã€HashMapçš„å®ç°åŸç†"><a href="#äºŒã€HashMapçš„å®ç°åŸç†" class="headerlink" title="äºŒã€HashMapçš„å®ç°åŸç†"></a><strong>äºŒã€HashMapçš„å®ç°åŸç†</strong></h3><p>HashMapçš„ä¸»å¹²æ˜¯ä¸€ä¸ªEntryæ•°ç»„ã€‚Entryæ˜¯HashMapçš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œæ¯ä¸€ä¸ªEntryåŒ…å«ä¸€ä¸ªkey-valueé”®å€¼å¯¹ã€‚ï¼ˆå…¶å®æ‰€è°“Mapå…¶å®å°±æ˜¯ä¿å­˜äº†ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´çš„æ˜ å°„å…³ç³»çš„ä¸€ç§é›†åˆï¼‰</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//HashMapçš„ä¸»å¹²æ•°ç»„ï¼Œå¯ä»¥çœ‹åˆ°å°±æ˜¯ä¸€ä¸ªEntryæ•°ç»„ï¼Œåˆå§‹å€¼ä¸ºç©ºæ•°ç»„&#123;&#125;ï¼Œä¸»å¹²æ•°ç»„çš„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ã€‚</span></span><br><span class="line"><span class="comment">//è‡³äºä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œåé¢ä¼šæœ‰è¯¦ç»†åˆ†æã€‚</span></span><br><span class="line"><span class="keyword">transient</span> Entry&lt;K,V&gt;[] table = (Entry&lt;K,V&gt;[]) EMPTY_TABLE;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure><p>Entryæ˜¯HashMapä¸­çš„ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ã€‚ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> K key;</span><br><span class="line">    V value;</span><br><span class="line">    Entry&lt;K,V&gt; next;<span class="comment">//å­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªEntryçš„å¼•ç”¨ï¼Œå•é“¾è¡¨ç»“æ„</span></span><br><span class="line">    <span class="keyword">int</span> hash;<span class="comment">//å¯¹keyçš„hashcodeå€¼è¿›è¡Œhashè¿ç®—åå¾—åˆ°çš„å€¼ï¼Œå­˜å‚¨åœ¨Entryï¼Œé¿å…é‡å¤è®¡ç®—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Creates new entry.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Entry(<span class="keyword">int</span> h, K k, V v, Entry&lt;K,V&gt; n) &#123;</span><br><span class="line">        value = v;</span><br><span class="line">        next = n;</span><br><span class="line">        key = k;</span><br><span class="line">        hash = h;</span><br><span class="line">    &#125; </span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼ŒHashMapçš„æ€»ä½“ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3387915791.png" alt="HashMapçš„æ€»ä½“ç»“æ„"></p><p>ç®€å•æ¥è¯´ï¼Œ<strong>HashMapç”±æ•°ç»„+é“¾è¡¨ç»„æˆçš„</strong>ï¼Œæ•°ç»„æ˜¯HashMapçš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ï¼Œå¦‚æœå®šä½åˆ°çš„æ•°ç»„ä½ç½®ä¸å«é“¾è¡¨ï¼ˆå½“å‰entryçš„nextæŒ‡å‘nullï¼‰,é‚£ä¹ˆæŸ¥æ‰¾ï¼Œæ·»åŠ ç­‰æ“ä½œå¾ˆå¿«ï¼Œä»…éœ€ä¸€æ¬¡å¯»å€å³å¯ï¼›å¦‚æœå®šä½åˆ°çš„æ•°ç»„åŒ…å«é“¾è¡¨ï¼Œå¯¹äºæ·»åŠ æ“ä½œï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œé¦–å…ˆéå†é“¾è¡¨ï¼Œå­˜åœ¨å³è¦†ç›–ï¼Œå¦åˆ™æ–°å¢ï¼›å¯¹äºæŸ¥æ‰¾æ“ä½œæ¥è®²ï¼Œä»éœ€éå†é“¾è¡¨ï¼Œç„¶åé€šè¿‡keyå¯¹è±¡çš„equalsæ–¹æ³•é€ä¸€æ¯”å¯¹æŸ¥æ‰¾ã€‚æ‰€ä»¥ï¼Œæ€§èƒ½è€ƒè™‘ï¼Œ<strong>HashMapä¸­çš„é“¾è¡¨å‡ºç°è¶Šå°‘ï¼Œæ€§èƒ½æ‰ä¼šè¶Šå¥½ã€‚</strong></p><p>å…¶ä»–å‡ ä¸ªé‡è¦å­—æ®µ</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**å®é™…å­˜å‚¨çš„key-valueé”®å€¼å¯¹çš„ä¸ªæ•°*/</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**é˜ˆå€¼ï¼Œå½“table == &#123;&#125;æ—¶ï¼Œè¯¥å€¼ä¸ºåˆå§‹å®¹é‡ï¼ˆåˆå§‹å®¹é‡é»˜è®¤ä¸º16ï¼‰ï¼›å½“tableè¢«å¡«å……äº†ï¼Œä¹Ÿå°±æ˜¯ä¸ºtableåˆ†é…å†…å­˜ç©ºé—´åï¼Œ</span></span><br><span class="line"><span class="comment">thresholdä¸€èˆ¬ä¸º capacity*loadFactoryã€‚HashMapåœ¨è¿›è¡Œæ‰©å®¹æ—¶éœ€è¦å‚è€ƒthresholdï¼Œåé¢ä¼šè¯¦ç»†è°ˆåˆ°*/</span></span><br><span class="line"><span class="keyword">int</span> threshold;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**è´Ÿè½½å› å­ï¼Œä»£è¡¨äº†tableçš„å¡«å……åº¦æœ‰å¤šå°‘ï¼Œé»˜è®¤æ˜¯0.75</span></span><br><span class="line"><span class="comment">åŠ è½½å› å­å­˜åœ¨çš„åŸå› ï¼Œè¿˜æ˜¯å› ä¸ºå‡ç¼“å“ˆå¸Œå†²çªï¼Œå¦‚æœåˆå§‹æ¡¶ä¸º16ï¼Œç­‰åˆ°æ»¡16ä¸ªå…ƒç´ æ‰æ‰©å®¹ï¼ŒæŸäº›æ¡¶é‡Œå¯èƒ½å°±æœ‰ä¸æ­¢ä¸€ä¸ªå…ƒç´ äº†ã€‚</span></span><br><span class="line"><span class="comment">æ‰€ä»¥åŠ è½½å› å­é»˜è®¤ä¸º0.75ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§å°ä¸º16çš„HashMapï¼Œåˆ°äº†ç¬¬13ä¸ªå…ƒç´ ï¼Œå°±ä¼šæ‰©å®¹æˆ32ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">final</span> <span class="keyword">float</span> loadFactor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**HashMapè¢«æ”¹å˜çš„æ¬¡æ•°ï¼Œç”±äºHashMapéçº¿ç¨‹å®‰å…¨ï¼Œåœ¨å¯¹HashMapè¿›è¡Œè¿­ä»£æ—¶ï¼Œ</span></span><br><span class="line"><span class="comment">å¦‚æœæœŸé—´å…¶ä»–çº¿ç¨‹çš„å‚ä¸å¯¼è‡´HashMapçš„ç»“æ„å‘ç”Ÿå˜åŒ–äº†ï¼ˆæ¯”å¦‚putï¼Œremoveç­‰æ“ä½œï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">éœ€è¦æŠ›å‡ºå¼‚å¸¸ConcurrentModificationException*/</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">int</span> modCount;</span><br></pre></td></tr></table></figure><p>HashMapæœ‰4ä¸ªæ„é€ å™¨ï¼Œå…¶ä»–æ„é€ å™¨å¦‚æœç”¨æˆ·æ²¡æœ‰ä¼ å…¥initialCapacity å’ŒloadFactorè¿™ä¸¤ä¸ªå‚æ•°ï¼Œä¼šä½¿ç”¨é»˜è®¤å€¼</p><p>initialCapacityé»˜è®¤ä¸º16ï¼ŒloadFactoryé»˜è®¤ä¸º0.75</p><p>æˆ‘ä»¬çœ‹ä¸‹å…¶ä¸­ä¸€ä¸ª</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€<span class="comment">//æ­¤å¤„å¯¹ä¼ å…¥çš„åˆå§‹å®¹é‡è¿›è¡Œæ ¡éªŒï¼Œæœ€å¤§ä¸èƒ½è¶…è¿‡MAXIMUM_CAPACITY = 1&lt;&lt;30(230)</span></span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal initial capacity: &quot;</span> +</span><br><span class="line">                                               initialCapacity);</span><br><span class="line">        <span class="keyword">if</span> (initialCapacity &gt; MAXIMUM_CAPACITY)</span><br><span class="line">            initialCapacity = MAXIMUM_CAPACITY;</span><br><span class="line">        <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal load factor: &quot;</span> +</span><br><span class="line">                                               loadFactor);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">        threshold = initialCapacity;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€</span><br><span class="line">        init();<span class="comment">//initæ–¹æ³•åœ¨HashMapä¸­æ²¡æœ‰å®é™…å®ç°ï¼Œä¸è¿‡åœ¨å…¶å­ç±»å¦‚ linkedHashMapä¸­å°±ä¼šæœ‰å¯¹åº”å®ç°</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢è¿™æ®µä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨å¸¸è§„æ„é€ å™¨ä¸­ï¼Œæ²¡æœ‰ä¸ºæ•°ç»„tableåˆ†é…å†…å­˜ç©ºé—´ï¼ˆæœ‰ä¸€ä¸ªå…¥å‚ä¸ºæŒ‡å®šMapçš„æ„é€ å™¨ä¾‹å¤–ï¼‰ï¼Œ<strong>è€Œæ˜¯åœ¨æ‰§è¡Œputæ“ä½œçš„æ—¶å€™æ‰çœŸæ­£æ„å»ºtableæ•°ç»„</strong></p><p>OK,æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹putæ“ä½œçš„å®ç°</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœtableæ•°ç»„ä¸ºç©ºæ•°ç»„&#123;&#125;ï¼Œè¿›è¡Œæ•°ç»„å¡«å……ï¼ˆä¸ºtableåˆ†é…å®é™…å†…å­˜ç©ºé—´ï¼‰ï¼Œå…¥å‚ä¸ºthresholdï¼Œ</span></span><br><span class="line">        <span class="comment">//æ­¤æ—¶thresholdä¸ºinitialCapacity é»˜è®¤æ˜¯1&lt;&lt;4(24=16)</span></span><br><span class="line">        <span class="keyword">if</span> (table == EMPTY_TABLE) &#123;</span><br><span class="line">            inflateTable(threshold);</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">//å¦‚æœkeyä¸ºnullï¼Œå­˜å‚¨ä½ç½®ä¸ºtable[0]æˆ–table[0]çš„å†²çªé“¾ä¸Š</span></span><br><span class="line">        <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> putForNullKey(value);</span><br><span class="line">        <span class="keyword">int</span> hash = hash(key);<span class="comment">//å¯¹keyçš„hashcodeè¿›ä¸€æ­¥è®¡ç®—ï¼Œç¡®ä¿æ•£åˆ—å‡åŒ€</span></span><br><span class="line">        <span class="keyword">int</span> i = indexFor(hash, table.length);<span class="comment">//è·å–åœ¨tableä¸­çš„å®é™…ä½ç½®</span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœè¯¥å¯¹åº”æ•°æ®å·²å­˜åœ¨ï¼Œæ‰§è¡Œè¦†ç›–æ“ä½œã€‚ç”¨æ–°valueæ›¿æ¢æ—§valueï¼Œå¹¶è¿”å›æ—§value</span></span><br><span class="line">            Object k;</span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span><br><span class="line">                V oldValue = e.value;</span><br><span class="line">                e.value = value;</span><br><span class="line">                e.recordAccess(<span class="keyword">this</span>);</span><br><span class="line">                <span class="keyword">return</span> oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        modCount++;<span class="comment">//ä¿è¯å¹¶å‘è®¿é—®æ—¶ï¼Œè‹¥HashMapå†…éƒ¨ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œå¿«é€Ÿå“åº”å¤±è´¥</span></span><br><span class="line">        addEntry(hash, key, value, i);<span class="comment">//æ–°å¢ä¸€ä¸ªentry</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>inflateTableè¿™ä¸ªæ–¹æ³•ç”¨äºä¸ºä¸»å¹²æ•°ç»„tableåœ¨å†…å­˜ä¸­åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œé€šè¿‡roundUpToPowerOf2(toSize)å¯ä»¥ç¡®ä¿capacityä¸ºå¤§äºæˆ–ç­‰äºtoSizeçš„æœ€æ¥è¿‘toSizeçš„äºŒæ¬¡å¹‚ï¼Œæ¯”å¦‚toSize=13,åˆ™capacity=16;to_size=16,capacity=16;to_size=17,capacity=32.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inflateTable</span><span class="params">(<span class="keyword">int</span> toSize)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> capacity = roundUpToPowerOf2(toSize);<span class="comment">//capacityä¸€å®šæ˜¯2çš„æ¬¡å¹‚</span></span><br><span class="line">        <span class="comment">/**æ­¤å¤„ä¸ºthresholdèµ‹å€¼ï¼Œå–capacity*loadFactorå’ŒMAXIMUM_CAPACITY+1çš„æœ€å°å€¼ï¼Œ</span></span><br><span class="line"><span class="comment">        capaticyä¸€å®šä¸ä¼šè¶…è¿‡MAXIMUM_CAPACITYï¼Œé™¤éloadFactorå¤§äº1 */</span></span><br><span class="line">        threshold = (<span class="keyword">int</span>) Math.min(capacity * loadFactor, MAXIMUM_CAPACITY + <span class="number">1</span>);</span><br><span class="line">        table = <span class="keyword">new</span> Entry[capacity];</span><br><span class="line">        initHashSeedAsNeeded(capacity);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>roundUpToPowerOf2ä¸­çš„è¿™æ®µå¤„ç†ä½¿å¾—æ•°ç»„é•¿åº¦ä¸€å®šä¸º2çš„æ¬¡å¹‚ï¼ŒInteger.highestOneBitæ˜¯ç”¨æ¥è·å–æœ€å·¦è¾¹çš„bitï¼ˆå…¶ä»–bitä½ä¸º0ï¼‰æ‰€ä»£è¡¨çš„æ•°å€¼.</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">roundUpToPowerOf2</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// assert number &gt;= 0 : &quot;number must be non-negative&quot;;</span></span><br><span class="line">       <span class="keyword">return</span> number &gt;= MAXIMUM_CAPACITY</span><br><span class="line">               ? MAXIMUM_CAPACITY</span><br><span class="line">               : (number &gt; <span class="number">1</span>) ? Integer.highestOneBit((number - <span class="number">1</span>) &lt;&lt; <span class="number">1</span>) : <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>hashå‡½æ•°</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**è¿™æ˜¯ä¸€ä¸ªç¥å¥‡çš„å‡½æ•°ï¼Œç”¨äº†å¾ˆå¤šçš„å¼‚æˆ–ï¼Œç§»ä½ç­‰è¿ç®—</span></span><br><span class="line"><span class="comment">å¯¹keyçš„hashcodeè¿›ä¸€æ­¥è¿›è¡Œè®¡ç®—ä»¥åŠäºŒè¿›åˆ¶ä½çš„è°ƒæ•´ç­‰æ¥ä¿è¯æœ€ç»ˆè·å–çš„å­˜å‚¨ä½ç½®å°½é‡åˆ†å¸ƒå‡åŒ€*/</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> h = hashSeed;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">0</span> != h &amp;&amp; k <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">            <span class="keyword">return</span> sun.misc.Hashing.stringHash32((String) k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        h ^= k.hashCode();</span><br><span class="line"></span><br><span class="line">        h ^= (h &gt;&gt;&gt; <span class="number">20</span>) ^ (h &gt;&gt;&gt; <span class="number">12</span>);</span><br><span class="line">        <span class="keyword">return</span> h ^ (h &gt;&gt;&gt; <span class="number">7</span>) ^ (h &gt;&gt;&gt; <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šhashå‡½æ•°è®¡ç®—å‡ºçš„å€¼ï¼Œé€šè¿‡indexForè¿›ä¸€æ­¥å¤„ç†æ¥è·å–å®é™…çš„å­˜å‚¨ä½ç½®</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æ•°ç»„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">indexFor</span><span class="params">(<span class="keyword">int</span> h, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> h &amp; (length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>h&amp;ï¼ˆlength-1ï¼‰ä¿è¯è·å–çš„indexä¸€å®šåœ¨æ•°ç»„èŒƒå›´å†…ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œé»˜è®¤å®¹é‡16ï¼Œlength-1=15ï¼Œh=18,è½¬æ¢æˆäºŒè¿›åˆ¶è®¡ç®—ä¸ºindex=2ã€‚ä½è¿ç®—å¯¹è®¡ç®—æœºæ¥è¯´ï¼Œæ€§èƒ½æ›´é«˜ä¸€äº›ï¼ˆHashMapä¸­æœ‰å¤§é‡ä½è¿ç®—ï¼‰</p><p>æ‰€ä»¥æœ€ç»ˆå­˜å‚¨ä½ç½®çš„ç¡®å®šæµç¨‹æ˜¯è¿™æ ·çš„ï¼š<br><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1750023899.png" alt="HashMapå¦‚ä½•ç¡®å®šå…ƒç´ ä½ç½®"></p><p>å†æ¥çœ‹çœ‹addEntryçš„å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((size &gt;= threshold) &amp;&amp; (<span class="keyword">null</span> != table[bucketIndex])) &#123;</span><br><span class="line">            resize(<span class="number">2</span> * table.length);<span class="comment">//å½“sizeè¶…è¿‡ä¸´ç•Œé˜ˆå€¼thresholdï¼Œå¹¶ä¸”å³å°†å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶è¿›è¡Œæ‰©å®¹</span></span><br><span class="line">            hash = (<span class="keyword">null</span> != key) ? hash(key) : <span class="number">0</span>;</span><br><span class="line">            bucketIndex = indexFor(hash, table.length);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        createEntry(hash, key, value, bucketIndex);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»¥ä¸Šä»£ç èƒ½å¤Ÿå¾—çŸ¥ï¼Œ<strong>å½“å‘ç”Ÿå“ˆå¸Œå†²çªå¹¶ä¸”sizeå¤§äºé˜ˆå€¼çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œæ‰©å®¹æ—¶ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªé•¿åº¦ä¸ºä¹‹å‰æ•°ç»„2å€çš„æ–°çš„æ•°ç»„ï¼Œç„¶åå°†å½“å‰çš„Entryæ•°ç»„ä¸­çš„å…ƒç´ å…¨éƒ¨ä¼ è¾“è¿‡å»ï¼Œæ‰©å®¹åçš„æ–°æ•°ç»„é•¿åº¦ä¸ºä¹‹å‰çš„2å€ï¼Œæ‰€ä»¥æ‰©å®¹ç›¸å¯¹æ¥è¯´æ˜¯ä¸ªè€—èµ„æºçš„æ“ä½œã€‚</strong></p><h3 id="ä¸‰ã€ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ"><a href="#ä¸‰ã€ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ" class="headerlink" title="ä¸‰ã€ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ"></a><strong>ä¸‰ã€ä¸ºä½•HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šæ˜¯2çš„æ¬¡å¹‚ï¼Ÿ</strong></h3><p>æˆ‘ä»¬æ¥ç»§ç»­çœ‹ä¸Šé¢æåˆ°çš„resizeæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>&#123;</span><br><span class="line">        Entry[] oldTable = table;</span><br><span class="line">        <span class="keyword">int</span> oldCapacity = oldTable.length;</span><br><span class="line">        <span class="keyword">if</span> (oldCapacity == MAXIMUM_CAPACITY) &#123;</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Entry[] newTable = <span class="keyword">new</span> Entry[newCapacity];</span><br><span class="line">        transfer(newTable, initHashSeedAsNeeded(newCapacity));</span><br><span class="line">        table = newTable;</span><br><span class="line">        threshold = (<span class="keyword">int</span>)Math.min(newCapacity * loadFactor, MAXIMUM_CAPACITY + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œæ•°ç»„é•¿åº¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œå­˜å‚¨ä½ç½® index = h&amp;(length-1),indexä¹Ÿå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦é‡æ–°è®¡ç®—indexï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹transferè¿™ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Entry[] newTable, <span class="keyword">boolean</span> rehash)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newCapacity = newTable.length;</span><br><span class="line">ã€€ã€€ã€€ã€€ã€€<span class="comment">//forå¾ªç¯ä¸­çš„ä»£ç ï¼Œé€ä¸ªéå†é“¾è¡¨ï¼Œé‡æ–°è®¡ç®—ç´¢å¼•ä½ç½®ï¼Œå°†è€æ•°ç»„æ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­å»ï¼ˆæ•°ç»„ä¸å­˜å‚¨å®é™…æ•°æ®ï¼Œæ‰€ä»¥ä»…ä»…æ˜¯æ‹·è´å¼•ç”¨è€Œå·²ï¼‰</span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e : table) &#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">null</span> != e) &#123;</span><br><span class="line">                Entry&lt;K,V&gt; next = e.next;</span><br><span class="line">                <span class="keyword">if</span> (rehash) &#123;</span><br><span class="line">                    e.hash = <span class="keyword">null</span> == e.key ? <span class="number">0</span> : hash(e.key);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> i = indexFor(e.hash, newCapacity);</span><br><span class="line">                <span class="comment">//å°†å½“å‰entryçš„nexté“¾æŒ‡å‘æ–°çš„ç´¢å¼•ä½ç½®,newTable[i]æœ‰å¯èƒ½ä¸ºç©ºï¼Œæœ‰å¯èƒ½ä¹Ÿæ˜¯ä¸ªentryé“¾ï¼Œå¦‚æœæ˜¯entryé“¾ï¼Œç›´æ¥åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥ã€‚</span></span><br><span class="line">                e.next = newTable[i];</span><br><span class="line">                newTable[i] = e;</span><br><span class="line">                e = next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•å°†è€æ•°ç»„ä¸­çš„æ•°æ®é€ä¸ªé“¾è¡¨åœ°éå†ï¼Œæ‰”åˆ°æ–°çš„æ‰©å®¹åçš„æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬çš„æ•°ç»„ç´¢å¼•ä½ç½®çš„è®¡ç®—æ˜¯é€šè¿‡ å¯¹keyå€¼çš„hashcodeè¿›è¡Œhashæ‰°ä¹±è¿ç®—åï¼Œå†é€šè¿‡å’Œ length-1è¿›è¡Œä½è¿ç®—å¾—åˆ°æœ€ç»ˆæ•°ç»„ç´¢å¼•ä½ç½®ã€‚</p><p>HashMapçš„æ•°ç»„é•¿åº¦ä¸€å®šä¿æŒ2çš„æ¬¡å¹‚ï¼Œæ¯”å¦‚16çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 10000ï¼Œé‚£ä¹ˆlength-1å°±æ˜¯15ï¼ŒäºŒè¿›åˆ¶ä¸º01111ï¼ŒåŒç†æ‰©å®¹åçš„æ•°ç»„é•¿åº¦ä¸º32ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º100000ï¼Œlength-1ä¸º31ï¼ŒäºŒè¿›åˆ¶è¡¨ç¤ºä¸º011111ã€‚ä»ä¸‹å›¾å¯ä»¥æˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°è¿™æ ·ä¼šä¿è¯ä½ä½å…¨ä¸º1ï¼Œè€Œæ‰©å®¹ååªæœ‰ä¸€ä½å·®å¼‚ï¼Œä¹Ÿå°±æ˜¯å¤šå‡ºäº†æœ€å·¦ä½çš„1ï¼Œè¿™æ ·åœ¨é€šè¿‡ h&amp;(length-1)çš„æ—¶å€™ï¼Œåªè¦hå¯¹åº”çš„æœ€å·¦è¾¹çš„é‚£ä¸€ä¸ªå·®å¼‚ä½ä¸º0ï¼Œå°±èƒ½ä¿è¯å¾—åˆ°çš„æ–°çš„æ•°ç»„ç´¢å¼•å’Œè€æ•°ç»„ç´¢å¼•ä¸€è‡´(å¤§å¤§å‡å°‘äº†ä¹‹å‰å·²ç»æ•£åˆ—è‰¯å¥½çš„è€æ•°ç»„çš„æ•°æ®ä½ç½®é‡æ–°è°ƒæ¢)ï¼Œä¸ªäººç†è§£ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3047568448.png" alt="5_1607063344221.png"></p><p>è¿˜æœ‰ï¼Œæ•°ç»„é•¿åº¦ä¿æŒ2çš„æ¬¡å¹‚ï¼Œlength-1çš„ä½ä½éƒ½ä¸º1ï¼Œä¼šä½¿å¾—è·å¾—çš„æ•°ç»„ç´¢å¼•indexæ›´åŠ å‡åŒ€</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/306216226.png" alt="6_1607063344222.png"></p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸Šé¢çš„&amp;è¿ç®—ï¼Œé«˜ä½æ˜¯ä¸ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“çš„ï¼ˆhashå‡½æ•°é‡‡ç”¨å„ç§ä½è¿ç®—å¯èƒ½ä¹Ÿæ˜¯ä¸ºäº†ä½¿å¾—ä½ä½æ›´åŠ æ•£åˆ—ï¼‰ï¼Œæˆ‘ä»¬åªå…³æ³¨ä½ä½bitï¼Œå¦‚æœä½ä½å…¨éƒ¨ä¸º1ï¼Œé‚£ä¹ˆå¯¹äºhä½ä½éƒ¨åˆ†æ¥è¯´ï¼Œä»»ä½•ä¸€ä½çš„å˜åŒ–éƒ½ä¼šå¯¹ç»“æœäº§ç”Ÿå½±å“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦å¾—åˆ°index=21è¿™ä¸ªå­˜å‚¨ä½ç½®ï¼Œhçš„ä½ä½åªæœ‰è¿™ä¸€ç§ç»„åˆã€‚è¿™ä¹Ÿæ˜¯æ•°ç»„é•¿åº¦è®¾è®¡ä¸ºå¿…é¡»ä¸º2çš„æ¬¡å¹‚çš„åŸå› ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2960632191.png" alt="7_1607063344223.png"><br>å¦‚æœä¸æ˜¯2çš„æ¬¡å¹‚ï¼Œä¹Ÿå°±æ˜¯ä½ä½ä¸æ˜¯å…¨ä¸º1æ­¤æ—¶ï¼Œè¦ä½¿å¾—index=21ï¼Œhçš„ä½ä½éƒ¨åˆ†ä¸å†å…·æœ‰å”¯ä¸€æ€§äº†ï¼Œå“ˆå¸Œå†²çªçš„å‡ ç‡ä¼šå˜çš„æ›´å¤§ï¼ŒåŒæ—¶ï¼Œindexå¯¹åº”çš„è¿™ä¸ªbitä½æ— è®ºå¦‚ä½•ä¸ä¼šç­‰äº1äº†ï¼Œè€Œå¯¹åº”çš„é‚£äº›æ•°ç»„ä½ç½®ä¹Ÿå°±è¢«ç™½ç™½æµªè´¹äº†ã€‚</p><p><strong>getæ–¹æ³•</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">ã€€ã€€ã€€ã€€ <span class="comment">//å¦‚æœkeyä¸ºnull,åˆ™ç›´æ¥å»table[0]å¤„å»æ£€ç´¢å³å¯ã€‚</span></span><br><span class="line">       <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">           <span class="keyword">return</span> getForNullKey();</span><br><span class="line">       Entry&lt;K,V&gt; entry = getEntry(key);</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">null</span> == entry ? <span class="keyword">null</span> : entry.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>getæ–¹æ³•é€šè¿‡keyå€¼è¿”å›å¯¹åº”valueï¼Œå¦‚æœkeyä¸ºnullï¼Œç›´æ¥å»table[0]å¤„æ£€ç´¢ã€‚æˆ‘ä»¬å†çœ‹ä¸€ä¸‹getEntryè¿™ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">final</span> Entry&lt;K,V&gt; <span class="title">getEntry</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//é€šè¿‡keyçš„hashcodeå€¼è®¡ç®—hashå€¼</span></span><br><span class="line">        <span class="keyword">int</span> hash = (key == <span class="keyword">null</span>) ? <span class="number">0</span> : hash(key);</span><br><span class="line">        <span class="comment">//indexFor (hash&amp;length-1) è·å–æœ€ç»ˆæ•°ç»„ç´¢å¼•ï¼Œç„¶åéå†é“¾è¡¨ï¼Œé€šè¿‡equalsæ–¹æ³•æ¯”å¯¹æ‰¾å‡ºå¯¹åº”è®°å½•</span></span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[indexFor(hash, table.length)];</span><br><span class="line">             e != <span class="keyword">null</span>;</span><br><span class="line">             e = e.next) &#123;</span><br><span class="line">            Object k;</span><br><span class="line">            <span class="keyword">if</span> (e.hash == hash &amp;&amp; </span><br><span class="line">                ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                <span class="keyword">return</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œgetæ–¹æ³•çš„å®ç°ç›¸å¯¹ç®€å•ï¼Œkey(hashcode)â€“&gt;hashâ€“&gt;indexForâ€“&gt;æœ€ç»ˆç´¢å¼•ä½ç½®ï¼Œæ‰¾åˆ°å¯¹åº”ä½ç½®table[i]ï¼Œå†æŸ¥çœ‹æ˜¯å¦æœ‰é“¾è¡¨ï¼Œéå†é“¾è¡¨ï¼Œé€šè¿‡keyçš„equalsæ–¹æ³•æ¯”å¯¹æŸ¥æ‰¾å¯¹åº”çš„è®°å½•ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äººè§‰å¾—ä¸Šé¢åœ¨å®šä½åˆ°æ•°ç»„ä½ç½®ä¹‹åç„¶åéå†é“¾è¡¨çš„æ—¶å€™ï¼Œe.hash == hashè¿™ä¸ªåˆ¤æ–­æ²¡å¿…è¦ï¼Œä»…é€šè¿‡equalsåˆ¤æ–­å°±å¯ä»¥ã€‚å…¶å®ä¸ç„¶ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä¼ å…¥çš„keyå¯¹è±¡é‡å†™äº†equalsæ–¹æ³•å´æ²¡æœ‰é‡å†™hashCodeï¼Œè€Œæ°å·§æ­¤å¯¹è±¡å®šä½åˆ°è¿™ä¸ªæ•°ç»„ä½ç½®ï¼Œå¦‚æœä»…ä»…ç”¨equalsåˆ¤æ–­å¯èƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä½†å…¶hashCodeå’Œå½“å‰å¯¹è±¡ä¸ä¸€è‡´ï¼Œè¿™ç§æƒ…å†µï¼Œæ ¹æ®Objectçš„hashCodeçš„çº¦å®šï¼Œä¸èƒ½è¿”å›å½“å‰å¯¹è±¡ï¼Œè€Œåº”è¯¥è¿”å›nullï¼Œåé¢çš„ä¾‹å­ä¼šåšå‡ºè¿›ä¸€æ­¥è§£é‡Šã€‚</p><h3 id="å››ã€é‡å†™equalsæ–¹æ³•éœ€åŒæ—¶é‡å†™hashCodeæ–¹æ³•"><a href="#å››ã€é‡å†™equalsæ–¹æ³•éœ€åŒæ—¶é‡å†™hashCodeæ–¹æ³•" class="headerlink" title="å››ã€é‡å†™equalsæ–¹æ³•éœ€åŒæ—¶é‡å†™hashCodeæ–¹æ³•"></a><strong>å››ã€é‡å†™equalsæ–¹æ³•éœ€åŒæ—¶é‡å†™hashCodeæ–¹æ³•</strong></h3><p>æœ€åæˆ‘ä»¬å†èŠèŠè€ç”Ÿå¸¸è°ˆçš„ä¸€ä¸ªé—®é¢˜ï¼Œå„ç§èµ„æ–™ä¸Šéƒ½ä¼šæåˆ°ï¼Œâ€œé‡å†™equalsæ—¶ä¹Ÿè¦åŒæ—¶è¦†ç›–hashcodeâ€ï¼Œæˆ‘ä»¬ä¸¾ä¸ªå°ä¾‹å­æ¥çœ‹çœ‹ï¼Œå¦‚æœé‡å†™äº†equalsè€Œä¸é‡å†™hashcodeä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„é—®é¢˜</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> idCard;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> idCard, String name)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.idCard = idCard;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span> == o) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            Person person = (Person) o;</span><br><span class="line">            <span class="comment">//ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç­‰å€¼ï¼Œé€šè¿‡idCardæ¥ç¡®å®š</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.idCard == person.idCard;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        HashMap&lt;Person,String&gt; map = <span class="keyword">new</span> HashMap&lt;Person, String&gt;();</span><br><span class="line">        Person person = <span class="keyword">new</span> Person(<span class="number">1234</span>,<span class="string">&quot;ä¹”å³°&quot;</span>);</span><br><span class="line">        <span class="comment">//putåˆ°hashmapä¸­å»</span></span><br><span class="line">        map.put(person,<span class="string">&quot;å¤©é¾™å…«éƒ¨&quot;</span>);</span><br><span class="line">        <span class="comment">//getå–å‡ºï¼Œä»é€»è¾‘ä¸Šè®²åº”è¯¥èƒ½è¾“å‡ºâ€œå¤©é¾™å…«éƒ¨â€</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ç»“æœ:&quot;</span>+map.get(<span class="keyword">new</span> Person(<span class="number">1234</span>,<span class="string">&quot;è§å³°&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å®é™…è¾“å‡ºç»“æœï¼š<span class="keyword">null</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬å·²ç»å¯¹HashMapçš„åŸç†æœ‰äº†ä¸€å®šäº†è§£ï¼Œè¿™ä¸ªç»“æœå°±ä¸éš¾ç†è§£äº†ã€‚å°½ç®¡æˆ‘ä»¬åœ¨è¿›è¡Œgetå’Œputæ“ä½œçš„æ—¶å€™ï¼Œä½¿ç”¨çš„keyä»é€»è¾‘ä¸Šè®²æ˜¯ç­‰å€¼çš„ï¼ˆé€šè¿‡equalsæ¯”è¾ƒæ˜¯ç›¸ç­‰çš„ï¼‰ï¼Œä½†ç”±äºæ²¡æœ‰é‡å†™hashCodeæ–¹æ³•ï¼Œæ‰€ä»¥putæ“ä½œæ—¶ï¼Œkey(hashcode1)â€“&gt;hashâ€“&gt;indexForâ€“&gt;æœ€ç»ˆç´¢å¼•ä½ç½® ï¼Œè€Œé€šè¿‡keyå–å‡ºvalueçš„æ—¶å€™ key(hashcode1)â€“&gt;hashâ€“&gt;indexForâ€“&gt;æœ€ç»ˆç´¢å¼•ä½ç½®ï¼Œç”±äºhashcode1ä¸ç­‰äºhashcode2ï¼Œå¯¼è‡´æ²¡æœ‰å®šä½åˆ°ä¸€ä¸ªæ•°ç»„ä½ç½®è€Œè¿”å›é€»è¾‘ä¸Šé”™è¯¯çš„å€¼nullï¼ˆä¹Ÿæœ‰å¯èƒ½ç¢°å·§å®šä½åˆ°ä¸€ä¸ªæ•°ç»„ä½ç½®ï¼Œä½†æ˜¯ä¹Ÿä¼šåˆ¤æ–­å…¶entryçš„hashå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸Šé¢getæ–¹æ³•ä¸­æœ‰æåˆ°ã€‚ï¼‰</p><p>æ‰€ä»¥ï¼Œåœ¨é‡å†™equalsçš„æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»æ³¨æ„é‡å†™hashCodeæ–¹æ³•ï¼ŒåŒæ—¶è¿˜è¦ä¿è¯é€šè¿‡equalsåˆ¤æ–­ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨hashCodeæ–¹æ³•è¦è¿”å›åŒæ ·çš„æ•´æ•°å€¼ã€‚è€Œå¦‚æœequalsåˆ¤æ–­ä¸ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œå…¶hashCodeå¯ä»¥ç›¸åŒï¼ˆåªä¸è¿‡ä¼šå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œåº”å°½é‡é¿å…ï¼‰ã€‚</p><h3 id="äº”ã€JDK1-8ä¸­HashMapçš„æ€§èƒ½ä¼˜åŒ–"><a href="#äº”ã€JDK1-8ä¸­HashMapçš„æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="äº”ã€JDK1.8ä¸­HashMapçš„æ€§èƒ½ä¼˜åŒ–"></a><strong>äº”ã€JDK1.8ä¸­HashMapçš„æ€§èƒ½ä¼˜åŒ–</strong></h3><p>å‡å¦‚ä¸€ä¸ªæ•°ç»„æ§½ä½ä¸Šé“¾ä¸Šæ•°æ®è¿‡å¤šï¼ˆå³æ‹‰é“¾è¿‡é•¿çš„æƒ…å†µï¼‰å¯¼è‡´æ€§èƒ½ä¸‹é™è¯¥æ€ä¹ˆåŠï¼Ÿ<br>JDK1.8åœ¨JDK1.7çš„åŸºç¡€ä¸Šé’ˆå¯¹å¢åŠ äº†çº¢é»‘æ ‘æ¥è¿›è¡Œä¼˜åŒ–ã€‚å³å½“é“¾è¡¨è¶…è¿‡8æ—¶ï¼Œé“¾è¡¨å°±è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œåˆ©ç”¨çº¢é»‘æ ‘å¿«é€Ÿå¢åˆ æ”¹æŸ¥çš„ç‰¹ç‚¹æé«˜HashMapçš„æ€§èƒ½ï¼Œå…¶ä¸­ä¼šç”¨åˆ°çº¢é»‘æ ‘çš„æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰ç®—æ³•ã€‚<br>å…³äºè¿™æ–¹é¢çš„æ¢è®¨æˆ‘ä»¬ä»¥åçš„æ–‡ç« å†åšè¯´æ˜ã€‚<br><strong>é™„ï¼šHashMap putæ–¹æ³•é€»è¾‘å›¾ï¼ˆJDK1.8ï¼‰</strong></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/4033491947.png" alt="HashMap putæ–¹æ³•é€»è¾‘å›¾"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é•¿ç‚¹å¿ƒå§ï¼Œå·²ç»ä¸¢äº†4æŠŠä¼äº†</title>
      <link href="2020/12/03/2020-12-03-aaa/"/>
      <url>2020/12/03/2020-12-03-aaa/</url>
      
        <content type="html"><![CDATA[<p>çœŸçš„å¯¹è‡ªå·±æ— è¯­äº†(Â´à®‡çš¿à®‡ï½€)</p><p>å·²ç»ä¸¢äº†4æŠŠä¼äº†å•Šå•Šå•Šå•Š</p><p>é•¿ç‚¹è®°æ€§æŠŠ</p><p>!!!</p><center class="half"><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3333452825.png" alt="æ·˜å®ä¹°çš„ä¼" width="400px"/><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1966231072.png" alt="äº¬ä¸œä¹°çš„ä¼" width="400px"/></center>!!!<p>æˆ‘è¦å“­äº† ::aru:crying:: </p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2758524552.jpg" alt="å€’éœ‰.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5ç§å¸¸è§Beanæ˜ å°„å·¥å…·çš„æ€§èƒ½æ¯”å¯¹</title>
      <link href="2020/12/02/2020-12-02-bean-mapper/"/>
      <url>2020/12/02/2020-12-02-bean-mapper/</url>
      
        <content type="html"><![CDATA[<h2 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1. ä»‹ç»"></a>1. ä»‹ç»</h2><p>åˆ›å»ºç”±å¤šä¸ªå±‚ç»„æˆçš„å¤§å‹ Java åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨å¤šç§é¢†åŸŸæ¨¡å‹ï¼Œå¦‚æŒä¹…åŒ–æ¨¡å‹ã€é¢†åŸŸæ¨¡å‹æˆ–è€…æ‰€è°“çš„ DTOã€‚ä¸ºä¸åŒçš„åº”ç”¨ç¨‹åºå±‚ä½¿ç”¨å¤šä¸ªæ¨¡å‹å°†è¦æ±‚æˆ‘ä»¬æä¾› bean ä¹‹é—´çš„æ˜ å°„æ–¹æ³•ã€‚æ‰‹åŠ¨æ‰§è¡Œæ­¤æ“ä½œå¯ä»¥å¿«é€Ÿåˆ›å»ºå¤§é‡æ ·æ¿ä»£ç å¹¶æ¶ˆè€—å¤§é‡æ—¶é—´ã€‚å¹¸è¿çš„æ˜¯ï¼ŒJava æœ‰å¤šä¸ªå¯¹è±¡æ˜ å°„æ¡†æ¶ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒæœ€æµè¡Œçš„ Java æ˜ å°„æ¡†æ¶çš„æ€§èƒ½ã€‚</p><blockquote><p>ç»¼åˆæ—¥å¸¸ä½¿ç”¨æƒ…å†µå’Œç›¸å…³æµ‹è¯•æ•°æ®ï¼Œä¸ªäººæ„Ÿè§‰ MapStructã€ModelMapper è¿™ä¸¤ä¸ª Bean æ˜ å°„æ¡†æ¶æ˜¯æœ€ä½³é€‰æ‹©ã€‚</p></blockquote><h2 id="2-å¸¸è§-Bean-æ˜ å°„æ¡†æ¶æ¦‚è§ˆ"><a href="#2-å¸¸è§-Bean-æ˜ å°„æ¡†æ¶æ¦‚è§ˆ" class="headerlink" title="2. å¸¸è§ Bean æ˜ å°„æ¡†æ¶æ¦‚è§ˆ"></a>2. å¸¸è§ Bean æ˜ å°„æ¡†æ¶æ¦‚è§ˆ</h2><h3 id="2-1-Dozer"><a href="#2-1-Dozer" class="headerlink" title="2.1. Dozer"></a>2.1. Dozer</h3><p>Dozer æ˜¯ä¸€ä¸ªæ˜ å°„æ¡†æ¶ï¼Œå®ƒä½¿ç”¨é€’å½’å°†æ•°æ®ä»ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚æ¡†æ¶ä¸ä»…èƒ½å¤Ÿåœ¨ bean ä¹‹é—´å¤åˆ¶å±æ€§ï¼Œè¿˜èƒ½å¤Ÿåœ¨ä¸åŒç±»å‹ä¹‹é—´è‡ªåŠ¨è½¬æ¢ã€‚</p><p>è¦ä½¿ç”¨ Dozer æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.dozer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dozer<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå…³äº Dozer çš„å†…å®¹å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼š <a href="http://dozer.sourceforge.net/documentation/gettingstarted.html">http://dozer.sourceforge.net/documentation/gettingstarted.html</a> ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.baeldung.com/dozer">https://www.baeldung.com/dozer</a> ã€‚</p><h3 id="2-2-Orika"><a href="#2-2-Orika" class="headerlink" title="2.2. Orika"></a>2.2. Orika</h3><p>Orika æ˜¯ä¸€ä¸ª bean åˆ° bean çš„æ˜ å°„æ¡†æ¶ï¼Œå®ƒé€’å½’åœ°å°†æ•°æ®ä»ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>Orika çš„å·¥ä½œåŸç†ä¸ Dozer ç›¸ä¼¼ã€‚ä¸¤è€…ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯ Orika ä½¿ç”¨å­—èŠ‚ç ç”Ÿæˆã€‚è¿™å…è®¸ä»¥æœ€å°çš„å¼€é”€ç”Ÿæˆæ›´å¿«çš„æ˜ å°„å™¨ã€‚</p><p>è¦ä½¿ç”¨ Orika æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ma.glasnost.orika<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>orika-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå…³äº Orika çš„å†…å®¹å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼š<a href="https://orika-mapper.github.io/orika-docs/%EF%BC%8C%E6%88%96%E8%80%85%E4%BD%A0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%98%85%E8%AF%BB%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%EF%BC%9Ahttps://www.baeldung.com/orika-mapping%E3%80%82">https://orika-mapper.github.io/orika-docs/ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼šhttps://www.baeldung.com/orika-mappingã€‚</a></p><h3 id="2-3-MapStruct"><a href="#2-3-MapStruct" class="headerlink" title="2.3. MapStruct"></a>2.3. MapStruct</h3><p>MapStruct æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ bean mapper ç±»çš„ä»£ç ç”Ÿæˆå™¨ã€‚MapStruct è¿˜èƒ½å¤Ÿåœ¨ä¸åŒçš„æ•°æ®ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚Github åœ°å€ï¼š<a href="https://github.com/mapstruct/mapstruct%E3%80%82">https://github.com/mapstruct/mapstructã€‚</a></p><p>è¦ä½¿ç”¨ MapStruct æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šå…³äº MapStruct çš„å†…å®¹å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼š<a href="https://mapstruct.org/%EF%BC%8C%E6%88%96%E8%80%85%E4%BD%A0%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%98%85%E8%AF%BB%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0%EF%BC%9Ahttps://www.baeldung.com/mapstruct%E3%80%82">https://mapstruct.org/ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼šhttps://www.baeldung.com/mapstructã€‚</a></p><p>è¦ä½¿ç”¨ MapStruct æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-4-ModelMapper"><a href="#2-4-ModelMapper" class="headerlink" title="2.4. ModelMapper"></a>2.4. ModelMapper</h3><p>ModelMapper æ˜¯ä¸€ä¸ªæ—¨åœ¨ç®€åŒ–å¯¹è±¡æ˜ å°„çš„æ¡†æ¶ï¼Œå®ƒæ ¹æ®çº¦å®šç¡®å®šå¯¹è±¡ä¹‹é—´çš„æ˜ å°„æ–¹å¼ã€‚å®ƒæä¾›äº†ç±»å‹å®‰å…¨çš„å’Œé‡æ„å®‰å…¨çš„ APIã€‚</p><p>æ›´å¤šå…³äº ModelMapper çš„å†…å®¹å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼š<a href="http://modelmapper.org/">http://modelmapper.org/</a> ã€‚</p><p>è¦ä½¿ç”¨ ModelMapper æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.modelmapper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>modelmapper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-5-JMapper"><a href="#2-5-JMapper" class="headerlink" title="2.5. JMapper"></a>2.5. JMapper</h3><p>JMapper æ˜¯ä¸€ä¸ªæ˜ å°„æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›æ˜“äºä½¿ç”¨çš„ã€é«˜æ€§èƒ½çš„ Java bean ä¹‹é—´çš„æ˜ å°„ã€‚è¯¥æ¡†æ¶æ—¨åœ¨ä½¿ç”¨æ³¨é‡Šå’Œå…³ç³»æ˜ å°„åº”ç”¨ DRY åŸåˆ™ã€‚è¯¥æ¡†æ¶å…è®¸ä¸åŒçš„é…ç½®æ–¹å¼:åŸºäºæ³¨é‡Šã€XML æˆ–åŸºäº apiã€‚</p><p>æ›´å¤šå…³äº JMapper çš„å†…å®¹å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°ï¼š<a href="https://github.com/jmapper-framework/jmapper-core/wiki%E3%80%82">https://github.com/jmapper-framework/jmapper-core/wikiã€‚</a></p><p>è¦ä½¿ç”¨ JMapper æ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ è¿™æ ·çš„ä¾èµ–åˆ°æˆ‘ä»¬çš„é¡¹ç›®:</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;dependency&gt;</span></span><br><span class="line">    <span class="section">&lt;groupId&gt;</span><span class="attribute">com</span>.googlecode.jmapper-framework&lt;/groupId&gt;</span><br><span class="line">    <span class="section">&lt;artifactId&gt;</span><span class="attribute">jmapper</span>-core&lt;/artifactId&gt;</span><br><span class="line">    <span class="section">&lt;version&gt;</span><span class="attribute">1</span>.<span class="number">6</span>.<span class="number">0</span>.<span class="number">1</span>&lt;/version&gt;</span><br><span class="line"><span class="section">&lt;/dependency&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-æµ‹è¯•æ¨¡å‹"><a href="#3-æµ‹è¯•æ¨¡å‹" class="headerlink" title="3.æµ‹è¯•æ¨¡å‹"></a>3.æµ‹è¯•æ¨¡å‹</h2><p>ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®åœ°æµ‹è¯•æ˜ å°„ï¼Œæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªæºå’Œç›®æ ‡æ¨¡å‹ã€‚æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸¤ä¸ªæµ‹è¯•æ¨¡å‹ã€‚</p><p>ç¬¬ä¸€ä¸ªæ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²å­—æ®µçš„ç®€å• POJOï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨æ›´ç®€å•çš„æƒ…å†µä¸‹æ¯”è¾ƒæ¡†æ¶ï¼Œå¹¶æ£€æŸ¥å¦‚æœæˆ‘ä»¬ä½¿ç”¨æ›´å¤æ‚çš„ bean æ˜¯å¦ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚</p><p>ç®€å•çš„æºæ¨¡å‹å¦‚ä¸‹:</p><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SourceCode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">String</span> code;</span><br><span class="line">    <span class="comment">// getter and setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒçš„ç›®æ ‡ä¹Ÿå¾ˆç›¸ä¼¼:</p><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DestinationCode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">String</span> code;</span><br><span class="line">    <span class="comment">// getter and setter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æº bean çš„å®é™…ç¤ºä¾‹å¦‚ä¸‹:</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">SourceOrder</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String orderFinishDate;</span><br><span class="line">    <span class="keyword">private</span> PaymentType paymentType;</span><br><span class="line">    <span class="keyword">private</span> Discount discount;</span><br><span class="line">    <span class="keyword">private</span> DeliveryData deliveryData;</span><br><span class="line">    <span class="keyword">private</span> User orderingUser;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Product&gt; orderedProducts;</span><br><span class="line">    <span class="keyword">private</span> Shop offeringShop;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> orderId;</span><br><span class="line">    <span class="keyword">private</span> OrderStatus status;</span><br><span class="line">    <span class="keyword">private</span> LocalDate orderDate;</span><br><span class="line">    <span class="comment">// standard getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®æ ‡ç±»å¦‚ä¸‹å›¾æ‰€ç¤º:</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">Order</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> User orderingUser;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Product&gt; orderedProducts;</span><br><span class="line">    <span class="keyword">private</span> OrderStatus orderStatus;</span><br><span class="line">    <span class="keyword">private</span> LocalDate orderDate;</span><br><span class="line">    <span class="keyword">private</span> LocalDate orderFinishDate;</span><br><span class="line">    <span class="keyword">private</span> PaymentType paymentType;</span><br><span class="line">    <span class="keyword">private</span> Discount discount;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> shopId;</span><br><span class="line">    <span class="keyword">private</span> DeliveryData deliveryData;</span><br><span class="line">    <span class="keyword">private</span> Shop offeringShop;</span><br><span class="line">    <span class="comment">// standard getters and setters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´ä¸ªæ¨¡å‹ç»“æ„å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°:<a href="https://github.com/eugenp/tutorials/tree/master/performance-tests/src/main/java/com/baeldung/performancetests/model/source%E3%80%82">https://github.com/eugenp/tutorials/tree/master/performance-tests/src/main/java/com/baeldung/performancetests/model/sourceã€‚</a></p><h2 id="4-è½¬æ¢å™¨"><a href="#4-è½¬æ¢å™¨" class="headerlink" title="4. è½¬æ¢å™¨"></a>4. è½¬æ¢å™¨</h2><p>ä¸ºäº†ç®€åŒ–æµ‹è¯•è®¾ç½®çš„è®¾è®¡ï¼Œæˆ‘ä»¬åˆ›å»ºäº†å¦‚ä¸‹æ‰€ç¤ºçš„è½¬æ¢å™¨æ¥å£:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Converter</span> </span>&#123;</span><br><span class="line">    <span class="function">Order <span class="title">convert</span><span class="params">(SourceOrder sourceOrder)</span></span>;</span><br><span class="line">    <span class="function">DestinationCode <span class="title">convert</span><span class="params">(SourceCode sourceCode)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ‰€æœ‰çš„è‡ªå®šä¹‰æ˜ å°„å™¨éƒ½å°†å®ç°è¿™ä¸ªæ¥å£ã€‚</p><h3 id="4-1-OrikaConverter"><a href="#4-1-OrikaConverter" class="headerlink" title="4.1. OrikaConverter"></a>4.1. OrikaConverter</h3><p>Orika æ”¯æŒå®Œæ•´çš„ API å®ç°ï¼Œè¿™å¤§å¤§ç®€åŒ–äº† mapper çš„åˆ›å»º:</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrikaConverter</span> <span class="keyword">implements</span> <span class="title">Converter</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> MapperFacade mapperFacade;    <span class="function"><span class="keyword">public</span> <span class="title">OrikaConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        MapperFactory mapperFactory = <span class="keyword">new</span> DefaultMapperFactory</span><br><span class="line">          .Builder().build();        mapperFactory.classMap(Order.class, SourceOrder.class)</span><br><span class="line">          .field(<span class="string">&quot;orderStatus&quot;</span>, <span class="string">&quot;status&quot;</span>).byDefault().register();</span><br><span class="line">        mapperFacade = mapperFactory.getMapperFacade();</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">Order <span class="title">convert</span><span class="params">(SourceOrder sourceOrder)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> mapperFacade.<span class="title">map</span><span class="params">(sourceOrder, Order.class)</span></span>;</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">DestinationCode <span class="title">convert</span><span class="params">(SourceCode sourceCode)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> mapperFacade.<span class="title">map</span><span class="params">(sourceCode, DestinationCode.class)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-DozerConverter"><a href="#4-2-DozerConverter" class="headerlink" title="4.2. DozerConverter"></a>4.2. <strong>DozerConverter</strong></h3><p>Dozer éœ€è¦ XML æ˜ å°„æ–‡ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†:</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mappings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://dozer.sourceforge.net&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://dozer.sourceforge.net</span></span></span><br><span class="line"><span class="tag"><span class="string">  http://dozer.sourceforge.net/schema/beanmapping.xsd&quot;</span>&gt;</span>    <span class="tag">&lt;<span class="name">mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class-a</span>&gt;</span>com.baeldung.performancetests.model.source.SourceOrder<span class="tag">&lt;/<span class="name">class-a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class-b</span>&gt;</span>com.baeldung.performancetests.model.destination.Order<span class="tag">&lt;/<span class="name">class-b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span>&gt;</span>status<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">b</span>&gt;</span>orderStatus<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class-a</span>&gt;</span>com.baeldung.performancetests.model.source.SourceCode<span class="tag">&lt;/<span class="name">class-a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">class-b</span>&gt;</span>com.baeldung.performancetests.model.destination.DestinationCode<span class="tag">&lt;/<span class="name">class-b</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappings</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰äº† XML æ˜ å°„åï¼Œæˆ‘ä»¬å¯ä»¥ä»ä»£ç ä¸­ä½¿ç”¨å®ƒ:</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DozerConverter</span> <span class="keyword">implements</span> <span class="title">Converter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Mapper mapper;    <span class="function"><span class="keyword">public</span> <span class="title">DozerConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DozerBeanMapper mapper = <span class="keyword">new</span> DozerBeanMapper();</span><br><span class="line">        mapper.addMapping(</span><br><span class="line">          DozerConverter.class.getResourceAsStream(<span class="string">&quot;/dozer-mapping.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">this</span>.mapper = mapper;</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">Order <span class="title">convert</span><span class="params">(SourceOrder sourceOrder)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> mapper.<span class="title">map</span><span class="params">(sourceOrder,Order.class)</span></span>;</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">DestinationCode <span class="title">convert</span><span class="params">(SourceCode sourceCode)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> mapper.<span class="title">map</span><span class="params">(sourceCode, DestinationCode.class)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-3-MapStructConverter"><a href="#4-3-MapStructConverter" class="headerlink" title="4.3. MapStructConverter"></a>4.3. MapStructConverter</h3><p>Map ç»“æ„çš„å®šä¹‰éå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒå®Œå…¨åŸºäºä»£ç ç”Ÿæˆ:</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MapStructConverter</span> <span class="keyword">extends</span> <span class="title">Converter</span> </span>&#123;</span><br><span class="line">    MapStructConverter MAPPER = Mappers.getMapper(MapStructConverter.class);    <span class="meta">@Mapping</span>(source = <span class="string">&quot;status&quot;</span>, <span class="keyword">target</span> = <span class="string">&quot;orderStatus&quot;</span>)</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function">Order <span class="title">convert</span><span class="params">(SourceOrder sourceOrder)</span></span>;    <span class="meta">@Override</span></span><br><span class="line">    <span class="function">DestinationCode <span class="title">convert</span><span class="params">(SourceCode sourceCode)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-4-JMapperConverter"><a href="#4-4-JMapperConverter" class="headerlink" title="4.4. JMapperConverter"></a>4.4. <strong>JMapperConverter</strong></h3><p>JMapperConverter éœ€è¦åšæ›´å¤šçš„å·¥ä½œã€‚æ¥å£å®ç°å:</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> JMapperConverter implements Converter &#123;</span><br><span class="line">    JMapper realLifeMapper;</span><br><span class="line">    JMapper simpleMapper;    <span class="built_in">public</span> JMapperConverter() &#123;</span><br><span class="line">        JMapperAPI api = <span class="built_in">new</span> JMapperAPI()</span><br><span class="line">          .<span class="keyword">add</span>(JMapperAPI.mappedClass(<span class="keyword">Order</span>.<span class="keyword">class</span>));</span><br><span class="line">        realLifeMapper = <span class="built_in">new</span> JMapper(<span class="keyword">Order</span>.<span class="keyword">class</span>, SourceOrder.<span class="keyword">class</span>, api);</span><br><span class="line">        JMapperAPI simpleApi = <span class="built_in">new</span> JMapperAPI()</span><br><span class="line">          .<span class="keyword">add</span>(JMapperAPI.mappedClass(DestinationCode.<span class="keyword">class</span>));</span><br><span class="line">        simpleMapper = <span class="built_in">new</span> JMapper(</span><br><span class="line">          DestinationCode.<span class="keyword">class</span>, SourceCode.<span class="keyword">class</span>, simpleApi);</span><br><span class="line">    &#125;    @Override</span><br><span class="line">    <span class="built_in">public</span> <span class="keyword">Order</span> convert(SourceOrder sourceOrder) &#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">Order</span>) realLifeMapper.getDestination(sourceOrder);</span><br><span class="line">    &#125;    @Override</span><br><span class="line">    <span class="built_in">public</span> DestinationCode convert(SourceCode sourceCode) &#123;</span><br><span class="line">        <span class="keyword">return</span> (DestinationCode) simpleMapper.getDestination(sourceCode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜éœ€è¦å‘ç›®æ ‡ç±»çš„æ¯ä¸ªå­—æ®µæ·»åŠ <code>@JMap</code>æ³¨é‡Šã€‚æ­¤å¤–ï¼ŒJMapper ä¸èƒ½åœ¨ enum ç±»å‹ä¹‹é—´è½¬æ¢ï¼Œå®ƒéœ€è¦æˆ‘ä»¬åˆ›å»ºè‡ªå®šä¹‰æ˜ å°„å‡½æ•°:</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@JMapConversion</span>(<span class="keyword">from</span> = <span class="string">&quot;paymentType&quot;</span>, to = <span class="string">&quot;paymentType&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> PaymentType <span class="function"><span class="title">conversion</span>(<span class="params">com.baeldung.performancetests.model.source.PaymentType <span class="keyword">type</span></span>)</span> &#123;</span><br><span class="line">    PaymentType paymentType = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">switch</span>(<span class="keyword">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> CARD:</span><br><span class="line">            paymentType = PaymentType.CARD;</span><br><span class="line">            <span class="keyword">break</span>;        <span class="keyword">case</span> CASH:</span><br><span class="line">            paymentType = PaymentType.CASH;</span><br><span class="line">            <span class="keyword">break</span>;        <span class="keyword">case</span> TRANSFER:</span><br><span class="line">            paymentType = PaymentType.TRANSFER;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> paymentType;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-5-ModelMapperConverter"><a href="#4-5-ModelMapperConverter" class="headerlink" title="4.5. ModelMapperConverter"></a>4.5. <strong>ModelMapperConverter</strong></h3><p>ModelMapperConverter åªéœ€è¦æä¾›æˆ‘ä»¬æƒ³è¦æ˜ å°„çš„ç±»:</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ModelMapperConverter</span> <span class="keyword">implements</span> <span class="title">Converter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ModelMapper modelMapper;    <span class="function"><span class="keyword">public</span> <span class="title">ModelMapperConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        modelMapper = <span class="keyword">new</span> ModelMapper();</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">Order <span class="title">convert</span><span class="params">(SourceOrder sourceOrder)</span> </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">return</span> modelMapper.<span class="title">map</span><span class="params">(sourceOrder, Order.class)</span></span>;</span><br><span class="line">    &#125;    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">DestinationCode <span class="title">convert</span><span class="params">(SourceCode sourceCode)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> modelMapper.<span class="title">map</span><span class="params">(sourceCode, DestinationCode.class)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç®€å•çš„æ¨¡å‹æµ‹è¯•"><a href="#5-ç®€å•çš„æ¨¡å‹æµ‹è¯•" class="headerlink" title="5. ç®€å•çš„æ¨¡å‹æµ‹è¯•"></a>5. ç®€å•çš„æ¨¡å‹æµ‹è¯•</h2><p>å¯¹äºæ€§èƒ½æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Java Microbenchmark Harnessï¼Œå…³äºå¦‚ä½•ä½¿ç”¨å®ƒçš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ è¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.baeldung.com/java-microbenchmark-harness">https://www.baeldung.com/java-microbenchmark-harness</a> ä¸­æ‰¾åˆ°ã€‚</p><p>æˆ‘ä»¬ä¸ºæ¯ä¸ªè½¬æ¢å™¨åˆ›å»ºäº†ä¸€ä¸ªå•ç‹¬çš„åŸºå‡†æµ‹è¯•ï¼Œå¹¶å°†åŸºå‡†æµ‹è¯•æ¨¡å¼æŒ‡å®šä¸º Mode.Allã€‚</p><h3 id="5-1-å¹³å‡æ—¶é—´"><a href="#5-1-å¹³å‡æ—¶é—´" class="headerlink" title="5.1. å¹³å‡æ—¶é—´"></a>5.1. å¹³å‡æ—¶é—´</h3><p>å¯¹äºå¹³å‡è¿è¡Œæ—¶é—´ï¼ŒJMH è¿”å›ä»¥ä¸‹ç»“æœ(è¶Šå°‘è¶Šå¥½):</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2472732648.png" alt="å¹³å‡æ—¶é—´.png"></p><p>è¿™ä¸ªåŸºå‡†æµ‹è¯•æ¸…æ¥šåœ°è¡¨æ˜ï¼ŒMapStruct å’Œ JMapper éƒ½æœ‰æœ€ä½³çš„å¹³å‡å·¥ä½œæ—¶é—´ã€‚</p><h3 id="5-2-ååé‡"><a href="#5-2-ååé‡" class="headerlink" title="5.2. ååé‡"></a>5.2. ååé‡</h3><p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒåŸºå‡†æµ‹è¯•è¿”å›æ¯ç§’çš„æ“ä½œæ•°ã€‚æˆ‘ä»¬æ”¶åˆ°ä»¥ä¸‹ç»“æœ(è¶Šå¤šè¶Šå¥½):</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3516383806.png" alt="ååé‡.png"></p><p>åœ¨ååé‡æ¨¡å¼ä¸­ï¼ŒMapStruct æ˜¯æµ‹è¯•æ¡†æ¶ä¸­æœ€å¿«çš„ï¼ŒJMapper ç´§éšå…¶åã€‚</p><h3 id="5-3-SingleShotTime"><a href="#5-3-SingleShotTime" class="headerlink" title="5.3. SingleShotTime"></a>5.3. <strong>SingleShotTime</strong></h3><p>è¿™ç§æ¨¡å¼å…è®¸æµ‹é‡å•ä¸ªæ“ä½œä»å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´ã€‚åŸºå‡†ç»™å‡ºäº†ä»¥ä¸‹ç»“æœ(è¶Šå°‘è¶Šå¥½):</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/3156994960.png" alt="å•ä¾‹æœ€çŸ­æ—¶é—´.png"></p><p>è¿™é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ° JMapper è¿”å›çš„ç»“æœæ¯” MapStruct å¥½å¾—å¤šã€‚</p><h3 id="5-4-é‡‡æ ·æ—¶é—´"><a href="#5-4-é‡‡æ ·æ—¶é—´" class="headerlink" title="5.4. é‡‡æ ·æ—¶é—´"></a>5.4. <strong>é‡‡æ ·æ—¶é—´</strong></h3><p>è¿™ç§æ¨¡å¼å…è®¸å¯¹æ¯ä¸ªæ“ä½œçš„æ—¶é—´è¿›è¡Œé‡‡æ ·ã€‚ä¸‰ä¸ªä¸åŒç™¾åˆ†ä½æ•°çš„ç»“æœå¦‚ä¸‹:</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2765869866.png" alt="é‡‡æ ·æ—¶é—´.png"></p><p>æ‰€æœ‰çš„åŸºå‡†æµ‹è¯•éƒ½è¡¨æ˜ï¼Œæ ¹æ®åœºæ™¯çš„ä¸åŒï¼ŒMapStruct å’Œ JMapper éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œå°½ç®¡ MapStruct å¯¹ SingleShotTime ç»™å‡ºçš„ç»“æœè¦å·®å¾—å¤šã€‚</p><h2 id="6-çœŸå®æ¨¡å‹æµ‹è¯•"><a href="#6-çœŸå®æ¨¡å‹æµ‹è¯•" class="headerlink" title="6. çœŸå®æ¨¡å‹æµ‹è¯•"></a>6. çœŸå®æ¨¡å‹æµ‹è¯•</h2><p>å¯¹äºæ€§èƒ½æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Java Microbenchmark Harnessï¼Œå…³äºå¦‚ä½•ä½¿ç”¨å®ƒçš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ è¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.baeldung.com/java-microbenchmark-harness">https://www.baeldung.com/java-microbenchmark-harness</a> ä¸­æ‰¾åˆ°ã€‚</p><p>æˆ‘ä»¬ä¸ºæ¯ä¸ªè½¬æ¢å™¨åˆ›å»ºäº†ä¸€ä¸ªå•ç‹¬çš„åŸºå‡†æµ‹è¯•ï¼Œå¹¶å°†åŸºå‡†æµ‹è¯•æ¨¡å¼æŒ‡å®šä¸º Mode.Allã€‚</p><h3 id="6-1-å¹³å‡æ—¶é—´"><a href="#6-1-å¹³å‡æ—¶é—´" class="headerlink" title="6.1. å¹³å‡æ—¶é—´"></a>6.1. å¹³å‡æ—¶é—´</h3><p>JMH è¿”å›ä»¥ä¸‹å¹³å‡è¿è¡Œæ—¶é—´ç»“æœï¼ˆè¶Šå°‘è¶Šå¥½ï¼‰ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2134022080.png" alt="çœŸå®æ¨¡å‹å¹³å‡æ—¶é—´.png"></p><p>è¯¥åŸºå‡†æ¸…æ¥šåœ°è¡¨æ˜ï¼ŒMapStruct å’Œ JMapper å‡å…·æœ‰æœ€ä½³çš„å¹³å‡å·¥ä½œæ—¶é—´ã€‚</p><h3 id="6-2-ååé‡"><a href="#6-2-ååé‡" class="headerlink" title="6.2. ååé‡"></a>6.2. ååé‡</h3><p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒåŸºå‡†æµ‹è¯•è¿”å›æ¯ç§’çš„æ“ä½œæ•°ã€‚æˆ‘ä»¬æ”¶åˆ°ä»¥ä¸‹ç»“æœ(è¶Šå¤šè¶Šå¥½):</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/2776552119.png" alt="çœŸå®æ¨¡å‹ååé‡.png"></p><p>åœ¨ååé‡æ¨¡å¼ä¸­ï¼ŒMapStruct æ˜¯æµ‹è¯•æ¡†æ¶ä¸­æœ€å¿«çš„ï¼ŒJMapper ç´§éšå…¶åã€‚</p><h3 id="6-3-SingleShotTime"><a href="#6-3-SingleShotTime" class="headerlink" title="6.3. SingleShotTime"></a>6.3. <strong>SingleShotTime</strong></h3><p>è¿™ç§æ¨¡å¼å…è®¸æµ‹é‡å•ä¸ªæ“ä½œä»å¼€å§‹åˆ°ç»“æŸçš„æ—¶é—´ã€‚åŸºå‡†ç»™å‡ºäº†ä»¥ä¸‹ç»“æœ(è¶Šå°‘è¶Šå¥½):</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/503880226.png" alt="çœŸå®æ¨¡å‹å•ä¾‹æœ€çŸ­æ—¶é—´.png"></p><h3 id="6-4-é‡‡æ ·æ—¶é—´"><a href="#6-4-é‡‡æ ·æ—¶é—´" class="headerlink" title="6.4. é‡‡æ ·æ—¶é—´"></a>6.4. <strong>é‡‡æ ·æ—¶é—´</strong></h3><p>è¿™ç§æ¨¡å¼å…è®¸å¯¹æ¯ä¸ªæ“ä½œçš„æ—¶é—´è¿›è¡Œé‡‡æ ·ã€‚ä¸‰ä¸ªä¸åŒç™¾åˆ†ä½æ•°çš„ç»“æœå¦‚ä¸‹:</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1520861077.png" alt="çœŸå®æ¨¡å‹é‡‡æ ·æ—¶é—´.png"></p><p>å°½ç®¡ç®€å•ç¤ºä¾‹å’Œå®é™…ç¤ºä¾‹çš„ç¡®åˆ‡ç»“æœæ˜æ˜¾ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬çš„è¶‹åŠ¿ç›¸åŒã€‚åœ¨å“ªç§ç®—æ³•æœ€å¿«å’Œå“ªç§ç®—æ³•æœ€æ…¢æ–¹é¢ï¼Œä¸¤ä¸ªç¤ºä¾‹éƒ½ç»™å‡ºäº†ç›¸ä¼¼çš„ç»“æœã€‚</p><h3 id="6-5-ç»“è®º"><a href="#6-5-ç»“è®º" class="headerlink" title="6.5. ç»“è®º"></a>6.5. ç»“è®º</h3><p>æ ¹æ®æˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­æ‰§è¡Œçš„çœŸå®æ¨¡å‹æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæœ€ä½³æ€§èƒ½æ˜¾ç„¶å±äº MapStructã€‚åœ¨ç›¸åŒçš„æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ° Dozer å§‹ç»ˆä½äºç»“æœè¡¨çš„åº•éƒ¨ã€‚</p><h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. <strong>æ€»ç»“</strong></h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»è¿›è¡Œäº†äº”ä¸ªæµè¡Œçš„ Java Bean æ˜ å°„æ¡†æ¶æ€§èƒ½æµ‹è¯•ï¼šModelMapper <strong>ï¼Œ</strong> MapStruct <strong>ï¼Œ</strong> Orika ï¼ŒDozerï¼Œ JMapperã€‚</p><p>ç¤ºä¾‹ä»£ç åœ°å€ï¼š<a href="https://github.com/eugenp/tutorials">https://github.com/eugenp/tutorials</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è›‹å£³æš´é›·ä¹‹åï¼Œç§Ÿæˆ¿åº”è¯¥æ³¨æ„ä»€ä¹ˆ</title>
      <link href="2020/11/30/2020-11-30-housing-pay-attention-to/"/>
      <url>2020/11/30/2020-11-30-housing-pay-attention-to/</url>
      
        <content type="html"><![CDATA[<p>å‰æ®µæ—¶é—´åœ¨å¾®åšä¸Šé¢‘é¢‘å‡ºç°è›‹å£³å…¬å¯“æš´é›·çš„ç°è±¡ã€‚</p><p>å¯¹äºåœ¨å¤–æ¼‚æ³Šæ‰“å·¥äººæ¥è¯´ï¼Œèƒ½æœ‰ä¸ªè‡ªå·±ä½çš„åœ°æ–¹ï¼ŒçœŸçš„æ˜¯æœ€ä½çš„è¦æ±‚äº†ï¼Œä¸‹ç­äº†å›å»è‡ªå·±çš„å°çªï¼Œå¥½å¥½æ”¾æ¾ï¼Œä¸¢æ‰ä¸€å¤©çš„ç–²æƒ«ã€‚</p><p>ç°åœ¨è¿è‡ªå·±å”¯ä¸€çš„é¿é£æ¸¯éƒ½è¦è¢«æ”¶å›äº†ï¼ŒçœŸçš„å¾ˆå¿ƒé…¸ã€‚</p><p>è›‹å£³æš´é›·ï¼Œå¯¹äºæ‰“å·¥äººæ¥è¯´çœŸçš„æ˜¯æ™´å¤©éœ¹é›³ã€‚</p><hr><p>æƒ³æƒ³è‡ªå·±ï¼Œæˆ‘æ¥7æœˆä»½æ¥è¥¿å®‰ï¼Œä¹Ÿæ˜¯ä¸ºæ‰¾ä½çš„åœ°æ–¹å‘æ„ï¼ŒèŠ±äº†ä¸¤å¤©æ—¶é—´åœ¨å…¬å¸é™„ä»¶æ‰¾æˆ¿å­</p><p>çœ‹äº†ä¸€å¤§åœˆå¤§å¤šæˆ¿å­éƒ½æ˜¯ä¸­ä»‹æ‰¿åŒ…äº†ï¼Œä¸­ä»‹ä¼šæŠ½å–ä¸€ä¸ªæœˆçš„ä¸­ä»‹æœåŠ¡è´¹ï¼Œæ‰€ä»¥ä¸€ç›´å¾ˆæ’æ–¥ä»ä¸­ä»‹ç§Ÿæˆ¿ï¼Œä½†æ˜¯å¾ˆå¤šæˆ¿æºéƒ½ç»™ä¸­ä»‹å„æ–­äº†</p><p>åæ¥å®åœ¨æ²¡æ–¹æ³•åœ¨è¥¿å®‰è¿˜å¥½æœ‰è®¤è¯†çš„å°ä¼™ä¼´ï¼Œåˆšå¥½ä»–ä½çš„åœ°æ–¹ä¾¿å®œï¼Œæ²¡æœ‰ä¸­ä»‹ï¼Œç›´æ¥æ˜¯å’Œæˆ¿ä¸œæ‰“äº¤é“ï¼Œç»ˆäºå®‰å®šä¸‹æ¥</p><hr><p>ç§Ÿæˆ¿çš„å‡ ç‚¹å»ºè®®ï¼š</p><ol><li>åœ¨å¤–æœ‰æœ‹å‹çš„å°½é‡å…ˆå’Œæœ‹å‹è”ç³»ï¼Œæ–¹å‘ç§Ÿæˆ¿ç»éªŒï¼Œé¿å…è¸©å‘</li><li>é¿å¼€é•¿ç§Ÿå…¬å¯“å…¬å¸</li><li>å°½é‡åœ¨å°åŒºæ‰¾æˆ¿ä¸œç›´ç§Ÿï¼Œé¿å¼€ä¸­ä»‹</li><li>ä¸ç€æ€¥æ•²å®šï¼Œå¤šçœ‹çœ‹</li><li>ä¸å»ºè®®ç»„éš”æ–­æˆ¿</li><li>ä»”ç»†æ£€æŸ¥å®¶ç”¨ç”µå™¨ã€è®¾å¤‡ç­‰</li><li>å…¥ä½å‰çº¦å®šæˆ¿ä¸œå¯¹æˆ¿é—´è¿›è¡Œæ‹ç…§ï¼Œæ¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œèµ°æ˜¯ä»€ä¹ˆæ ·å­</li><li>ä»”ç»†æŸ¥é˜…åˆåŒ</li><li>è¦å’Œæˆ¿ä¸œå½“é¢ç­¾</li><li>åˆåŒç­¾è®¢å¯¹è±¡æ˜¯ä¸ªäººè¿˜æ˜¯å…¬å¸</li><li>éœ€è¦ç§Ÿå®¢æ”¯ä»˜çš„è´¹ç”¨æœ‰å“ªäº›(æˆ¿ç§Ÿã€æ°´ç”µã€ç®¡ç†è´¹ã€ç½‘è´¹ã€æŠ¼é‡‘ï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–è´¹ç”¨ï¼Œéœ€è¦ç¡®è®¤æ¸…æ¥šå¹¶åˆ†é¡¹åˆ—å‡º)</li><li>è®°å½•æ°´ç”µè¡¨çš„æ•°å­—<br>â€¦</li></ol>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlç´¢å¼•ç±»å‹å¦‚ä½•é€‰æ‹©ï¼Ÿ</title>
      <link href="2020/11/25/2020-11-25-select-mysql-index/"/>
      <url>2020/11/25/2020-11-25-select-mysql-index/</url>
      
        <content type="html"><![CDATA[<p>ç”¨ä¸ªå›¾æ¸©ä¹ ä¸€ä¸‹ç´¢å¼•<br><img src="https://images.niaobulashi.com/typecho/uploads/2020/11/1780898756.png" alt="ç´¢å¼•ç®€ä»‹"></p><h2 id="é—®é¢˜1ï¼šmysqlç´¢å¼•ç±»å‹normalï¼Œuniqueï¼Œfull-textçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#é—®é¢˜1ï¼šmysqlç´¢å¼•ç±»å‹normalï¼Œuniqueï¼Œfull-textçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="é—®é¢˜1ï¼šmysqlç´¢å¼•ç±»å‹normalï¼Œuniqueï¼Œfull textçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>é—®é¢˜1ï¼šmysqlç´¢å¼•ç±»å‹normalï¼Œuniqueï¼Œfull textçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>normalï¼šè¡¨ç¤ºæ™®é€šç´¢å¼•</p><p>uniqueï¼šè¡¨ç¤ºå”¯ä¸€çš„ï¼Œä¸å…è®¸é‡å¤çš„ç´¢å¼•ï¼Œå¦‚æœè¯¥å­—æ®µä¿¡æ¯ä¿è¯ä¸ä¼šé‡å¤ä¾‹å¦‚èº«ä»½è¯å·ç”¨ä½œç´¢å¼•æ—¶ï¼Œå¯è®¾ç½®ä¸ºunique</p><p>full textl: è¡¨ç¤º å…¨æ–‡æœç´¢çš„ç´¢å¼•ã€‚ FULLTEXT ç”¨äºæœç´¢å¾ˆé•¿ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ•ˆæœæœ€å¥½ã€‚ç”¨åœ¨æ¯”è¾ƒçŸ­çš„æ–‡æœ¬ï¼Œå¦‚æœå°±ä¸€ä¸¤è¡Œå­—çš„ï¼Œæ™®é€šçš„ INDEX ä¹Ÿå¯ä»¥ã€‚</p><p>æ€»ç»“ï¼Œç´¢å¼•çš„ç±»åˆ«ç”±å»ºç«‹ç´¢å¼•çš„å­—æ®µå†…å®¹ç‰¹æ€§æ¥å†³å®šï¼Œé€šå¸¸normalæœ€å¸¸è§ã€‚</p><h2 id="é—®é¢˜2ï¼šåœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œåº”è¯¥é€‰å–è¡¨ä¸­å“ªäº›å­—æ®µä½œä¸ºç´¢å¼•ï¼Ÿ"><a href="#é—®é¢˜2ï¼šåœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œåº”è¯¥é€‰å–è¡¨ä¸­å“ªäº›å­—æ®µä½œä¸ºç´¢å¼•ï¼Ÿ" class="headerlink" title="é—®é¢˜2ï¼šåœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œåº”è¯¥é€‰å–è¡¨ä¸­å“ªäº›å­—æ®µä½œä¸ºç´¢å¼•ï¼Ÿ"></a>é—®é¢˜2ï¼šåœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œåº”è¯¥é€‰å–è¡¨ä¸­å“ªäº›å­—æ®µä½œä¸ºç´¢å¼•ï¼Ÿ</h2><p>ä¸ºäº†ä½¿ç´¢å¼•çš„ä½¿ç”¨æ•ˆç‡æ›´é«˜ï¼Œåœ¨åˆ›å»ºç´¢å¼•æ—¶ï¼Œå¿…é¡»è€ƒè™‘åœ¨å“ªäº›å­—æ®µä¸Šåˆ›å»ºç´¢å¼•å’Œåˆ›å»ºä»€ä¹ˆç±»å‹çš„ç´¢å¼•,æœ‰7å¤§åŸåˆ™ï¼š</p><p>1ï¼é€‰æ‹©å”¯ä¸€æ€§ç´¢å¼•<br>2ï¼ä¸ºç»å¸¸éœ€è¦æ’åºã€åˆ†ç»„å’Œè”åˆæ“ä½œçš„å­—æ®µå»ºç«‹ç´¢å¼•<br>3ï¼ä¸ºå¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶çš„å­—æ®µå»ºç«‹ç´¢å¼•<br>4ï¼é™åˆ¶ç´¢å¼•çš„æ•°ç›®<br>5ï¼å°½é‡ä½¿ç”¨æ•°æ®é‡å°‘çš„ç´¢å¼•<br>6ï¼å°½é‡ä½¿ç”¨å‰ç¼€æ¥ç´¢å¼•<br>7ï¼åˆ é™¤ä¸å†ä½¿ç”¨æˆ–è€…å¾ˆå°‘ä½¿ç”¨çš„ç´¢å¼•</p><h2 id="MySQL-ç´¢å¼•ä»¥Bæ ‘æ ¼å¼ä¿å­˜"><a href="#MySQL-ç´¢å¼•ä»¥Bæ ‘æ ¼å¼ä¿å­˜" class="headerlink" title="MySQL: ç´¢å¼•ä»¥Bæ ‘æ ¼å¼ä¿å­˜"></a>MySQL: ç´¢å¼•ä»¥Bæ ‘æ ¼å¼ä¿å­˜</h2><p>ã€€ã€€Memoryå­˜å‚¨å¼•æ“å¯ä»¥é€‰æ‹©Hashæˆ–BTreeç´¢å¼•ï¼ŒHashç´¢å¼•åªèƒ½ç”¨äº=æˆ–&lt;=&gt;çš„ç­‰å¼æ¯”è¾ƒã€‚ </p><p>ã€€ã€€1ã€æ™®é€šç´¢å¼•ï¼šcreate index on Tablename(åˆ—çš„åˆ—è¡¨) </p><p>ã€€ã€€alter table TableName add index (åˆ—çš„åˆ—è¡¨) </p><p>ã€€ã€€create table TableName([â€¦], index [IndexName] (åˆ—çš„åˆ—è¡¨) </p><p>ã€€ã€€2ã€å”¯ä¸€æ€§ç´¢å¼•ï¼šcreate unique index </p><p>ã€€ã€€alter â€¦ add unique </p><p>ã€€ã€€ä¸»é”®ï¼šä¸€ç§å”¯ä¸€æ€§ç´¢å¼•ï¼Œå¿…é¡»æŒ‡å®šä¸ºprimary key </p><p>ã€€ã€€3ã€å…¨æ–‡ç´¢å¼•ï¼šä»3.23.23ç‰ˆå¼€å§‹æ”¯æŒå…¨æ–‡ç´¢å¼•å’Œå…¨æ–‡æ£€ç´¢ï¼ŒFULLTEXTï¼Œ </p><p>ã€€ã€€å¯ä»¥åœ¨charã€varcharæˆ–textç±»å‹çš„åˆ—ä¸Šåˆ›å»ºã€‚ </p><p>ã€€ã€€4ã€å•åˆ—ç´¢å¼•ã€å¤šåˆ—ç´¢å¼•ï¼š </p><p>ã€€ã€€å¤šä¸ªå•åˆ—ç´¢å¼•ä¸å•ä¸ªå¤šåˆ—ç´¢å¼•çš„æŸ¥è¯¢æ•ˆæœä¸åŒï¼Œå› ä¸ºï¼š </p><p>ã€€ã€€æ‰§è¡ŒæŸ¥è¯¢æ—¶ï¼ŒMySQLåªèƒ½ä½¿ç”¨ä¸€ä¸ªç´¢å¼•ï¼Œä¼šä»å¤šä¸ªç´¢å¼•ä¸­é€‰æ‹©ä¸€ä¸ªé™åˆ¶æœ€ä¸ºä¸¥æ ¼çš„ç´¢å¼•ã€‚ </p><p>ã€€ã€€5ã€æœ€å·¦å‰ç¼€(Leftmost Prefixing)ï¼šå¤šåˆ—ç´¢å¼•ï¼Œä¾‹å¦‚ï¼šfname_lname_ageç´¢å¼•ï¼Œä»¥ä¸‹çš„æœç´¢æ¡ä»¶MySQLéƒ½å°†ä½¿ç”¨ </p><p>ã€€ã€€fname_lname_ageç´¢å¼•ï¼šfirstname,lastname,age;firstname,lastname;firstnameï¼Œå…¶ä»–æƒ…å†µå°†ä¸ä½¿ç”¨ã€‚ </p><h2 id="æ ¹æ®sqlæŸ¥è¯¢è¯­å¥ç¡®å®šåˆ›å»ºå“ªç§ç±»å‹çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢"><a href="#æ ¹æ®sqlæŸ¥è¯¢è¯­å¥ç¡®å®šåˆ›å»ºå“ªç§ç±»å‹çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢" class="headerlink" title="æ ¹æ®sqlæŸ¥è¯¢è¯­å¥ç¡®å®šåˆ›å»ºå“ªç§ç±»å‹çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢"></a>æ ¹æ®sqlæŸ¥è¯¢è¯­å¥ç¡®å®šåˆ›å»ºå“ªç§ç±»å‹çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢</h2><p>ã€€ã€€é€‰æ‹©ç´¢å¼•åˆ—ï¼š </p><p>ã€€ã€€a.æ€§èƒ½ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œé€‰æ‹©åœ¨å“ªä¸ªåˆ—ä¸Šåˆ›å»ºç´¢å¼•æ˜¯æœ€é‡è¦çš„æ­¥éª¤ä¹‹ä¸€ã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨ç´¢å¼•çš„ä¸»è¦æœ‰ </p><p>ã€€ã€€ä¸¤ç§ç±»å‹çš„åˆ—ï¼šåœ¨whereå­å¥ä¸­å‡ºç°çš„åˆ—ï¼Œåœ¨joinå­å¥ä¸­å‡ºç°çš„åˆ—ã€‚ </p><p>ã€€ã€€b.è€ƒè™‘åˆ—ä¸­å€¼çš„åˆ†å¸ƒï¼Œç´¢å¼•çš„åˆ—çš„åŸºæ•°è¶Šå¤§ï¼Œç´¢å¼•çš„æ•ˆæœè¶Šå¥½ã€‚ </p><p>ã€€ã€€c.ä½¿ç”¨çŸ­ç´¢å¼•ï¼Œå¦‚æœå¯¹å­—ç¬¦ä¸²åˆ—è¿›è¡Œç´¢å¼•ï¼Œåº”è¯¥æŒ‡å®šä¸€ä¸ªå‰ç¼€é•¿åº¦ï¼Œå¯èŠ‚çœå¤§é‡ç´¢å¼•ç©ºé—´ï¼Œæå‡æŸ¥è¯¢é€Ÿåº¦ã€‚ </p><p>ã€€ã€€d.åˆ©ç”¨æœ€å·¦å‰ç¼€ </p><p>ã€€ã€€e.ä¸è¦è¿‡åº¦ç´¢å¼•ï¼Œåªä¿æŒæ‰€éœ€çš„ç´¢å¼•ã€‚æ¯ä¸ªé¢å¤–çš„ç´¢å¼•éƒ½è¦å ç”¨é¢å¤–çš„ç£ç›˜ç©ºé—´ï¼Œå¹¶é™ä½å†™æ“ä½œçš„æ€§èƒ½ã€‚ </p><p>ã€€ã€€åœ¨ä¿®æ”¹è¡¨çš„å†…å®¹æ—¶ï¼Œç´¢å¼•å¿…é¡»è¿›è¡Œæ›´æ–°ï¼Œæœ‰æ—¶å¯èƒ½éœ€è¦é‡æ„ï¼Œå› æ­¤ï¼Œç´¢å¼•è¶Šå¤šï¼Œæ‰€èŠ±çš„æ—¶é—´è¶Šé•¿ã€‚</p><p>ã€€ã€€MySQLåªå¯¹ä¸€ä¸‹æ“ä½œç¬¦æ‰ä½¿ç”¨ç´¢å¼•ï¼š&lt;,&lt;=,=,&gt;,&gt;=,between,in, </p><p>ã€€ã€€ä»¥åŠæŸäº›æ—¶å€™çš„like(ä¸ä»¥é€šé…ç¬¦%æˆ–_å¼€å¤´çš„æƒ…å½¢)ã€‚ </p><h2 id="mysql-ç´¢å¼•åˆ†ç±»"><a href="#mysql-ç´¢å¼•åˆ†ç±»" class="headerlink" title="mysql ç´¢å¼•åˆ†ç±»"></a>mysql ç´¢å¼•åˆ†ç±»</h2><p>åœ¨æ•°æ®åº“è¡¨ä¸­ï¼Œå¯¹å­—æ®µå»ºç«‹ç´¢å¼•å¯ä»¥å¤§å¤§æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚é€šè¿‡å–„ç”¨è¿™äº›ç´¢å¼•ï¼Œå¯ä»¥ä»¤ MySQLçš„æŸ¥è¯¢å’Œè¿è¡Œæ›´åŠ é«˜æ•ˆã€‚ç´¢å¼•æ˜¯å¿«é€Ÿæœç´¢çš„å…³é”®ã€‚MySQLç´¢å¼•çš„å»ºç«‹å¯¹äºMySQLçš„é«˜æ•ˆè¿è¡Œæ˜¯å¾ˆé‡è¦çš„ã€‚ä¸‹é¢ä»‹ç»å‡ ç§å¸¸è§çš„MySQLç´¢å¼•ç±»å‹ã€‚ </p><h4 id="1ã€æ™®é€šå‹ç´¢å¼•"><a href="#1ã€æ™®é€šå‹ç´¢å¼•" class="headerlink" title="1ã€æ™®é€šå‹ç´¢å¼•"></a>1ã€æ™®é€šå‹ç´¢å¼•</h4><p>è¿™æ˜¯æœ€åŸºæœ¬çš„ç´¢å¼•ç±»å‹ï¼Œè€Œä¸”å®ƒæ²¡æœ‰å”¯ä¸€æ€§ä¹‹ç±»çš„é™åˆ¶ã€‚æ™®é€šç´¢å¼•å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼åˆ›å»ºï¼š<br>ï¼ˆ1ï¼‰åˆ›å»ºç´¢å¼•ï¼Œä¾‹å¦‚CREATE INDEX ç´¢å¼•çš„åå­— ON tablename (åˆ—å1ï¼Œåˆ—å2,â€¦);<br>ï¼ˆ2ï¼‰ä¿®æ”¹è¡¨ï¼Œä¾‹å¦‚ALTER TABLE tablename ADD INDEX ç´¢å¼•çš„åå­— (åˆ—å1ï¼Œåˆ—å2,â€¦);<br>ï¼ˆ3ï¼‰åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®šç´¢å¼•ï¼Œä¾‹å¦‚CREATE TABLE tablename ( [â€¦], INDEX ç´¢å¼•çš„åå­— (åˆ—å1ï¼Œåˆ—å<br>2,â€¦) ); </p><h4 id="2ã€å”¯ä¸€ç´¢å¼•"><a href="#2ã€å”¯ä¸€ç´¢å¼•" class="headerlink" title="2ã€å”¯ä¸€ç´¢å¼•"></a>2ã€å”¯ä¸€ç´¢å¼•</h4><p>è¿™ç§ç´¢å¼•å’Œå‰é¢çš„â€œæ™®é€šç´¢å¼•â€åŸºæœ¬ç›¸åŒï¼Œä½†æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šç´¢å¼•åˆ—çš„æ‰€æœ‰å€¼éƒ½åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œå³å¿…é¡»å”¯ä¸€ã€‚å”¯ä¸€æ€§ç´¢å¼•å¯ä»¥ç”¨ä»¥ä¸‹å‡ ç§æ–¹å¼åˆ›å»ºï¼š<br>ï¼ˆ1ï¼‰åˆ›å»ºç´¢å¼•ï¼Œä¾‹å¦‚CREATE UNIQUE INDEX ç´¢å¼•çš„åå­— ON tablename (åˆ—çš„åˆ—è¡¨);<br>ï¼ˆ2ï¼‰ä¿®æ”¹è¡¨ï¼Œä¾‹å¦‚ALTER TABLE tablename ADD UNIQUE ç´¢å¼•çš„åå­— (åˆ—çš„åˆ—è¡¨);<br>ï¼ˆ3ï¼‰åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®šç´¢å¼•ï¼Œä¾‹å¦‚CREATE TABLE tablename ( [â€¦], UNIQUE ç´¢å¼•çš„åå­— (åˆ—çš„åˆ—<br>è¡¨) ); </p><h4 id="3ã€ä¸»é”®"><a href="#3ã€ä¸»é”®" class="headerlink" title="3ã€ä¸»é”®"></a>3ã€ä¸»é”®</h4><p>ä¸»é”®æ˜¯ä¸€ç§å”¯ä¸€æ€§ç´¢å¼•ï¼Œä½†å®ƒå¿…é¡»æŒ‡å®šä¸ºâ€œPRIMARY KEYâ€ã€‚å¦‚æœä½ æ›¾ç»ç”¨è¿‡AUTO_INCREMENTç±»å‹çš„åˆ—ï¼Œä½ å¯èƒ½å·²ç»ç†Ÿæ‚‰ä¸»é”®ä¹‹ç±»çš„æ¦‚å¿µäº†ã€‚ä¸»é”®ä¸€èˆ¬åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™æŒ‡å®šï¼Œä¾‹å¦‚â€œCREATE TABLE tablename ( [â€¦], PRIMARY KEY (åˆ—çš„åˆ—è¡¨) ); â€ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹è¡¨çš„æ–¹å¼åŠ å…¥ä¸»é”®ï¼Œä¾‹å¦‚â€œALTER TABLE tablename ADD PRIMARY KEY (åˆ—çš„åˆ—è¡¨); â€ã€‚æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚ ï¼ˆä¸»é”®ç›¸å½“äºèšåˆç´¢å¼•ï¼Œæ˜¯æŸ¥æ‰¾æœ€å¿«çš„ç´¢å¼•ï¼‰ </p><h4 id="4ã€å•åˆ—ç´¢å¼•å’Œå¤šåˆ—ç´¢å¼•"><a href="#4ã€å•åˆ—ç´¢å¼•å’Œå¤šåˆ—ç´¢å¼•" class="headerlink" title="4ã€å•åˆ—ç´¢å¼•å’Œå¤šåˆ—ç´¢å¼•"></a>4ã€å•åˆ—ç´¢å¼•å’Œå¤šåˆ—ç´¢å¼•</h4><p>ç´¢å¼•å¯ä»¥æ˜¯å•åˆ—ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šåˆ—ç´¢å¼•ã€‚<br>ï¼ˆ1ï¼‰å•åˆ—ç´¢å¼•å°±æ˜¯å¸¸ç”¨çš„ä¸€ä¸ªåˆ—å­—æ®µçš„ç´¢å¼•ï¼Œå¸¸è§çš„ç´¢å¼•ã€‚<br>ï¼ˆ2ï¼‰å¤šåˆ—ç´¢å¼•å°±æ˜¯å«æœ‰å¤šä¸ªåˆ—å­—æ®µçš„ç´¢å¼•<br>alter table student add index sy(name,ageï¼Œscore);<br>ç´¢å¼•syå°±ä¸ºå¤šåˆ—ç´¢å¼•ï¼Œå¤šåˆ—ç´¢å¼•åœ¨ä»¥ä¸‹å‡ ä¸­æƒ…å†µä¸‹æ‰èƒ½æœ‰æ•ˆï¼š<br>select * from student where name=â€™jiaâ€™ and age&gt;=â€™12â€™ //whereæ¡ä»¶ä¸­å«æœ‰ç´¢å¼•çš„é¦–åˆ—å­—æ®µå’Œ<br>ç¬¬äºŒä¸ªå­—æ®µ<br>select * from student where name=â€™jiaâ€™ //whereæ¡ä»¶ä¸­åªå«æœ‰é¦–åˆ—å­—æ®µ<br>select * from student where name=â€™jiaâ€™ and score&lt;60//whereæ¡ä»¶ä¸­å«æœ‰é¦–åˆ—å­—æ®µå’Œç¬¬ä¸‰ä¸ªå­—<br>æ®µ<br>æ€»ç»“ï¼šå¤šåˆ—ç´¢å¼•åªæœ‰åœ¨whereæ¡ä»¶ä¸­å«æœ‰ç´¢å¼•ä¸­çš„é¦–åˆ—å­—æ®µæ—¶æ‰æœ‰æ•ˆ </p><h4 id="5ã€é€‰æ‹©ç´¢å¼•åˆ—"><a href="#5ã€é€‰æ‹©ç´¢å¼•åˆ—" class="headerlink" title="5ã€é€‰æ‹©ç´¢å¼•åˆ—"></a>5ã€é€‰æ‹©ç´¢å¼•åˆ—</h4><p>åº”è¯¥æ€æ ·é€‰æ‹©ç´¢å¼•åˆ—ï¼Œé¦–å…ˆè¦çœ‹æŸ¥è¯¢æ¡ä»¶ï¼Œä¸€èˆ¬å°†æŸ¥è¯¢æ¡ä»¶ä¸­çš„åˆ—ä½œä¸ºç´¢å¼•</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç†è§£å¤šç§Ÿæˆ·æ¶æ„ï¼Ÿ</title>
      <link href="2020/11/19/2020-11-19-multi-tenancy-framework/"/>
      <url>2020/11/19/2020-11-19-multi-tenancy-framework/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ã€€ã€€å‰æ®µæ—¶é—´å…¬å¸äº§å“è¿›è¡Œäº†æ¶æ„çš„è¿›åŒ–ï¼Œè¿›åŒ–åˆ°äº†å¤šç§Ÿæˆ·æ¶æ„ã€‚å½“æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°å¤šç§Ÿæˆ·æ—¶ï¼Œæˆ‘ä¹ŸæŒºçº³é—·ï¼Œä¸ç†è§£ã€‚ä½†å½“æˆ‘é€æ¸çš„ç¿»é˜…èµ„æ–™ï¼Œä»¥åŠç ”å‘åŠŸèƒ½æ—¶ã€‚ä¸æ–­çš„åŠ æ·±äº†å¯¹å¤šç§Ÿæˆ·çš„ç†è§£ã€‚å°½ç®¡æˆ‘ç°åœ¨ä¹Ÿåªæ˜¯æµ…æµ…çš„æ‡‚ä¸€ç‚¹è€Œå·²ã€‚</p><p>ã€€ã€€OK,Letâ€™s get this straightï¼ˆè®©æˆ‘ä»¬ææ‡‚å®ƒï¼‰ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬é—®è‡ªå·±å‡ ä¸ªé—®é¢˜:</p><p>ã€€ã€€1.ä»€ä¹ˆæ˜¯å¤šç§Ÿæˆ·æ¶æ„ï¼Ÿ<br>ã€€ã€€2.å¤šç§Ÿæˆ·æ¶æ„çš„ä¼˜ç¼ºç‚¹ï¼Ÿ<br>ã€€ã€€3.å¤šç§Ÿæˆ·æ¶æ„çš„é€‚ç”¨åœºæ™¯ï¼Ÿ</p><p>ã€€ã€€è®©æˆ‘ä»¬å¸¦ç€è¿™å‡ ä¸ªé—®é¢˜è¿›å…¥ä¸‹é¢çš„é˜…è¯»ã€‚</p><h2 id="ä¸€ã€å¯¹å¤šç§Ÿæˆ·çš„ç†è§£"><a href="#ä¸€ã€å¯¹å¤šç§Ÿæˆ·çš„ç†è§£" class="headerlink" title="ä¸€ã€å¯¹å¤šç§Ÿæˆ·çš„ç†è§£"></a>ä¸€ã€å¯¹å¤šç§Ÿæˆ·çš„ç†è§£</h2><p>ã€€ã€€å¤šç§Ÿæˆ·å®šä¹‰ï¼šå¤šç§Ÿæˆ·æŠ€æœ¯æˆ–ç§°å¤šé‡ç§ŸèµæŠ€æœ¯ï¼Œç®€ç§°SaaSï¼Œæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æŠ€æœ¯ï¼Œæ˜¯å®ç°å¦‚ä½•åœ¨å¤šç”¨æˆ·ç¯å¢ƒä¸‹ï¼ˆæ­¤å¤„çš„å¤šç”¨æˆ·ä¸€èˆ¬æ˜¯é¢å‘ä¼ä¸šç”¨æˆ·ï¼‰å…±ç”¨ç›¸åŒçš„ç³»ç»Ÿæˆ–ç¨‹åºç»„ä»¶ï¼Œå¹¶ä¸”å¯ç¡®ä¿å„ç”¨æˆ·é—´æ•°æ®çš„éš”ç¦»æ€§ã€‚ç®€å•è®²ï¼šåœ¨ä¸€å°æœåŠ¡å™¨ä¸Šè¿è¡Œå•ä¸ªåº”ç”¨å®ä¾‹ï¼Œå®ƒä¸ºå¤šä¸ªç§Ÿæˆ·ï¼ˆå®¢æˆ·ï¼‰æä¾›æœåŠ¡ã€‚ä»å®šä¹‰ä¸­æˆ‘ä»¬å¯ä»¥ç†è§£ï¼šå¤šç§Ÿæˆ·æ˜¯ä¸€ç§æ¶æ„ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©å¤šç”¨æˆ·ç¯å¢ƒä¸‹ä½¿ç”¨åŒä¸€å¥—ç¨‹åºï¼Œä¸”ä¿è¯ç”¨æˆ·é—´æ•°æ®éš”ç¦»ã€‚é‚£ä¹ˆé‡ç‚¹å°±å¾ˆæµ…æ˜¾æ˜“æ‡‚äº†ï¼Œå¤šç§Ÿæˆ·çš„é‡ç‚¹å°±æ˜¯åŒä¸€å¥—ç¨‹åºä¸‹å®ç°å¤šç”¨æˆ·æ•°æ®çš„éš”ç¦»ã€‚å¯¹äºå®ç°æ–¹å¼ï¼Œæˆ‘ä»¬ä¸‹é¢ä¼šè®¨è®ºåˆ°ã€‚</p><p>ã€€ã€€åœ¨äº†è§£è¯¦ç»†ä¸€ç‚¹ï¼šåœ¨ä¸€ä¸ªå¤šç§Ÿæˆ·çš„ç»“æ„ä¸‹ï¼Œåº”ç”¨éƒ½æ˜¯è¿è¡Œåœ¨åŒæ ·çš„æˆ–è€…æ˜¯ä¸€ç»„æœåŠ¡å™¨ä¸‹ï¼Œè¿™ç§ç»“æ„è¢«ç§°ä¸ºâ€œå•å®ä¾‹â€æ¶æ„ï¼ˆSingle Instanceï¼‰ï¼Œå•å®ä¾‹å¤šç§Ÿæˆ·ã€‚å¤šä¸ªç§Ÿæˆ·çš„æ•°æ®æ˜¯ä¿å­˜åœ¨ç›¸åŒä½ç½®ï¼Œä¾é å¯¹æ•°æ®åº“åˆ†åŒºæ¥å®ç°éš”ç¦»æ“ä½œã€‚æ—¢ç„¶ç”¨æˆ·éƒ½åœ¨è¿è¡Œç›¸åŒçš„åº”ç”¨å®ä¾‹ï¼ŒæœåŠ¡è¿è¡Œåœ¨æœåŠ¡ä¾›åº”å•†çš„æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·æ— æ³•å»è¿›è¡Œå®šåˆ¶åŒ–çš„æ“ä½œï¼Œæ‰€ä»¥è¿™å¯¹äºå¯¹è¯¥äº§å“æœ‰ç‰¹æ®Šéœ€è¦å®šåˆ¶åŒ–çš„å®¢æˆ·å°±æ— æ³•é€‚ç”¨ï¼Œæ‰€ä»¥å¤šç§Ÿæˆ·é€‚åˆé€šç”¨ç±»éœ€æ±‚çš„å®¢æˆ·ã€‚é‚£ä¹ˆç¼ºç‚¹æ¥äº†ï¼Œå¤šç§Ÿæˆ·ä¸‹æ— æ³•å®ç°ç”¨æˆ·çš„å®šåˆ¶åŒ–æ“ä½œã€‚</p><p>ã€€ã€€åœ¨ç¿»é˜…å¤šç§Ÿæˆ·çš„èµ„æ–™æ—¶ï¼Œè¿˜æœ‰ä¸€ä¸ªåè¯ä¸ä¹‹ç›¸å¯¹åº”ï¼Œé‚£å°±æ˜¯å•ç§Ÿæˆ·SaaSæ¶æ„ï¼ˆä¹Ÿè¢«ç§°ä½œå¤šå®ä¾‹æ¶æ„ï¼ˆMultiple Instanceï¼‰ï¼‰ã€‚å•ç§Ÿæˆ·æ¶æ„ä¸å¤šç§Ÿæˆ·çš„åŒºåˆ«åœ¨äºï¼Œå•ç§Ÿæˆ·æ˜¯ä¸ºæ¯ä¸ªå®¢æˆ·å•ç‹¬åˆ›å»ºå„è‡ªçš„è½¯ä»¶åº”ç”¨å’Œæ”¯æ’‘ç¯å¢ƒã€‚å•ç§Ÿæˆ·SaaSè¢«å¹¿æ³›å¼•ç”¨åœ¨å®¢æˆ·éœ€è¦æ”¯æŒå®šåˆ¶åŒ–çš„åº”ç”¨åœºåˆï¼Œè€Œè¿™ç§å®šåˆ¶æˆ–è€…æ˜¯å› ä¸ºåœ°åŸŸï¼ŒæŠ‘æˆ–æ˜¯ä»–ä»¬éœ€è¦æ›´é«˜çš„å®‰å…¨æ§åˆ¶ã€‚é€šè¿‡å•ç§Ÿæˆ·çš„æ¨¡å¼ï¼Œæ¯ä¸ªå®¢æˆ·éƒ½æœ‰ä¸€ä»½åˆ†åˆ«æ”¾åœ¨ç‹¬ç«‹çš„æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“å’Œæ“ä½œç³»ç»Ÿï¼Œæˆ–è€…ä½¿ç”¨å¼ºçš„å®‰å…¨æªæ–½è¿›è¡Œéš”ç¦»çš„è™šæ‹Ÿç½‘ç»œç¯å¢ƒä¸­ã€‚å› ä¸ºæœ¬ç¯‡ä¸»è¦æ˜¯è®¨è®ºå¤šç§Ÿæˆ·ï¼Œæ‰€ä»¥å•ç§Ÿæˆ·çš„ç›¸å…³çŸ¥è¯†å°±ç®€å•äº†è§£ä¸€ä¸‹ï¼Œä¸åšè¿‡å¤šçš„é˜è¿°äº†ã€‚</p><h2 id="äºŒã€å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»çš„ä¸‰ç§æ–¹æ¡ˆ"><a href="#äºŒã€å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»çš„ä¸‰ç§æ–¹æ¡ˆ" class="headerlink" title="äºŒã€å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»çš„ä¸‰ç§æ–¹æ¡ˆ"></a>äºŒã€å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»çš„ä¸‰ç§æ–¹æ¡ˆ</h2><p>ã€€ã€€åœ¨å½“ä¸‹äº‘è®¡ç®—æ—¶ä»£ï¼Œå¤šç§Ÿæˆ·æŠ€æœ¯åœ¨å…±ç”¨çš„æ•°æ®ä¸­å¿ƒä»¥å•ä¸€ç³»ç»Ÿæ¶æ„ä¸æœåŠ¡æä¾›å¤šæ•°å®¢æˆ·ç«¯ç›¸åŒç”šè‡³å¯å®šåˆ¶åŒ–çš„æœåŠ¡ï¼Œå¹¶ä¸”ä»å¯ä»¥ä¿éšœå®¢æˆ·çš„æ•°æ®éš”ç¦»ã€‚ç›®å‰å„ç§å„æ ·çš„äº‘è®¡ç®—æœåŠ¡å°±æ˜¯è¿™ç±»æŠ€æœ¯èŒƒç•´ï¼Œä¾‹å¦‚é˜¿é‡Œäº‘æ•°æ®åº“æœåŠ¡ï¼ˆRDSï¼‰ã€é˜¿é‡Œäº‘æœåŠ¡å™¨ç­‰ç­‰ã€‚</p><p>ã€€ã€€å¤šç§Ÿæˆ·åœ¨æ•°æ®å­˜å‚¨ä¸Šå­˜åœ¨ä¸‰ç§ä¸»è¦çš„æ–¹æ¡ˆï¼Œåˆ†åˆ«æ˜¯ï¼š</p><h3 id="1-ç‹¬ç«‹æ•°æ®åº“"><a href="#1-ç‹¬ç«‹æ•°æ®åº“" class="headerlink" title="1. ç‹¬ç«‹æ•°æ®åº“"></a>1. ç‹¬ç«‹æ•°æ®åº“</h3><p>ã€€ã€€è¿™æ˜¯ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œå³ä¸€ä¸ªç§Ÿæˆ·ä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™ç§æ–¹æ¡ˆçš„ç”¨æˆ·æ•°æ®éš”ç¦»çº§åˆ«æœ€é«˜ï¼Œå®‰å…¨æ€§æœ€å¥½ï¼Œä½†æˆæœ¬è¾ƒé«˜ã€‚<br>ã€€ã€€ä¼˜ç‚¹ï¼š<br>ã€€ã€€ã€€ã€€ä¸ºä¸åŒçš„ç§Ÿæˆ·æä¾›ç‹¬ç«‹çš„æ•°æ®åº“ï¼Œæœ‰åŠ©äºç®€åŒ–æ•°æ®æ¨¡å‹çš„æ‰©å±•è®¾è®¡ï¼Œæ»¡è¶³ä¸åŒç§Ÿæˆ·çš„ç‹¬ç‰¹éœ€æ±‚ï¼›å¦‚æœå‡ºç°æ•…éšœï¼Œæ¢å¤æ•°æ®æ¯”è¾ƒç®€å•ã€‚<br>ã€€ã€€ç¼ºç‚¹ï¼š<br>ã€€ã€€ã€€ã€€å¢å¤šäº†æ•°æ®åº“çš„å®‰è£…æ•°é‡ï¼Œéšä¹‹å¸¦æ¥ç»´æŠ¤æˆæœ¬å’Œè´­ç½®æˆæœ¬çš„å¢åŠ ã€‚<br>ã€€ã€€è¿™ç§æ–¹æ¡ˆä¸ä¼ ç»Ÿçš„ä¸€ä¸ªå®¢æˆ·ã€ä¸€å¥—æ•°æ®ã€ä¸€å¥—éƒ¨ç½²ç±»ä¼¼ï¼Œå·®åˆ«åªåœ¨äºè½¯ä»¶ç»Ÿä¸€éƒ¨ç½²åœ¨è¿è¥å•†é‚£é‡Œã€‚å¦‚æœé¢å¯¹çš„æ˜¯é“¶è¡Œã€åŒ»é™¢ç­‰éœ€è¦éå¸¸é«˜æ•°æ®éš”ç¦»çº§åˆ«çš„ç§Ÿæˆ·ï¼Œå¯ä»¥é€‰æ‹©è¿™ç§æ¨¡å¼ï¼Œæé«˜ç§Ÿç”¨çš„å®šä»·ã€‚å¦‚æœå®šä»·è¾ƒä½ï¼Œäº§å“èµ°ä½ä»·è·¯çº¿ï¼Œè¿™ç§æ–¹æ¡ˆä¸€èˆ¬å¯¹è¿è¥å•†æ¥è¯´æ˜¯æ— æ³•æ‰¿å—çš„ã€‚</p><h3 id="2-å…±äº«æ•°æ®åº“ï¼Œç‹¬ç«‹-Schema"><a href="#2-å…±äº«æ•°æ®åº“ï¼Œç‹¬ç«‹-Schema" class="headerlink" title="2.å…±äº«æ•°æ®åº“ï¼Œç‹¬ç«‹ Schema"></a>2.å…±äº«æ•°æ®åº“ï¼Œç‹¬ç«‹ Schema</h3><p>è¿™æ˜¯ç¬¬äºŒç§æ–¹æ¡ˆï¼Œå³å¤šä¸ªæˆ–æ‰€æœ‰ç§Ÿæˆ·å…±äº«Databaseï¼Œä½†æ˜¯æ¯ä¸ªç§Ÿæˆ·ä¸€ä¸ªSchemaï¼ˆä¹Ÿå¯å«åšä¸€ä¸ªuserï¼‰ã€‚åº•å±‚åº“æ¯”å¦‚æ˜¯ï¼šDB2ã€ORACLEç­‰ï¼Œä¸€ä¸ªæ•°æ®åº“ä¸‹å¯ä»¥æœ‰å¤šä¸ªSCHEMA<br>ã€€ã€€ä¼˜ç‚¹ï¼š<br>ã€€ã€€ã€€ã€€ä¸ºå®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„ç§Ÿæˆ·æä¾›äº†ä¸€å®šç¨‹åº¦çš„é€»è¾‘æ•°æ®éš”ç¦»ï¼Œå¹¶ä¸æ˜¯å®Œå…¨éš”ç¦»ï¼›æ¯ä¸ªæ•°æ®åº“å¯æ”¯æŒæ›´å¤šçš„ç§Ÿæˆ·æ•°é‡ã€‚<br>ã€€ã€€ç¼ºç‚¹ï¼š<br>ã€€ã€€ã€€ã€€å¦‚æœå‡ºç°æ•…éšœï¼Œæ•°æ®æ¢å¤æ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºæ¢å¤æ•°æ®åº“å°†ç‰µæ¶‰åˆ°å…¶ä»–ç§Ÿæˆ·çš„æ•°æ®ï¼›<br>ã€€ã€€å¦‚æœéœ€è¦è·¨ç§Ÿæˆ·ç»Ÿè®¡æ•°æ®ï¼Œå­˜åœ¨ä¸€å®šå›°éš¾ã€‚</p><h3 id="4-å…±äº«æ•°æ®åº“ï¼Œå…±äº«-Schemaï¼Œå…±äº«æ•°æ®è¡¨"><a href="#4-å…±äº«æ•°æ®åº“ï¼Œå…±äº«-Schemaï¼Œå…±äº«æ•°æ®è¡¨" class="headerlink" title="4.å…±äº«æ•°æ®åº“ï¼Œå…±äº« Schemaï¼Œå…±äº«æ•°æ®è¡¨"></a>4.å…±äº«æ•°æ®åº“ï¼Œå…±äº« Schemaï¼Œå…±äº«æ•°æ®è¡¨</h3><p>è¿™æ˜¯ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼Œå³ç§Ÿæˆ·å…±äº«åŒä¸€ä¸ªDatabaseã€åŒä¸€ä¸ªSchemaï¼Œä½†åœ¨è¡¨ä¸­å¢åŠ TenantIDå¤šç§Ÿæˆ·çš„æ•°æ®å­—æ®µã€‚è¿™æ˜¯å…±äº«ç¨‹åº¦æœ€é«˜ã€éš”ç¦»çº§åˆ«æœ€ä½çš„æ¨¡å¼ã€‚<br>ã€€ã€€å³æ¯æ’å…¥ä¸€æ¡æ•°æ®æ—¶éƒ½éœ€è¦æœ‰ä¸€ä¸ªå®¢æˆ·çš„æ ‡è¯†ã€‚è¿™æ ·æ‰èƒ½åœ¨åŒä¸€å¼ è¡¨ä¸­åŒºåˆ†å‡ºä¸åŒå®¢æˆ·çš„æ•°æ®ã€‚<br>ã€€ã€€ä¼˜ç‚¹ï¼š<br>ã€€ã€€ã€€ã€€ä¸‰ç§æ–¹æ¡ˆæ¯”è¾ƒï¼Œç¬¬ä¸‰ç§æ–¹æ¡ˆçš„ç»´æŠ¤å’Œè´­ç½®æˆæœ¬æœ€ä½ï¼Œå…è®¸æ¯ä¸ªæ•°æ®åº“æ”¯æŒçš„ç§Ÿæˆ·æ•°é‡æœ€å¤šã€‚<br>ã€€ã€€ç¼ºç‚¹ï¼š<br>ã€€ã€€ã€€ã€€éš”ç¦»çº§åˆ«æœ€ä½ï¼Œå®‰å…¨æ€§æœ€ä½ï¼Œéœ€è¦åœ¨è®¾è®¡å¼€å‘æ—¶åŠ å¤§å¯¹å®‰å…¨çš„å¼€å‘é‡ï¼› æ•°æ®å¤‡ä»½å’Œæ¢å¤æœ€å›°éš¾ï¼Œéœ€è¦é€è¡¨é€æ¡å¤‡ä»½å’Œè¿˜åŸã€‚</p><p>ã€€ã€€å¦‚æœå¸Œæœ›ä»¥æœ€å°‘çš„æœåŠ¡å™¨ä¸ºæœ€å¤šçš„ç§Ÿæˆ·æä¾›æœåŠ¡ï¼Œå¹¶ä¸”ç§Ÿæˆ·æ¥å—ç‰ºç‰²éš”ç¦»çº§åˆ«æ¢å–é™ä½æˆæœ¬ï¼Œè¿™ç§æ–¹æ¡ˆæœ€é€‚åˆã€‚<br>ã€€ã€€ã€€ã€€<br>ã€€ã€€åœ¨SaaSå®æ–½è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªæ˜¾è‘—çš„è€ƒé‡ç‚¹ï¼Œå°±æ˜¯å¦‚ä½•å¯¹åº”ç”¨æ•°æ®è¿›è¡Œè®¾è®¡ï¼Œä»¥æ”¯æŒå¤šç§Ÿæˆ·ï¼Œè€Œè¿™ç§è®¾è®¡çš„æ€è·¯ï¼Œæ˜¯è¦åœ¨æ•°æ®çš„å…±äº«ã€å®‰å…¨éš”ç¦»å’Œæ€§èƒ½é—´å–å¾—å¹³è¡¡ã€‚</p><p>ã€€ã€€å› ä¸ºæˆ‘ä»¬ç”¨çš„åº•å±‚åº“æ˜¯MySQLï¼Œä¸”è¦ä¿è¯æ•°æ®çš„å®Œå…¨éš”ç¦»ï¼Œæ‰€ä»¥ç”¨çš„æ–¹æ¡ˆå±äºç¬¬ä¸€ç§ã€‚ç‹¬ç«‹æ•°æ®åº“ã€‚å› ä¸ºMySQLä¸‹SCHEMAå°±æ˜¯ä»–çš„æ•°æ®åº“åã€‚æ‰€ä»¥æ¯å¤šæœåŠ¡ä¸€ä¸ªç”¨æˆ·ï¼Œéƒ½éœ€è¦æ–°å»ºä¸€ä¸ªæ•°æ®åº“ã€‚å¦‚æœæ˜¯DB2æˆ–è€…æ˜¯ORACLEçš„è¯ï¼Œä¸€ä¸ªæ•°æ®åº“ä¸‹ï¼Œå¯ä»¥é‡‡ç”¨ç‹¬ç«‹çš„SCHEMAæ¥è¿›è¡Œæ•°æ®éš”ç¦»ï¼Œè¿™æ ·ä¼šç›¸å¯¹èŠ‚çœæˆæœ¬ï¼Œä¸”æ•°æ®éš”ç¦»çš„å¼ºåº¦é«˜ã€‚</p><h2 id="ä¸‰ã€é€‰æ‹©åˆç†çš„å®ç°æ¨¡å¼"><a href="#ä¸‰ã€é€‰æ‹©åˆç†çš„å®ç°æ¨¡å¼" class="headerlink" title="ä¸‰ã€é€‰æ‹©åˆç†çš„å®ç°æ¨¡å¼"></a>ä¸‰ã€é€‰æ‹©åˆç†çš„å®ç°æ¨¡å¼</h2><p>ã€€ã€€è¡¡é‡ä¸‰ç§æ¨¡å¼ä¸»è¦è€ƒè™‘çš„å› ç´ æ˜¯éš”ç¦»è¿˜æ˜¯å…±äº«ã€‚</p><p>ã€€ã€€æˆæœ¬è§’åº¦å› ç´  </p><p>ã€€ã€€ã€€ã€€éš”ç¦»æ€§è¶Šå¥½ï¼Œè®¾è®¡å’Œå®ç°çš„éš¾åº¦å’Œæˆæœ¬è¶Šé«˜ï¼Œåˆå§‹æˆæœ¬è¶Šé«˜ã€‚å…±äº«æ€§è¶Šå¥½ï¼ŒåŒä¸€è¿è¥æˆæœ¬ä¸‹æ”¯æŒçš„ç”¨æˆ·è¶Šå¤šï¼Œè¿è¥æˆæœ¬è¶Šä½ã€‚</p><p>ã€€ã€€å®‰å…¨å› ç´  </p><p>ã€€ã€€ã€€ã€€è¦è€ƒè™‘ä¸šåŠ¡å’Œå®¢æˆ·çš„å®‰å…¨æ–¹é¢çš„è¦æ±‚ã€‚å®‰å…¨æ€§è¦æ±‚è¶Šé«˜ï¼Œè¶Šè¦å€¾å‘äºéš”ç¦»ã€‚</p><p>ã€€ã€€ä»ç§Ÿæˆ·æ•°é‡ä¸Šè€ƒè™‘<br>ã€€ã€€ã€€ã€€ä¸»è¦è€ƒè™‘ä¸‹é¢ä¸€äº›å› ç´ <br>ã€€ã€€ã€€ã€€ç³»ç»Ÿè¦æ”¯æŒå¤šå°‘ç§Ÿæˆ·ï¼Ÿä¸Šç™¾ï¼Ÿä¸Šåƒè¿˜æ˜¯ä¸Šä¸‡ï¼Ÿå¯èƒ½çš„ç§Ÿæˆ·è¶Šå¤šï¼Œè¶Šå€¾å‘äºå…±äº«ã€‚<br>ã€€ã€€ã€€ã€€å¹³å‡æ¯ä¸ªç§Ÿæˆ·è¦å­˜å‚¨æ•°æ®éœ€è¦çš„ç©ºé—´å¤§å°ã€‚å­˜è´®çš„æ•°æ®è¶Šå¤šï¼Œè¶Šå€¾å‘äºéš”ç¦»ã€‚<br>ã€€ã€€ã€€ã€€æ¯ä¸ªç§Ÿæˆ·çš„åŒæ—¶è®¿é—®ç³»ç»Ÿçš„æœ€ç»ˆç”¨æˆ·æ•°é‡ã€‚éœ€è¦æ”¯æŒçš„è¶Šå¤šï¼Œè¶Šå€¾å‘äºéš”ç¦»ã€‚<br>ã€€ã€€ã€€ã€€æ˜¯å¦æƒ³é’ˆå¯¹æ¯ä¸€ç§Ÿæˆ·æä¾›é™„åŠ çš„æœåŠ¡ï¼Œä¾‹å¦‚æ•°æ®çš„å¤‡ä»½å’Œæ¢å¤ç­‰ã€‚è¿™æ–¹é¢çš„éœ€æ±‚è¶Šå¤šï¼Œ è¶Šå€¾å‘äºéš”ç¦»</p><p>ã€€ã€€æŠ€æœ¯å‚¨å¤‡<br>ã€€ã€€ã€€ã€€å…±äº«æ€§è¶Šé«˜ï¼Œå¯¹æŠ€æœ¯çš„è¦æ±‚è¶Šé«˜ã€‚</p><p>â€“è½¬è½½å­¦ä¹ </p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¤šç§Ÿæˆ· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯å¤šç§Ÿæˆ·</title>
      <link href="2020/11/18/2020-11-18-multi-tenancy/"/>
      <url>2020/11/18/2020-11-18-multi-tenancy/</url>
      
        <content type="html"><![CDATA[<p>å¤šç§Ÿæˆ·æ˜¯æŒ‡è½¯ä»¶æ¶æ„æ”¯æŒä¸€ä¸ªå®ä¾‹æœåŠ¡å¤šä¸ªç”¨æˆ·ï¼ˆCustomerï¼‰ï¼Œæ¯ä¸€ä¸ªç”¨æˆ·è¢«ç§°ä¹‹ä¸ºç§Ÿæˆ·ï¼ˆtenantï¼‰ï¼Œè½¯ä»¶ç»™äºˆç§Ÿæˆ·å¯ä»¥å¯¹ç³»ç»Ÿè¿›è¡Œéƒ¨åˆ†</p><p>å®šåˆ¶çš„èƒ½åŠ›ï¼Œå¦‚ç”¨æˆ·ç•Œé¢é¢œè‰²æˆ–ä¸šåŠ¡è§„åˆ™ï¼Œä½†æ˜¯ä»–ä»¬ä¸èƒ½å®šåˆ¶ä¿®æ”¹è½¯ä»¶çš„ä»£ç ã€‚</p><p>ç”±äºå…±äº«å¼€å‘å’Œç»´æŠ¤æˆæœ¬ï¼Œéƒ½æŸäº›ç”¨æˆ·æ¥è¯´ï¼Œå¤šç§Ÿæˆ·æ˜¯ä¸€ç§ç»æµçš„è§£å†³æ–¹æ¡ˆã€‚ä»ç»´æŠ¤è§’åº¦æ¥è¯´ï¼Œå¤šç§Ÿæˆ·ç³»ç»Ÿç»´æŠ¤æ›´åŠ ç®€å•ï¼Œç›¸æ¯”äºæ¯ä¸ªç”¨æˆ·</p><p>ä¸€ä¸ªå®ä¾‹çš„å•ç§Ÿæˆ·ç³»ç»Ÿï¼Œå¤šç§Ÿæˆ·ç³»ç»Ÿæä¾›è€…åœ¨ç³»ç»Ÿå˜æ›´æ—¶ä»…éœ€æ›´æ–°ä¸€æ¬¡ï¼Œè€Œå•ç§Ÿæˆ·åˆ™éœ€è¦é’ˆå¯¹æ¯ä¸ªç”¨æˆ·è¿›è¡Œæ›´æ–°ï¼Œä¸¾ä¸ªä¾‹å­å§ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥è§†ä¸º</p><p>å•ç§Ÿæˆ·ç³»ç»Ÿï¼Œç”µå­é‚®ä»¶åˆ™æ˜¯å…¸å‹çš„å¤šç§Ÿæˆ·ç³»ç»Ÿï¼ˆè¿™é‡Œåªè¯´é‚®ä»¶æœåŠ¡ç³»ç»Ÿï¼Œä¸æ˜¯å®¢æˆ·ç«¯ï¼‰ï¼Œæ“ä½œç³»ç»Ÿå‡çº§æ—¶ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½è¦æ‰§è¡Œï¼Œè€Œç”µå­é‚®ä»¶çš„å‡çº§</p><p>æ— éœ€ç”¨æˆ·å‚ä¸ã€‚</p><p>åœ¨äº‘è®¡ç®—é¢†åŸŸï¼Œç”±äºæ–°çš„æœåŠ¡æ¨¡å‹åˆ©ç”¨äº†è™šæ‹ŸåŒ–å’Œè¿œç¨‹è®¿é—®ï¼Œå¤šç§Ÿæˆ·çš„å«ä¹‰å·²è¢«æ‰©å±•ã€‚ä¾‹å¦‚ï¼Œè½¯ä»¶å³æœåŠ¡ï¼ˆSaaSï¼‰æä¾›è€…ï¼Œåˆ©ç”¨è¿è¡Œåœ¨ä¸€ä¸ªæ•°æ®</p><p>åº“å®ä¾‹ä¸Šçš„åº”ç”¨ç³»ç»Ÿï¼Œå‘å¤šä¸ªç”¨æˆ·æä¾›Webè®¿é—®æœåŠ¡ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œç§Ÿæˆ·ä¹‹é—´çš„æ•°æ®æ˜¯éš”ç¦»çš„ï¼Œå¹¶ä¸”ä¿è¯æ¯ä¸ªç”¨æˆ·çš„æ•°æ®å¯¹å…¶ä»–ç§Ÿæˆ·ä¸å¯è§ã€‚</p><ul><li>ç™¾ç§‘</li></ul><p>å¤šç§Ÿæˆ·æŠ€æœ¯å¯ä»¥å®ç°å¤šä¸ªç§Ÿæˆ·ä¹‹é—´å…±äº«ç³»ç»Ÿå®ä¾‹ï¼ŒåŒæ—¶åˆå¯ä»¥å®ç°ç§Ÿæˆ·çš„ç³»ç»Ÿå®ä¾‹çš„ä¸ªæ€§åŒ–å®šåˆ¶ã€‚</p><p>é€šè¿‡ä½¿ç”¨å¤šç§Ÿæˆ·æŠ€æœ¯å¯ä»¥ä¿è¯ç³»ç»Ÿå…±æ€§çš„éƒ¨åˆ†è¢«å…±äº«ï¼Œä¸ªæ€§çš„éƒ¨åˆ†è¢«å•ç‹¬éš”ç¦»ã€‚</p><p>é€šè¿‡åœ¨å¤šä¸ªç§Ÿæˆ·ä¹‹é—´çš„èµ„æºå¤ç”¨ï¼Œè¿è¥ç®¡ç†ç»´æŠ¤èµ„æºï¼Œæœ‰æ•ˆèŠ‚çœå¼€å‘åº”ç”¨çš„æˆæœ¬ã€‚è€Œä¸”ï¼Œåœ¨ç§Ÿæˆ·ä¹‹é—´å…±äº«åº”ç”¨ç¨‹åºçš„å•ä¸ªå®ä¾‹ï¼Œå¯ä»¥å®ç°å½“åº”ç”¨ç¨‹åºå‡çº§æ—¶ï¼Œæ‰€æœ‰ç§Ÿæˆ·å¯ä»¥åŒæ—¶å‡çº§ã€‚</p><p>åŒæ—¶ï¼Œå› ä¸ºå¤šä¸ªç§Ÿæˆ·å…±äº«ä¸€ä»½ç³»ç»Ÿçš„æ ¸å¿ƒä»£ç ï¼Œå› æ­¤å½“ç³»ç»Ÿå‡çº§æ—¶ï¼Œåªéœ€è¦å‡çº§ç›¸åŒçš„æ ¸å¿ƒä»£ç å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¤šç§Ÿæˆ· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£æjsonæŠ¥æ–‡ï¼Œè·å–keyçš„value</title>
      <link href="2020/11/05/2020-11-05-oracle-json/"/>
      <url>2020/11/05/2020-11-05-oracle-json/</url>
      
        <content type="html"><![CDATA[<p>æ–°å¢è§£æjsonæŠ¥æ–‡ï¼Œè·å–keyçš„value</p><h2 id="å»ºç«‹å¦‚ä¸‹ä¸¤ç§ç±»å‹"><a href="#å»ºç«‹å¦‚ä¸‹ä¸¤ç§ç±»å‹" class="headerlink" title="å»ºç«‹å¦‚ä¸‹ä¸¤ç§ç±»å‹"></a>å»ºç«‹å¦‚ä¸‹ä¸¤ç§ç±»å‹</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE TYPE ty_row_str_split  <span class="keyword">as</span> object (strValue VARCHAR2 (<span class="number">4000</span>));</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE TYPE ty_tbl_str_split <span class="keyword">AS</span> <span class="keyword">TABLE</span> <span class="keyword">OF</span> ty_row_str_split;</span><br></pre></td></tr></table></figure><h2 id="æ–°å»ºjsonæˆªå–é€šç”¨æ–¹æ³•"><a href="#æ–°å»ºjsonæˆªå–é€šç”¨æ–¹æ³•" class="headerlink" title="æ–°å»ºjsonæˆªå–é€šç”¨æ–¹æ³•"></a>æ–°å»ºjsonæˆªå–é€šç”¨æ–¹æ³•</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">FUNCTION</span> fun_split(p_str       <span class="keyword">IN</span> VARCHAR2,</span><br><span class="line">                                     p_delimiter <span class="keyword">IN</span> VARCHAR2)</span><br><span class="line">  <span class="keyword">RETURN</span> ty_tbl_str_split <span class="keyword">IS</span></span><br><span class="line">  <span class="comment">--åç§°ï¼šjsonæˆªå–é€šç”¨æ–¹æ³•</span></span><br><span class="line">  <span class="comment">--ä¼ å…¥å‚æ•°ï¼š</span></span><br><span class="line">  <span class="comment">--p_str jsonæŠ¥æ–‡å†…å®¹</span></span><br><span class="line">  <span class="comment">--p_delimiter jsonæŠ¥æ–‡ä¸­çš„keyå€¼</span></span><br><span class="line">  j         <span class="type">INT</span> :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  i         <span class="type">INT</span> :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">  len       <span class="type">INT</span> :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  len1      <span class="type">INT</span> :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  str       VARCHAR2(<span class="number">4000</span>);</span><br><span class="line">  str_split ty_tbl_str_split :<span class="operator">=</span> ty_tbl_str_split();</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="comment">--è·å–jsoné•¿åº¦len</span></span><br><span class="line">  len  :<span class="operator">=</span> LENGTH(p_str);</span><br><span class="line">  <span class="comment">--è·å–keyé•¿åº¦len1</span></span><br><span class="line">  len1 :<span class="operator">=</span> LENGTH(p_delimiter);</span><br><span class="line"></span><br><span class="line">  WHILE j <span class="operator">&lt;</span> len LOOP</span><br><span class="line">    j :<span class="operator">=</span> INSTR(p_str, p_delimiter, i);</span><br><span class="line"></span><br><span class="line">    IF j <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">      j   :<span class="operator">=</span> len;</span><br><span class="line">      str :<span class="operator">=</span> SUBSTR(p_str, i);</span><br><span class="line">      str_split.EXTEND;</span><br><span class="line">      str_split(str_split.COUNT) :<span class="operator">=</span> ty_row_str_split(strValue <span class="operator">=</span><span class="operator">&gt;</span> str);</span><br><span class="line"></span><br><span class="line">      IF i <span class="operator">&gt;=</span> len <span class="keyword">THEN</span></span><br><span class="line">        EXIT;</span><br><span class="line">      <span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">ELSE</span></span><br><span class="line">      str :<span class="operator">=</span> SUBSTR(p_str, i, j <span class="operator">-</span> i);</span><br><span class="line">      i   :<span class="operator">=</span> j <span class="operator">+</span> len1;</span><br><span class="line">      str_split.EXTEND;</span><br><span class="line">      str_split(str_split.COUNT) :<span class="operator">=</span> ty_row_str_split(strValue <span class="operator">=</span><span class="operator">&gt;</span> str);</span><br><span class="line">    <span class="keyword">END</span> IF;</span><br><span class="line">  <span class="keyword">END</span> LOOP;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">RETURN</span> str_split;</span><br><span class="line"><span class="keyword">END</span> fun_split;</span><br></pre></td></tr></table></figure><h2 id="è§£æjsoné€šç”¨æ–¹æ³•"><a href="#è§£æjsoné€šç”¨æ–¹æ³•" class="headerlink" title="è§£æjsoné€šç”¨æ–¹æ³•"></a>è§£æjsoné€šç”¨æ–¹æ³•</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">FUNCTION</span> fun_parsejson(p_jsonstr varchar2, p_key varchar2)</span><br><span class="line">  <span class="keyword">RETURN</span> VARCHAR2 <span class="keyword">AS</span></span><br><span class="line">  <span class="comment">--åç§°ï¼šè§£æjsoné€šç”¨æ–¹æ³•</span></span><br><span class="line">  rtnVal    VARCHAR2(<span class="number">1000</span>);</span><br><span class="line">  i         NUMBER(<span class="number">2</span>);</span><br><span class="line">  jsonkey   VARCHAR2(<span class="number">500</span>);</span><br><span class="line">  jsonvalue VARCHAR2(<span class="number">1000</span>);</span><br><span class="line">  json      VARCHAR2(<span class="number">3000</span>);</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  IF p_jsonstr <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span></span><br><span class="line">    <span class="comment">--å°†å‰åçš„æ‹¬å·å»æ‰</span></span><br><span class="line">    json :<span class="operator">=</span> REPLACE(p_jsonstr, <span class="string">&#x27;&#123;&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    json :<span class="operator">=</span> REPLACE(json, <span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    json :<span class="operator">=</span> replace(json, <span class="string">&#x27;&quot;&#x27;</span>, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">FOR</span> temprow <span class="keyword">IN</span> (<span class="keyword">SELECT</span> strvalue <span class="keyword">AS</span> <span class="keyword">VALUE</span> <span class="keyword">FROM</span> <span class="keyword">TABLE</span>(fun_split(json, <span class="string">&#x27;,&#x27;</span>))) LOOP</span><br><span class="line">      IF temprow.VALUE <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span></span><br><span class="line">        i         :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        jsonkey   :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        jsonvalue :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">FOR</span> tem2 <span class="keyword">IN</span> (<span class="keyword">SELECT</span> strvalue <span class="keyword">AS</span> <span class="keyword">VALUE</span></span><br><span class="line">                       <span class="keyword">FROM</span> <span class="keyword">TABLE</span>(fun_split(temprow.value, <span class="string">&#x27;:&#x27;</span>))) LOOP</span><br><span class="line">          IF i <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">            jsonkey :<span class="operator">=</span> tem2.VALUE;</span><br><span class="line">          <span class="keyword">END</span> IF;</span><br><span class="line">          IF i <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span></span><br><span class="line">            jsonvalue :<span class="operator">=</span> tem2.VALUE;</span><br><span class="line">          <span class="keyword">END</span> IF;</span><br><span class="line">        </span><br><span class="line">          i :<span class="operator">=</span> i <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">END</span> LOOP;</span><br><span class="line">      </span><br><span class="line">        IF (jsonkey <span class="operator">=</span> p_key) <span class="keyword">THEN</span></span><br><span class="line">          rtnVal :<span class="operator">=</span> jsonvalue;</span><br><span class="line">        <span class="keyword">END</span> if;</span><br><span class="line">      <span class="keyword">END</span> IF;</span><br><span class="line">    <span class="keyword">END</span> LOOP;</span><br><span class="line">  <span class="keyword">END</span> IF;</span><br><span class="line">  <span class="keyword">RETURN</span> rtnVal;</span><br><span class="line"><span class="keyword">END</span> fun_parsejson;</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ›´æ–°</span></span><br><span class="line">update t_confirm_letter t</span><br><span class="line">   <span class="keyword">set</span> t.d_confirm_date <span class="operator">=</span> to_date(fun_parsejson(t.report_data, <span class="string">&#x27;confirmDate&#x27;</span>),<span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line"> <span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br><span class="line">   <span class="keyword">and</span> t.d_confirm_date <span class="keyword">is</span> <span class="keyword">null</span></span><br><span class="line">   <span class="keyword">and</span> t.report_data <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java æ ¡éªŒæ˜¯å¦ä¸ºè¿ç»­çš„åŒºé—´</title>
      <link href="2020/09/29/2020-09-29-java-continuation/"/>
      <url>2020/09/29/2020-09-29-java-continuation/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å·¥ä½œä¸­é‡åˆ°éœ€è¦æ ¡éªŒæ˜¯å¦ä¸ºè¿ç»­</p></blockquote><p>ç»™å‡ºç¤ºä¾‹</p><p>|  â€”-  | â€”-  |<br>| 0  | 100 |<br>| 100  | 600 |<br>| 600  | -1 |</p><p>ä»0åˆ°æ­£æ— ç©·çš„è¿ç»­åŒºé—´ã€‚</p><p>ä½¿ç”¨-1ä»£è¡¨æ— ç©·å¤§</p><p>å¯ä»¥è€ƒè™‘ä½¿ç”¨äºŒç»´æ•°ç»„arrayæ¥å­˜æ”¾æ•°æ®ï¼ŒåŒæ ·ä½¿ç”¨äºŒç»´æ•°ç»„æ¯”è¾ƒæ•°æ®æ˜¯æœ€æ–¹ä¾¿çš„ã€‚</p><p>å¯ä»¥æ‰¾åˆ°è§„åˆ™</p><ul><li><code>array[0][0]=0</code>ï¼Œç¬¬ä¸€ä¸ªæ•°æ®æ€»æ˜¯ç­‰äº0</li><li><code>array[0][1]=array[1][0]</code></li><li><code>array[1][1]=array[2][0]</code>ï¼Œä»ç¬¬äºŒä¸ªæ•°æ®å¼€å§‹ï¼Œç­‰äºä¸‹ä¸€ä¸ªçš„ç¬¬ä¸€ä¸ªæ•°æ®ï¼Œä»¥æ­¤ç±»æ¨</li><li><code>array[2][1]=-1</code>ï¼Œæœ€åä¸€ä¸ªæ€»æ˜¯ç­‰äº-1ï¼ˆæ­£æ— ç©·å¤§ï¼‰</li></ul><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/09/1047437796.png" alt="äºŒç»´æ•°ç»„ä¸´è¿‘ç›¸ç­‰"></p><p>é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œå¯ä»¥ä½¿ç”¨äºŒç»´æ•°ç»„æ¥æ ¡éªŒæ˜¯å¦ä¸ºè¿ç»­çš„åŒºé—´</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/12/1173788277.png" alt="ä»£ç æˆªå›¾"> </p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020å¹´ä¸ŠåŠå¹´è¿‘å†µ-åˆæ¥äº†è¥¿å®‰</title>
      <link href="2020/09/04/2020-09-04-come-to-xi-an-again/"/>
      <url>2020/09/04/2020-09-04-come-to-xi-an-again/</url>
      
        <content type="html"><![CDATA[<p>å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œæˆ‘è¿˜æ˜¯æ¥äº†è¥¿å®‰ï¼Œå’Œè¥¿å®‰çœŸçš„æœ‰ç€ä¸å¯åˆ†å‰²çš„ç¼˜åˆ†ã€‚</p><p>7æœˆ6å·å…¥èŒçš„æ–°å…¬å¸ï¼ŒåŒä¸€ä¸ªç”²æ–¹ï¼Œæ˜¯çš„ï¼Œæˆ‘åˆæ¥è¿›äº†ä¸€å®¶å¤–åŒ…å…¬å¸ã€‚è¿™ä¸æˆ‘å¿ƒä¸­æ‰€æƒ³å®Œå…¨è¿èƒŒäº†ã€‚ä¸‹æ¬¡ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ¬¡æ¢å…¬å¸ï¼Œä¸€å®šä¸èƒ½å»å¤–åŒ…å…¬å¸äº†ã€‚</p><p>æ—¶éš”7ä¸ªæœˆï¼Œåˆæ¥åˆ°äº†è¥¿å®‰ï¼Œä¸€åˆ‡æ˜¯é‚£ä¹ˆçš„ç†Ÿæ‚‰ï¼Œåˆé‚£ä¹ˆçš„é™Œç”Ÿã€‚</p><p>ä»17å¹´å¹´åº•æ¥åˆ°è¥¿å®‰ï¼Œåˆ°19å¹´å¹´åº•å›å»ï¼Œåˆšå¥½æœ‰ä¸¤å¹´äº†ï¼Œè¿™ä¸¤å¹´å»è¿‡å¤§å”ä¸å¤œåŸï¼Œå°¤å…¶æ™šä¸Šç¯ç®¡ç‰¹åˆ«ç»šä¸½ï¼Œæ¯å¤©éƒ½å¼€æ»¡äº†ç¯å…‰ï¼Œè¿™ç”µè´¹èŠ±é”€è‚¯å®šå¾ˆå¤§å§ï¼Œä½†æ˜¯å¸å¼•ç€å…¨å›½å„åœ°çš„æ¸¸å®¢å‰æ¥ï¼Œæœ¬è‚¯å®šèµšå›äº†ã€‚å»è¿‡å¤§æ˜å®«å›½å®¶é—å€å…¬å›­ï¼Œè¢«å®‰å²ä¹‹ä¹±çƒ§å¾—ä¸€å¹²äºŒå‡€ï¼Œå»äº†ä¹‹åä¼šæ„Ÿå—åˆ°å¯æƒœï¼Œå¤§å”ç››ä¸–çš„å¤§æ˜å®«ä»€ä¹ˆéƒ½æ²¡äº†ï¼Œç•™ä¸‹çš„åªæœ‰ä¸€ç‰‡åœ°ï¼Œå»ç©çš„äººå¾ˆå¤šæœ¬åœ°äººå’Œç¬¬ä¸€æ¬¡æ¥çš„æ¸¸å®¢ï¼Œæ¸¸å®¢å¾ˆå°‘å†æ¬¡å»å¤§æ˜å®«äº†ã€‚æˆ‘æ²¡æœ‰å†å»è¿‡ã€‚</p><p>19å¹´åˆšå¥½12æœˆ31æ—¥é¡¹ç›®ç»“é¡¹ï¼Œå…ƒæ—¦é‚£å¤©å›äº†æ­¦æ±‰ï¼Œè¿‡äº†æ²¡å‡ å¤©å°±çˆ†å‘ç–«æƒ…äº†ï¼Œå°±å¾ˆå°´å°¬ï¼Œå¹¸å¥½èµ¶åœ¨æ­¦æ±‰å°åŸä¹‹å‰ï¼Œå›äº†å®¶ã€‚</p><p>ä¹‹åç”±äºå·¥ä½œåŸå› ï¼Œåˆå›åˆ°äº†è¥¿å®‰ã€‚</p><p>æ¥çš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åœ¨è¥¿å®‰æ‰¾å®¶é©¾æ ¡ï¼ŒæŠŠé©¾ç…§ç»™è€ƒäº†ï¼Œè¯´å‡ºå»å°´å°¬ï¼Œåˆ°ç°åœ¨æˆ‘è¿˜é©¾ç…§ï¼Œè™½ç„¶æˆ‘ä¹Ÿæ²¡æœ‰è½¦ï¼Œä¸€æ­¥ä¸€æ­¥æ¥å˜›ï¼Œè¯´ä¸å®šæ‹¿åˆ°é©¾ç…§äº†å°±æƒ³ä¹°è½¦äº†å‘¢ã€‚</p><p>ç°åœ¨ä¸€çœ¨çœ¼åˆæ™ƒåˆ°9æœˆä»½ï¼Œæ—¶é—´å¿«å¾—å¾ˆï¼Œç•™ä¸‹çš„è¶³è¿¹ä¹Ÿä¼šæ…¢æ…¢æ¨¡ç³Šã€‚æœ‰å¥è¯è¯´å¾—å¥½â€œ<strong>è¶Šæ˜¯æ³¥æ³çš„é“è·¯ï¼Œç•™ä¸‹çš„è¶³è¿¹è¶Šæ¸…æ™°</strong>â€ï¼Œå¯æˆ‘ç›®å‰çš„é“è·¯å´å¹³å¹³æ— å¥‡ï¼Œé“ä¸å‡ºå¤šä¹ˆç²¾å½©ï¼Œæ‰€ä»¥å°±å¹³å¹³æ— å¥‡ï¼Œè¿™æœ¬æ˜¯å’Œå¹³å¹´ä»£ï¼Œä¸æ±‚å¤§å¯Œå¤§è´µï¼Œä½†æ±‚å¹³å¹³å®‰å®‰ã€‚</p><p>åœ¨è¥¿å®‰è¿™è¾¹çš„å·¥ä½œï¼Œå¹²çš„è¿˜æ˜¯ä¸Šå®¶å…¬å¸å¹²çš„æ´»ï¼Œä¸è¿‡è½»æ¾äº†è®¸å¤šã€‚è¯¥ä¸‹ç­å°±ä¸‹ç­äº†ï¼Œä¸ä¼šå¼ºåˆ¶å»åŠ ç­ï¼Œæ¯•ç«Ÿæˆ‘æ˜¯é¡¹ç›®ç»ç†ã€‚ã€‚ä¸å¤ªå–œæ¬¢å»åŠ ç­ï¼Œä¿è¯æ´»å¹²å¥½å¹²å®Œå°±è¡Œï¼Œæ²¡å•¥äº‹æ—©æ—©ä¸‹ç­å¾—äº†ã€‚</p><p>éƒ½æ˜¯ä¸ºäº†ç”Ÿæ´»ï¼Œè°æƒ³è®©å·¥ä½œå……æ»¡äº†ç”Ÿæ´»å‘¢ï¼Œå¾—ç»™è‡ªå·±ç•™å‡ºæ—¶é—´å¹²ç‚¹è‡ªå·±å–œæ¬¢çš„äº‹æƒ…ã€‚</p><p>ç”Ÿæ´»ä¹Ÿéœ€è¦å¥åº·ï¼Œè¦æœ‰ä¸€å®šçš„è¿åŠ¨ï¼Œä¿æŒç€å¥åº·çš„ä½“é­„ã€‚å‘¨ä¸‰å‘¨äº”ï¼Œä¼šæ—©æ—©ä¸‹ç­å»ä½“è‚²é¦†æ‰“ä¸¤å°æ—¶ç¾½æ¯›çƒï¼Œè¿åŠ¨å‡ºå‡ºæ±—ï¼Œå¾ˆå¼€å¿ƒã€‚</p><p>é©¬ä¸Šå¿«å›½åº†äº†ï¼Œå‡†å¤‡å»å“ªé‡Œç©å‘¢</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾è§£ï¼24å¼ å›¾å½»åº•å¼„æ‡‚ä¹å¤§å¸¸è§æ•°æ®ç»“æ„ï¼ï¼ˆè½¬ï¼‰</title>
      <link href="2020/08/03/2020-08-03-picture-datastruct/"/>
      <url>2020/08/03/2020-08-03-picture-datastruct/</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºå­¦ä¹ æ•°æ®ç»“æ„ï¼Œæ‰“ç‰¢åŸºç¡€çš„å°ä¼™ä¼´æ¥è¯´ï¼Œæ˜¯ç¯‡ç›¸å½“æ£’çš„æ–‡ç« ï¼Œå€¼å¾—å­¦ä¹ </p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/06/4248174982.png" alt="å¾®ä¿¡æˆªå›¾_20200603230908.png"></p><p>æ–‡ç« é“¾æ¥ï¼š<br><a href="https://blog.csdn.net/u014398524/article/details/106322387/">å›¾è§£ï¼24å¼ å›¾å½»åº•å¼„æ‡‚ä¹å¤§å¸¸è§æ•°æ®ç»“æ„ï¼</a></p><p>äº‹æƒ…å‘å±•å°±æ˜¯è¿™æ ·ï¼Œä¹Ÿè®¸å¾ˆå•°å—¦ã€‚</p><p>å¤§è‡´å°±æ˜¯å…¬å¸Aï¼ˆå·¥ä½œ4å¹´7ä¸ªæœˆï¼‰â€“&gt;Bï¼ˆè¯•ç”¨æœŸ2æ˜ŸæœŸï¼‰â€“&gt;Cï¼ˆ3æœˆ20æ—¥è‡³ä»Šï¼‰ã€‚Bå…¬å¸å¼€å§‹æŒ–æˆ‘ã€‚</p><p>çº ç»“</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººç”Ÿæœ‰å¾ˆå¤šå²”è·¯å£</title>
      <link href="2020/05/08/2020-05-08-way-of-life/"/>
      <url>2020/05/08/2020-05-08-way-of-life/</url>
      
        <content type="html"><![CDATA[<p>äººç”Ÿæœ‰å¾ˆå¤šå²”è·¯å£</p><blockquote><p>äººç”Ÿæœ‰å¾ˆå¤šå²”è·¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šä¸æ–­çš„é¢ä¸´é€‰æ‹©ï¼</p></blockquote><p>æœ€è¿‘åœ¨æ–°å…¬å¸çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„éœ€æ±‚é¡ºåˆ©å®Œæˆï¼Œæ²¡æœ‰é‡åˆ°ä»€ä¹ˆå¤§çš„é—®é¢˜ï¼Œæ€»ç®—æ˜¯æ¾äº†ä¸€å£æ°”ã€‚</p><p>åœ¨äº”ä¸€ä¹‹å‰æ¥åˆ°ä¸€ä¸ªç”µè¯ï¼Œæ˜¯ä¹‹å‰é¡¹ç›®çš„ä¹™æ–¹çš„è€æ€»æ‰“æ¥çš„ï¼Œè¦æŒ–æˆ‘è¿‡å»ç»§ç»­åšé‚£ä¸ªé¡¹ç›®ï¼Œåœ¨è¥¿å®‰ï¼Œç»™æˆ‘å¼€å‡ºçš„è–ªèµ„æ¯”æˆ‘ç°åœ¨è¿˜é«˜å‡º4kã€‚è¯´å®è¯ï¼Œæˆ‘å½“æ—¶å°±å¿ƒåŠ¨äº†ï¼Œå“ªé‡Œç»™å¾—é«˜å°±å»å“ªé‡Œï¼Œè¿™æ˜¯æ˜æ˜¾çš„é“ç†ï¼Œå†µä¸”è¿˜æ˜¯è‡ªå·±ç†Ÿæ‚‰åšè¿‡ä¸¤å¹´çš„é¡¹ç›®ï¼Œæˆ‘è¯´äº”ä¸€å‡æœŸä¹‹åç»™å‡ºç­”å¤ã€‚</p><p>äº”ä¸€å‡æœŸæœŸé—´ï¼Œæˆ‘å’Œæˆ‘åª³å¦‡å»äº†ä¸ˆæ¯å¨˜å®¶ï¼Œä¹Ÿä¸€èµ·è®¨è®ºäº†è¿™ä»¶äº‹ï¼Œä¹Ÿä¸»è¦æ˜¯çœ‹æˆ‘çš„é€‰æ‹©ã€‚</p><p>è¯´èµ·æ¥æˆ‘è¿™å·¥ä½œè·³æ§½åœ¨2æœˆ25æ—¥ç¦»èŒåˆ°3æœˆ20æ—¥å…¥èŒæ–°å…¬å¸è¿™æ®µæ—¶é—´é‡Œä¹Ÿæ˜¯æ›²æ›²æŠ˜æŠ˜ã€‚</p><p>æˆ‘ç¬¬ä¸€å®¶å…¬å¸ç®€ç§°Aï¼ŒæŒ–æˆ‘è¿‡å»çš„é‚£å®¶å…¬å¸ç®€ç§°Bï¼Œç°åœ¨å…¥èŒçš„å…¬å¸ç®€ç§°C</p><p>äº‹æƒ…é¾™è„‰å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p><ol><li>åœ¨Aå…¬å¸åšçš„é¡¹ç›®å¿«ç»“é¡¹ä¹‹é™…ï¼ŒBå…¬å¸è”ç³»åˆ°äº†æˆ‘ï¼Œè¯´Bå…¬å¸å°†æ¥æ”¶è¯¥é¡¹ç›®ï¼Œæƒ³è®©æˆ‘è¿‡å»ï¼Œå¼€çš„å¾…é‡æ¯”Aé«˜71%</li><li>æˆ‘è¯´ç­‰è¿‡å®Œå¹´å†è¿‡å»ï¼Œè°çŸ¥å…ƒæ—¦ä¹‹åé‡åˆ°ç–«æƒ…è¿™ä»¶äº‹äº†ï¼Œäºæ˜¯å°±å¼€å§‹åœ¨å®¶åŠå…¬ã€‚</li><li>ä»Aç¦»èŒè¿™ä»¶äº‹æ˜¯å¯ä»¥è‚¯å®šçš„äº†ï¼Œäºæ˜¯åœ¨2æœˆ25æ—¥æå‡ºç¦»èŒã€‚</li><li>ç¦»èŒä¹‹åç«‹é©¬è”ç³»äº†Bå…¬å¸ï¼Œé‚£æ—¶å€™ç–«æƒ…æ­£å¼å¢é•¿é˜¶æ®µï¼Œä¹Ÿæ˜¯åœ¨å®¶åŠå…¬ã€‚</li><li>å’ŒBå…¬å¸æ— éœ€é¢è¯•ï¼Œçº¦å®šè¯•ç”¨æœŸä¸€ä¸ªæœˆï¼ˆæ­£å¸¸ä¸‰ä¸ªæœˆï¼‰ï¼Œå·¥ä½œå†…å®¹æ²¡æœ‰åšå®é™…çš„å¼€å‘å·¥ä½œï¼Œä¸»è¦åšè°ƒç ”å·¥ä½œï¼ˆSpringCloudæ–¹å‘ï¼‰äº¤ä»˜è°ƒç ”ç»“æœæ–‡æ¡£ï¼Œè®¡åˆ’ç–«æƒ…ç»“æŸä¹‹åå»è¥¿å®‰ã€‚</li><li>æœŸé—´å†…å¿ƒå¾ˆçº ç»“ï¼Œä¸»è¦æ˜¯å»å¹´åˆšç»“å©šï¼Œæƒ³å°±åœ¨æ­¦æ±‰å·¥ä½œå‘å±•ï¼ˆä¸æ‹…å¿ƒç–«æƒ…ï¼Œç–«æƒ…è‚¯å®šå¯ä»¥æå®šï¼‰ï¼Œè¯•ç”¨æœŸåˆšå¥½ä¸¤ä¸ªæ˜ŸæœŸï¼Œç»è¿‡å†…å¿ƒæŒ£æ‰ï¼Œè¿˜æ˜¯é€‰æ‹©ç¦»èŒï¼Œè¯•ç”¨æœŸä¸¤ä¸ªæ˜ŸæœŸç¦»èŒï¼Œæ‰“ç®—è¿˜æ˜¯åœ¨æ­¦æ±‰æ‰¾å·¥ä½œã€‚</li><li>åœ¨Bå…¬å¸è¯•ç”¨æœŸçš„ä¸¤ä¸ªæ˜ŸæœŸçš„å·¥èµ„æ²¡æœ‰ç»™æˆ‘ï¼Œè¯´æ˜¯ç”²æ–¹æ²¡æœ‰ç®—äººå¤´è¿›å»ï¼Œç™½å¹²äº†ä¸¤ä¸ªæ˜ŸæœŸï¼ˆå¯¹æ­¤æˆ‘å¼€å§‹å¯¹Bå…¬å¸æœ‰ç‚¹å‡åˆ†ï¼‰</li><li>ç¦»èŒBå…¬å¸åï¼Œæˆ‘å¼€å§‹åœ¨æ­¦æ±‰æŠ•ç®€å†ï¼Œç½‘ä¸Šè¿›è¡Œç”µè¯é¢è¯•ï¼Œæœ€åé¢è¯•è¿‡äº†ç›®å‰è¿™å®¶å…¬å¸Cï¼Œå¼€çš„å¾…é‡æ¯”Aé«˜57%ã€‚</li><li>è™½ç„¶æ²¡æœ‰Bå¼€çš„å·¥èµ„é«˜ï¼Œç›¸æ¯”è¥¿å®‰é‚£ä¹ˆè¿œï¼Œåœ¨æ­¦æ±‰ç¦»å®¶è¿‘ä¸€ç‚¹è¿™ç‚¹ä¼˜åŠ¿å°±æ— é¡»çº ç»“å¤ªå¤šäº†ã€‚å…¥èŒCå…¬å¸ï¼Œåœ¨æ­¦æ±‰è¿™è¾¹ç§Ÿæˆ¿ï¼Œä¸€ä¸‹å­å°±æ˜¯æŠ¼äºŒä»˜ä¸‰ã€‚ã€‚</li><li>ä¸´è¿‘äº”ä¸€ï¼ŒBå…¬å¸çš„é¢†å¯¼ç›´æ¥æ‰“ç”µè¯ç»™æˆ‘ï¼Œè¿˜æ˜¯è¦æˆ‘è¿‡å»æ”¯æŒä¹‹å‰çš„é¡¹ç›®ï¼Œå¹¶ä¸”å¼€å‡ºçš„å¾…é‡æ¯”Aé«˜114%ï¼Œç€å®è®©æˆ‘å¿ƒåŠ¨ã€‚</li><li>æˆ‘å’Œç°åœ¨Cå…¬å¸çš„ä¸Šçº§æ²Ÿé€šäº†è¿™ä»¶äº‹ï¼Œæƒ³äº†è§£è¿™å®¶å…¬å¸èƒ½ç»™æˆ‘æ¶¨åˆ°å¤šå°‘ï¼Œè®©æˆ‘å¯ä»¥åœ¨Bå’ŒCä¹‹é—´åšå‡ºé€‰æ‹©ã€‚</li><li>å°±ç­‰Cå…¬å¸èƒ½å¦åŒæ„æˆ‘çš„è¯‰æ±‚ï¼ŒåŒæ„çš„è¯å°±åœ¨Cï¼Œè¾¾ä¸åˆ°çš„è¯å°±å»Bã€‚</li><li>Bå’ŒCå…¬å¸ç»™å‡ºçš„å‘å±•æ–¹å‘éƒ½æ˜¯PMé¡¹ç›®ç®¡ç†æ–¹å‘ï¼ŒèŒä¸šåŸ¹å…»æ–¹é¢å·®ä¸å¤šã€‚</li></ol><p>äº‹æƒ…å‘å±•å°±æ˜¯è¿™æ ·ï¼Œä¹Ÿè®¸å¾ˆå•°å—¦ã€‚</p><p>å¤§è‡´å°±æ˜¯å…¬å¸Aï¼ˆå·¥ä½œ4å¹´7ä¸ªæœˆï¼‰â€“&gt;Bï¼ˆè¯•ç”¨æœŸ2æ˜ŸæœŸï¼‰â€“&gt;Cï¼ˆ3æœˆ20æ—¥è‡³ä»Šï¼‰ã€‚Bå…¬å¸å¼€å§‹æŒ–æˆ‘ã€‚</p><p>çº ç»“</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·³æ§½äº†</title>
      <link href="2020/04/25/2020-04-25-job-hopping/"/>
      <url>2020/04/25/2020-04-25-job-hopping/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè·³æ§½ï¼Œä¸ä»…ä»…æ˜¯ç”±äºå·¥ä½œä¸Šé¡¹ç›®çš„ä¸å¤ªå–œæ¬¢ï¼Œæœ€ä¸»è¦çš„åŸå› è¿˜æ˜¯ç¦åˆ©å¾…é‡ã€‚ã€‚é¢ï¼Œç¡®å®æ˜¯ç¡¬ä¼¤ã€‚</p><p>åœ¨ä¸Šå®¶å…¬å¸ä¹Ÿå·¥ä½œäº†å·®ä¸å¤š4å¹´å¤šï¼Œå¤§å››å°±å»å…¬å¸å®ä¹ ï¼Œè½¬æ­£åå·¥ä½œåˆ°2020å¹´2æœˆã€‚<br>æå‡ºç¦»èŒï¼Œä¸€å¼€å§‹æ˜¯åœ¨è¿‡ä¸å»å¿ƒé‡Œè¿™é“åï¼Œå› ä¸ºä¸çŸ¥é“æ€ä¹ˆå¼€å£ï¼Œçº ç»“äº†å¾ˆä¹…<br>åˆšå¥½ä¹Ÿé‡åˆ°äº†è¿™ä¸ªç–«æƒ…ï¼Œä¸€ç›´å‘†åœ¨å®¶é‡Œ</p><p>æœ€åè¿˜æ˜¯é¼“èµ·å‹‡æ°”ï¼Œæå‡ºäº†ç¦»èŒï¼Œå¹¶è¯´å‡ºç¦»èŒåŸå› ï¼šç¦åˆ©å¾…é‡é—®é¢˜</p><p>æ‰¾å·¥ä½œçš„è¿™æ®µæ—¶é—´ï¼Œå¿ƒé‡Œæƒ³ç€ä¸æƒ³å†å»å¤–åŒ…å…¬å¸äº†ï¼Œä¸€å®šè¦å»ä¸€ä¸ªç”²æ–¹çš„ç ”å‘å…¬å¸ä¹‹ç±»ã€‚</p><p>ç»ˆç©¶è¿˜æ˜¯è‡ªå·±èƒ½åŠ›ä¸å¤ªè¡Œï¼Œæœ€åè¿˜æ˜¯è¿›äº†å¤–åŒ…å…¬å¸ã€‚ã€‚</p><p>3æœˆ20å·å…¥èŒçš„ï¼Œå·®ä¸å¤šä¸€å®¶1ä¸ªå¤šæœˆäº†ã€‚</p><p>å‚ä¸çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„éœ€æ±‚ï¼Œé¡ºåˆ©å°†ä¸»è¦çš„å¼€å‘å†…å®¹æäº¤æµ‹è¯•å®Œæ¯•ï¼Œå¿ƒå®‰äº†è®¸å¤šã€‚</p><p>è¿›æ¥PMå¯¹æˆ‘æŠ±æœ‰å¾ˆå¤§çš„æœŸæœ›ï¼Œå¸Œæœ›æˆ‘å¯ä»¥å°†æ­¦æ±‰è¿™è¾¹çš„å›¢é˜Ÿå¸¦é¢†èµ·æ¥ï¼Œå½“æ—¶å¬ç€ä¹Ÿæ˜¯æ¯”è¾ƒæƒŠè®¶ï¼ŒåŒæ—¶ä¹Ÿæœ‰ç‚¹å‹åŠ›äº†ã€‚è‡ªå·±ä»æ¥æ²¡æœ‰å¸¦é¢†è¿‡å›¢é˜Ÿï¼Œåˆšè¿›å…¬å¸è¿˜æ²¡ä¸€ä¸ªæœˆï¼Œå°±èµ‹äºˆæˆ‘è¿™ä¹ˆå¤§çš„èŒèƒ½ï¼Œæˆ‘ç¡¬ç€å¤´çš®ä¸Šäº†ï¼Œä¸ä»…ä»…éœ€è¦è´Ÿè´£è‡ªå·±å¼€å‘çš„è¿™å—å†…å®¹ï¼Œè¿˜éœ€è¦è´Ÿè´£æ–°è¿›æˆå‘˜çš„è¿™å—åŸ¹å…»ï¼Œå¤´éƒ½å¤§äº†ã€‚å’Œä¹‹å‰ç›¸æ¯”ä¸€ä¸‹å­è·¨åº¦æœ‰ç‚¹å¤§äº†ã€‚</p><p>å…¶å®æƒ³æƒ³ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒéš¾å¾—çš„æœºä¼šï¼Œä¸€èˆ¬æƒ…å†µåˆšè¿›é¡¹ç›®ï¼Œä¸å¯èƒ½ç»™ä½ è¿™ä¹ˆå¤§çš„èŒèƒ½å§ã€‚è€Œä¸”è¿™ä¸ªç¡®å®æˆ‘æ‰€æœŸæœ›çš„ï¼Œå½“ä¸ªé¡¹ç›®ç»ç†ã€‚</p><p>è¿™è¾¹æ…¢æ…¢ä¼šé™†ç»­å£®å¤§èµ·æ¥ï¼Œæ˜å¤©å°±æœ‰ä¸€ä½æ–°åŒäº‹å…¥èŒ</p><p>å¸Œæœ›è‡ªå·±èƒ½è°ƒèŠ‚å¥½èŠ‚å¥ï¼Œå·¥ä½œå›ºç„¶æœ‰å‹åŠ›ï¼Œä½†æ˜¯ä¸€å®šè¦è°ƒèŠ‚å¥½ï¼Œä¸å¿ƒæ€¥ï¼Œæœ‰æ¡ä¸çµ®çš„å¤„ç†å¥½äº‹åŠ¡ã€‚</p><p>å¸¦é¢†å¥½å›¢é˜Ÿï¼Œå¥å£®èµ·æ¥ã€‚</p><p>ç»™è‡ªå·±çš„ä¸€å¥è¯ï¼š</p><p>å‹åŠ›åˆ«å¤ªå¤§ï¼Œèº«ä½“æœ€é‡è¦ï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°¢è°¢å…³å¿ƒï¼Œä¸€åˆ‡å®‰å…¨</title>
      <link href="2020/03/06/2020-02-13-is-safe/"/>
      <url>2020/03/06/2020-02-13-is-safe/</url>
      
        <content type="html"><![CDATA[<p>ä¸€å¼€å§‹æ²¡æœ‰ä¸Šç½‘ï¼Œæ²¡æœ‰æ³¨æ„åˆ°åšå®¢è¿™è¾¹çš„å›å¤</p><p>åŒæ—¶å®¶é‡Œæœ€è¿‘ä¹Ÿä¸ºäº†ç¦»èŒè·³æ§½çš„ä¸€ç³»åˆ—äº‹æƒ…ï¼Œå¿™ç€</p><p>å®¶é‡Œè¿˜å¥½ï¼Œæ‘é‡Œæ²¡æœ‰å‘ç°æœ‰æ–°å‹å† çŠ¶ç—…æ¯’æ„ŸæŸ“è€…ï¼Œä¹Ÿè¯·å¤§å®¶æ³¨æ„é˜²æŠ¤å¥½è‡ªå·±å’Œå®¶äººã€‚</p><p>æˆ‘å¤–å©†ç§äº†å¾ˆå¤šèœï¼Œèœå€’æ˜¯å¤Ÿåƒã€‚</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/3803887949.jpg" alt="å®¶1" width="650px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/3650381899.jpg" alt="å®¶æ—è¾¹" width="650px"/></td>    </tr></table><p>å®¶é‡Œä¸æ˜¯ä½çš„å°åŒºæ¥¼ï¼Œæ˜¯åœ¨ç¦»é©¬è·¯è¿˜æœ‰ä¸€ç‚¹è·ç¦»çš„æ‘é‡Œçš„å°æ–¹æ¥¼ã€‚<br>è¿™æ®µæ—¶é—´ä¸èƒ½å»æ­¦æ±‰ï¼Œå°å¿åŸçš„äº¤é€šéƒ½ç®¡åˆ¶äº†ï¼Œå¤„ç†å¾—è¿˜æ˜¯å¾ˆä¸“ä¸šï¼Œæ‘é‡Œä¹Ÿæ¯å¤©æœ‰ä¸ªäººæ¥æŒ¨å®¶æŒ¨æˆ·è¿›è¡Œæ¶ˆæ¯’</p><p>å°±è¿™æ ·åœ¨å®¶å‘†äº†20å¤šå¤©äº†</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/2688778554.jpg" alt="å®¶å¯¹é¢" width="650px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/1950362972.jpg" alt="å®¶çš„å¤©ç©º" width="650px"/></td>    </tr></table><p>ç§€ä¸€ç§€å®¶é‡Œçš„å†°ç®±çš„è‚‰ç±»å‚¨å¤‡ï¼Œå˜¿å˜¿</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/80188484.jpg" alt="è‚‰ç±»å‚¨å¤‡" width="650px"/></td>    </tr></table><p>é—¨å£ä¹Ÿåšå¥½çš„é˜²æŠ¤æªæ–½ï¼Œä¸è®©å¤–æ¥äººå‘˜åŒ…æ‹¬æ‘çš„äººæ¥ä¸²é—¨ï¼Œä¹Ÿæ˜¯å¯¹å¾—èµ·åˆ«äººï¼Œå¯¹å¾—èµ·è‡ªå·±</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/02/605851922.jpg" alt="11.jpg"></p><p>è°¢è°¢å¤§å®¶å…³å¿ƒ</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èµ¶åœ¨10ç‚¹å‡ºæ­¦æ±‰ï¼</title>
      <link href="2020/01/23/2020-01-23-out-of-wuhan/"/>
      <url>2020/01/23/2020-01-23-out-of-wuhan/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©æ—©ä¸Š6ç‚¹é’Ÿé†’æ¥çœ‹åˆ°ä¸€æ¡æ¨é€æ¶ˆæ¯ï¼šæ­¦æ±‰è¦åœ¨10ç‚¹ä¹‹åè¿›è¡Œå°åŸï¼<br><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3537065123.jpeg" alt="E44A8C23-6AEB-405A-B6FD-6F7BB3E68DD2.jpeg"></p><p>æˆ‘ç¬é—´ä¸æ·¡å®šäº†ï¼Œæœ¬æ¥ä¹°å¥½äº†12ç‚¹åŠï¼Œå¯æ˜¯å¾—èµ¶åœ¨10ç‚¹ä¹‹å‰ã€‚</p><p>æœ¬æ¥æˆ‘åª³å¦‡11ç‚¹ä¼šä»éšå·å‡ºå‘ï¼Œæ¥æ­¦æ±‰ï¼Œç„¶åæˆ‘ä»¬ä¸€èµ·å›æˆ‘å®¶è¿‡å¹´ã€‚</p><p>ç°åœ¨è®¡åˆ’å…¨éƒ½æ‰“ä¹±äº†ã€‚</p><p>æˆ‘èµ¶ç´§å’Œæˆ‘å®¶äººè¯´äº†è¿™ä¸ªæ–°é—»æƒ…å†µã€‚</p><p>æœ€ååšå‡ºå†³å®šï¼Œæˆ‘å…ˆå›éšå·ï¼Œåˆ°æˆ‘åª³å¦‡å¨˜å®¶ï¼Œæˆ‘å“¥å¼€è½¦å»éšå·æ¥æˆ‘ä»¬å›å®¶ã€‚</p><p>æˆ‘å“¥ä»å®¶é‡Œå‡ºå‘ï¼Œå»éšå·ã€‚<br>æˆ‘ä»æ­¦æ±‰å‡ºå‘ï¼Œä¹°äº†8ç‚¹40åˆ†çš„ç¥¨ï¼Œå»éšå·ã€‚ç°åœ¨å·²ç»èµ¶ä¸ŠåŠ¨è½¦äº†<br>ç°åœ¨æ­¦æ±‰è¿›åœ°é“éƒ½è¦å¼€å§‹é‡ä½“æ¸©äº†ã€‚åœ¨æ±‰å£ç«è½¦ç«™æ’é˜Ÿè¿›ç«™çš„äººè¶…çº§å¤šã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3875209127.jpeg" alt="1738B72C-4A2A-4420-9627-B91293BC2517.jpeg"></p><p>å‡ºåŸæˆåŠŸï¼</p><p>å¤§å®¶å‡ºé—¨ä¸€å®šè¦æˆ´å£ç½©ï¼Œéæ­¦æ±‰åœ°åŒºçš„ä¹Ÿä¸è¦æ‰ä»¥è½»å¿ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³OracleæœåŠ¡ç«¯1521ç«¯å£æ— æ³•telnetï¼ŒæœåŠ¡åæœªå¼€å¯ç›‘å¬é—®é¢˜</title>
      <link href="2020/01/18/2020-01-18-oracle-connect/"/>
      <url>2020/01/18/2020-01-18-oracle-connect/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>åœºæ™¯ï¼šoracleæœåŠ¡å®‰è£…åœ¨windowsæœ¬åœ°ï¼Œoracleå®¢æˆ·ç«¯åœ¨è™šæ‹Ÿæœºä¸­ï¼Œä½¿ç”¨è™šæ‹Ÿæœºè¿æ¥windowsçš„oracleæ•°æ®åº“ã€‚</strong></p></blockquote><h2 id="é—®é¢˜1ï¼šä½¿ç”¨è™šæ‹Ÿæœºtelnetæˆ‘æœ¬åœ°oracle1521ç«¯å£ï¼Œä¸é€š"><a href="#é—®é¢˜1ï¼šä½¿ç”¨è™šæ‹Ÿæœºtelnetæˆ‘æœ¬åœ°oracle1521ç«¯å£ï¼Œä¸é€š" class="headerlink" title="é—®é¢˜1ï¼šä½¿ç”¨è™šæ‹Ÿæœºtelnetæˆ‘æœ¬åœ°oracle1521ç«¯å£ï¼Œä¸é€š"></a>é—®é¢˜1ï¼šä½¿ç”¨è™šæ‹Ÿæœºtelnetæˆ‘æœ¬åœ°oracle1521ç«¯å£ï¼Œä¸é€š</h2><p>è§£å†³æ€è·¯ï¼š</p><ul><li><p>å…³é—­è™šæ‹Ÿæœºlinuxé˜²ç«å¢™ï¼ˆè¿™ä¸ªæ–¹æ³•æœ‰ç‚¹ç²—æš´ï¼Œå»ºè®®åœ¨åªéœ€è¦ä¿®æ”¹é˜²ç«å¢™çš„ç«¯å£å…è®¸é€šè¿‡å³å¯ï¼‰</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1:æŸ¥çœ‹é˜²ç«çŠ¶æ€</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line">service Â iptablesÂ status</span><br><span class="line"><span class="comment"># 2:æš‚æ—¶å…³é—­é˜²ç«å¢™</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line">service Â iptablesÂ stop</span><br><span class="line"><span class="comment"># 3:æ°¸ä¹…å…³é—­é˜²ç«å¢™</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">chkconfig iptables off</span><br><span class="line"><span class="comment"># 4:é‡å¯é˜²ç«å¢™</span></span><br><span class="line">systemctl <span class="built_in">enable</span> firewalld</span><br><span class="line">service iptables restartÂ Â </span><br><span class="line"><span class="comment"># 5:æ°¸ä¹…å…³é—­åé‡å¯</span></span><br><span class="line">chkconfig iptablesÂ on</span><br></pre></td></tr></table></figure></li><li><p>é˜²ç«å¢™é…ç½®è§„åˆ™ ç«¯å£ å…è®¸å¾—ç«¯å£</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å·²æ‰“å¼€çš„ç«¯å£</span></span><br><span class="line">netstat -anp</span><br><span class="line"><span class="comment"># æ·»åŠ å…è®¸çš„ç«¯å£</span></span><br><span class="line">firewall-cmd --add-port=1521/tcp --permanent</span><br><span class="line"><span class="comment"># è‹¥ç§»é™¤ç«¯å£</span></span><br><span class="line">firewall-cmd --permanent --remove-port=1521/tcp</span><br><span class="line"><span class="comment"># ç­–ç•¥ä¿®æ”¹å®Œæˆï¼Œè¯·é‡å¯ï¼š </span></span><br><span class="line">systemctl restart firewalld</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ windowsé˜²ç«å¢™å¯¹1521çš„å…¥ç«™å…è®¸è§„åˆ™</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2275375255.png" alt="1579253672708"></p></li></ul><h2 id="é—®é¢˜2ï¼šä½¿ç”¨sqlplusç™»å½•æŠ¥é”™ï¼ŒORA-12514-TNS-ç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡"><a href="#é—®é¢˜2ï¼šä½¿ç”¨sqlplusç™»å½•æŠ¥é”™ï¼ŒORA-12514-TNS-ç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡" class="headerlink" title="é—®é¢˜2ï¼šä½¿ç”¨sqlplusç™»å½•æŠ¥é”™ï¼ŒORA-12514: TNS: ç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡"></a>é—®é¢˜2ï¼šä½¿ç”¨sqlplusç™»å½•æŠ¥é”™ï¼ŒORA-12514: TNS: ç›‘å¬ç¨‹åºå½“å‰æ— æ³•è¯†åˆ«è¿æ¥æè¿°ç¬¦ä¸­è¯·æ±‚çš„æœåŠ¡</h2><p>è§£å†³æ€è·¯ï¼šå…³é”®å­—**<code>ç›‘å¬ç¨‹åº</code>**</p><ul><li><p>æŸ¥çœ‹ç›‘å¬æœåŠ¡çŠ¶æ€</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…³é—­ç›‘å¬æœåŠ¡</span></span><br><span class="line">lsnrctl stop</span><br><span class="line"><span class="comment"># å¯åŠ¨ç›‘å¬æœåŠ¡</span></span><br><span class="line">lsnrctl start</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç›‘å¬æœåŠ¡çŠ¶æ€</span></span><br><span class="line">lsnrctl <span class="built_in">stat</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç›‘å¬æœåŠ¡å¦‚æœå‡ºç°ä¸‹åˆ—é—®é¢˜</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1004579222.png" alt="1579254533200"></p><p>è¯´æ˜ç›‘å¬æœåŠ¡æ²¡æœ‰å¯åŠ¨</p><p>å»å¯åŠ¨oracleç›‘å¬æœåŠ¡ï¼Œç›‘å¬æœåŠ¡æœ‰ä¸¤ä¸ªï¼Œè¿™é‡Œåªåšå•ç›‘å¬è®²ï¼Œéšä¾¿å¯åŠ¨ä¸€ä¸ªå³å¯ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3169635404.png" alt="1579254625812"></p><p>å†é€šè¿‡<code>lsnrctl stat</code>æŸ¥çœ‹ç›‘å¬æœåŠ¡ï¼Œå¦‚æœå‡ºç°ä¸‹å›¾æƒ…å†µ</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1436926014.png" alt="1579254724154"></p><p>åªçœ‹åˆ°ä¸€ä¸ªæœåŠ¡åâ€CLRExtProcâ€å¯åŠ¨äº†ï¼Œè€Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯ORCLæœåŠ¡å</p><p>è¿™æ˜¯éœ€è¦ä¿®æ”¹<code>listener.ora</code> æ–‡ä»¶</p></li><li><p>ä¿®æ”¹<code>listener.ora</code> æ–‡ä»¶</p><p>æ–‡ä»¶è·¯å¾„ï¼Œæˆ‘æœ¬åœ°çš„è·¯å¾„æ˜¯ï¼šD:\app\niaobulashi\product\11.2.0\dbhome_1\NETWORK\ADMIN</p><p>éœ€è¦æ·»åŠ ä»¥ä¸‹<font color=red size=4>çº¢è‰²éƒ¨åˆ†ä»£ç </font>ï¼Œå°†æœåŠ¡åä¸ºORCLæ·»åŠ åˆ°ç›‘å¬é…ç½®æ–‡ä»¶ä¸­</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/108328150.png" alt="1579254216172"></p><p>è´´å‡ºæ¥å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">SID_LIST_LISTENER =</span><br><span class="line">  (SID_LIST =</span><br><span class="line">    (SID_DESC =</span><br><span class="line">      (SID_NAME = CLRExtProc)</span><br><span class="line">      (ORACLE_HOME = D:\app\niaobulashi\product\<span class="number">11.2</span><span class="number">.0</span>\dbhome_1)</span><br><span class="line">      (PROGRAM = extproc)</span><br><span class="line">      (ENVS = <span class="string">&quot;EXTPROC_DLLS=ONLY:D:\app\niaobulashi\product\11.2.0\dbhome_1\bin\oraclr11.dll&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">  (SID_DESC=</span><br><span class="line">    (SID_NAME = ORCL)</span><br><span class="line">      (ORACLE_HOME = D:\app\niaobulashi\product\<span class="number">11.2</span><span class="number">.0</span>\dbhome_1)</span><br><span class="line">      (PROGRAM = extproc)</span><br><span class="line">      (ENVS = <span class="string">&quot;EXTPROC_DLLS=ONLY:D:\app\niaobulashi\product\11.2.0\dbhome_1\bin\oraclr11.dll&quot;</span>)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">LISTENER =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-NNDNCEI)(PORT = <span class="number">1521</span>))</span><br><span class="line">  )</span><br><span class="line">ADR_BASE_LISTENER = D:\app\niaobulashi</span><br></pre></td></tr></table></figure><p>å†æŸ¥çœ‹ç›‘å¬æœåŠ¡çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°ORCLæœ‰äº†</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1361715811.png" alt="1579254808269"></p></li><li><p>ä¿®æ”¹<code>tnsname.ora</code>çš„<code>HOST</code>ä¸ºæœ¬åœ°ä¸»æœºå</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ORACLR_CONNECTION_DATA =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS_LIST =</span><br><span class="line">      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))</span><br><span class="line">    )</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SID = CLRExtProc)</span><br><span class="line">      (PRESENTATION = RO)</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">LISTENER_ORCL =</span><br><span class="line">  (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-NNDNCEI)(PORT = 1521))</span><br><span class="line"></span><br><span class="line">ORCL =</span><br><span class="line">  (DESCRIPTION =</span><br><span class="line">    (ADDRESS_LIST =</span><br><span class="line">      (ADDRESS = (PROTOCOL = TCP)(HOST = DESKTOP-NNDNCEI)(PORT = 1521))</span><br><span class="line">    )</span><br><span class="line">    (CONNECT_DATA =</span><br><span class="line">      (SERVICE_NAME = ORCL)</span><br><span class="line">    )</span><br><span class="line">  )</span><br></pre></td></tr></table></figure></li></ul><p>æœ€åä½¿ç”¨è™šæ‹Ÿæœºå°±å¯ä»¥æ­£å¸¸è¿æ¥æœ¬åœ°oracleæœåŠ¡äº†</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1794099600.png" alt="1579254894242"></p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•†è½¬å…¬æ”»ç•¥</title>
      <link href="2020/01/17/2020-01-17-shang-to-gong/"/>
      <url>2020/01/17/2020-01-17-shang-to-gong/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•å•†è½¬å…¬çš„æ”»ç•¥æµç¨‹</p><p>å®˜æ–¹è·å–å•†è½¬å…¬ä¿¡æ¯çš„æ¸ é“ï¼š<br>1ã€åº¦å¨˜  <a href="http://www.baidu.com,/">www.baidu.comï¼Œ</a><br>2ã€æ­¦æ±‰å¾—æ„ç”Ÿæ´»ï¼š<a href="http://www.deyi.com/thread-18155169-1-1.html%E7%AD%89%E7%9B%B8%E5%85%B3%E8%AE%BA%E5%9D%9B%E6%9C%89%E5%90%84%E7%A7%8D%E9%93%B6%E8%A1%8C%E5%95%86%E8%BD%AC%E5%85%AC%E7%9A%84%E6%94%BB%E7%95%A5">http://www.deyi.com/thread-18155169-1-1.htmlç­‰ç›¸å…³è®ºå›æœ‰å„ç§é“¶è¡Œå•†è½¬å…¬çš„æ”»ç•¥</a><br>3ã€ç™¾åº¦ç»éªŒï¼š<a href="https://jingyan.baidu.com/article/4853e1e5a25eb51909f726d6.html">https://jingyan.baidu.com/article/4853e1e5a25eb51909f726d6.html</a><br>4ã€æ­¦æ±‰å…¬ç§¯é‡‘å®˜ç½‘è´·æ¬¾ä¸šåŠ¡éƒ¨åˆ†<a href="http://gjj.wuhan.gov.cn/html/ywzn/dkyw/index.html">http://gjj.wuhan.gov.cn/html/ywzn/dkyw/index.html</a><br>5ã€æ­¦æ±‰å…¬ç§¯é‡‘å®˜æ–¹å…¬ä¼—å·ï¼šã€æ­¦æ±‰å…¬ç§¯é‡‘ã€‘ï¼ˆä»»ä½•æœ‰å…³å…¬ç§¯é‡‘äº‹å®œå¯ä»¥å’¨è¯¢äººå·¥æœåŠ¡ï¼‰<br>6ã€æ­¦æ±‰åŸå¸‚ç•™è¨€æ¿ï¼š<a href="http://liuyan.cjn.cn/threads/list?fid=9%E5%A6%82%E6%9E%9C%E9%93%B6%E8%A1%8C%E6%95%85%E6%84%8F%E5%80%9F%E5%8F%A3%E6%8B%96%E5%BB%B6%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%AD%A4%E7%BD%91%E7%AB%99%E6%8A%95%E8%AF%89%EF%BC%8C%E5%BE%88%E6%9C%89%E6%95%88%E6%9E%9C">http://liuyan.cjn.cn/threads/list?fid=9å¦‚æœé“¶è¡Œæ•…æ„å€Ÿå£æ‹–å»¶ï¼Œå¯ä»¥åœ¨æ­¤ç½‘ç«™æŠ•è¯‰ï¼Œå¾ˆæœ‰æ•ˆæœ</a><br>7ã€æ­¦æ±‰å…¬ç§¯é‡‘APPï¼šå¯ä»¥æŸ¥çœ‹è´·æ¬¾è¿›åº¦ã€è´·æ¬¾é¢åº¦è¯•ç®—ä»¥åŠè‡ªå·±å‘ç°çš„å…¶ä»–åŠŸèƒ½</p><p>åŸºæœ¬ä¸Šåªè¦è®¤çœŸæœç´¢äº†ä»¥ä¸Šä¿¡æ¯æ¥æºçš„ï¼Œç™¾åˆ†ä¹‹ä¹åçš„é—®é¢˜å¯ä»¥æ‰¾åˆ°ç­”æ¡ˆ</p><p>ä»¥ä¸‹æ˜¯å½“ä»£ä¸‡å›½åŸæˆ‘ä»¬è¿™ä¸€æ‰¹å››ä¸ªäººçš„å•†è½¬å…¬æµç¨‹ï¼š</p><p>æ³¨ï¼šå•†è½¬å…¬æ— éœ€æå‰è¿˜å®Œè£…ä¿®è´·ï¼Œå¿…é¡»åœ¨æ­¦æ±‰ç¼´çº³çš„å…¬ç§¯é‡‘</p><p>å•†è½¬å…¬å‰æï¼šæˆ¿äº§è¯ï¼ˆå¿…é¡»ï¼‰</p><p>éœ€å‡†å¤‡çš„èµ„æ–™ï¼š<br>1ã€åˆ°å¼€å‘å•†BæŸé‚£é‡Œé¢†å–å››å¼ åŠæˆ¿äº§è¯æ‰€éœ€çš„è¯æ˜ï¼ˆç”³è¯·è¡¨ã€å®—åœ°å›¾ã€åˆ†æˆ·å›¾ã€ä¸åŠ¨äº§æƒå±è¯æ˜ï¼‰ï¼Œæœ€å¥½éƒ½æå‰å¤å°ä¸€ä»½ç•™å­˜<br>2ã€è´­æˆ¿åˆåŒåŸä»¶<br>3ã€èº«ä»½è¯åŸä»¶åŠå¤å°ä»¶ï¼ˆæœ€å¥½è‡ªå·±æå‰å¤å°ï¼ŒèŠ‚çº¦æ—¶é—´ï¼‰<br>4ã€æˆ·å£æœ¬åŠæˆ·ä¸»é¡µå’Œè‡ªå·±é‚£ä¸€é¡µçš„å¤å°ä»¶<br>5ã€è´­æˆ¿å‘ç¥¨åŸä»¶ï¼ˆè®°å¾—æ˜¯ä¸¤å¼ ï¼Œå‘ç¥¨æœ€é«˜é¢é¢åªæœ‰100ä¸‡ï¼Œæˆ‘ä»¬æ˜¯ä¸€å…±ä¸¤å¼ ï¼‰<br>6ã€ç»´ä¿®åŸºé‡‘äº¤å­˜å‘ç¥¨ï¼ˆè¿™ä¸ªè¦æ‰¾ç‰©ä¸šæ‹¿çš„ï¼‰<br>7ã€é“¶è¡Œå¡ï¼ˆé¢„å­˜æ€»æˆ¿æ¬¾ï¼ˆæ¯›å¯æ€»ä»·ï¼‰çš„1.5%ï¼‰<br>8ã€å‡†å¤‡ä¸€ç™¾çš„ç°é‡‘ï¼Œåœ¨åŠç†å®Œæ‰€æœ‰çš„æ‰‹ç»­ä»¥åé‚®å¯„çš„æ—¶å€™éœ€è¦äº¤çº³ç°é‡‘</p><p>æå‰åˆ°ä¸­å›½é“¶è¡Œæ˜¾æ­£æ”¯è¡Œï¼ˆåœ°å›¾å¯¼èˆªæˆ–è€…ç›´æ¥ä¸€ä¸ªæ»´æ»´ï¼‰å»åŠç†æˆ¿äº§è¯åŠç†ç™»è®°ï¼Œç­‰é“¶è¡Œé€šçŸ¥çŸ­ä¿¡ä»¥åï¼Œæ—©ç‚¹åˆ°æˆ¿ç®¡æ‰€ï¼ˆæˆ¿ç®¡æ‰€æ®è¯´ä¸åœ¨å¢¨æ°´æ¹–äº†ï¼Œè¦è‡ªå·±æœä½ç½®ï¼‰æ’é˜Ÿï¼ˆæˆ‘æ˜¯7ç‚¹å»çš„ï¼Œæ’ç¬¬ä¸‰ï¼Œé€Ÿåº¦è¿˜è›®å¿«ï¼‰</p><p>ç¬¬ä¸€æ­¥ï¼šå•†è½¬å…¬ç”³è¯·</p><p>éœ€å‡†å¤‡çš„èµ„æ–™ï¼š<br>1ã€æˆ¿äº§è¯åŸä»¶<br>2ã€è´·æ¬¾åˆåŒåŸä»¶ï¼ˆæœ€å¥½å…ˆå¤å°ä¸€ä»½ï¼Œæœ‰å¤‡æ— æ‚£ï¼‰<br>3ã€å¤«å¦»åŒæ–¹æ”¶å…¥è¯æ˜ï¼ˆéœ€è¦æ‰¾å…¬å¸å¼€ï¼Œæ¨¡æ¿å¯ä»¥åœ¨ç½‘ä¸Šä¸‹è½½ä¸€ä¸ªï¼Œæ²¡æœ‰æ ¼å¼é™åˆ¶ï¼Œä¸»è¦çœ‹å…¬å¸çš„å…¬ç« ï¼‰<br>4ã€å¤«å¦»åŒæ–¹å¾ä¿¡æŠ¥å‘Šï¼ˆ<a href="http://www.sohu.com/a/298015578_223290%EF%BC%89%EF%BC%8C%E8%AF%A5%E7%BD%91%E7%AB%99%E6%98%AF%E6%AD%A6%E6%B1%89%E5%BE%81%E4%BF%A1%E6%8A%A5%E5%91%8A%E8%87%AA%E5%8A%A9%E6%9F%A5%E8%AF%A2%E6%89%93%E5%8D%B0%E6%9C%BA%E7%9A%84%E7%9B%B8%E5%85%B3%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E6%90%BA%E5%B8%A6%E8%BA%AB%E4%BB%BD%E8%AF%81%E5%B0%B1%E5%8F%AF%E4%BB%A5%E5%8E%BB%E6%89%93%E5%8D%B0%E4%BA%86%EF%BC%8C%E7%8E%B0%E5%9C%A8%E6%AF%94%E4%BB%A5%E5%89%8D%E5%BF%AB%E5%A4%9A%E4%BA%86%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E6%8E%92%E9%98%9F">http://www.sohu.com/a/298015578_223290ï¼‰ï¼Œè¯¥ç½‘ç«™æ˜¯æ­¦æ±‰å¾ä¿¡æŠ¥å‘Šè‡ªåŠ©æŸ¥è¯¢æ‰“å°æœºçš„ç›¸å…³åœ°å€ï¼Œåªéœ€è¦æºå¸¦èº«ä»½è¯å°±å¯ä»¥å»æ‰“å°äº†ï¼Œç°åœ¨æ¯”ä»¥å‰å¿«å¤šäº†ï¼Œä¸éœ€è¦æ’é˜Ÿ</a><br>5ã€å¤«å¦»åŒæ–¹é“¶è¡Œæµæ°´ï¼ˆæ‰“å°å·¥èµ„å¡çš„é“¶è¡Œæµæ°´ï¼Œæœ€å¥½æ˜¯ä¸€å¹´ï¼ŒåŠ ç›–é“¶è¡ŒæŸœé¢ä¸“ç”¨ç« ï¼Œåˆ«æé”™äº†ï¼‰</p><p>æ—¶é—´ï¼šæå‰è·Ÿä¹°æˆ¿æ—¶çš„è´·æ¬¾ç»ç†çº¦å¥½å“ªå¤©ï¼Œç¡®å®šæœ‰äººäº†å†å»<br>åœ°ç‚¹ï¼šä¸­å›½é“¶è¡Œæ±‰é˜³æ”¯è¡ŒäºŒæ¥¼ï¼ˆä¸ŠäºŒæ¥¼éœ€è¦ç™»è®°ï¼‰<br>äººç‰©ï¼šæˆ‘ä»¬æ˜¯Aç»ç†ï¼Œä¸çŸ¥é“åˆ°æ—¶å€™ä½ ä»¬çš„è´·æ¬¾ç»ç†æ˜¯è°<br>æµç¨‹ï¼šå¸¦å¥½ä¸Šè¿°èµ„æ–™ï¼Œè·Ÿç€é“¶è¡Œçš„ç»ç†æ“ä½œå°±OKäº†ï¼Œæ­¤æ—¶å·²å®Œæˆç¬¬ä¸€æ­¥çš„å•†è½¬å…¬ç”³è¯·</p><p>ç¬¬äºŒæ­¥ï¼šå®æ—¶å…³æ³¨å…¬ç§¯é‡‘APPçš„è´·æ¬¾è¿›åº¦æµç¨‹å›¾ï¼Œä¸€ç›´åˆ°å¤å®¡</p><p>åœ¨æœªåˆ°å¤å®¡ä¹‹å‰éƒ½ä¸ç”¨å»é“¶è¡Œ</p><p>ç¬¬ä¸‰æ­¥ï¼šåŠç†æ‹…ä¿<br>éœ€å‡†å¤‡çš„èµ„æ–™ï¼š<br>1ã€æå‰äº¤å­˜å·®é¢åˆ°é“¶è¡Œå¡å†…<br>2ã€æˆ¿äº§è¯åŸä»¶<br>3ã€å»é“¶è¡Œé¢†å–ä¸¤å¼ ç”³è¯·è¡¨<br>4ã€èº«ä»½è¯åŸä»¶åŠå¤å°ä»¶<br>5ã€æˆ·å£æœ¬åŸä»¶åŠå¤å°ä»¶ï¼ˆæˆ·ä¸»åŠæœ¬äººé¡µï¼‰<br>6ã€å‡†å¤‡1400çš„æ‹…ä¿è´¹</p><p>æ—¶é—´ï¼šç­‰è´·æ¬¾ç»ç†ç»™ä½ æ‰“ç”µè¯ï¼Œç¡®å®šå¥½æ—¥æœŸååˆ°é“¶è¡Œé¢†å–ä¸¤å¼ ç”³è¯·è¡¨<br>åœ°ç‚¹ï¼šä¸­å›½é“¶è¡Œæ±‰é˜³æ”¯è¡ŒäºŒæ¥¼ï¼ˆä¸ŠäºŒæ¥¼éœ€è¦ç™»è®°ï¼‰<br>äººç‰©ï¼šæˆ‘ä»¬æ˜¯Aç»ç†ï¼Œä¸çŸ¥é“åˆ°æ—¶å€™ä½ ä»¬çš„è´·æ¬¾ç»ç†æ˜¯è°<br>æµç¨‹ï¼šåˆ°é“¶è¡Œé¢†å–ç”³è¯·è¡¨åç›´æ¥æ‰“è½¦å»é¦™æ¸¯è·¯çš„å¤–è´¸å¤§å¦ï¼Œä¸Šå››æ¥¼åˆ°æ­¦æ±‰æ‹…ä¿å…¬å¸ï¼Œæ ¹æ®ç°åœºè¦æ±‚æµç¨‹è¿›è¡Œå¡«è¡¨</p><p>ç¬¬å››æ­¥ï¼šç­‰å…¬ç§¯é‡‘ä¸­å¿ƒç»ˆå®¡ã€é“¶è¡Œè¿›è¡ŒæŠµæŠ¼ã€å…¬ç§¯é‡‘å§”æ‰˜é“¶è¡Œæ”¾æ¬¾</p><p>åœ¨æ”¾æ¬¾ä¹‹å‰éƒ½ä¸ç”¨å»é“¶è¡Œï¼Œåç­‰å°±è¡Œäº†ï¼Œä¸»è¦å°±æ˜¯å‚¬é“¶è¡Œçš„äººåŠçš„ç§¯æç‚¹</p><p>ç¬¬äº”æ­¥ï¼šå…¬ç§¯é‡‘ä¸­å¿ƒæµç¨‹æ˜¾ç¤ºæ”¾æ¬¾ä¹‹åå»å¼€æˆ·è¡Œå¼€æ–°å¡<br>éœ€å‡†å¤‡çš„èµ„æ–™ï¼š<br>1ã€èº«ä»½è¯<br>2ã€ä¸­å›½é“¶è¡Œå€Ÿè®°å¡ï¼ˆå‚¨è“„å¡ï¼‰</p><p>æ—¶é—´ï¼šç­‰å¼€æˆ·è¡ŒåŠç†ä¸šåŠ¡äººå‘˜ç»™ä½ æ‰“ç”µè¯ï¼Œç¡®å®šå¥½æ—¥æœŸå<br>åœ°ç‚¹ï¼šä¸­å›½é“¶è¡Œå¢¨æ°´æ¹–æ”¯è¡Œä¸€æ¥¼æŸœå°<br>äººç‰©ï¼šç»™ä½ æ‰“ç”µè¯çš„ä¸šåŠ¡äººå‘˜<br>æµç¨‹ï¼šä¸»è¦æ˜¯å»æ–°å¼€ä¸€å¼ å¡ï¼Œè¿™å¼ å¡çš„ä½œç”¨æ˜¯å…¬ç§¯é‡‘å°†é’±æ‰“è¿›è¿™å¼ å¡å†…ï¼Œæ­¤å¡ä¸è¦éšæ„å­˜å–æ¬¾</p><p>ç¬¬å…­æ­¥ï¼šå…¬ç§¯é‡‘æ”¾æ¬¾åˆ°æ–°å¡åï¼ˆä¸€èˆ¬ä¸€å¤©å°±åˆ°è´¦äº†ï¼‰ï¼Œåˆ°æ˜¾æ­£æ”¯è¡ŒåŠç†ç»“æ¸…æ‰‹ç»­<br>éœ€å‡†å¤‡çš„èµ„æ–™ï¼š<br>1ã€èƒ½å¸¦çš„éƒ½å¸¦ä¸Š</p><p>æ—¶é—´ï¼šæå‰è·Ÿæ˜¾æ­£æ”¯è¡Œçš„äººå‘˜è”ç³»ï¼Œä¸€èˆ¬åˆ°è´¦ä»¥åå°±å¯ä»¥å»åŠç†ï¼Œæ— éœ€é¢„çº¦<br>åœ°ç‚¹ï¼šä¸­å›½é“¶è¡Œæ˜¾æ­£æ”¯è¡Œ<br>äººç‰©ï¼šæ‰¾åˆ°ç›¸åº”çª—å£åŠç†å³å¯<br>æµç¨‹ï¼šä¾æ®çª—å£äººå‘˜åŠç†å³å¯</p><p>ç¬¬ä¸ƒæ­¥ï¼šåé¢è¿˜æœ‰å§”æ‰˜æ‰£åˆ’ã€å†æŠµæŠ¼èµå›æˆ¿äº§è¯ç­‰æ­¥éª¤ï¼Œ  æœªå®Œå¾…ç»­â€¦â€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux åŒæ—¶å¯åŠ¨å¤šä¸ªtomcat</title>
      <link href="2020/01/13/2020-01-13-linux-mutli-tomcat/"/>
      <url>2020/01/13/2020-01-13-linux-mutli-tomcat/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxåŒæ—¶å¯åŠ¨å¤šä¸ªtomcat"><a href="#linuxåŒæ—¶å¯åŠ¨å¤šä¸ªtomcat" class="headerlink" title="linuxåŒæ—¶å¯åŠ¨å¤šä¸ªtomcat"></a>linuxåŒæ—¶å¯åŠ¨å¤šä¸ªtomcat</h1><p>ä»Šå¤©ä¸‹ç­å­¦ä¹ nginxè´Ÿè½½å‡è¡¡æ—¶ï¼Œéœ€è¦å¤šä¸ªtomcatç«¯å£æœåŠ¡ï¼Œåœ¨ä¸€å°æœºå¯åŠ¨å¤šä¸ªtomcatæœåŠ¡ï¼Œäºæ˜¯è®°å½•ä¸‹æ“ä½œè¿‡ç¨‹ã€‚</p><h2 id="å¤åˆ¶tomcat"><a href="#å¤åˆ¶tomcat" class="headerlink" title="å¤åˆ¶tomcat"></a>å¤åˆ¶tomcat</h2><p>åŸtomcatç«¯å£é»˜è®¤8080ï¼Œå¤åˆ¶å‡ºçš„tomcatç«¯å£8081ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2432263281.png" alt="1578923845682"></p><h2 id="ç¼–è¾‘ç¯å¢ƒå˜é‡"><a href="#ç¼–è¾‘ç¯å¢ƒå˜é‡" class="headerlink" title="ç¼–è¾‘ç¯å¢ƒå˜é‡"></a>ç¼–è¾‘ç¯å¢ƒå˜é‡</h2><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2341475484.png" alt="1578923929147"></p><p>è´´å‡ºæ¥</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#tomcat_8080</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME=/root/service/tomcat_8080</span><br><span class="line"><span class="built_in">export</span> CATALINA_BASE=/root/service/tomcat_8080</span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME=/root/service/tomcat_8080</span><br><span class="line"></span><br><span class="line"><span class="comment">#tomcat_8081</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME2=/root/service/tomcat_8081</span><br><span class="line"><span class="built_in">export</span> CATALINA_BASE2=/root/service/tomcat_8081</span><br><span class="line"><span class="built_in">export</span> TOMCAT_HOME2=/root/service/tomcat_8081</span><br></pre></td></tr></table></figure><p>ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p><p><code>source .bash_profile</code></p><h2 id="ä¿®æ”¹ç¬¬äºŒä»½catalina-sh"><a href="#ä¿®æ”¹ç¬¬äºŒä»½catalina-sh" class="headerlink" title="ä¿®æ”¹ç¬¬äºŒä»½catalina.sh"></a>ä¿®æ”¹ç¬¬äºŒä»½catalina.sh</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/service/tomcat_8081/bin</span><br></pre></td></tr></table></figure><p>æ·»åŠ </p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> CATALINA_BASE=<span class="variable">$CATALINA_BASE2</span></span><br><span class="line"><span class="built_in">export</span> CATALINA_HOME=<span class="variable">$CATALINA_HOME2</span></span><br></pre></td></tr></table></figure><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/4081550225.png" alt="1578924182554"></p><h2 id="ä¿®æ”¹ç¬¬äºŒä»½ä¿®æ”¹server-xml"><a href="#ä¿®æ”¹ç¬¬äºŒä»½ä¿®æ”¹server-xml" class="headerlink" title="ä¿®æ”¹ç¬¬äºŒä»½ä¿®æ”¹server.xml"></a>ä¿®æ”¹ç¬¬äºŒä»½ä¿®æ”¹server.xml</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd <span class="regexp">/root/</span>service<span class="regexp">/tomcat_8081/</span>conf</span><br></pre></td></tr></table></figure><p>å°†ä¸‰ä¸ªç«¯å£ä»ä¸Šåˆ°ä¸‹ï¼Œä¸€æ¬¡ä¿®æ”¹ä¸º<code>8006</code>ï¼Œ<code>8081</code>ï¼Œ<code>8010</code></p><p>OKï¼Œé…ç½®å®Œæˆ</p><h2 id="å¯åŠ¨ä¸¤ä¸ªtomcat"><a href="#å¯åŠ¨ä¸¤ä¸ªtomcat" class="headerlink" title="å¯åŠ¨ä¸¤ä¸ªtomcat"></a>å¯åŠ¨ä¸¤ä¸ªtomcat</h2><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2367557515.png" alt="1578924369993"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlé”ã€äº‹åŠ¡éš”ç¦»çº§åˆ«ã€MVCCåº•å±‚åŸç†æœºåˆ¶</title>
      <link href="2020/01/12/2020-01-12-mysql-transaction-mvcc/"/>
      <url>2020/01/12/2020-01-12-mysql-transaction-mvcc/</url>
      
        <content type="html"><![CDATA[<h2 id="é”å®šä¹‰"><a href="#é”å®šä¹‰" class="headerlink" title="é”å®šä¹‰"></a>é”å®šä¹‰</h2><p>â€‹        é”æ˜¯è®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€èµ„æºçš„æœºåˆ¶ã€‚<br>â€‹        åœ¨æ•°æ®åº“ä¸­ï¼Œé™¤äº†ä¼ ç»Ÿçš„è®¡ç®—èµ„æºï¼ˆå¦‚CPUã€RAMã€I/Oç­‰ï¼‰çš„äº‰ç”¨ä»¥å¤–ï¼Œæ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›éœ€è¦ç”¨æˆ·å…±äº«çš„èµ„æºã€‚å¦‚ä½•ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§ã€æœ‰æ•ˆæ€§æ˜¯æ‰€æœ‰æ•°æ®åº“å¿…é¡»è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œé”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ ã€‚</p><h2 id="é”åˆ†ç±»"><a href="#é”åˆ†ç±»" class="headerlink" title="é”åˆ†ç±»"></a>é”åˆ†ç±»</h2><p>1ã€ä»æ€§èƒ½ä¸Šåˆ†ç±»ï¼šä¹è§‚é”å’Œæ‚²è§‚é”</p><ul><li>ä¹è§‚é”ï¼š versionå­—æ®µï¼ˆæ¯”è¾ƒè·Ÿä¸Šä¸€æ¬¡çš„ç‰ˆæœ¬å·ï¼Œå¦‚æœä¸€æ ·åˆ™æ›´æ–°ï¼Œå¦‚æœå¤±è´¥åˆ™è¦é‡å¤è¯»-æ¯”è¾ƒ-å†™çš„æ“ä½œã€‚ï¼‰</li><li>æ‚²è§‚é”ï¼šfor updateï¼ˆé”å®šæŸ¥è¯¢çš„è¡Œï¼‰</li></ul><p>2ã€ä»å¯¹æ•°æ®åº“æ“ä½œçš„ç±»å‹åˆ†ï¼Œåˆ†ä¸º è¯»é”å’Œå†™é”(éƒ½å±äºæ‚²è§‚é”)</p><ul><li>è¯»é”ï¼ˆå…±äº«é”ï¼‰ï¼šé’ˆå¯¹åŒä¸€ä»½æ•°æ®ï¼Œå¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œè€Œä¸ä¼šäº’ç›¸å½±å“</li><li>å†™é”ï¼ˆæ’å®ƒé”ï¼‰ï¼šå½“å‰å†™æ“ä½œæ²¡æœ‰å®Œæˆå‰ï¼Œå®ƒä¼šé˜»æ–­å…¶ä»–å†™é”å’Œè¯»é”</li></ul><p>3ã€ä»å¯¹æ•°æ®æ“ä½œçš„ç²’åº¦åˆ†ï¼Œåˆ†ä¸º è¡¨é”å’Œè¡Œé”</p><p>å…¶ä¸­æ‰©å±•<code>è¡¨é”</code>å’Œ<code>è¡Œé”</code></p><h4 id="è¡¨é”"><a href="#è¡¨é”" class="headerlink" title="è¡¨é”"></a>è¡¨é”</h4><p>æ¯æ¬¡æ“ä½œé”ä½æ•´å¼ è¡¨ã€‚å¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›ä¸ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²<br>çªçš„æ¦‚ç‡æœ€é«˜ï¼Œå¹¶å‘åº¦æœ€ä½ã€‚</p><p>æ‰‹åŠ¨å¢åŠ è¡¨é”<br><code>lock table è¡¨åç§° read(write),è¡¨åç§°2 read(write);</code><br>æŸ¥çœ‹è¡¨ä¸ŠåŠ è¿‡çš„é”<br><code>show open tables;</code><br>åˆ é™¤è¡¨é”<br><code>unlock tables;</code></p><p>åŠ è¯»é”ï¼šå½“å‰sessionå’Œå…¶ä»–sessionéƒ½å¯ä»¥è¯»è¯¥è¡¨ï¼Œå½“å‰sessionä¸­æ’å…¥æˆ–è€…æ›´æ–°é”å®šçš„è¡¨éƒ½ä¼šæŠ¥é”™ï¼Œå…¶ä»–sessionæ’å…¥æˆ–æ›´æ–°åˆ™ä¼šç­‰å¾…ã€‚</p><p>åŠ å†™é”ï¼šå½“å‰sessionå¯¹è¯¥è¡¨çš„å¢åˆ æ”¹æŸ¥éƒ½æ²¡æœ‰é—®é¢˜ï¼Œå…¶ä»–sessionå¯¹è¯¥è¡¨çš„æ‰€æœ‰æ“ä½œè¢«é˜»å¡ã€‚</p><p>MyISAMåœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥(SELECT)å‰,ä¼šè‡ªåŠ¨ç»™æ¶‰åŠçš„æ‰€æœ‰è¡¨åŠ è¯»é”,åœ¨æ‰§è¡Œå¢åˆ æ”¹æ“ä½œå‰,ä¼šè‡ªåŠ¨ç»™æ¶‰åŠçš„è¡¨åŠ å†™é”ã€‚<br>1ã€å¯¹MyISAMè¡¨çš„è¯»æ“ä½œ(åŠ è¯»é”) ,ä¸ä¼šé˜»å¯’å…¶ä»–è¿›ç¨‹å¯¹åŒä¸€è¡¨çš„è¯»è¯·æ±‚,ä½†ä¼šé˜»èµ›å¯¹åŒä¸€è¡¨çš„å†™è¯·æ±‚ã€‚åªæœ‰å½“è¯»é”é‡Šæ”¾å,æ‰ä¼šæ‰§è¡Œå…¶å®ƒè¿›ç¨‹çš„å†™æ“ä½œã€‚<br>2ã€å¯¹MylSAMè¡¨çš„å†™æ“ä½œ(åŠ å†™é”) ,ä¼šé˜»å¡å…¶ä»–è¿›ç¨‹å¯¹åŒä¸€è¡¨çš„è¯»å’Œå†™æ“ä½œ,åªæœ‰å½“å†™é”é‡Šæ”¾å,æ‰ä¼šæ‰§è¡Œå…¶å®ƒè¿›ç¨‹çš„è¯»å†™æ“ä½œ<br>æ€»ç»“ï¼š<br>ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯è¯»é”ä¼šé˜»å¡å†™ï¼Œä½†æ˜¯ä¸ä¼šé˜»å¡è¯»ã€‚è€Œå†™é”åˆ™ä¼šæŠŠè¯»å’Œå†™éƒ½é˜»å¡ã€‚</p><h4 id="è¡Œç"><a href="#è¡Œç" class="headerlink" title="è¡Œç"></a>è¡Œç</h4><p>æ¯æ¬¡æ“ä½œé”ä½ä¸€è¡Œæ•°æ®ã€‚å¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦æœ€å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘åº¦æœ€é«˜ã€‚</p><p>InnoDBä¸MYISAMçš„æœ€å¤§ä¸åŒæœ‰ä¸¤ç‚¹ï¼š</p><ul><li>æ”¯æŒäº‹åŠ¡ï¼ˆTRANSACTIONï¼‰</li><li>æ”¯æŒè¡Œçº§é”</li></ul><p>æ”¯æŒäº‹åŠ¡ï¼ˆTRANSACTIONï¼‰<br>æ”¯æŒè¡Œçº§é”</p><h2 id="äº‹åŠ¡éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡éš”ç¦»çº§åˆ«</h2><h4 id="äº‹åŠ¡ï¼ˆTransactionï¼‰åŠå…¶ACIDå±æ€§"><a href="#äº‹åŠ¡ï¼ˆTransactionï¼‰åŠå…¶ACIDå±æ€§" class="headerlink" title="äº‹åŠ¡ï¼ˆTransactionï¼‰åŠå…¶ACIDå±æ€§"></a>äº‹åŠ¡ï¼ˆTransactionï¼‰åŠå…¶ACIDå±æ€§</h4><p>è¡Œé”æ”¯æŒäº‹åŠ¡</p><p>äº‹åŠ¡æ˜¯ç”±ä¸€ç»„SQLè¯­å¥ç»„æˆçš„é€»è¾‘å¤„ç†å•å…ƒ,äº‹åŠ¡å…·æœ‰ä»¥ä¸‹4ä¸ªå±æ€§,é€šå¸¸ç®€ç§°ä¸ºäº‹åŠ¡çš„ACIDå±æ€§ã€‚</p><ul><li>åŸå­æ€§(Atomicity) ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œå•å…ƒ,å…¶å¯¹æ•°æ®çš„ä¿®æ”¹,è¦ä¹ˆå…¨éƒ½æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ½ä¸æ‰§è¡Œã€‚</li><li>ä¸€è‡´æ€§(Consistent) ï¼šåœ¨äº‹åŠ¡å¼€å§‹å’Œå®Œæˆæ—¶,æ•°æ®éƒ½å¿…é¡»ä¿æŒä¸€è‡´çŠ¶æ€ã€‚è¿™æ„å‘³ç€æ‰€æœ‰ç›¸å…³çš„æ•°æ®è§„åˆ™éƒ½å¿…é¡»åº”ç”¨äºäº‹åŠ¡çš„ä¿®æ”¹,ä»¥ä¿æŒæ•°æ®çš„å®Œæ•´æ€§;äº‹åŠ¡ç»“æŸæ—¶,æ‰€æœ‰çš„å†…éƒ¨æ•°æ®ç»“æ„(å¦‚Bæ ‘ç´¢å¼•æˆ–åŒå‘é“¾è¡¨)ä¹Ÿéƒ½å¿…é¡»æ˜¯æ­£ç¡®çš„ã€‚</li><li>éš”ç¦»æ€§(Isolation) ï¼šæ•°æ®åº“ç³»ç»Ÿæä¾›ä¸€å®šçš„éš”ç¦»æœºåˆ¶,ä¿è¯äº‹åŠ¡åœ¨ä¸å—å¤–éƒ¨å¹¶å‘æ“ä½œå½±å“çš„â€œç‹¬ç«‹â€ç¯å¢ƒæ‰§è¡Œã€‚è¿™æ„å‘³ç€äº‹åŠ¡å¤„ç†è¿‡ç¨‹ä¸­çš„ä¸­é—´çŠ¶æ€å¯¹å¤–éƒ¨æ˜¯ä¸å¯è§çš„,åä¹‹äº¦ç„¶ã€‚</li><li>æŒä¹…æ€§(Durable) ï¼šäº‹åŠ¡å®Œæˆä¹‹å,å®ƒå¯¹äºæ•°æ®çš„ä¿®æ”¹æ˜¯æ°¸ä¹…æ€§çš„,å³ä½¿å‡ºç°ç³»ç»Ÿæ•…éšœä¹Ÿèƒ½å¤Ÿä¿æŒã€‚</li></ul><h4 id="å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜"><a href="#å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜" class="headerlink" title="å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜"></a>å¹¶å‘äº‹åŠ¡å¤„ç†å¸¦æ¥çš„é—®é¢˜</h4><ul><li>æ›´æ–°ä¸¢å¤±ï¼ˆLost Updateï¼‰<br>ã€€ã€€å½“ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹åŠ¡é€‰æ‹©åŒä¸€è¡Œï¼Œç„¶ååŸºäºæœ€åˆé€‰å®šçš„å€¼æ›´æ–°è¯¥è¡Œæ—¶ï¼Œç”±äºæ¯<br>ä¸ªäº‹åŠ¡éƒ½ä¸çŸ¥é“å…¶ä»–äº‹åŠ¡çš„å­˜åœ¨ï¼Œå°±ä¼šå‘ç”Ÿä¸¢å¤±æ›´æ–°é—®é¢˜â€“æœ€åçš„æ›´æ–°è¦†ç›–äº†ç”±å…¶<br>ä»–äº‹åŠ¡æ‰€åšçš„æ›´æ–°ã€‚</li><li>è„è¯»ï¼ˆDirty Readsï¼‰<br>ã€€ã€€ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨å¯¹ä¸€æ¡è®°å½•åšä¿®æ”¹ï¼Œåœ¨è¿™ä¸ªäº‹åŠ¡å®Œæˆå¹¶æäº¤å‰ï¼Œè¿™æ¡è®°å½•çš„æ•°æ®å°±å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ï¼›è¿™æ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿæ¥è¯»å–åŒä¸€æ¡è®°å½•ï¼Œå¦‚æœä¸åŠ æ§åˆ¶ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡è¯»å–äº†è¿™äº›â€œè„â€æ•°æ®ï¼Œå¹¶æ®æ­¤ä½œè¿›ä¸€æ­¥çš„å¤„ç†ï¼Œå°±ä¼šäº§ç”Ÿæœªæäº¤çš„æ•°æ®ä¾èµ–å…³ç³»ã€‚è¿™ç§ç°è±¡è¢«å½¢è±¡çš„å«åšâ€œè„è¯»â€ã€‚<br>  ã€€ã€€ä¸€å¥è¯ï¼šäº‹åŠ¡Aè¯»å–åˆ°äº†äº‹åŠ¡Bå·²ç»ä¿®æ”¹ä½†å°šæœªæäº¤çš„æ•°æ®ï¼Œè¿˜åœ¨è¿™ä¸ªæ•°æ®åŸºç¡€ä¸Šåšäº†æ“ä½œã€‚æ­¤æ—¶ï¼Œå¦‚æœBäº‹åŠ¡å›æ»šï¼ŒAè¯»å–çš„æ•°æ®æ— æ•ˆï¼Œä¸ç¬¦åˆä¸€è‡´æ€§è¦æ±‚ã€‚</li><li>ä¸å¯é‡è¯»ï¼ˆNon-Repeatable Readsï¼‰<br>ã€€ã€€ä¸€ä¸ªäº‹åŠ¡åœ¨è¯»å–æŸäº›æ•°æ®åçš„æŸä¸ªæ—¶é—´ï¼Œå†æ¬¡è¯»å–ä»¥å‰è¯»è¿‡çš„æ•°æ®ï¼Œå´å‘ç°å…¶è¯»å‡ºçš„æ•°æ®å·²ç»å‘ç”Ÿäº†æ”¹å˜ã€æˆ–æŸäº›è®°å½•å·²ç»è¢«åˆ é™¤äº†ï¼è¿™ç§ç°è±¡å°±å«åšâ€œä¸å¯é‡å¤è¯»â€ã€‚<br>  ã€€ã€€ä¸€å¥è¯ï¼šäº‹åŠ¡Aè¯»å–åˆ°äº†äº‹åŠ¡Bå·²ç»æäº¤çš„ä¿®æ”¹æ•°æ®ï¼Œä¸ç¬¦åˆéš”ç¦»æ€§</li><li>å¹»è¯»ï¼ˆPhantom Readsï¼‰<br>ã€€ã€€ä¸€ä¸ªäº‹åŠ¡æŒ‰ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶é‡æ–°è¯»å–ä»¥å‰æ£€ç´¢è¿‡çš„æ•°æ®ï¼Œå´å‘ç°å…¶ä»–äº‹åŠ¡æ’å…¥äº†æ»¡è¶³å…¶æŸ¥è¯¢æ¡ä»¶çš„æ–°æ•°æ®ï¼Œè¿™ç§ç°è±¡å°±ç§°ä¸ºâ€œå¹»è¯»â€ã€‚<br>  ã€€ã€€ä¸€å¥è¯ï¼šäº‹åŠ¡Aè¯»å–åˆ°äº†äº‹åŠ¡Bæäº¤çš„æ–°å¢æ•°æ®ï¼Œä¸ç¬¦åˆéš”ç¦»æ€§</li></ul><h4 id="äº‹åŠ¡éš”ç¦»çº§åˆ«-1"><a href="#äº‹åŠ¡éš”ç¦»çº§åˆ«-1" class="headerlink" title="äº‹åŠ¡éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡éš”ç¦»çº§åˆ«</h4><p>è„è¯»â€ã€â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€,å…¶å®éƒ½æ˜¯æ•°æ®åº“è¯»ä¸€è‡´æ€§é—®é¢˜,å¿…é¡»ç”±æ•°<br>æ®åº“æä¾›ä¸€å®šçš„äº‹åŠ¡éš”ç¦»æœºåˆ¶æ¥è§£å†³ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2642382755.png" alt="1578801689788"></p><p>æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»è¶Šä¸¥æ ¼,å¹¶å‘å‰¯ä½œç”¨è¶Šå°,ä½†ä»˜å‡ºçš„ä»£ä»·ä¹Ÿå°±è¶Šå¤§,å› ä¸ºäº‹åŠ¡éš”ç¦»å®è´¨ä¸Šå°±æ˜¯ä½¿äº‹åŠ¡åœ¨ä¸€å®šç¨‹åº¦ä¸Šâ€œä¸²è¡ŒåŒ–â€è¿›è¡Œ,è¿™æ˜¾ç„¶ä¸â€œå¹¶å‘â€æ˜¯çŸ›ç›¾çš„ã€‚</p><p>åŒæ—¶,ä¸åŒçš„åº”ç”¨å¯¹è¯»ä¸€è‡´æ€§å’Œäº‹åŠ¡éš”ç¦»ç¨‹åº¦çš„è¦æ±‚ä¹Ÿæ˜¯ä¸åŒçš„,æ¯”å¦‚è®¸å¤šåº”ç”¨å¯¹â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€å¹¶ä¸æ•æ„Ÿ,å¯èƒ½æ›´å…³å¿ƒæ•°æ®å¹¶å‘è®¿é—®çš„èƒ½åŠ›ã€‚</p><p>å¸¸çœ‹å½“å‰æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«: show variables like â€˜tx_isolationâ€™;<br>è®¾ç½®äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼šset tx_isolation=â€™REPEATABLE-READâ€™;</p><p>ç®€å•æè¿°ä¸€ä¸‹éš”ç¦»çº§åˆ«ï¼š</p><p>1ã€è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰</p><p>å®¢æˆ·ç«¯Aå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼ŒæŸ¥è¯¢ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º400</p><p>åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå®¢æˆ·ç«¯Bå¼€å¯äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡ï¼Œæ›´æ–°ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º350ï¼Œè¿˜æœªæäº¤ã€‚æ­¤æ—¶å®¢æˆ·Aå°±å¯ä»¥æŸ¥è¯¢åˆ°Bå·²ç»æ›´æ–°çš„æ•°æ®ã€‚å¦‚æœå®¢æˆ·ç«¯Bå›æ»šäº†ï¼Œå®¢æˆ·ç«¯Bæ‰€æœ‰çš„æ“ä½œè¢«æ’¤é”€ï¼Œé‚£ä¹ˆç°åœ¨å®¢æˆ·ç«¯AæŸ¥è¯¢åˆ°çš„æ•°æ®å…¶å®å°±æ˜¯è„æ•°æ®ã€‚</p><p>2ã€è¯»å·²æäº¤ï¼ˆRead committedï¼‰</p><p>å®¢æˆ·ç«¯Aå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼ŒæŸ¥è¯¢ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º400</p><p>åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå®¢æˆ·ç«¯Bå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œæ›´æ–°ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º350ï¼Œè¿˜æœªæäº¤ã€‚æ­¤æ—¶å®¢æˆ·ç«¯Aä¸èƒ½æŸ¥è¯¢Bå·²ç»æ›´æ–°çš„æ•°æ®ï¼Œè§£å†³äº†è„æ•°æ®çš„é—®é¢˜ã€‚</p><p>æ­¤æ—¶å®¢æˆ·ç«¯Bæäº¤ï¼Œå®¢æˆ·Aå†è¿›è¡ŒæŸ¥è¯¢ï¼Œç»“æœå’Œä¸Šè¿°ä¸ä¸€è‡´äº†ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯å®¢æˆ·ç«¯Bæ›´æ–°åçš„æ•°æ®350ï¼Œå³äº§ç”Ÿäº†ä¸å¯é‡å¤è¯»çš„é—®é¢˜ã€‚</p><p>3ã€å¯é‡å¤åº¦ï¼ˆRepeatable readï¼‰</p><p>å®¢æˆ·ç«¯Aå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼ŒæŸ¥è¯¢ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º400</p><p>åœ¨å®¢æˆ·ç«¯Açš„äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå®¢æˆ·ç«¯Bå¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œæ›´æ–°ç”¨æˆ·è¡¨id=1çš„ä½™é¢ä¸º350ï¼Œæäº¤ã€‚æ­¤æ—¶å®¢æˆ·ç«¯Aå†æŸ¥è¯¢ç”¨æˆ·id=1çš„ä½™é¢è¿˜æ˜¯å’Œä¸Šä¸€æ¬¡ä¸€æ ·æ˜¯400ï¼Œè§£å†³äº†ä¸å¯é‡å¤åº¦çš„é—®é¢˜ã€‚</p><p>æ­¤æ—¶å®¢æˆ·ç«¯Aæ‰§è¡Œæ›´æ–°ä½™é¢ï¼Œå°†ä½™é¢-50ï¼Œé¢„æµ‹åº”è¯¥æ›´æ–°ä¸º350ï¼Œä½†æ˜¯å´æ˜¯300ã€‚ä½™é¢ä½¿ç”¨çš„æ˜¯å®¢æˆ·ç«¯Bæäº¤çš„æ•°æ®ï¼Œæœ€åæ•°æ®çš„ä¸€è‡´æ€§å€’æ˜¯æ²¡æœ‰è¢«ç ´å¿«ã€‚é‚£ä¹ˆè¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºMysqlåœ¨å¯é‡å¤åº¦éš”ç¦»çº§åˆ«ä¸‹ä½¿ç”¨äº†MVCCï¼ˆmulti-version concurrency controlï¼‰æœºåˆ¶ã€‚</p><p>selectæ“ä½œä¸ä¼šæ›´æ–°ç‰ˆæœ¬å·ï¼Œå¿«ç…§è¯»ï¼ˆå†å²ç‰ˆæœ¬ï¼‰ï¼ˆreadviewï¼Œå¿«ç…§ï¼‰ï¼›</p><p>insertã€updateå’Œdeleteä¼šæ›´æ–°ç‰ˆæœ¬å·ï¼Œå½“å‰è¯»ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰ã€‚</p><p>é‡æ–°æ‰“å¼€å®¢æˆ·ç«¯Bï¼Œæ’å…¥ä¸€æ¡æ–°çš„æ•°æ®id=4</p><p>åœ¨å®¢æˆ·ç«¯AæŸ¥è¯¢ç”¨æˆ·è¡¨ï¼Œæ²¡æœ‰æŸ¥è¯¢å‡ºæ–°çš„æ•°æ®</p><p>å®¢æˆ·ç«¯Aæ‰§è¡Œæ›´æ–°è¯­å¥æ¡ä»¶æ˜¯where id = 4ï¼ŒæŸ¥è¯¢æ›´æ–°æˆåŠŸã€‚å†æ¬¡æŸ¥è¯¢å°±å¯ä»¥æŸ¥è¯¢åˆ°å®¢æˆ·ç«¯Bæ–°å¢çš„ç”¨æˆ·id=4çš„æ•°æ®ï¼Œå‡ºç°å¹»è¯»ã€‚</p><h2 id="MVCCæœºåˆ¶"><a href="#MVCCæœºåˆ¶" class="headerlink" title="MVCCæœºåˆ¶"></a>MVCCæœºåˆ¶</h2><p>å¦‚æœäº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»ï¼Œé‚£å¿«ç…§readviewæ˜¯ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶æ‰€ç”Ÿäº§çš„ã€‚</p><p>æ¯ä¸€ä¸ªäº‹åŠ¡å¼€å¯åˆ°æäº¤ä¸­é—´ï¼Œæ¯æ¬¡insertã€updateã€deleteæ“ä½œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªundoå›æ»šæ—¥å¿—ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2715093167.png" alt="1578803927800"></p><p>è¿™é‡Œæ¨¡æ‹Ÿä¸åŒçš„å®¢æˆ·ç«¯æ“ä½œï¼Œæ“ä½œé¡ºåºä»ä¸Šåˆ°ä¸‹ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2475687894.png" alt="1578804320776"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlçš„Explainä½¿ç”¨åŠç´¢å¼•æ€»ç»“</title>
      <link href="2020/01/11/2020-01-11-mysql-explain/"/>
      <url>2020/01/11/2020-01-11-mysql-explain/</url>
      
        <content type="html"><![CDATA[<h2 id="Explainå·¥å…·ä»‹ç»"><a href="#Explainå·¥å…·ä»‹ç»" class="headerlink" title="Explainå·¥å…·ä»‹ç»"></a>Explainå·¥å…·ä»‹ç»</h2><p>ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLè¯­å¥ï¼Œåˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ<br>åœ¨ select è¯­å¥ä¹‹å‰å¢åŠ  explain å…³é”®å­—ï¼ŒMySQL ä¼šåœ¨æŸ¥è¯¢ä¸Šè®¾ç½®ä¸€ä¸ªæ ‡è®°ï¼Œæ‰§è¡ŒæŸ¥è¯¢ä¼šè¿”<br>å›æ‰§è¡Œè®¡åˆ’çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯æ‰§è¡Œè¿™æ¡SQL<br>æ³¨æ„ï¼šå¦‚æœ from ä¸­åŒ…å«å­æŸ¥è¯¢ï¼Œä»ä¼šæ‰§è¡Œè¯¥å­æŸ¥è¯¢ï¼Œå°†ç»“æœæ”¾å…¥ä¸´æ—¶è¡¨ä¸­ã€‚</p><p>actorå»ºè¡¨è¯­å¥</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `actor`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `actor` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">45</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `update_time` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of actor</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;2020-01-11 19:57:26&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;2020-01-11 19:57:38&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;2020-01-11 19:57:57&#x27;</span>);</span><br></pre></td></tr></table></figure><p>filmå»ºè¡¨è¯­å¥</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `film`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `film` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `idx_name` (`name`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of film</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `film` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;film0&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `film` <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;film1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `film` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;film2&#x27;</span>);</span><br></pre></td></tr></table></figure><p>film_actorå»ºè¡¨è¯­å¥</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `file_actor`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `file_actor` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `film_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `actor_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `remark` <span class="type">varchar</span>(<span class="number">25</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `idx_film_actor_id` (`film_id`,`actor_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of file_actor</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `file_actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `file_actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `file_actor` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure><p>Explainå±•ç¤ºçš„å­—æ®µ</p><h2 id="explainåˆ—"><a href="#explainåˆ—" class="headerlink" title="explainåˆ—"></a>explainåˆ—</h2><p>å±•ç¤ºexplainä¸­çš„æ¯ä¸ªåˆ—çš„ä¿¡æ¯ã€‚</p><h4 id="1ã€idåˆ—"><a href="#1ã€idåˆ—" class="headerlink" title="1ã€idåˆ—"></a>1ã€idåˆ—</h4><p>idåˆ—çš„ç¼–å·æ˜¯selectçš„åºå·ï¼Œæœ‰å‡ ä¸ªselectå°±æœ‰å‡ ä¸ªidï¼Œå¹¶ä¸”idçš„é¡ºåºæ˜¯æŒ‰selectå‡ºç°çš„é¡ºåºå¢é•¿çš„ã€‚</p><p>idå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œidç›¸åŒåˆ™ä»ä¸Šå¾€ä¸‹æ‰§è¡Œï¼Œidä¸ºNULLæœ€åæ‰§è¡Œã€‚</p><h4 id="2ã€select-type"><a href="#2ã€select-type" class="headerlink" title="2ã€select_type"></a>2ã€select_type</h4><p>select_typeè¡¨ç¤ºå¯¹åº”è¡Œæ˜¯ç®€å•è¿˜æ˜¯å¤æ‚çš„æŸ¥è¯¢</p><ol><li>simpleï¼šç®€å•æŸ¥è¯¢ã€‚æŸ¥è¯¢ä¸åŒ…å«å­æŸ¥è¯¢å’Œunion</li></ol><p>å¦‚ä¸Šå›¾</p><ol start="2"><li>primaryï¼šå¤æ‚æŸ¥è¯¢ä¸­æœ€å¤–å±‚çš„select</li></ol><p>3ï¼‰subqueryï¼šåŒ…å«åœ¨ select ä¸­çš„å­æŸ¥è¯¢ï¼ˆä¸åœ¨ from å­å¥ä¸­ï¼‰<br>4ï¼‰derivedï¼šåŒ…å«åœ¨ from å­å¥ä¸­çš„å­æŸ¥è¯¢ã€‚MySQLä¼šå°†ç»“æœå­˜æ”¾åœ¨ä¸€ä¸ªä¸´æ—¶è¡¨ä¸­ï¼Œä¹Ÿç§°ä¸º<br>æ´¾ç”Ÿè¡¨ï¼ˆderivedçš„è‹±æ–‡å«ä¹‰ï¼‰<br>ç”¨è¿™ä¸ªä¾‹å­æ¥äº†è§£ primaryã€subquery å’Œ derived ç±»å‹<br>mysql&gt; set session optimizer_switch=â€™derived_merge=offâ€™;   #å…³é—­mysql5.7æ–°ç‰¹æ€§å¯¹è¡<br>ç”Ÿè¡¨çš„åˆå¹¶ä¼˜åŒ–<br>mysql&gt; explain select (select 1 from actor where id = 1) from (select * from film<br>where id = 1) der;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2716589489.png" alt="1578737130125"></p><p>mysql&gt; set session optimizer_switch=â€™derived_merge=onâ€™; #è¿˜åŸé»˜è®¤é…ç½®</p><p>5ï¼‰unionï¼šåœ¨ union ä¸­çš„ç¬¬äºŒä¸ªå’Œéšåçš„ select</p><p>mysql&gt; explain select 1 union all select 1;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1013800051.png" alt="1578737906626"></p><h4 id="3ã€tableåˆ—"><a href="#3ã€tableåˆ—" class="headerlink" title="3ã€tableåˆ—"></a>3ã€tableåˆ—</h4><p>è¿™ä¸€åˆ—è¡¨ç¤º explain çš„ä¸€è¡Œæ­£åœ¨è®¿é—®å“ªä¸ªè¡¨ã€‚<br>å½“ from å­å¥ä¸­æœ‰å­æŸ¥è¯¢æ—¶ï¼Œtableåˆ—æ˜¯ <derivenN> æ ¼å¼ï¼Œè¡¨ç¤ºå½“å‰æŸ¥è¯¢ä¾èµ– id=N çš„æŸ¥<br>è¯¢ï¼Œäºæ˜¯å…ˆæ‰§è¡Œ id=N çš„æŸ¥è¯¢ã€‚<br>å½“æœ‰ union æ—¶ï¼ŒUNION RESULT çš„ table åˆ—çš„å€¼ä¸º&lt;union1,2&gt;ï¼Œ1å’Œ2è¡¨ç¤ºå‚ä¸ union çš„<br>select è¡Œidã€‚</p><h4 id="4ã€typeåˆ—"><a href="#4ã€typeåˆ—" class="headerlink" title="4ã€typeåˆ—"></a>4ã€typeåˆ—</h4><p>è¿™ä¸€åˆ—è¡¨ç¤ºå…³è”ç±»å‹æˆ–è®¿é—®ç±»å‹ï¼Œå³MySQLå†³å®šå¦‚ä½•æŸ¥æ‰¾è¡¨ä¸­çš„è¡Œï¼ŒæŸ¥æ‰¾æ•°æ®è¡Œè®°å½•çš„å¤§æ¦‚<br>èŒƒå›´ã€‚<br>ä¾æ¬¡ä»<strong>æœ€ä¼˜åˆ°æœ€å·®</strong>åˆ†åˆ«ä¸ºï¼šsystem &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALL<br>ä¸€èˆ¬æ¥è¯´ï¼Œå¾—ä¿è¯æŸ¥è¯¢è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½è¾¾åˆ°ref<br>NULLï¼šmysqlèƒ½å¤Ÿåœ¨ä¼˜åŒ–é˜¶æ®µåˆ†è§£æŸ¥è¯¢è¯­å¥ï¼Œåœ¨æ‰§è¡Œé˜¶æ®µç”¨ä¸ç€å†è®¿é—®è¡¨æˆ–ç´¢å¼•ã€‚ä¾‹å¦‚ï¼šåœ¨<br>ç´¢å¼•åˆ—ä¸­é€‰å–æœ€å°å€¼ï¼Œå¯ä»¥å•ç‹¬æŸ¥æ‰¾ç´¢å¼•æ¥å®Œæˆï¼Œä¸éœ€è¦åœ¨æ‰§è¡Œæ—¶è®¿é—®è¡¨<br>mysql&gt; explain select min(id) from film;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/521284259.png" alt="1578738042346"><br>const, systemï¼šmysqlèƒ½å¯¹æŸ¥è¯¢çš„æŸéƒ¨åˆ†è¿›è¡Œä¼˜åŒ–å¹¶å°†å…¶è½¬åŒ–æˆä¸€ä¸ªå¸¸é‡ï¼ˆå¯ä»¥çœ‹show<br>warnings çš„ç»“æœï¼‰ã€‚ç”¨äº primary key æˆ– unique key çš„æ‰€æœ‰åˆ—ä¸å¸¸æ•°æ¯”è¾ƒæ—¶ï¼Œæ‰€ä»¥è¡¨æœ€å¤š<br>æœ‰ä¸€ä¸ªåŒ¹é…è¡Œï¼Œè¯»å–1æ¬¡ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«ã€‚systemæ˜¯constçš„ç‰¹ä¾‹ï¼Œè¡¨é‡Œåªæœ‰ä¸€æ¡å…ƒç»„åŒ¹é…æ—¶ä¸º<br>system<br>mysql&gt; explain extended select * from (select * from film where id = 1) tmp;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1588839168.png" alt="1578738056468"><br>mysql&gt; show warnings;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/902622157.png" alt="1578738061877"><br>eq_refï¼šprimary key æˆ– unique key ç´¢å¼•çš„æ‰€æœ‰éƒ¨åˆ†è¢«è¿æ¥ä½¿ç”¨ ï¼Œæœ€å¤šåªä¼šè¿”å›ä¸€æ¡ç¬¦åˆ<br>æ¡ä»¶çš„è®°å½•ã€‚è¿™å¯èƒ½æ˜¯åœ¨ const ä¹‹å¤–æœ€å¥½çš„è”æ¥ç±»å‹äº†ï¼Œç®€å•çš„ select æŸ¥è¯¢ä¸ä¼šå‡ºç°è¿™ç§<br>typeã€‚<br>mysql&gt; explain select * from film_actor left join film on film_actor.film_id = film.id;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/296224253.png" alt="1578738068602"><br>refï¼šç›¸æ¯” eq_refï¼Œä¸ä½¿ç”¨å”¯ä¸€ç´¢å¼•ï¼Œè€Œæ˜¯ä½¿ç”¨æ™®é€šç´¢å¼•æˆ–è€…å”¯ä¸€æ€§ç´¢å¼•çš„éƒ¨åˆ†å‰ç¼€ï¼Œç´¢å¼•è¦<br>å’ŒæŸä¸ªå€¼ç›¸æ¯”è¾ƒï¼Œå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œã€‚</p><ol><li><p>ç®€å• select æŸ¥è¯¢ï¼Œnameæ˜¯æ™®é€šç´¢å¼•ï¼ˆéå”¯ä¸€ç´¢å¼•ï¼‰<br>mysql&gt; explain select * from film where name = â€˜film1â€™;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2580514485.png" alt="1578744663729"></p></li><li><p>å…³è”è¡¨æŸ¥è¯¢ï¼Œidx_film_actor_idæ˜¯film_idå’Œactor_idçš„è”åˆç´¢å¼•ï¼Œè¿™é‡Œä½¿ç”¨åˆ°äº†film_actor<br>çš„å·¦è¾¹å‰ç¼€film_idéƒ¨åˆ†ã€‚<br>mysql&gt; explain select film_id from film left join film_actor on film.id =<br>film_actor.film_id;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/173014895.png" alt="1578744633297"></p><p>rangeï¼šèŒƒå›´æ‰«æé€šå¸¸å‡ºç°åœ¨ in(), between ,&gt; ,&lt;, &gt;= ç­‰æ“ä½œä¸­ã€‚ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥æ£€ç´¢ç»™å®š<br>èŒƒå›´çš„è¡Œã€‚<br>mysql&gt; explain select * from actor where id &gt; 1;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3698856681.png" alt="1578744638020"></p><p>indexï¼šæ‰«æå…¨è¡¨ç´¢å¼•ï¼Œè¿™é€šå¸¸æ¯”ALLå¿«ä¸€äº›ã€‚<br>mysql&gt; explain select * from film;</p><p>ALLï¼šå³å…¨è¡¨æ‰«æï¼Œæ„å‘³ç€mysqléœ€è¦ä»å¤´åˆ°å°¾å»æŸ¥æ‰¾æ‰€éœ€è¦çš„è¡Œã€‚é€šå¸¸æƒ…å†µä¸‹è¿™éœ€è¦å¢åŠ ç´¢<br>å¼•æ¥è¿›è¡Œä¼˜åŒ–äº†<br>mysql&gt; explain select * from actor;</p></li></ol><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1898987101.png" alt="1578744600423"></p><h4 id="5ã€possible-keysåˆ—"><a href="#5ã€possible-keysåˆ—" class="headerlink" title="5ã€possible_keysåˆ—"></a>5ã€possible_keysåˆ—</h4><p>è¿™ä¸€åˆ—æ˜¾ç¤ºæŸ¥è¯¢å¯èƒ½ä½¿ç”¨å“ªäº›ç´¢å¼•æ¥æŸ¥æ‰¾ã€‚<br>explain æ—¶å¯èƒ½å‡ºç° possible_keys æœ‰åˆ—ï¼Œè€Œ key æ˜¾ç¤º NULL çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µæ˜¯å› ä¸ºè¡¨ä¸­<br>æ•°æ®ä¸å¤šï¼Œmysqlè®¤ä¸ºç´¢å¼•å¯¹æ­¤æŸ¥è¯¢å¸®åŠ©ä¸å¤§ï¼Œé€‰æ‹©äº†å…¨è¡¨æŸ¥è¯¢ã€‚<br>å¦‚æœè¯¥åˆ—æ˜¯NULLï¼Œåˆ™æ²¡æœ‰ç›¸å…³çš„ç´¢å¼•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥ where å­å¥çœ‹æ˜¯å¦å¯<br>ä»¥åˆ›é€ ä¸€ä¸ªé€‚å½“çš„ç´¢å¼•æ¥æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œç„¶åç”¨ explain æŸ¥çœ‹æ•ˆæœã€‚</p><h4 id="6ã€keyåˆ—"><a href="#6ã€keyåˆ—" class="headerlink" title="6ã€keyåˆ—"></a>6ã€keyåˆ—</h4><p>è¿™ä¸€åˆ—æ˜¾ç¤ºmysqlå®é™…é‡‡ç”¨å“ªä¸ªç´¢å¼•æ¥ä¼˜åŒ–å¯¹è¯¥è¡¨çš„è®¿é—®ã€‚<br>å¦‚æœæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œåˆ™è¯¥åˆ—æ˜¯ NULLã€‚å¦‚æœæƒ³å¼ºåˆ¶mysqlä½¿ç”¨æˆ–å¿½è§†possible_keysåˆ—ä¸­çš„ç´¢<br>å¼•ï¼Œåœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ force indexã€ignore indexã€‚</p><h4 id="7ã€key-lenåˆ—"><a href="#7ã€key-lenåˆ—" class="headerlink" title="7ã€key_lenåˆ—"></a>7ã€key_lenåˆ—</h4><p>è¿™ä¸€åˆ—æ˜¾ç¤ºäº†mysqlåœ¨ç´¢å¼•é‡Œä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œé€šè¿‡è¿™ä¸ªå€¼å¯ä»¥ç®—å‡ºå…·ä½“ä½¿ç”¨äº†ç´¢å¼•ä¸­çš„å“ªäº›<br>åˆ—ã€‚<br>ä¸¾ä¾‹æ¥è¯´ï¼Œfilm_actorçš„è”åˆç´¢å¼• idx_film_actor_id ç”± film_id å’Œ actor_id ä¸¤ä¸ªintåˆ—ç»„æˆï¼Œ<br>å¹¶ä¸”æ¯ä¸ªintæ˜¯4å­—èŠ‚ã€‚é€šè¿‡ç»“æœä¸­çš„key_len=4å¯æ¨æ–­å‡ºæŸ¥è¯¢ä½¿ç”¨äº†ç¬¬ä¸€ä¸ªåˆ—ï¼šfilm_idåˆ—æ¥æ‰§<br>è¡Œç´¢å¼•æŸ¥æ‰¾ã€‚<br>mysql&gt; explain select * from film_actor where film_id = 2;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/45810768.png" alt="1578745125184"></p><p>key_lenè®¡ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><p>å­—ç¬¦ä¸²</p><p>char(n)ï¼šnå­—èŠ‚é•¿åº¦</p><p>varchar(n)ï¼š2å­—èŠ‚å­˜å‚¨å­—ç¬¦ä¸²é•¿åº¦ï¼Œå¦‚æœæ˜¯utf-8ï¼Œåˆ™é•¿åº¦3n+2</p></li><li><p>æ•°å€¼ç±»å‹</p><p>tinyintï¼š1å­—èŠ‚<br>smallintï¼š2å­—èŠ‚<br>intï¼š4å­—èŠ‚<br>bigintï¼š8å­—èŠ‚</p></li><li><p>æ—¶é—´ç±»å‹</p><p>dateï¼š3å­—èŠ‚<br>timestampï¼š4å­—èŠ‚<br>datetimeï¼š8å­—èŠ‚</p></li><li><p>å¦‚æœå­—æ®µå…è®¸ä¸º NULLï¼Œéœ€è¦1å­—èŠ‚è®°å½•æ˜¯å¦ä¸º NULL</p></li></ul><p>ç´¢å¼•æœ€å¤§é•¿åº¦æ˜¯768å­—èŠ‚ï¼Œå½“å­—ç¬¦ä¸²è¿‡é•¿æ—¶ï¼Œmysqlä¼šåšä¸€ä¸ªç±»ä¼¼å·¦å‰ç¼€ç´¢å¼•çš„å¤„ç†ï¼Œå°†å‰åŠ<br>éƒ¨åˆ†çš„å­—ç¬¦æå–å‡ºæ¥åšç´¢å¼•ã€‚</p><h4 id="8ã€refåˆ—"><a href="#8ã€refåˆ—" class="headerlink" title="8ã€refåˆ—"></a>8ã€refåˆ—</h4><p>è¿™ä¸€åˆ—æ˜¾ç¤ºäº†åœ¨keyåˆ—è®°å½•çš„ç´¢å¼•ä¸­ï¼Œè¡¨æŸ¥æ‰¾å€¼æ‰€ç”¨åˆ°çš„åˆ—æˆ–å¸¸é‡ï¼Œå¸¸è§çš„æœ‰ï¼šconstï¼ˆå¸¸<br>é‡ï¼‰ï¼Œå­—æ®µåï¼ˆä¾‹ï¼šfilm.idï¼‰</p><h4 id="9ã€rowsåˆ—"><a href="#9ã€rowsåˆ—" class="headerlink" title="9ã€rowsåˆ—"></a>9ã€rowsåˆ—</h4><p>è¿™ä¸€åˆ—æ˜¯mysqlä¼°è®¡è¦è¯»å–å¹¶æ£€æµ‹çš„è¡Œæ•°ï¼Œæ³¨æ„è¿™ä¸ªä¸æ˜¯ç»“æœé›†é‡Œçš„è¡Œæ•°ã€‚</p><h4 id="10ã€Extraåˆ—"><a href="#10ã€Extraåˆ—" class="headerlink" title="10ã€Extraåˆ—"></a>10ã€Extraåˆ—</h4><p>è¿™ä¸€åˆ—å±•ç¤ºçš„æ˜¯é¢å¤–ä¿¡æ¯ã€‚å¸¸è§çš„é‡è¦å€¼å¦‚ä¸‹ï¼š<br>1ï¼‰Using indexï¼šä½¿ç”¨è¦†ç›–ç´¢å¼•<br>mysql&gt; explain select film_id from film_actor where film_id = 1;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3956387964.png" alt="1578745277257"></p><p>2ï¼‰Using whereï¼šä½¿ç”¨ where è¯­å¥æ¥å¤„ç†ç»“æœï¼ŒæŸ¥è¯¢çš„åˆ—æœªè¢«ç´¢å¼•è¦†ç›–</p><p>mysql&gt; explain select * from actor where name = â€˜aâ€™;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1722679615.png" alt="1578745291241"></p><p>3ï¼‰Using index conditionï¼šæŸ¥è¯¢çš„åˆ—ä¸å®Œå…¨è¢«ç´¢å¼•è¦†ç›–ï¼Œwhereæ¡ä»¶ä¸­æ˜¯ä¸€ä¸ªå‰å¯¼åˆ—çš„èŒƒ<br>å›´ï¼›</p><p>mysql&gt; explain select * from film_actor where film_id &gt; 1;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3678510800.png" alt="1578746022429"></p><p>4ï¼‰Using temporaryï¼šmysqléœ€è¦åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨æ¥å¤„ç†æŸ¥è¯¢ã€‚å‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯è¦è¿›è¡Œ<br>ä¼˜åŒ–çš„ï¼Œé¦–å…ˆæ˜¯æƒ³åˆ°ç”¨ç´¢å¼•æ¥ä¼˜åŒ–ã€‚</p><p>1ã€actor.nameæ²¡æœ‰ç´¢å¼•ï¼Œæ­¤æ—¶åˆ›å»ºäº†å¼ ä¸´æ—¶è¡¨æ¥distinct<br>mysql&gt; explain select distinct name from actor;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3121044303.png" alt="1578746041902"></p><p>2ã€film.nameå»ºç«‹äº†idx_nameç´¢å¼•ï¼Œæ­¤æ—¶æŸ¥è¯¢æ—¶extraæ˜¯using index,æ²¡æœ‰ç”¨ä¸´æ—¶è¡¨<br>mysql&gt; explain select distinct name from film;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/941771548.png" alt="1578746057709"></p><p>5ï¼‰Using filesortï¼šå°†ç”¨å¤–éƒ¨æ’åºè€Œä¸æ˜¯ç´¢å¼•æ’åºï¼Œæ•°æ®è¾ƒå°æ—¶ä»å†…å­˜æ’åºï¼Œå¦åˆ™éœ€è¦åœ¨ç£ç›˜<br>å®Œæˆæ’åºã€‚è¿™ç§æƒ…å†µä¸‹ä¸€èˆ¬ä¹Ÿæ˜¯è¦è€ƒè™‘ä½¿ç”¨ç´¢å¼•æ¥ä¼˜åŒ–çš„ã€‚</p><p>1ã€actor.nameæœªåˆ›å»ºç´¢å¼•ï¼Œä¼šæµè§ˆactoræ•´ä¸ªè¡¨ï¼Œä¿å­˜æ’åºå…³é”®å­—nameå’Œå¯¹åº”çš„idï¼Œç„¶åæ’<br>åºnameå¹¶æ£€ç´¢è¡Œè®°å½•<br>mysql&gt; explain select * from actor order by name;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/4045994156.png" alt="1578746090990"></p><p>2ã€film.nameå»ºç«‹äº†idx_nameç´¢å¼•,æ­¤æ—¶æŸ¥è¯¢æ—¶extraæ˜¯using index<br>mysql&gt; explain select * from film order by name;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/919562841.png" alt="1578746100958"></p><p>6ï¼‰Select tables optimized awayï¼šä½¿ç”¨æŸäº›èšåˆå‡½æ•°ï¼ˆæ¯”å¦‚ maxã€minï¼‰æ¥è®¿é—®å­˜åœ¨ç´¢å¼•<br>çš„æŸä¸ªå­—æ®µæ˜¯<br>mysql&gt; explain select min(id) from film;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2021516824.png" alt="1578746115229"></p><h2 id="Using-filesortæ–‡ä»¶æ’åºåŸç†è¯¦è§£"><a href="#Using-filesortæ–‡ä»¶æ’åºåŸç†è¯¦è§£" class="headerlink" title="Using filesortæ–‡ä»¶æ’åºåŸç†è¯¦è§£"></a>Using filesortæ–‡ä»¶æ’åºåŸç†è¯¦è§£</h2><h4 id="filesortæ–‡ä»¶æ’åºæ–¹å¼"><a href="#filesortæ–‡ä»¶æ’åºæ–¹å¼" class="headerlink" title="filesortæ–‡ä»¶æ’åºæ–¹å¼"></a>filesortæ–‡ä»¶æ’åºæ–¹å¼</h4><p>å•è·¯æ’åºï¼šæ˜¯ä¸€æ¬¡æ€§å–å‡ºæ»¡è¶³æ¡ä»¶è¡Œçš„æ‰€æœ‰å­—æ®µï¼Œç„¶ååœ¨sort bufferä¸­è¿›è¡Œæ’åºï¼›ç”¨traceå·¥å…·å¯<br>ä»¥çœ‹åˆ°sort_modeä¿¡æ¯é‡Œæ˜¾ç¤º&lt; sort_key, additional_fields &gt;æˆ–è€…&lt; sort_key,<br>packed_additional_fields &gt;</p><p>åŒè·¯æ’åºï¼ˆåˆå«å›è¡¨æ’åºæ¨¡å¼ï¼‰ï¼šæ˜¯é¦–å…ˆæ ¹æ®ç›¸åº”çš„æ¡ä»¶å–å‡ºç›¸åº”çš„æ’åºå­—æ®µå’Œå¯ä»¥ç›´æ¥å®šä½è¡Œ<br>æ•°æ®çš„è¡Œ IDï¼Œç„¶ååœ¨ sort buffer ä¸­è¿›è¡Œæ’åºï¼Œæ’åºå®Œåéœ€è¦å†æ¬¡å–å›å…¶å®ƒéœ€è¦çš„å­—æ®µï¼›ç”¨traceå·¥å…·<br>å¯ä»¥çœ‹åˆ°sort_modeä¿¡æ¯é‡Œæ˜¾ç¤º&lt; sort_key, rowid &gt;</p><p>MySQL é€šè¿‡æ¯”è¾ƒç³»ç»Ÿå˜é‡ max_length_for_sort_data(é»˜è®¤1024å­—èŠ‚) çš„å¤§å°å’Œéœ€è¦æŸ¥è¯¢çš„å­—æ®µæ€»å¤§å°æ¥<br>åˆ¤æ–­ä½¿ç”¨å“ªç§æ’åºæ¨¡å¼ã€‚<br>å¦‚æœ max_length_for_sort_data æ¯”æŸ¥è¯¢å­—æ®µçš„æ€»é•¿åº¦å¤§ï¼Œé‚£ä¹ˆä½¿ç”¨ å•è·¯æ’åºæ¨¡å¼ï¼›<br>å¦‚æœ max_length_for_sort_data æ¯”æŸ¥è¯¢å­—æ®µçš„æ€»é•¿åº¦å°ï¼Œé‚£ä¹ˆä½¿ç”¨ åŒè·¯æ’åºæ¨¡å¼ã€‚</p><p>æˆ‘ä»¬å…ˆçœ‹å•è·¯æ’åºçš„è¯¦ç»†è¿‡ç¨‹ï¼š</p><ol><li><p>ä»ç´¢å¼•nameæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³ name = â€˜xxâ€™ æ¡ä»¶çš„ä¸»é”® id</p></li><li><p>æ ¹æ®ä¸»é”® id å–å‡ºæ•´è¡Œï¼Œå–å‡ºæ‰€æœ‰å­—æ®µçš„å€¼ï¼Œå­˜å…¥ sort_buffer ä¸­</p></li><li><p>ä»ç´¢å¼•nameæ‰¾åˆ°ä¸‹ä¸€ä¸ªæ»¡è¶³ name = â€˜xxâ€™ æ¡ä»¶çš„ä¸»é”® id</p></li><li><p>é‡å¤æ­¥éª¤ 2ã€3 ç›´åˆ°ä¸æ»¡è¶³ name = â€˜xxâ€™</p></li><li><p>å¯¹ sort_buffer ä¸­çš„æ•°æ®æŒ‰ç…§å­—æ®µ position è¿›è¡Œæ’åº</p></li><li><p>è¿”å›ç»“æœç»™å®¢æˆ·ç«¯</p></li></ol><p>æˆ‘ä»¬å†çœ‹ä¸‹åŒè·¯æ’åºçš„è¯¦ç»†è¿‡ç¨‹ï¼š</p><ol><li>ä»ç´¢å¼• name æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³ name = â€˜xxâ€™  çš„ä¸»é”®id</li><li>æ ¹æ®ä¸»é”® id å–å‡ºæ•´è¡Œï¼ŒæŠŠæ’åºå­—æ®µ position å’Œä¸»é”® id è¿™ä¸¤ä¸ªå­—æ®µæ”¾åˆ° sort buffer ä¸­</li><li>ä»ç´¢å¼• name å–ä¸‹ä¸€ä¸ªæ»¡è¶³ name = â€˜xxâ€™  è®°å½•çš„ä¸»é”® id</li><li>é‡å¤ 3ã€4 ç›´åˆ°ä¸æ»¡è¶³ name = â€˜xxâ€™</li><li>å¯¹ sort_buffer ä¸­çš„å­—æ®µ position å’Œä¸»é”® id æŒ‰ç…§å­—æ®µ position è¿›è¡Œæ’åº</li><li>éå†æ’åºå¥½çš„ id å’Œå­—æ®µ positionï¼ŒæŒ‰ç…§ id çš„å€¼å›åˆ°åŸè¡¨ä¸­å–å‡º æ‰€æœ‰å­—æ®µçš„å€¼è¿”å›ç»™å®¢æˆ·ç«¯</li></ol><p>å…¶å®å¯¹æ¯”ä¸¤ä¸ªæ’åºæ¨¡å¼ï¼Œå•è·¯æ’åºä¼šæŠŠæ‰€æœ‰éœ€è¦æŸ¥è¯¢çš„å­—æ®µéƒ½æ”¾åˆ° sort buffer ä¸­ï¼Œè€ŒåŒè·¯æ’åºåªä¼šæŠŠä¸»é”®<br>å’Œéœ€è¦æ’åºçš„å­—æ®µæ”¾åˆ° sort buffer ä¸­è¿›è¡Œæ’åºï¼Œç„¶åå†é€šè¿‡ä¸»é”®å›åˆ°åŸè¡¨æŸ¥è¯¢éœ€è¦çš„å­—æ®µã€‚<br>å¦‚æœ MySQL æ’åºå†…å­˜é…ç½®çš„æ¯”è¾ƒå°å¹¶ä¸”æ²¡æœ‰æ¡ä»¶ç»§ç»­å¢åŠ äº†ï¼Œå¯ä»¥é€‚å½“æŠŠ max_length_for_sort_data é…<br>ç½®å°ç‚¹ï¼Œè®©ä¼˜åŒ–å™¨é€‰æ‹©ä½¿ç”¨åŒè·¯æ’åºç®—æ³•ï¼Œå¯ä»¥åœ¨sort_buffer ä¸­ä¸€æ¬¡æ’åºæ›´å¤šçš„è¡Œï¼Œåªæ˜¯éœ€è¦å†æ ¹æ®ä¸»é”®<br>å›åˆ°åŸè¡¨å–æ•°æ®ã€‚<br>å¦‚æœ MySQL æ’åºå†…å­˜æœ‰æ¡ä»¶å¯ä»¥é…ç½®æ¯”è¾ƒå¤§ï¼Œå¯ä»¥é€‚å½“å¢å¤§ max_length_for_sort_data çš„å€¼ï¼Œè®©ä¼˜åŒ–å™¨<br>ä¼˜å…ˆé€‰æ‹©å…¨å­—æ®µæ’åº(å•è·¯æ’åº)ï¼ŒæŠŠéœ€è¦çš„å­—æ®µæ”¾åˆ° sort_buffer ä¸­ï¼Œè¿™æ ·æ’åºåå°±ä¼šç›´æ¥ä»å†…å­˜é‡Œè¿”å›æŸ¥<br>è¯¢ç»“æœäº†ã€‚<br>æ‰€ä»¥ï¼ŒMySQLé€šè¿‡ max_length_for_sort_data è¿™ä¸ªå‚æ•°æ¥æ§åˆ¶æ’åºï¼Œåœ¨ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒçš„æ’åºæ¨¡å¼ï¼Œ<br>ä»è€Œæå‡æ’åºæ•ˆç‡ã€‚<br>æ³¨æ„ï¼Œå¦‚æœå…¨éƒ¨ä½¿ç”¨sort_bufferå†…å­˜æ’åºä¸€èˆ¬æƒ…å†µä¸‹æ•ˆç‡ä¼šé«˜äºç£ç›˜æ–‡ä»¶æ’åºï¼Œä½†ä¸èƒ½å› ä¸ºè¿™ä¸ªå°±éšä¾¿å¢<br>å¤§sort_buffer(é»˜è®¤1M)ï¼Œmysqlå¾ˆå¤šå‚æ•°è®¾ç½®éƒ½æ˜¯åšè¿‡ä¼˜åŒ–çš„ï¼Œä¸è¦è½»æ˜“è°ƒæ•´ã€‚</p><h2 id="Joinå…³è”æŸ¥è¯¢ä¼˜åŒ–"><a href="#Joinå…³è”æŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="Joinå…³è”æŸ¥è¯¢ä¼˜åŒ–"></a>Joinå…³è”æŸ¥è¯¢ä¼˜åŒ–</h2><p>mysqlçš„è¡¨å…³è”å¸¸è§æœ‰ä¸¤ç§ç®—æ³•</p><ul><li>Nested-Loop Join ç®—æ³•</li><li>Block Nested-Loop Join ç®—æ³•</li></ul><h4 id="åµŒå¥—å¾ªç¯è¿æ¥-Nested-Loop-Join-NLJ-ç®—æ³•"><a href="#åµŒå¥—å¾ªç¯è¿æ¥-Nested-Loop-Join-NLJ-ç®—æ³•" class="headerlink" title="åµŒå¥—å¾ªç¯è¿æ¥ Nested-Loop Join(NLJ) ç®—æ³•"></a>åµŒå¥—å¾ªç¯è¿æ¥ Nested-Loop Join(NLJ) ç®—æ³•</h4><p>ä¸€æ¬¡ä¸€è¡Œå¾ªç¯åœ°ä»ç¬¬ä¸€å¼ è¡¨ï¼ˆç§°ä¸ºé©±åŠ¨è¡¨ï¼‰ä¸­è¯»å–è¡Œï¼Œåœ¨è¿™è¡Œæ•°æ®ä¸­å–åˆ°å…³è”å­—æ®µï¼Œæ ¹æ®å…³è”å­—æ®µåœ¨å¦ä¸€å¼ è¡¨ï¼ˆè¢«é©±åŠ¨<br>è¡¨ï¼‰é‡Œå–å‡ºæ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œç„¶åå–å‡ºä¸¤å¼ è¡¨çš„ç»“æœåˆé›†ã€‚<br>mysql&gt; EXPLAIN select*from t1 inner join t2 on t1.a= t2.a;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3786110290.png" alt="1578748848466"></p><p>ä»æ‰§è¡Œè®¡åˆ’ä¸­å¯ä»¥çœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼š<br>é©±åŠ¨è¡¨æ˜¯ t2ï¼Œè¢«é©±åŠ¨è¡¨æ˜¯ t1ã€‚å…ˆæ‰§è¡Œçš„å°±æ˜¯é©±åŠ¨è¡¨(æ‰§è¡Œè®¡åˆ’ç»“æœçš„idå¦‚æœä¸€æ ·åˆ™æŒ‰ä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œsql)ï¼›ä¼˜<br>åŒ–å™¨ä¸€èˆ¬ä¼šä¼˜å…ˆé€‰æ‹©å°è¡¨åšé©±åŠ¨è¡¨ã€‚æ‰€ä»¥ä½¿ç”¨ inner join æ—¶ï¼Œæ’åœ¨å‰é¢çš„è¡¨å¹¶ä¸ä¸€å®šå°±æ˜¯é©±åŠ¨è¡¨ã€‚<br>ä½¿ç”¨äº† NLJç®—æ³•ã€‚ä¸€èˆ¬ join è¯­å¥ä¸­ï¼Œå¦‚æœæ‰§è¡Œè®¡åˆ’ Extra ä¸­æœªå‡ºç° Using join buffer åˆ™è¡¨ç¤ºä½¿ç”¨çš„ join ç®—<br>æ³•æ˜¯ NLJã€‚<br>ä¸Šé¢sqlçš„å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ä»è¡¨ t2 ä¸­è¯»å–ä¸€è¡Œæ•°æ®ï¼›</li><li>ä»ç¬¬ 1 æ­¥çš„æ•°æ®ä¸­ï¼Œå–å‡ºå…³è”å­—æ®µ aï¼Œåˆ°è¡¨ t1 ä¸­æŸ¥æ‰¾ï¼›</li><li>å–å‡ºè¡¨ t1 ä¸­æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œè·Ÿ t2 ä¸­è·å–åˆ°çš„ç»“æœåˆå¹¶ï¼Œä½œä¸ºç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼›</li><li>é‡å¤ä¸Šé¢ 3 æ­¥ã€‚</li></ol><p>æ•´ä¸ªè¿‡ç¨‹ä¼šè¯»å– t2 è¡¨çš„æ‰€æœ‰æ•°æ®(æ‰«æ100è¡Œ)ï¼Œç„¶åéå†è¿™æ¯è¡Œæ•°æ®ä¸­å­—æ®µ a çš„å€¼ï¼Œæ ¹æ® t2 è¡¨ä¸­ a çš„å€¼ç´¢å¼•æ‰«æ t1 è¡¨<br>   ä¸­çš„å¯¹åº”è¡Œ(æ‰«æ100æ¬¡ t1 è¡¨çš„ç´¢å¼•ï¼Œ1æ¬¡æ‰«æå¯ä»¥è®¤ä¸ºæœ€ç»ˆåªæ‰«æ t1 è¡¨ä¸€è¡Œå®Œæ•´æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ€»å…± t1 è¡¨ä¹Ÿæ‰«æäº†100<br>   è¡Œ)ã€‚å› æ­¤æ•´ä¸ªè¿‡ç¨‹æ‰«æäº† 200 è¡Œã€‚<br>   å¦‚æœè¢«é©±åŠ¨è¡¨çš„å…³è”å­—æ®µæ²¡ç´¢å¼•ï¼Œä½¿ç”¨NLJç®—æ³•æ€§èƒ½ä¼šæ¯”è¾ƒä½(ä¸‹é¢æœ‰è¯¦ç»†è§£é‡Š)ï¼Œmysqlä¼šé€‰æ‹©Block Nested-Loop Join<br>   ç®—æ³•ã€‚</p><h4 id="åŸºäºå—çš„åµŒå¥—å¾ªç¯è¿æ¥-Block-Nested-Loop-Join-BNL-ç®—æ³•"><a href="#åŸºäºå—çš„åµŒå¥—å¾ªç¯è¿æ¥-Block-Nested-Loop-Join-BNL-ç®—æ³•" class="headerlink" title="åŸºäºå—çš„åµŒå¥—å¾ªç¯è¿æ¥ Block Nested-Loop Join( BNL )ç®—æ³•"></a>åŸºäºå—çš„åµŒå¥—å¾ªç¯è¿æ¥ Block Nested-Loop Join( BNL )ç®—æ³•</h4><p>æŠŠé©±åŠ¨è¡¨çš„æ•°æ®è¯»å…¥åˆ° join_buffer ä¸­ï¼Œç„¶åæ‰«æè¢«é©±åŠ¨è¡¨ï¼ŒæŠŠè¢«é©±åŠ¨è¡¨æ¯ä¸€è¡Œå–å‡ºæ¥è·Ÿ join_buffer ä¸­çš„æ•°æ®åšå¯¹æ¯”ã€‚<br>mysql&gt;EXPLAIN select*from t1 inner join t2 on t1.b= t2.b;</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/139960535.png" alt="1578748917735"></p><p>Extra ä¸­ çš„Using join buffer (Block Nested Loop)è¯´æ˜è¯¥å…³è”æŸ¥è¯¢ä½¿ç”¨çš„æ˜¯ BNL ç®—æ³•ã€‚<br>ä¸Šé¢sqlçš„å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æŠŠ t2 çš„æ‰€æœ‰æ•°æ®æ”¾å…¥åˆ° join_buffer ä¸­</li><li>æŠŠè¡¨ t1 ä¸­æ¯ä¸€è¡Œå–å‡ºæ¥ï¼Œè·Ÿ join_buffer ä¸­çš„æ•°æ®åšå¯¹æ¯”</li><li>è¿”å›æ»¡è¶³ join æ¡ä»¶çš„æ•°æ®</li></ol><p>æ•´ä¸ªè¿‡ç¨‹å¯¹è¡¨ t1 å’Œ t2 éƒ½åšäº†ä¸€æ¬¡å…¨è¡¨æ‰«æï¼Œå› æ­¤æ‰«æçš„æ€»è¡Œæ•°ä¸º10000(è¡¨ t1 çš„æ•°æ®æ€»é‡) + 100(è¡¨ t2 çš„æ•°æ®æ€»é‡) =10100ã€‚å¹¶ä¸” join_buffer é‡Œçš„æ•°æ®æ˜¯æ— åºçš„ï¼Œå› æ­¤å¯¹è¡¨ t1 ä¸­çš„æ¯ä¸€è¡Œï¼Œéƒ½è¦åš 100 æ¬¡åˆ¤æ–­ï¼Œæ‰€ä»¥å†…å­˜ä¸­çš„åˆ¤æ–­æ¬¡æ•°æ˜¯100 * 10000= 100 ä¸‡æ¬¡ã€‚</p><p>è¢«é©±åŠ¨è¡¨çš„å…³è”å­—æ®µæ²¡ç´¢å¼•ä¸ºä»€ä¹ˆè¦é€‰æ‹©ä½¿ç”¨ BNL ç®—æ³•è€Œä¸ä½¿ç”¨ Nested-Loop Join å‘¢ï¼Ÿ</p><p>å¦‚æœä¸Šé¢ç¬¬äºŒæ¡sqlä½¿ç”¨ Nested-Loop Joinï¼Œé‚£ä¹ˆæ‰«æè¡Œæ•°ä¸º 100 * 10000 = 100ä¸‡æ¬¡ï¼Œè¿™ä¸ªæ˜¯ç£ç›˜æ‰«æã€‚<br>å¾ˆæ˜¾ç„¶ï¼Œç”¨BNLç£ç›˜æ‰«ææ¬¡æ•°å°‘å¾ˆå¤šï¼Œç›¸æ¯”äºç£ç›˜æ‰«æï¼ŒBNLçš„å†…å­˜è®¡ç®—ä¼šå¿«å¾—å¤šã€‚<br>å› æ­¤MySQLå¯¹äºè¢«é©±åŠ¨è¡¨çš„å…³è”å­—æ®µæ²¡ç´¢å¼•çš„å…³è”æŸ¥è¯¢ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨ BNL ç®—æ³•ã€‚å¦‚æœæœ‰ç´¢å¼•ä¸€èˆ¬é€‰æ‹© NLJ ç®—æ³•ï¼Œæœ‰<br>ç´¢å¼•çš„æƒ…å†µä¸‹ NLJ ç®—æ³•æ¯” BNLç®—æ³•æ€§èƒ½æ›´é«˜</p><h2 id="å¯¹äºå…³è”sqlçš„ä¼˜åŒ–"><a href="#å¯¹äºå…³è”sqlçš„ä¼˜åŒ–" class="headerlink" title="å¯¹äºå…³è”sqlçš„ä¼˜åŒ–"></a>å¯¹äºå…³è”sqlçš„ä¼˜åŒ–</h2><p>å…³è”å­—æ®µåŠ ç´¢å¼•ï¼Œè®©mysqlåšjoinæ“ä½œæ—¶å°½é‡é€‰æ‹©NLJç®—æ³•<br>å°æ ‡é©±åŠ¨å¤§è¡¨ï¼Œå†™å¤šè¡¨è¿æ¥sqlæ—¶å¦‚æœæ˜ç¡®çŸ¥é“å“ªå¼ è¡¨æ˜¯å°è¡¨å¯ä»¥ç”¨straight_joinå†™æ³•å›ºå®šè¿æ¥é©±åŠ¨æ–¹å¼ï¼Œçœå»<br>mysqlä¼˜åŒ–å™¨è‡ªå·±åˆ¤æ–­çš„æ—¶é—´<br>straight_joinè§£é‡Šï¼šstraight_joinåŠŸèƒ½åŒjoinç±»ä¼¼ï¼Œä½†èƒ½è®©å·¦è¾¹çš„è¡¨æ¥é©±åŠ¨å³è¾¹çš„è¡¨ï¼Œèƒ½æ”¹è¡¨ä¼˜åŒ–å™¨å¯¹äºè”è¡¨æŸ¥è¯¢çš„æ‰§<br>è¡Œé¡ºåºã€‚<br>æ¯”å¦‚ï¼šselect * from t2 straight_join t1 on t2.a = t1.a; ä»£è¡¨åˆ¶å®šmysqlé€‰ç€ t2 è¡¨ä½œä¸ºé©±åŠ¨è¡¨ã€‚<br>straight_joinåªé€‚ç”¨äºinner joinï¼Œå¹¶ä¸é€‚ç”¨äºleft joinï¼Œright joinã€‚ï¼ˆå› ä¸ºleft joinï¼Œright joinå·²ç»ä»£è¡¨æŒ‡<br>å®šäº†è¡¨çš„æ‰§è¡Œé¡ºåºï¼‰<br>å°½å¯èƒ½è®©ä¼˜åŒ–å™¨å»åˆ¤æ–­ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µä¸‹mysqlä¼˜åŒ–å™¨æ˜¯æ¯”äººè¦èªæ˜çš„ã€‚ä½¿ç”¨straight_joinä¸€å®šè¦æ…é‡ï¼Œå› <br>ä¸ºéƒ¨åˆ†æƒ…å†µä¸‹äººä¸ºæŒ‡å®šçš„æ‰§è¡Œé¡ºåºå¹¶ä¸ä¸€å®šä¼šæ¯”ä¼˜åŒ–å¼•æ“è¦é è°±ã€‚<br>inå’Œexsitsä¼˜åŒ–<br>åŸåˆ™ï¼šå°è¡¨é©±åŠ¨å¤§è¡¨ï¼Œå³å°çš„æ•°æ®é›†é©±åŠ¨å¤§çš„æ•°æ®é›†<br>inï¼šå½“Bè¡¨çš„æ•°æ®é›†å°äºAè¡¨çš„æ•°æ®é›†æ—¶ï¼Œinä¼˜äºexists</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> A <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="keyword">select</span> id <span class="keyword">from</span> B)</span><br><span class="line"> #ç­‰ä»·äºï¼š</span><br><span class="line">   for(select id from B)&#123;</span><br><span class="line">  <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> A <span class="keyword">where</span> A.id <span class="operator">=</span> B.id</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>exis`tsï¼šå½“Aè¡¨çš„æ•°æ®é›†å°äºBè¡¨çš„æ•°æ®é›†æ—¶ï¼Œexistsä¼˜äºin<br>ã€€ã€€å°†ä¸»æŸ¥è¯¢Açš„æ•°æ®ï¼Œæ”¾åˆ°å­æŸ¥è¯¢Bä¸­åšæ¡ä»¶éªŒè¯ï¼Œæ ¹æ®éªŒè¯ç»“æœï¼ˆtrueæˆ–falseï¼‰æ¥å†³å®šä¸»æŸ¥è¯¢çš„æ•°æ®æ˜¯å¦ä¿ç•™</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> A <span class="keyword">where</span> <span class="keyword">exists</span> (<span class="keyword">select</span> <span class="number">1</span> <span class="keyword">from</span> B <span class="keyword">where</span> B.id <span class="operator">=</span> A.id)</span><br><span class="line"> #ç­‰ä»·äº:</span><br><span class="line">for(select * from A) &#123;</span><br><span class="line">  <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> B <span class="keyword">where</span> B.id <span class="operator">=</span> A.id</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#Aè¡¨ä¸Bè¡¨çš„IDå­—æ®µåº”å»ºç«‹ç´¢å¼•<br>1ã€EXISTS (subquery)åªè¿”å›TRUEæˆ–FALSE,å› æ­¤å­æŸ¥è¯¢ä¸­çš„SELECT * ä¹Ÿå¯ä»¥ç”¨SELECT 1æ›¿æ¢,å®˜æ–¹è¯´æ³•æ˜¯å®é™…æ‰§è¡Œæ—¶ä¼š<br>å¿½ç•¥SELECTæ¸…å•,å› æ­¤æ²¡æœ‰åŒºåˆ«<br>2ã€EXISTSå­æŸ¥è¯¢çš„å®é™…æ‰§è¡Œè¿‡ç¨‹å¯èƒ½ç»è¿‡äº†ä¼˜åŒ–è€Œä¸æ˜¯æˆ‘ä»¬ç†è§£ä¸Šçš„é€æ¡å¯¹æ¯”<br>3ã€EXISTSå­æŸ¥è¯¢å¾€å¾€ä¹Ÿå¯ä»¥ç”¨JOINæ¥ä»£æ›¿ï¼Œä½•ç§æœ€ä¼˜éœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æ</p><h2 id="ç´¢å¼•æœ€ä½³å®è·µ"><a href="#ç´¢å¼•æœ€ä½³å®è·µ" class="headerlink" title="ç´¢å¼•æœ€ä½³å®è·µ"></a>ç´¢å¼•æœ€ä½³å®è·µ</h2><p>1.å…¨å€¼åŒ¹é…</p><p>2.æœ€å·¦å‰ç¼€æ³•åˆ™ï¼ˆæŒ‡çš„æ˜¯æŸ¥è¯¢ä»ç´¢å¼•çš„æœ€å·¦å‰åˆ—å¼€å§‹å¹¶ä¸”ä¸è·³è¿‡ç´¢å¼•<br>ä¸­çš„åˆ—ï¼‰</p><p>3.ä¸åœ¨ç´¢å¼•åˆ—ä¸Šåšä»»ä½•æ“ä½œï¼ˆè®¡ç®—ã€å‡½æ•°ã€ï¼ˆè‡ªåŠ¨oræ‰‹åŠ¨ï¼‰ç±»å‹è½¬æ¢ï¼‰ï¼Œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆè€Œè½¬<br>å‘å…¨è¡¨æ‰«æ</p><p>4.å­˜å‚¨å¼•æ“ä¸èƒ½ä½¿ç”¨ç´¢å¼•ä¸­èŒƒå›´æ¡ä»¶å³è¾¹çš„åˆ—</p><p>5.å°½é‡ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ˆåªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢ï¼ˆç´¢å¼•åˆ—åŒ…å«æŸ¥è¯¢åˆ—ï¼‰ï¼‰ï¼Œå‡å°‘select *è¯­å¥</p><p>6.mysqlåœ¨ä½¿ç”¨ä¸ç­‰äºï¼ˆï¼=æˆ–è€…&lt;&gt;ï¼‰çš„æ—¶å€™æ— æ³•ä½¿ç”¨ç´¢å¼•ä¼šå¯¼è‡´å…¨è¡¨æ‰«æ</p><p>7.is null,is not null ä¹Ÿæ— æ³•ä½¿ç”¨ç´¢å¼•</p><p>8.likeä»¥é€šé…ç¬¦å¼€å¤´ï¼ˆâ€™$abcâ€¦â€™ï¼‰mysqlç´¢å¼•å¤±æ•ˆä¼šå˜æˆå…¨è¡¨æ‰«ææ“ä½œ</p><p>9.å­—ç¬¦ä¸²ä¸åŠ å•å¼•å·ç´¢å¼•å¤±æ•ˆ</p><p>10.å°‘ç”¨oræˆ–inï¼Œç”¨å®ƒæŸ¥è¯¢æ—¶ï¼Œmysqlä¸ä¸€å®šä½¿ç”¨ç´¢å¼•ï¼Œmysqlå†…éƒ¨ä¼˜åŒ–å™¨ä¼šæ ¹æ®æ£€ç´¢æ¯”ä¾‹ã€<br>è¡¨å¤§å°ç­‰å¤šä¸ªå› ç´ æ•´ä½“è¯„ä¼°æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼Œè¯¦è§èŒƒå›´æŸ¥è¯¢ä¼˜åŒ–</p><p>11.èŒƒå›´æŸ¥è¯¢ä¼˜åŒ–(ç¼©å°èŒƒå›´)</p><p>12.æŸ¥è¯¢ä¸ªæ•°æ¨èä½¿ç”¨count(*)</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/4263609658.png" alt="1578746314207"></p><p>like KK%ç›¸å½“äº=å¸¸é‡ï¼Œ%KKå’Œ%KK% ç›¸å½“äºèŒƒå›´</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ä¸Šæ”¯ä»˜å¹³å°æ¥å£ä½¿ç”¨æ€»ç»“</title>
      <link href="2020/01/10/2020-01-10-payment-interface/"/>
      <url>2020/01/10/2020-01-10-payment-interface/</url>
      
        <content type="html"><![CDATA[<p>2019å¹´å¹´åº•ï¼Œä¹Ÿå°±æ˜¯12æœˆ31å·é‚£å¤©ï¼Œè¥¿å®‰è¿™è¾¹çš„é¡¹ç›®ç»„å·¥ä½œå·²ç»ç»“æŸï¼Œé¡¹ç›®ç»„äººå‘˜è°ƒå›æ­¦æ±‰ï¼Œæ—¶éš”ä¸¤å¹´ï¼Œç»ˆäºå›æ­¦æ±‰äº†ï¼<br>è¿™æ¬¡å›æ­¦æ±‰ï¼Œè¿›å…¥ä¸€ä¸ªä¸æ”¿åºœæœ‰å…³çš„é¡¹ç›®ï¼Œä¸»è¦åš<strong>ç»Ÿä¸€æ”¯ä»˜å¹³å°</strong>ã€‚<br>ä¸»è¦æ˜¯å½’çº³ä¸€ä¸‹æ”¯ä»˜æœ‰å…³çš„äº¤æ˜“å·¥ä½œä½¿ç”¨æ€»ç»“ã€‚</p><p>å¦‚æœæœ‰æ„Ÿå…´è¶£çš„åŒå­¦ï¼Œå»ºè®®æœæŸ¥é“¶è¡Œå®˜ç½‘çš„æ”¯ä»˜å¯¹æ¥çš„æ–‡æ¡£ï¼Œæ¯”å¦‚é“¶è”ã€å†œè¡Œç­‰ç­‰éƒ½æœ‰æä¾›æ”¯ä»˜æ¥å£æ–‡æ¡£ã€‚è¿™é‡Œæ‰€è¯´çš„æ”¯ä»˜åœºæ™¯å¹¶ä¸æ˜¯æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„äºŒç»´ç æ”¯ä»˜ï¼Œé‚£åˆæ˜¯å¦å¤–ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œæ‰€è®²çš„å°±æ˜¯ä¸€èˆ¬çš„æ”¯ä»˜åœºæ™¯ï¼šä¸‹è®¢å•ï¼Œé€‰æ‹©æ”¯ä»˜æ–¹å¼ï¼Œæ”¯ä»˜è¯·æ±‚ï¼Œæ”¯ä»˜é€šçŸ¥ã€‚</p><h2 id="æ€»ä½“æ¶æ„"><a href="#æ€»ä½“æ¶æ„" class="headerlink" title="æ€»ä½“æ¶æ„"></a>æ€»ä½“æ¶æ„</h2><p>é’ˆå¯¹å¯¹è±¡æœ‰ä¸‰ï¼šæ¶ˆè´¹è€…æµè§ˆå™¨ã€å•†æˆ·äº¤æ˜“ç½‘ç«™æœåŠ¡å™¨ã€é“¶è¡Œç½‘ä¸Šæ”¯ä»˜å¹³å°ï¼ˆä»¥å†œè¡Œä¸ºä¾‹ï¼‰</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3949648068.png" alt="æ€»ä½“æ¶æ„å›¾"></p><p>æˆ‘ä»¬ç›¸å½“äºäº¤æ˜“ç½‘ç«™æœåŠ¡å™¨ï¼Œæä¾›æ”¯ä»˜è¯·æ±‚å’Œæ”¯ä»˜ç»“æœé€šçŸ¥çš„è½¬è¾¾ï¼Œè®°è´¦ï¼Œå¯¹è´¦ï¼Œæ¸…ç®—ç­‰å¤„ç†ã€‚</p><h2 id="äº¤æ˜“æµç¨‹"><a href="#äº¤æ˜“æµç¨‹" class="headerlink" title="äº¤æ˜“æµç¨‹"></a>äº¤æ˜“æµç¨‹</h2><h4 id="æ”¯ä»˜äº¤æ˜“"><a href="#æ”¯ä»˜äº¤æ˜“" class="headerlink" title="æ”¯ä»˜äº¤æ˜“"></a>æ”¯ä»˜äº¤æ˜“</h4><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2439822400.png" alt="æ”¯ä»˜äº¤æ˜“å›¾"></p><p>æ”¯ä»˜äº¤æ˜“å› ä¸ºéœ€è¦ä¸‰æ–¹çš„é…åˆï¼ˆæ¶ˆè´¹è€…ã€å•†æˆ·äº¤æ˜“ç½‘ç«™ã€ç½‘ä¸Šæ”¯ä»˜å¹³å°ï¼‰ï¼Œä¸”äº¤æ˜“æµç¨‹æ˜¯åˆ†ä¸¤é˜¶æ®µè¿›è¡Œï¼Œæ‰€ä»¥å•†æˆ·äº¤æ˜“å¹³å°éœ€è¦å¼€å‘ä¸¤ä¸ªä¸»è¦çš„ç¨‹åºæ‰èƒ½å®Œæˆæ•´ä¸ªæ”¯ä»˜çš„æµç¨‹ï¼Œæ­¤ä¸¤æ”¯ç¨‹åºä¸ºâ€œ<strong>æ”¯ä»˜è¯·æ±‚ç¨‹åº</strong>â€åŠâ€œ<strong>æ”¯ä»˜ç»“æœæ¥æ”¶ç¨‹åº</strong>â€ã€‚</p><p>äº¤æ˜“çš„è¿‡ç¨‹æ ¹æ®æ”¯ä»˜ç»“æœçš„æ¥æ”¶æ–¹å¼çš„ä¸åŒè€Œä¸åŒï¼Œä¸¤ç§äº¤æ˜“æµç¨‹åˆ†åˆ«å¦‚ä¸‹å›¾æ‰€è¿°ï¼š<br><strong>é¡µé¢é€šçŸ¥</strong>æ”¯ä»˜ç»“æœæ–¹å¼ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2911269413.png" alt="é¡µé¢é€šçŸ¥çš„æ”¯ä»˜æµç¨‹å›¾"></p><p><strong>æœåŠ¡å™¨é€šçŸ¥</strong>æ”¯ä»˜ç»“æœæ–¹å¼ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3470969017.png" alt="æœåŠ¡å™¨é€šçŸ¥çš„æ”¯ä»˜æµç¨‹å›¾"></p><h4 id="ç¡®ä¿æ”¯ä»˜ç»“æœæ­£ç¡®é€è¾¾å•†æˆ·ç½‘ç«™çš„æªæ–½"><a href="#ç¡®ä¿æ”¯ä»˜ç»“æœæ­£ç¡®é€è¾¾å•†æˆ·ç½‘ç«™çš„æªæ–½" class="headerlink" title="ç¡®ä¿æ”¯ä»˜ç»“æœæ­£ç¡®é€è¾¾å•†æˆ·ç½‘ç«™çš„æªæ–½"></a>ç¡®ä¿æ”¯ä»˜ç»“æœæ­£ç¡®é€è¾¾å•†æˆ·ç½‘ç«™çš„æªæ–½</h4><p>ç½‘ä¸Šæ”¯ä»˜å¹³å°ä¸ºäº†é˜²æ­¢ç½‘ç»œå¼‚å¸¸ä¸­æ–­æ‰€é€ æˆçš„æ”¯ä»˜ç»“æœä¸¢å¤±ï¼Œå»ºè®®å•†æˆ·å®ç°ä¸‹åˆ—ç½‘ä¸Šæ”¯ä»˜å¹³å°æ‰€æä¾›çš„æœºåˆ¶ã€‚</p><ul><li>äº¤æ˜“æŸ¥è¯¢<br>é’ˆå¯¹æœªæ”¶åˆ°é“¶è¡Œäº¤æ˜“ç»“æœå›å¤çš„è®¢å•ï¼Œæˆ–é“¶è¡Œå“åº”äº¤æ˜“çŠ¶æ€æœªæ˜çš„è®¢å•ï¼Œå•†æˆ·å¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»ä¸»åŠ¨å‘èµ·äº¤æ˜“æŸ¥è¯¢è¯·æ±‚ï¼ˆè¯¦ç»†äº¤æ˜“è¯´æ˜è¯·å‚è€ƒ 5.7 äº¤æ˜“æŸ¥è¯¢ï¼‰ï¼ŒæŸ¥è¯¢è®¢å•ï¼ˆæ”¯ä»˜ï¼‰çš„çŠ¶æ€ã€‚ä¾‹å¦‚åœ¨å•†æˆ·ç½‘ç«™æä¾›æ¶ˆè´¹è€…æ”¯ä»˜ç»“æœæŸ¥è¯¢çš„åŠŸèƒ½ï¼Œå¦‚è¯¥è®¢å•æœªæ”¶åˆ°ç½‘ä¸Šæ”¯ä»˜å¹³å°äº¤æ˜“ç»“æœï¼Œåˆ™è°ƒç”¨ç½‘ä¸Šæ”¯ä»˜å¹³å°çš„äº¤æ˜“æŸ¥è¯¢äº¤æ˜“å–å¾—äº¤æ˜“ç»“æœï¼ˆè®¢å•çŠ¶æ€ï¼‰ï¼Œç„¶åä»¥å–å¾—çš„äº¤æ˜“ç»“æœæ›´æ–°å•†æˆ·ç½‘ç«™çš„æ”¯ä»˜çŠ¶æ€ã€‚</li></ul><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/1495867818.png" alt="äº¤æ˜“æŸ¥è¯¢"></p><ul><li><p>é€šçŸ¥å•†æˆ·æ”¯ä»˜æˆåŠŸ</p><p>æ”¯ä»˜æˆåŠŸåï¼Œå¦‚æœæ¶ˆè´¹è€…æµè§ˆå™¨å®‰è£…äº†æŸäº›æ‹¦æˆªå¼¹å‡ºçª—å£è½¯ä»¶ï¼ˆä¾‹å¦‚ 3721ï¼‰ï¼Œé‚£ä¹ˆæ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢æœ‰å¯èƒ½ä¸ä¼šæ­£å¸¸å¼¹å‡ºï¼Œæ­¤æ—¶æ¶ˆè´¹è€…å¯ä»¥ç‚¹å‡»ã€é€šçŸ¥å•†æˆ·æ”¯ä»˜æˆåŠŸã€‘æŒ‰é’®ï¼Œé‡æ–°å‘é€æ”¯ä»˜ç»“æœåˆ°å•†æˆ·äº¤æ˜“å¹³å°ï¼Œç¡®ä¿å•†æˆ·èƒ½å¤Ÿæ”¶åˆ°ç½‘ä¸Šæ”¯ä»˜å¹³å°çš„äº¤æ˜“ç»“æœé€šçŸ¥ã€‚</p></li></ul><h4 id="å…¶å®ƒäº¤æ˜“"><a href="#å…¶å®ƒäº¤æ˜“" class="headerlink" title="å…¶å®ƒäº¤æ˜“"></a>å…¶å®ƒäº¤æ˜“</h4><p>å…¶å®ƒçš„äº¤æ˜“ï¼ˆå•ç¬”é€€æ¬¾ã€äº¤æ˜“æŸ¥è¯¢ã€å¯¹è´¦å•æŸ¥è¯¢ï¼‰åªéœ€è¦å•†æˆ·åŠç½‘ä¸Šæ”¯ä»˜å¹³å°çš„å‚ä¸ï¼Œäº¤æ˜“çš„è¿‡ç¨‹æ˜¯å®æ—¶å“åº”ï¼Œå•†æˆ·åªéœ€è¦ç®€å•çš„å¼€å‘äº¤æ˜“ç¨‹åºå³å¯å®Œæˆäº¤æ˜“çš„è¿‡ç¨‹ã€‚äº¤æ˜“è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€è¿°ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/183663467.png" alt="å…¶å®ƒäº¤æ˜“"></p><h2 id="äº¤æ˜“ä½¿ç”¨æ—¶æœº"><a href="#äº¤æ˜“ä½¿ç”¨æ—¶æœº" class="headerlink" title="äº¤æ˜“ä½¿ç”¨æ—¶æœº"></a>äº¤æ˜“ä½¿ç”¨æ—¶æœº</h2><ul><li>æ”¯ä»˜è¯·æ±‚äº¤æ˜“<br>æ¶ˆè´¹è€…åœ¨å•†æˆ·ç½‘ç«™ä¸Šè´­ä¹°å•†å“ï¼Œå¹¶é€‰æ‹©ç½‘ä¸Šæ”¯ä»˜æ—¶ã€‚</li><li>æ”¯ä»˜ç»“æœæ¥æ”¶<br>æ¶ˆè´¹è€…åœ¨ç½‘ä¸Šæ”¯ä»˜å¹³å°ä¸Šè¿›è¡Œåœ¨çº¿æ”¯ä»˜çš„æ“ä½œï¼Œæ”¯ä»˜æˆåŠŸåï¼Œç½‘ä¸Šæ”¯ä»˜å¹³å°ä¼šå°†æ”¯ä»˜çš„ç»“æœé€šçŸ¥åˆ°å•†æˆ·æŒ‡å®šçš„æ”¯ä»˜ç»“æœé€šçŸ¥é¡µé¢ã€‚å•†æˆ·å¿…é¡»å¼€å‘æ­¤é¡µé¢ï¼Œå¦åˆ™æ— æ³•æ”¶åˆ°æ”¯ä»˜ç»“æœçš„<br>é€šçŸ¥ã€‚</li><li>é€€æ¬¾<br>é’ˆå¯¹å·²ç»ç»“å¸çš„è®¢å•ï¼Œå•†æˆ·å¯ä»¥ä½¿ç”¨å•ç¬”é€€æ¬¾æˆ–æ‰¹é‡é€€æ¬¾äº¤æ˜“æ¥é€€è¿˜äº¤æ˜“é‡‘é¢ç»™æ¶ˆè´¹è€…ã€‚é€€æ¬¾çš„äº¤æ˜“ç”±å•†æˆ·è‡ªè¡Œå‘èµ·ï¼Œä¸éœ€è¦æ¶ˆè´¹è€…çš„å‚ä¸ã€‚</li><li>äº¤æ˜“æŸ¥è¯¢<br>é’ˆå¯¹æœªæ”¶åˆ°é“¶è¡Œäº¤æ˜“ç»“æœå›å¤çš„è®¢å•ï¼Œæˆ–é“¶è¡Œå“åº”äº¤æ˜“çŠ¶æ€æœªæ˜çš„è®¢å•ï¼Œå•†æˆ·å¯ä»¥å‘èµ·è®¢å•æŸ¥è¯¢è¯·æ±‚ï¼ŒæŸ¥è¯¢è®¢å•çš„çŠ¶æ€ã€‚ç½‘ä¸Šæ”¯ä»˜å¹³å°çš„æ”¯ä»˜ç»“æœé¡µé¢ä¹Ÿä¼šæä¾›æ¶ˆè´¹è€…é€šçŸ¥å•†æˆ·æ”¯ä»˜æˆåŠŸçš„é“¾æ¥æŒ‰é’®ï¼Œç”¨æ¥ç¡®å®šå•†æˆ·æ˜¯å¦å·²ç»æ”¶åˆ°ç½‘ä¸Šæ”¯ä»˜å¹³å°çš„é€šçŸ¥ã€‚å•†æˆ·å¿…é¡»å¼€å‘æ­¤é¡µé¢ã€‚</li><li>äº¤æ˜“æµæ°´æŸ¥è¯¢<br>å•†æˆ·å¯ä»¥æŒ‡å®šæ—¶é—´æ®µæ‰¹é‡æŸ¥è¯¢äº¤æ˜“çŠ¶æ€ã€‚</li><li>å¯¹è´¦å•æŸ¥è¯¢<br>ç½‘ä¸Šæ”¯ä»˜å¹³å°æ¯æ—¥æ ¹æ®è”æœºäº¤æ˜“åå°è¿”å›çš„ä¼šè®¡æ—¥æœŸæ¥ç”Ÿæˆå¯¹è´¦å•ã€‚å•†æˆ·å¯ä¸‹è½½å‰ä¸€æ—¥çš„äº¤æ˜“å¯¹è´¦å•ï¼Œç¡®å®šæ˜¯å¦æœ‰æœªå›ä¼ çš„æˆåŠŸäº¤æ˜“ã€‚</li><li>ç½‘ä¸Š K  ç æ”¯ä»˜<br>ä¸éœ€è¦è·³è½¬é¡µé¢å³èƒ½å®ç°ç½‘ä¸Šæ”¯ä»˜ã€‚åŒ…æ‹¬ç½‘ä¸Š K ç æ”¯ä»˜è´¦å•å‘é€ã€ç½‘ä¸Š K ç æ”¯ä»˜æ”¯ä»˜è¯·æ±‚å’Œç½‘ä¸Š K ç æ”¯ä»˜éªŒè¯ç é‡å‘ã€‚</li><li>æˆæƒæ”¯ä»˜<br>å®¢æˆ·ã€å•†æˆ·å’Œé“¶è¡Œä¸‰æ–¹ç­¾çº¦åï¼Œé“¶è¡Œå¯ä»¥ä»£æ›¿å•†æˆ·å¯¹å®¢æˆ·è¿›è¡Œæ‰£æ¬¾ã€‚åŒ…æ‹¬æˆæƒæ”¯ä»˜ç­¾çº¦ã€æˆæƒæ”¯ä»˜ç­¾çº¦ç»“æœæŸ¥è¯¢ã€æˆæƒæ”¯ä»˜è§£çº¦ã€å•ç¬”æˆæƒæ‰£æ¬¾ã€æ‰¹é‡æˆæƒæ‰£æ¬¾å’Œæ‰¹é‡æˆæƒæ‰£æ¬¾ç»“æœæŸ¥è¯¢ã€‚</li><li>èº«ä»½éªŒè¯<br>éªŒè¯å®¢æˆ·è¯ä»¶ç±»å‹ã€è¯ä»¶å·ç å’Œå¡å·æ˜¯å¦ä¸æœ¬äººæˆ·åç›¸åŒ¹é…ï¼ŒåŒ…æ‹¬éœ€è¦é¡µé¢è·³è½¬çš„èº«ä»½éªŒè¯å’Œéé¡µé¢è·³è½¬çš„èº«ä»½éªŒè¯ã€‚</li><li>é¢„æˆæƒç¡®è®¤/ å–æ¶ˆ<br>æ”¯ä»˜è¯·æ±‚ä¸­çš„æ”¯ä»˜ç±»å‹é€‰æ‹©â€œé¢„æˆæƒæ”¯ä»˜â€æ—¶ï¼Œé¢„æˆæƒç¡®è®¤äº¤æ˜“è¿›è¡Œæ‰£æ¬¾ï¼Œé¢„æˆæƒå–æ¶ˆäº¤æ˜“å–æ¶ˆé¢„æˆæƒã€‚</li></ul><h2 id="ä¸¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœæ–¹å¼çš„åŒºåˆ«"><a href="#ä¸¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœæ–¹å¼çš„åŒºåˆ«" class="headerlink" title="ä¸¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœæ–¹å¼çš„åŒºåˆ«"></a>ä¸¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœæ–¹å¼çš„åŒºåˆ«</h2><p>æ¶ˆè´¹è€…åœ¨ç½‘ä¸Šæ”¯ä»˜å¹³å°ä¸Šè¿›è¡Œåœ¨çº¿æ”¯ä»˜çš„æ“ä½œï¼Œæ”¯ä»˜æˆåŠŸåï¼Œç½‘ä¸Šæ”¯ä»˜å¹³å°ä¼šå°†æ”¯ä»˜ç»“æœé€šçŸ¥ç»™å•†æˆ·ï¼Œç›®å‰é€šçŸ¥æ–¹å¼æœ‰ä¸¤ç§ï¼š <strong>é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢é€šçŸ¥å•†æˆ·</strong>å’Œ<strong>é€šè¿‡æ”¯ä»˜å¹³å°æœåŠ¡å™¨é€šçŸ¥å•†æˆ·</strong></p><h4 id="é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢é€šçŸ¥å•†æˆ·"><a href="#é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢é€šçŸ¥å•†æˆ·" class="headerlink" title="é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢é€šçŸ¥å•†æˆ·"></a>é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢é€šçŸ¥å•†æˆ·</h4><p>å•†æˆ·é€‰æ‹©æ­¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœé€šçŸ¥çš„æ–¹å¼ï¼Œéœ€è¦å¼€å‘ä¸€ä¸ªæ¥æ”¶æ”¯ä»˜ç»“æœé€šçŸ¥çš„é¡µé¢ã€‚</p><p>å•†æˆ·åœ¨å‘ç½‘ä¸Šæ”¯ä»˜å¹³å°å‘é€äº¤æ˜“è¯·æ±‚çš„æ—¶å€™é€‰æ‹©é€šè¿‡ é¡µé¢é€šçŸ¥æ–¹å¼æ¥æ”¶æ”¯ä»˜ç»“æœï¼Œä¼ é€ç»™æ”¯ä»˜å¹³å°ä¸€ä¸ªæ”¯ä»˜ç»“æœé€šçŸ¥çš„é¡µé¢åœ°å€ï¼›ç„¶åæ¶ˆè´¹è€…åœ¨ç½‘ä¸Šè¿›è¡Œåœ¨çº¿æ”¯ä»˜ï¼Œå¦‚æœæ”¯ä»˜æˆåŠŸåï¼Œç½‘ä¸Šæ”¯ä»˜å¹³å°ä¼šå°†æ”¯ä»˜ç»“æœä¿¡æ¯é€šè¿‡æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„æ”¯ä»˜ç»“æœé€šçŸ¥é¡µé¢é€šçŸ¥ç»™å•†æˆ·ã€‚<br>äº¤æ˜“æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2911269413.png" alt="é¡µé¢é€šçŸ¥çš„æ”¯ä»˜æµç¨‹å›¾"></p><h4 id="é€šè¿‡æ”¯ä»˜å¹³å°æœåŠ¡å™¨é€šçŸ¥å•†æˆ·"><a href="#é€šè¿‡æ”¯ä»˜å¹³å°æœåŠ¡å™¨é€šçŸ¥å•†æˆ·" class="headerlink" title="é€šè¿‡æ”¯ä»˜å¹³å°æœåŠ¡å™¨é€šçŸ¥å•†æˆ·"></a>é€šè¿‡æ”¯ä»˜å¹³å°æœåŠ¡å™¨é€šçŸ¥å•†æˆ·</h4><p>å•†æˆ·é€‰æ‹©æ­¤ç§æ¥æ”¶æ”¯ä»˜ç»“æœé€šçŸ¥çš„æ–¹å¼ï¼Œéœ€è¦å¼€å‘ä¸¤ä¸ªé¡µé¢ï¼š</p><ul><li>æ¥æ”¶æœåŠ¡å™¨é€šçŸ¥çš„é¡µé¢ ServerURLï¼ˆ ReceiveServerPage.jspï¼‰ã€‚</li><li>å±•ç¤ºç»™æ¶ˆè´¹è€…æ”¯ä»˜ç»“æœä¿¡æ¯çš„é¡µé¢ CustomerURLï¼ˆResultSuccess.jsp å’Œ ResultFail.jspï¼‰ã€‚</li></ul><p>æ³¨æ„ï¼š<strong>è¿™ä¸¤ä¸ªé¡µé¢çš„ URL  åº”è¯¥æ˜¯åœ¨å…¬ç½‘èƒ½è®¿é—®çš„åœ°å€ï¼Œè€Œä¸”æ¥æ”¶æœåŠ¡å™¨é€šçŸ¥çš„é¡µé¢ ä»…èƒ½ ä»¥<br>http  æ–¹å¼è®¿é—®ï¼Œä¸èƒ½ç”¨ https  è®¿é—®ã€‚</strong></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3470969017.png" alt="æœåŠ¡å™¨é€šçŸ¥çš„æ”¯ä»˜æµç¨‹å›¾"></p><p>å•†æˆ·åœ¨å‘ç½‘ä¸Šæ”¯ä»˜å¹³å°å‘é€äº¤æ˜“è¯·æ±‚çš„æ—¶å€™é€‰æ‹©é€šè¿‡ æœåŠ¡å™¨é€šçŸ¥çš„æ–¹å¼æ¥æ”¶æ”¯ä»˜ç»“æœï¼Œä¼ é€ç»™æ”¯ä»˜å¹³å°ä¸€ä¸ªæ¥æ”¶æœåŠ¡å™¨é€šçŸ¥çš„é¡µé¢ï¼ˆServerURLï¼‰ï¼Œæ­¤é¡µé¢çš„ HTML ä»£ç é‡Œåº”è¯¥åŒ…å«ä¸€ä¸ªå‡†å¤‡å±•ç¤ºç»™æ¶ˆè´¹è€…æ”¯ä»˜ç»“æœçš„ URL é“¾æ¥ï¼ˆCustomerURLï¼‰ ï¼ˆæ³¨æ„ï¼šé“¾æ¥ä¹‹é—´éœ€è¦ç”¨<URL></URL>åŒ…å«ï¼Œå…·ä½“ä»£ç å‚è§ç¨‹åºèŒƒä¾‹ä¸­çš„ReceiveServerPage.jsp ï¼‰ï¼Œç„¶åæ¶ˆè´¹è€…åœ¨ç½‘ä¸Šè¿›è¡Œåœ¨çº¿æ”¯ä»˜ï¼Œå¦‚æœæ”¯ä»˜æˆåŠŸåï¼Œç½‘ä¸Šæ”¯ä»˜å¹³å°ä¼šå°†æ”¯ä»˜ç»“æœé€šçŸ¥ç»™å•†æˆ·ï¼Œå•†æˆ·æ¥æ”¶åˆ°æ”¯ä»˜ç»“æœä¿¡æ¯åï¼Œå¿…éœ€å°†æ˜¾ç¤ºç»™æ¶ˆè´¹è€…çš„é¡µé¢ URLï¼ˆCustomerURLï¼‰é“¾æ¥è¿”å›ç»™æ”¯ä»˜å¹³å°æœåŠ¡å™¨ï¼Œç„¶åæ”¯ä»˜å¹³å°æœåŠ¡å™¨æŠŠæ¥æ”¶åˆ°çš„è¿™ä¸ªå±•ç¤ºç»™æ¶ˆè´¹è€…æ”¯ä»˜ç»“æœä¿¡æ¯çš„é¡µé¢å¼¹å‡ºç»™æ¶ˆè´¹è€…æ˜¾ç¤ºã€‚</p><p>å¦‚æœç¬¬ä¸€æ¬¡å‘å•†æˆ·å‘é€é€šçŸ¥æ—¶å‘ç”Ÿä¸‹åˆ—æƒ…å†µæ—¶ï¼š</p><ul><li> 1ã€æ— æ³•è¿æ¥åˆ°æŒ‡å®šçš„å•†æˆ·äº¤æ˜“ç»“æœæ¥æ”¶é¡µé¢ï¼›</li><li>2ã€å•†æˆ·äº¤æ˜“ç»“æœæ¥æ”¶é¡µé¢æ²¡æœ‰æ­£ç¡®å“åº”æ¶ˆè´¹è€…æ”¯ä»˜ç»“æœ URLã€‚</li></ul><p>ç³»ç»Ÿå°†ä¼šåœ¨æ¶ˆè´¹è€…çš„æµè§ˆå™¨å¼¹å‡ºä¸€ä¸ªæ–°çš„çª—å£ï¼Œå¹¶ä»¥æ­¤æ–°çª—å£æ‰“å¼€å•†æˆ·æ”¯ä»˜ç»“æœæ¥æ”¶é¡µé¢ï¼ˆServerURLï¼‰ã€‚ä¸ºäº†ä¿è¯åœ¨æ­¤çŠ¶å†µä¸‹æ¶ˆè´¹è€…è¿˜æ˜¯å¯ä»¥çœ‹åˆ°æ­£å¸¸çš„å•†æˆ·äº¤æ˜“ç»“æœé¡µé¢ï¼ˆCustomerURLï¼‰ï¼Œå»ºè®®åœ¨ ServerURL é¡µé¢åŠ ä¸Šè‡ªåŠ¨è½¬å‘ CustomerURL çš„è„šæœ¬ï¼Œæ­¤è„šæœ¬èŒƒä¾‹è¯·å‚è€ƒç¨‹åºèŒƒä¾‹ä¸­çš„ ReceiveServerPage.jsp é¡µé¢ã€‚</p><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><p>é‡‡å–é€šè¿‡<strong>é¡µé¢é€šçŸ¥</strong>çš„æ–¹å¼å°†æ”¯ä»˜ç»“æœé€šçŸ¥ç»™å•†æˆ·ï¼Œå¦‚æœæ¶ˆè´¹è€…çš„æµè§ˆå™¨é‡Œå®‰è£…äº†ä¸€äº›å¼¹å‡ºçª—å£æ‹¦æˆªè½¯ä»¶ï¼ˆä¾‹å¦‚ï¼š3721ï¼‰ï¼Œå°±ä¼šå¯¼è‡´é¡µé¢æ— æ³•å¼¹å‡ºï¼Œå•†æˆ·ä¹Ÿå°±æ— æ³•æ¥æ”¶åˆ°é€šçŸ¥æ¶ˆæ¯ï¼›</p><p>é‡‡ç”¨<strong>æœåŠ¡å™¨é€šçŸ¥</strong>çš„æ–¹æ³•ï¼Œç½‘ä¸Šæ”¯ä»˜å¹³å°ä¼šå°†æ”¯ä»˜ç»“æœæ¶ˆæ¯é€šè¿‡æœåŠ¡å™¨ç›´æ¥å‘é€ç»™å•†æˆ·æŒ‡å®šçš„URLï¼Œè€Œä¸”å‘é€å¤±è´¥ä»¥åå¯ä»¥é‡å¤å‘é€ï¼Œè¿™æ ·å°±ä¿è¯äº†å•†æˆ·å¯ä»¥ä¸å—æ¶ˆè´¹è€…æœ¬åœ°è®¾ç½®çš„å½±å“ï¼Œæ­£ç¡®çš„æ¥æ”¶åˆ°æ”¯ä»˜ç»“æœé€šçŸ¥ã€‚</p><h2 id="å¯¹è´¦æµç¨‹"><a href="#å¯¹è´¦æµç¨‹" class="headerlink" title="å¯¹è´¦æµç¨‹"></a>å¯¹è´¦æµç¨‹</h2><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/3124490748.png" alt="å¯¹è´¦æµç¨‹"></p><h2 id="æ¸…ç®—æµç¨‹"><a href="#æ¸…ç®—æµç¨‹" class="headerlink" title="æ¸…ç®—æµç¨‹"></a>æ¸…ç®—æµç¨‹</h2><p><img src="https://images.niaobulashi.com/typecho/uploads/2020/01/2672568168.png" alt="æ¸…ç®—æµç¨‹"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> æ”¯ä»˜å¹³å° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java å‹ç¼©zipå¼‚å¸¸ï¼Œjava.util.zip.ZipExceptionï¼šduplicate entryï¼š é—®é¢˜</title>
      <link href="2019/12/09/2019-12-09-java-zip/"/>
      <url>2019/12/09/2019-12-09-java-zip/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­çœ‹åˆ°åå°æ‰“å°çš„æ—¥å¿—å‡ºç°å¼‚å¸¸ï¼Œå‘ç°è¿™ä¹Ÿæ˜¯å†å²é—ç•™é—®é¢˜</p></blockquote><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">java<span class="selector-class">.util</span><span class="selector-class">.zip</span><span class="selector-class">.ZipException</span>: duplicate entry: <span class="number">111111</span>.txt</span><br><span class="line">  at java<span class="selector-class">.util</span><span class="selector-class">.zip</span><span class="selector-class">.ZipOutputStream</span><span class="selector-class">.putNextEntry</span>(ZipOutputStream<span class="selector-class">.java</span>:<span class="number">215</span>)</span><br></pre></td></tr></table></figure><p>å‡ºç°è¿™ç§é”™è¯¯çš„åŸå› æ˜¯ï¼š<strong>æ‰“åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç°ç›¸åŒçš„æ–‡ä»¶åç§°</strong></p><p>å…³é”®ä»£ç </p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doCompress</span><span class="params">(<span class="built_in">File</span> file, ZipOutputStream out)</span> throws IOException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( file.<span class="built_in">exists</span>() )&#123;</span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> <span class="built_in">FileInputStream</span>(file);</span><br><span class="line">        out.<span class="built_in">putNextEntry</span>(<span class="keyword">new</span> <span class="built_in">ZipEntry</span>(file.<span class="built_in">getName</span>()));</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span> ;</span><br><span class="line">        <span class="comment">// è¯»å–æ–‡ä»¶çš„å†…å®¹,æ‰“åŒ…åˆ°zipæ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fis.<span class="built_in">read</span>(buffer)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            out.<span class="built_in">write</span>(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        out.<span class="built_in">flush</span>();</span><br><span class="line">        out.<span class="built_in">closeEntry</span>();</span><br><span class="line">        fis.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™é‡Œ</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">out.put<span class="constructor">NextEntry(<span class="params">new</span> ZipEntry(<span class="params">file</span>.<span class="params">getName</span>()</span>));</span><br></pre></td></tr></table></figure><p>å‚æ•°<code>file.getName()</code>å­˜åœ¨ç›¸åŒçš„æ–‡ä»¶åç§°æ—¶ï¼Œå°±ä¼šå‡ºç°å¼€å¤´å¤„çš„å¼‚å¸¸ä¿¡æ¯ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š<br>é’ˆå¯¹æ–‡ä»¶ååšå”¯ä¸€å¤„ç†ï¼Œåé¢è§åŠ ä¸Šæ—¶é—´æˆ³ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Šåˆ«çš„æ•°æ®ï¼Œé¿å…æ–‡ä»¶åä¸€è‡´</p><p>ä¹Ÿå°±æ˜¯åœ¨æ–¹æ³•doCompressçš„å‚æ•°fileä¸­ï¼Œnameåº”è¯¥åšå”¯ä¸€å¤„ç†</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºJavaçš„File.separator</title>
      <link href="2019/12/04/2019-12-04-write-post/"/>
      <url>2019/12/04/2019-12-04-write-post/</url>
      
        <content type="html"><![CDATA[<blockquote><p>File file=new File(); è¿™å¥æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶ã€‚<br>file.separatorè¿™ä¸ªä»£è¡¨ç³»ç»Ÿç›®å½•ä¸­çš„é—´éš”ç¬¦ï¼Œè¯´ç™½äº†å°±æ˜¯æ–œçº¿ï¼Œä¸è¿‡æœ‰æ—¶å€™éœ€è¦åŒçº¿ï¼Œæœ‰æ—¶å€™æ˜¯å•çº¿ï¼Œä½ ç”¨è¿™ä¸ªé™æ€å˜é‡å°±è§£å†³å…¼å®¹é—®é¢˜äº†ã€‚</p></blockquote><p>åœ¨<strong>Windows</strong>ä¸‹çš„è·¯å¾„åˆ†éš”ç¬¦å’Œ<strong>Linux</strong>ä¸‹çš„è·¯å¾„åˆ†éš”ç¬¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œå½“ç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„æ—¶ï¼Œè·¨å¹³å°ä¼šæš´å‡ºâ€œNo such file or diretoryâ€çš„å¼‚å¸¸ã€‚</p><p>æ¯”å¦‚è¯´è¦åœ¨tempç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªtest.txtæ–‡ä»¶ï¼Œåœ¨<strong>Windows</strong>ä¸‹åº”è¯¥è¿™ä¹ˆå†™ï¼š<br>File file1 = new File (â€œC:\tmp\test.txtâ€);<br>åœ¨<strong>linux</strong>ä¸‹åˆ™æ˜¯è¿™æ ·çš„ï¼š<br>File file2 = new File (â€œ/tmp/test.txtâ€);</p><p>å¦‚æœè¦è€ƒè™‘è·¨å¹³å°ï¼Œåˆ™æœ€å¥½æ˜¯è¿™ä¹ˆå†™ï¼š<br>File myFile = new File(â€œC:â€ + File.separator + â€œtmpâ€ + File.separator, â€œtest.txtâ€);</p><p>Fileç±»æœ‰å‡ ä¸ªç±»ä¼¼separatorçš„é™æ€å­—æ®µï¼Œéƒ½æ˜¯ä¸ç³»ç»Ÿç›¸å…³çš„ï¼Œåœ¨ç¼–ç¨‹æ—¶åº”å°½é‡ä½¿ç”¨ã€‚</p><p><strong>separatorChar</strong></p><p>public static final char separatorChar</p><p>ä¸ç³»ç»Ÿæœ‰å…³çš„é»˜è®¤åç§°åˆ†éš”ç¬¦ã€‚æ­¤å­—æ®µè¢«åˆå§‹åŒ–ä¸ºåŒ…å«ç³»ç»Ÿå±æ€§ file.separator å€¼çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚åœ¨ UNIX ç³»ç»Ÿä¸Šï¼Œæ­¤å­—æ®µçš„å€¼ä¸º â€˜/â€˜ï¼›åœ¨ Microsoft Windows ç³»ç»Ÿä¸Šï¼Œå®ƒä¸º â€˜&#39;ã€‚</p><p><strong>separator</strong></p><p>public static final String separator</p><p>ä¸ç³»ç»Ÿæœ‰å…³çš„é»˜è®¤åç§°åˆ†éš”ç¬¦ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œå®ƒè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ­¤å­—ç¬¦ä¸²åªåŒ…å«ä¸€ä¸ªå­—ç¬¦ï¼Œå³ separatorCharã€‚</p><p><strong>pathSeparatorChar</strong></p><p>public static final char pathSeparatorChar</p><p>ä¸ç³»ç»Ÿæœ‰å…³çš„è·¯å¾„åˆ†éš”ç¬¦ã€‚æ­¤å­—æ®µè¢«åˆå§‹ä¸ºåŒ…å«ç³»ç»Ÿå±æ€§ path.separator å€¼çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚æ­¤å­—ç¬¦ç”¨äºåˆ†éš”ä»¥è·¯å¾„åˆ—è¡¨ å½¢å¼ç»™å®šçš„æ–‡ä»¶åºåˆ—ä¸­çš„æ–‡ä»¶åã€‚åœ¨ UNIX ç³»ç»Ÿä¸Šï¼Œæ­¤å­—æ®µä¸º â€˜:â€™ï¼›åœ¨ Microsoft Windows ç³»ç»Ÿä¸Šï¼Œå®ƒä¸º â€˜;â€™ã€‚</p><p><strong>pathSeparator</strong></p><p>public static final String pathSeparator</p><p>ä¸ç³»ç»Ÿæœ‰å…³çš„è·¯å¾„åˆ†éš”ç¬¦ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œå®ƒè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ­¤å­—ç¬¦ä¸²åªåŒ…å«ä¸€ä¸ªå­—ç¬¦ï¼Œå³ pathSeparatorCharã€‚</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç™Œç—‡å‘ç”Ÿçš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆçŠ¶æ€é¢„è­¦å—ï¼Ÿ</title>
      <link href="2019/10/25/2019-10-25-cancer/"/>
      <url>2019/10/25/2019-10-25-cancer/</url>
      
        <content type="html"><![CDATA[<p>å‘¨äº”å•¦ï¼Œåˆæ˜¯åˆ’æ°´çš„ä¸€å¤©</p><p>æœ¬æ¥å¼€å¼€å¿ƒå¿ƒçš„åˆ·çŸ¥ä¹çƒ­æœï¼Œåˆ·åˆ°è¿™ä¸€æ¡ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/10/3686351753.png" alt="ä½ æ˜¯å¦‚ä½•å‘ç°æ—©æœŸç™Œç—‡çš„.png"></p><p>æœ¬æ¥ç”Ÿæ´»ä¸æ˜“ï¼Œè¦æ˜¯æ¥ä¸ªè¿™ï¼Œé‚£è¿˜ä¸å¾—æ€¥æ­»ï¼Œä½†æ˜¯è¿™ä¹Ÿæ˜¯å¯ä»¥é˜²èŒƒçš„ã€‚</p><p>ä¸ºäº†æ›´å¤šçš„äº†è§£è¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œè¿˜ç‰¹åœ°å¼€é€šçš„çŸ¥ä¹ç›é€‰çš„ç›é€‰ä¼šå‘˜âˆ ( á› ã€âˆ )ï¼¿</p><p>ä¸ªäººè§‰å¾—æœ‰å¿…è¦è®©å„ä½å°ä¼™ä¼´çŸ¥é“çš„ä¹Ÿä¼šåœ¨åšå®¢è´´å‡º</p><p><strong>ççˆ±ç”Ÿå‘½ï¼</strong></p><p>[scode type=â€redâ€]çº¯å±æ¨å¹¿çŸ¥è¯†ï¼Œæœ›å„ä½å°ä¼™ä¼´æ‚‰çŸ¥ã€‚[/scode]</p><p><strong>æ—©æœŸå‘ç°ï¼Œæ—©ç‚¹æ²»ç–—ï¼</strong></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/10/3134954103.png" alt="ç™Œç—‡å‘ç”Ÿçš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆçŠ¶æ€é¢„è­¦å—1"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/10/1087549246.png" alt="ç™Œç—‡å‘ç”Ÿçš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆçŠ¶æ€é¢„è­¦å—2"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/10/3066470078.png" alt="ç™Œç—‡å‘ç”Ÿçš„æ—¶å€™ï¼Œæœ‰ä»€ä¹ˆçŠ¶æ€é¢„è­¦å—3"></p><p>æœ€åé™„ä¸Šä¸€å¼ ï¼šåå¤§ç™Œç—‡æ­»äº¡ç‡</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/10/1141866718.jpg" alt="åå¤§ç™Œç—‡æ­»äº¡ç‡"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iPhone11å…¥æ‰‹æ„Ÿå—</title>
      <link href="2019/09/29/2019-09-29-iPhone11/"/>
      <url>2019/09/29/2019-09-29-iPhone11/</url>
      
        <content type="html"><![CDATA[<p>[scode type=â€blueâ€]iPhone11åœ¨æŸå®è´­å…¥ï¼Œä¸‹å•æ—¶é—´9æœˆ19å·ï¼Œ20å·å‘å”®ï¼Œæˆ‘ç®—æ˜¯ç¬¬ä¸€æ‰¹æœ€æ™šå…¥æ‰‹çš„äº†ã€‚[/scode]</p><p>å…¥æ‰‹çš„æ˜¯iPhone11ï¼Œå®å¼ºç»¿ï¼Œ256Gæœºèº«å­˜å‚¨ã€‚è½¯å¦¹å¸6799<br>æœºå­23æ‰æ‹¿åˆ°è´§ï¼Œä¸€è·¯å¥”æ³¢å•Šã€‚ï¼ˆè¯¦è§ä¸Šç¯‡æ–‡ç« ï¼‰<br>[post cid=â€1329â€ /]</p><p>åœ¨æ”¶åˆ°æœºå™¨ç¬¬ä¸€æ—¶é—´ï¼Œæ‹†å¼€ä¹‹å‰æŸ¥çœ‹äº†åºåˆ—å·ï¼Œå‘ç°äº§åœ°æ˜¯æ·±åœ³å¯Œå£«åº·ï¼Œæ”¾å¿ƒäº†ã€‚<br>äºæ˜¯å°±æ”¾å¿ƒçš„æ‹†ç›’ï¼Œæ¿€æ´»</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/1365705976.jpg" alt="iPhone11åŒ…è£…ç…§ç‰‡" width="500px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/131923104.jpg" alt="iPhone11æ¿€æ´»ç…§ç‰‡" width="500px"/></td>    </tr></table><p>è¿‘ä¸€ç‚¹çœ‹çœ‹èƒŒé¢ç…§ï¼Œæˆ‘è§‰å¾—è›®å¥½çœ‹çš„ ::aru:cheer:: </p><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/3984418504.jpg" alt="iPhone11èƒŒé¢ç…§" width="800px"/><p>æœ‰æ®µæ—¶é—´å‘çƒ«çš„iPhone11å¥½å‡ æ¬¡ç™»ä¸Šå¾®åšçŸ¥ä¹çš„çƒ­æœè®¨è®ºè¯é¢˜</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/1447767381.png" alt="çŸ¥ä¹è®¨è®ºçƒ­ç‚¹é—®é¢˜1"></p><p>å¥½å¤šäººåœ¨æ¿€æ´»çš„æ—¶å€™æœºèº«å‘çƒ«ï¼Œå½“ç„¶ï¼Œæˆ‘ä¹Ÿé‡è§äº†ã€‚<br>ä¹Ÿåªæ˜¯åœ¨æ¿€æ´»çš„æ—¶å€™å‘çƒ«ä¸€ä¸‹ã€‚åé¢çš„å…·ä½“ä½¿ç”¨èµ·æ¥å¹¶æ²¡æœ‰ä»€ä¹ˆå‘çƒ«äº†ã€‚ä¸€åˆ‡åŠŸèƒ½éƒ½æ˜¯æ­£å¸¸çš„ä½¿ç”¨ç€ã€‚<br>å› ä¸ºæˆ‘ä¸Šä¸€ä¸ªiPhoneè¿˜æ˜¯5sï¼Œä¸­é—´æ¢ç”¨å®‰å“æœºäº†ï¼Œç°åœ¨ç›´æ¥è·³åˆ°iPhone11ã€‚å¯¹æˆ‘çš„ç›´æ¥æ„Ÿå—è‚¯å®šæ˜¯è´¨çš„æå‡ã€‚<br>ä½¿ç”¨èµ·æ¥ç®€ç›´é£èµ·äº†ã€‚</p><p>æˆ‘ä¹Ÿçœ‹äº†è¿™å±Šå±å¹•å®¹æ˜“æœ‰åˆ’ç—•ï¼Œæ˜¨æ™šæˆ‘å°±å»è´´äº†ä¸ª168çš„è†œï¼ˆå¿ƒç–¼ï¼‰ä¸Šäº†20å¤šçš„ä¿æŠ¤å¥—ã€‚<br>æ¡åœ¨æ‰‹é‡Œçš„æ„Ÿè§‰ï¼šå¥½é‡ï¼Œä¹Ÿåšï¼›äº®å±çš„é»‘è¾¹ç¡®å®å¯ä»¥è·‘é©¬äº†å“ˆå“ˆå“ˆå“ˆï¼Œé»‘è¾¹å¤ªå¤§äº†ã€‚å¥½åœ¨å¸¦äº†å¥—ï¼Œè§†è§‰æ„Ÿè§‰ä¸æ˜æ˜¾äº†ã€‚</p><p>æˆ‘ä»¥ä¸ºè¿™æ³¢è½¦æœ‰ç‚¹ä¸ç¨³ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨ä¸¤å¤©çš„æ„Ÿå—ï¼Œè¾¾åˆ°è‡ªå·±çš„é¢„æœŸã€‚æ²¡æœ‰ç¿»è½¦ã€‚</p><p>æ¿€æ´»åï¼Œæ‹¿ç€å¤§å­¦æ—¶ä¹°çš„5så°æ‰‹æœºï¼Œå¤‡ä»½å‡ºèµ„æ–™åˆ°iTunesã€‚ç„¶åè¿ä¸ŠiPhone11ï¼Œå°†é™ˆå¹´è€ç…§ç‰‡è¿˜åŸå¤‡ä»½åˆ°æ–°iPhoneä¸Šã€‚<br>ä¸‹è½½äº†çˆ±æ€åŠ©æ‰‹ï¼Œè¿ä¸ŠiPhone11ï¼Œå°±è¯»å–äº†ç›¸å…³èµ„æ–™ï¼ŒæŸ¥çœ‹äº†éªŒæœºæŠ¥å‘Šå¦‚ä¸‹ï¼š<br><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/1114179378.png" alt="iPhone 11_éªŒæœºæŠ¥å‘Š"></p><p>éªŒæœºæŠ¥å‘Šæ²¡æœ‰é—®é¢˜ï¼Œæ²¡æœ‰åœ¨å®˜ç½‘ä¹°ï¼Œåœ¨æŸå®ä¹°çš„ï¼Œé€äº†å¤©çŒ«ç²¾çµå’Œæ— çº¿å……ç”µï¼Œè¿˜ä¸é”™å“¦~<br><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/2363432167.jpg" alt="åˆ°è´§ç‰©å“" width="800px"/></p><p>æœ€åçœ‹ä¸‹æ‰‹æœºçš„æˆªå›¾æ•°æ®</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/2918834426.png" alt="iPhone11æˆªå›¾ç…§ç‰‡1" width="300px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/4033219463.png" alt="iPhone11æˆªå›¾ç…§ç‰‡2" width="300px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/609033422.png" alt="iPhone11æˆªå›¾ç…§ç‰‡3" width="300px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/2506052701.png" alt="iPhone11æˆªå›¾ç…§ç‰‡3" width="300px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/597823546.jpg" alt="iPhone11å…³äºæˆªå›¾" width="300px"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/2001989561.png" alt="iPhone11å­˜å‚¨ç©ºé—´æˆªå›¾" width="300px"/></td>    </tr></table><p>çœ‹ä¸‹æ‰‹æœºçš„å…³äºæˆªå›¾ï¼Œå’Œå­˜å‚¨æˆªå›¾<br>256Gå¤§å°æ˜¯çœŸçš„çˆ½ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒå­˜å‚¨ä¸å¤Ÿï¼Œç…§ç‰‡å…¨éƒ½è½¬ç§»åˆ°æ‰‹æœºäº†</p><p>æœ€åè¯´è¯´å…¶ä»–çš„<br>ç»­èˆªèƒ½åŠ›ï¼šç»­èˆªèƒ½åŠ›ä¸ªäººè§‰å¾—è¿˜ä¸é”™çš„ï¼Œå¤Ÿç”¨ä¸€å¤©ã€‚<br>ä¿¡å·å¼ºåº¦ï¼šä¿¡å·è‚¯å®šä¸åŠå®‰å“æœºçš„ï¼Œå’Œä¸Šä¸€ä¸ªæ‰‹æœºåœ¨ç›¸åŒä½ç½®ç›¸æ¯”ï¼Œæˆ‘è¿™æ‰3Gçš„å‹å·ï¼Œä¿¡å·è‚¯å®šä¸€èˆ¬èˆ¬ã€‚<br>å……ç”µé€Ÿåº¦ï¼šæˆ‘å¦å¤–ä¹°äº†18Wçš„å……ç”µå¥—è£…ï¼Œ5ç¦1å®‰è‚¯å®šä¸ä¼šç”¨çš„ã€‚<br>éŸ³è´¨ï¼šç¯ç»•éŸ³æ•ˆï¼ˆä¸Šæ–¹å¬ç­’ã€ä¸‹æ–¹å……ç”µå¤„ï¼‰è¶…èµï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿˜æ˜¯å¿ä¸ä½ä¹°äº†iPhone11ç»¿è‰²ç‰ˆ</title>
      <link href="2019/09/23/2019-09-23-buy-iphone11/"/>
      <url>2019/09/23/2019-09-23-buy-iphone11/</url>
      
        <content type="html"><![CDATA[<p>â€”â€”â€”â€”â€”20190923æ›´æ–°â€”â€”â€”â€”â€”-<br>æ›´æ–°å¿«é€’æœ€æ–°èµ°åŠ¿<br>ä»Šå¤©æ˜¯å‘¨ä¸€ï¼Œæˆ‘æœ¬æ¥å†™çš„æ”¶ä»¶åœ°å€æ˜¯å®¿èˆã€‚å› ä¸ºå‘¨æœ«ä¼šåˆ°ï¼Œä½†æ˜¯æ²¡æœ‰ ::aru:crying::<br>äºæ˜¯ä»Šå¤©ä¸€å¤§æ—©æ‰“å®¢æœç”µè¯è¦æ±‚è½¬å¯„ï¼Œè½¬å¯„åˆ°å…¬å¸åœ°å€ï¼Œéœ€è¦é¢å¤–åˆ°ä»˜æ”¶å–è½¬å¯„è´¹ç”¨10å…ƒ<br>æˆ‘ä»¥ä¸ºè½¬å¯„æµç¨‹æŒºæ–¹ä¾¿çš„ï¼Œåªéœ€è¦ä»Aå¿«é€’å‘˜è½¬ç»™Bå¿«é€’å‘˜ï¼Œç„¶åç”±Bå¿«é€’å‘˜å¯„é€ã€‚<br>ä½†æ˜¯æˆ‘æƒ³å¾—å¤ªç®€å•äº†ã€‚ã€‚<br>å¿«é€’ä»¶éœ€è¦é‡æ–°å›åˆ°<strong>é›†æ•£ä¸­å¿ƒ</strong><br>åœ¨<strong>é›†æ•£ä¸­å¿ƒ</strong>é‡æ–°åˆ†é…å‘è´§å•Šå•Šå•Šå•Šå•Šå•Šå•Š<br>äºæ˜¯æœ¬æ¥ä¸Šåˆå°±å¯ä»¥æ‹¿åˆ°çš„ï¼Œè¢«æˆ‘æ‰‹è´±è½¬å¯„åˆ°ä¸‹åˆæ‰èƒ½æ‹¿åˆ°äº†ã€‚ ::aru:dead::<br>ä¸‹å›¾æ˜¯å¿«é€’çš„è¿å•è¿½è¸ªï¼Œæ˜¯æˆ‘è§è¿‡æœ€é•¿çš„å¿«é€’è¿½è¸ªå•äº†</p><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/816952258.png" alt="iPhone11å¿«é€’è¿½è¸ªå•" width="400px"/><p>â€”â€”â€”â€”â€”åŸæ–‡â€”â€”â€”â€”â€”<br>ä¸­æ„ä½ å¾ˆä¹…äº†ï¼<br>ä¸çŸ¥é“ç°åœ¨ä¹°11æ˜¯ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œæ”¾å¼ƒäº†æœªæ¥çš„5Gä¼šä¸ä¼šè®©è‡ªå·±åæ‚”ï¼Œ<br>è®°å¾—ä¸Šä¸€ä¸ªiPhoneè¿˜æ˜¯5sæ¥ç€ï¼Œä¹‹åæ”¹ç”¨å®‰å“æœºäº†ã€‚ç°åœ¨åˆå¼€å§‹ç”¨iPhoneï¼Œç›´æ¥è·³åˆ°11äº†<br>å¸Œæœ›åˆ«ç¿»è½¦(ï¾ŸĞ”ï¾Ÿ)/</p><p>ç»è¿‡åª³å¦‡çš„åŒæ„äº†ï¼Œä¸è¿‡è¯´çš„æ˜¯64G<br>æ€•è¯´256G ::aru:crying::  ::aru:crying:: </p><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/1672144239.jpg" alt="è®¢å•" width="400px"/>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¤è¯†ä½ 7å¹´åç»ˆäºé¢†è¯äº†</title>
      <link href="2019/09/16/2019-09-16-certification/"/>
      <url>2019/09/16/2019-09-16-certification/</url>
      
        <content type="html"><![CDATA[<p>2019å¹´9æœˆ9å·</p><p>ç»ˆäºé¢†è¯äº†ï¼Œä»å¤§ä¸€è®¤è¯†åˆ°ç°åœ¨ï¼Œå·²ç»7å¹´äº†<br>å®å±ä¸æ˜“<br>æ¯•ä¸šä¹‹åå¼‚åœ°<br>æœŸé—´åˆ†åˆ†åˆåˆï¼Œå§‹ç»ˆæ”¾ä¸ä¸‹<br>æœ€å<br>æˆ‘ä»¬ç†¬è¿‡å»äº†<br>ä»¥å<br>å¥½å¥½èµ°ä¸‹å»<br> ::twemoji:congratulate::  ::twemoji:congratulate::  ::twemoji:congratulate:: </p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/09/1807370924.png" alt="ç»“å©šè¯"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ€§èƒ½è°ƒä¼˜-Mysqlç´¢å¼•æ•°æ®ç»“æ„è¯¦è§£ä¸ç´¢å¼•ä¼˜åŒ–</title>
      <link href="2019/08/30/2019-08-30-mysql-indexes/"/>
      <url>2019/08/30/2019-08-30-mysql-indexes/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘æŠ¥åäº†å›¾çµå­¦é™¢çš„æ¶æ„ä¸“é¢˜çš„ä»˜è´¹è¯¾ç¨‹ï¼Œæ²¡æœ‰èµ¶ä¸Š6æœˆä»½å¼€è¯¾ï¼Œä¸­é€”åŠ å…¥çš„ã€‚é”™è¿‡äº†å¤šçº¿ç¨‹çš„ç›´æ’­è¯¾ç¨‹ï¼Œåªèƒ½çœ‹å½•æ’­äº†ğŸ˜­ã€‚ä»æ€§èƒ½è°ƒä¼˜æ­£å¼å¼€å§‹ï¼Œè§†é¢‘å­¦ä¹ ï¼Œå¯¹è‡ªå·±å¾ˆæœ‰å¸®åŠ©ã€‚å¯¹è‡ªå·±çš„å­¦ä¹ è¿›è¡ŒæŠ•èµ„æ˜¯æœ€æœ‰ç”¨çš„æŠ•èµ„ã€‚åŠ æ²¹ï¼</p></blockquote><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦å­¦ä¹ äº†MySQLçš„ç´¢å¼•çš„æ•°æ®ç»“æ„å’Œä¸åŒç±»å‹ç´¢å¼•çš„è®¤è¯†ï¼Œåšä¸€ä¸ªå¤§æ¦‚çš„äº†è§£å­¦ä¹ æ€»ç»“ã€‚</p><h2 id="ä¸€ã€ç´¢å¼•"><a href="#ä¸€ã€ç´¢å¼•" class="headerlink" title="ä¸€ã€ç´¢å¼•"></a>ä¸€ã€ç´¢å¼•</h2><p>åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œç´¢å¼•æ˜¯ä¸€ç§å•ç‹¬çš„ã€ç‰©ç†çš„å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼è¿›è¡Œ<strong>æ’åº</strong>çš„ä¸€ç§å­˜å‚¨<strong>æ•°æ®ç»“æ„</strong>ï¼Œå®ƒæ˜¯æŸä¸ªè¡¨ä¸­ä¸€åˆ—æˆ–è‹¥å¹²åˆ—å€¼çš„é›†åˆå’Œç›¸åº”çš„æŒ‡å‘è¡¨ä¸­ç‰©ç†æ ‡è¯†è¿™äº›å€¼çš„æ•°æ®é¡µçš„é€»è¾‘<a href="https://baike.baidu.com/item/%E6%8C%87%E9%92%88/2878304">æŒ‡é’ˆ</a>æ¸…å•ã€‚ç´¢å¼•çš„ä½œç”¨ç›¸å½“äºå›¾ä¹¦çš„ç›®å½•ï¼Œå¯ä»¥æ ¹æ®ç›®å½•ä¸­çš„é¡µç å¿«é€ŸæŸ¥æ‰¾åˆ°æ‰€éœ€çš„å†…å®¹ã€‚</p><p>åœ¨MySQLä¸­ï¼Œå­˜å‚¨å¼•æ“ç”¨ç±»ä¼¼çš„æ–¹æ³•ä½¿ç”¨ç´¢å¼•ï¼Œå…ˆåœ¨ç´¢å¼•ä¸­æ‰¾åˆ°å¯¹åº”å€¼ï¼Œç„¶åæ ¹æ®åŒ¹é…çš„ç´¢å¼•è®°å½•æ‰¾åˆ°å¯¹åº”çš„è¡Œã€‚</p><p>é¦–å…ˆè¯´æ˜ä¸‹MySQLçš„ç´¢å¼•ä¸»è¦æ˜¯åŸºäºHashè¡¨æˆ–è€…B+æ ‘ã€‚</p><h2 id="äºŒã€ç´¢å¼•æ•°æ®ç»“æ„"><a href="#äºŒã€ç´¢å¼•æ•°æ®ç»“æ„" class="headerlink" title="äºŒã€ç´¢å¼•æ•°æ®ç»“æ„"></a>äºŒã€ç´¢å¼•æ•°æ®ç»“æ„</h2><p>äº†è§£ç´¢å¼•å°±éœ€è¦ä»ç´¢å¼•å¸¸è§çš„æ•°æ®ç»“æ„å¼€å§‹äº†è§£å­¦ä¹ ï¼Œè¿™é‡Œæœ‰é›†ä¸­å¸¸è§çš„çš„ç´¢å¼•æ•°æ®ç»“æ„ã€‚</p><h3 id="äºŒå‰æ ‘ï¼ˆBinary-Treesï¼‰"><a href="#äºŒå‰æ ‘ï¼ˆBinary-Treesï¼‰" class="headerlink" title="äºŒå‰æ ‘ï¼ˆBinary Treesï¼‰"></a>äºŒå‰æ ‘ï¼ˆBinary Treesï¼‰</h3><p>äºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåªæœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼ˆå³ä¸å­˜åœ¨åˆ†æ”¯åº¦å¤§äº2çš„èŠ‚ç‚¹ï¼‰çš„æ ‘ç»“æ„ã€‚é€šå¸¸è¢«ç§°ä¹‹ä¸ºâ€œå·¦å­æ ‘â€å’Œâ€œå³å­æ ‘â€</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/266359583.jpg"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/266359583.jpg" alt="äºŒå‰æ ‘ç¤ºä¾‹å›¾"></a></p><p><strong>å·¦å­æ ‘&lt;çˆ¶èŠ‚ç‚¹&lt;=å³å­æ ‘</strong></p><p>äºŒå‰æ ‘çš„ç¬¬iå±‚è‡³å¤šæœ‰æœ‰2^(i-1)ä¸ªèŠ‚ç‚¹ï¼Œ</p><p>æ·±åº¦ä¸ºKçš„äºŒå‰æ ‘è‡³å¤šæ€»å…±æœ‰ä¸ª2^k-1èŠ‚ç‚¹ï¼ˆå®šä¹‰æ ¹èŠ‚ç‚¹æ‰€åœ¨æ·±åº¦ k0=0ï¼‰ï¼Œè€Œæ€»è®¡æ‹¥æœ‰èŠ‚ç‚¹æ•°ç¬¦åˆçš„ï¼Œç§°ä¸ºâ€œæ»¡äºŒå‰æ ‘â€ï¼›</p><p>äºŒå‰æ ‘é€šå¸¸ä½œä¸ºæ•°æ®ç»“æ„åº”ç”¨ï¼Œå…¸å‹ç”¨æ³•æ˜¯å¯¹èŠ‚ç‚¹å®šä¹‰ä¸€ä¸ªæ ‡è®°å‡½æ•°ï¼Œå°†ä¸€äº›å€¼ä¸æ¯ä¸ªèŠ‚ç‚¹ç›¸å…³ç³»ã€‚è¿™æ ·æ ‡è®°çš„äºŒå‰æ ‘å°±å¯ä»¥å®ç°<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%85%83%E6%90%9C%E5%B0%8B%E6%A8%B9">äºŒå‰æœç´¢æ ‘</a>å’Œ<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%85%83%E5%A0%86%E7%A9%8D">äºŒå‰å †</a>ï¼Œå¹¶åº”ç”¨äºé«˜æ•ˆç‡çš„æœç´¢å’Œæ’åºã€‚</p><p>åŒæ—¶å­¦ä¹ æ•°æ®ç»“æ„ï¼Œè¿™é‡Œè¿˜æ¨è<a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualizations</a>è¿›è¡Œå­¦ä¹ ï¼Œå¯ä»¥éå¸¸ç›´è§‚çš„çœ‹åˆ°æ•°æ®ç»“æ„å…è®¸çš„è¿‡ç¨‹ï¼Œä¸€æ­¥ä¸€æ­¥çš„æ€ä¹ˆèµ°çš„éƒ½å¯ä»¥å¾ˆæ¸…æ™°çœ‹å¾—åˆ°ã€‚</p><p>æ‰¾åˆ°å…¶ä¸­çš„<a href="https://www.cs.usfca.edu/~galles/visualization/BST.html">Binary Search Trees</a>äºŒå‰æ ‘</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/3377076316.png"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3377076316.png" alt="1566357073576.png"></a></p><p>å¯ä»¥ç›´è§‚çš„çœ‹åˆ°äºŒå‰æ ‘çš„æ•°æ®æ’å…¥è¿‡ç¨‹ï¼Œå¦‚ä¸‹ï¼š</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/694518672.gif"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/694518672.gif" alt="äºŒå‰æ ‘æ’å…¥è¿‡ç¨‹"></a></p><p>å¯ä»¥çœ‹åˆ°äºŒå‰æ ‘ä¸é€‚åˆç”¨ä½œå½“ä½œç´¢å¼•çš„ï¼Œæ•°æ®é‡åºå¤§çš„è¯ï¼ŒäºŒå‰æ ‘çš„å±‚æ•°ä¼šå¾ˆå¤§ï¼ŒæŸ¥æ‰¾æ•ˆç‡å›ºç„¶ä¹Ÿå¾ˆæ…¢äº†ã€‚</p><p>æ¨èé˜…è¯»ï¼š<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91">ç»´åŸºç™¾ç§‘-äºŒå‰æ ‘</a></p><h3 id="çº¢é»‘æ ‘ï¼ˆRed-Black-Treesï¼‰"><a href="#çº¢é»‘æ ‘ï¼ˆRed-Black-Treesï¼‰" class="headerlink" title="çº¢é»‘æ ‘ï¼ˆRed-Black Treesï¼‰"></a>çº¢é»‘æ ‘ï¼ˆRed-Black Treesï¼‰</h3><p>æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå…¸å‹ç”¨é€”æ˜¯å®ç°å…³è”æ•°ç»„ã€‚</p><p>çº¢é»‘æ ‘çš„ç»“æ„å¤æ‚ï¼Œä½†å®ƒçš„æ“ä½œæœ‰ç€è‰¯å¥½çš„æœ€åæƒ…å†µ<a href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90">è¿è¡Œæ—¶é—´</a>ï¼Œå¹¶ä¸”åœ¨å®è·µä¸­é«˜æ•ˆï¼šå®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…å®ŒæˆæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„næ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚</p><p>çº¢é»‘æ ‘éµè¡Œä»¥ä¸‹åŸåˆ™ï¼š</p><ol><li>èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚</li><li>æ ¹æ˜¯é»‘è‰²ã€‚</li><li>æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚</li><li>æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰</li><li>ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰<a href="https://zh.wikipedia.org/wiki/%E9%81%93%E8%B7%AF_(%E5%9B%BE%E8%AE%BA)">ç®€å•è·¯å¾„</a>éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚</li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå…·ä½“çš„çº¢é»‘æ ‘çš„å›¾ä¾‹ï¼š</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/397413570.png"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/397413570.png" alt="ç®€å•çº¢é»‘æ ‘ç¤ºä¾‹å›¾"></a></p><p>è¿™äº›çº¦æŸç¡®ä¿äº†çº¢é»‘æ ‘çš„å…³é”®ç‰¹æ€§ï¼šä»æ ¹åˆ°å¶å­çš„æœ€é•¿çš„å¯èƒ½è·¯å¾„ä¸å¤šäºæœ€çŸ­çš„å¯èƒ½è·¯å¾„çš„ä¸¤å€é•¿ã€‚ç»“æœæ˜¯è¿™ä¸ªæ ‘å¤§è‡´ä¸Šæ˜¯å¹³è¡¡çš„ã€‚å› ä¸ºæ“ä½œæ¯”å¦‚æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æŸä¸ªå€¼çš„æœ€åæƒ…å†µæ—¶é—´éƒ½è¦æ±‚ä¸æ ‘çš„é«˜åº¦æˆæ¯”ä¾‹ï¼Œè¿™ä¸ªåœ¨é«˜åº¦ä¸Šçš„ç†è®ºä¸Šé™å…è®¸çº¢é»‘æ ‘åœ¨æœ€åæƒ…å†µä¸‹éƒ½æ˜¯é«˜æ•ˆçš„ï¼Œè€Œä¸åŒäºæ™®é€šçš„<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91">äºŒå‰æŸ¥æ‰¾æ ‘</a>ã€‚</p><p>è¦çŸ¥é“ä¸ºä»€ä¹ˆè¿™äº›æ€§è´¨ç¡®ä¿äº†è¿™ä¸ªç»“æœï¼Œæ³¨æ„åˆ°æ€§è´¨4å¯¼è‡´äº†è·¯å¾„ä¸èƒ½æœ‰ä¸¤ä¸ªæ¯—è¿çš„çº¢è‰²èŠ‚ç‚¹å°±è¶³å¤Ÿäº†ã€‚æœ€çŸ­çš„å¯èƒ½è·¯å¾„éƒ½æ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œæœ€é•¿çš„å¯èƒ½è·¯å¾„æœ‰äº¤æ›¿çš„çº¢è‰²å’Œé»‘è‰²èŠ‚ç‚¹ã€‚å› ä¸ºæ ¹æ®æ€§è´¨5æ‰€æœ‰æœ€é•¿çš„è·¯å¾„éƒ½æœ‰ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ï¼Œè¿™å°±è¡¨æ˜äº†æ²¡æœ‰è·¯å¾„èƒ½å¤šäºä»»ä½•å…¶ä»–è·¯å¾„çš„ä¸¤å€é•¿ã€‚</p><p>åŒæ ·åœ¨<a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualizations</a>ä¸­é€‰æ‹©<a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">Red-Black Trees</a>çº¢é»‘æ ‘è¿›è¡Œæ’å…¥æ“ä½œå¯ä»¥ç›´è§‚çš„çœ‹åˆ°çº¢é»‘æ ‘çš„æ’å…¥è¿‡ç¨‹</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/588681853.gif"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/588681853.gif" alt="çº¢é»‘æ ‘æ’å…¥è¿‡ç¨‹"></a></p><p>åŒæ ·çº¢é»‘æ ‘ä¹Ÿä¸é€‚ç”¨äºMySQLçš„ç´¢å¼•ï¼Œæ•°æ®é‡åºå¤§ä¹‹åï¼Œæ•°å±‚ä¹Ÿä¼šå˜å¤§ã€‚</p><p>æ¨èé˜…è¯»ï¼š</p><p><a href="https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91">ç»´åŸºç™¾ç§‘-çº¢é»‘æ ‘</a></p><p><a href="https://mp.weixin.qq.com/s/jz1ajDUygZ7sXLQFHyfjWA">ç¨‹åºå‘˜å°ç°-çº¢é»‘æ ‘</a></p><h3 id="å…¶ä»–ç»“æ„çš„é—®é¢˜"><a href="#å…¶ä»–ç»“æ„çš„é—®é¢˜" class="headerlink" title="å…¶ä»–ç»“æ„çš„é—®é¢˜"></a>å…¶ä»–ç»“æ„çš„é—®é¢˜</h3><p>ç”±äºæ— æ³•è£…å…¥å†…å­˜ï¼Œåˆ™å¿…ç„¶ä¾èµ–ç£ç›˜ï¼ˆæˆ–SSDï¼‰å­˜å‚¨ã€‚è€Œå†…å­˜çš„è¯»å†™é€Ÿåº¦æ˜¯ç£ç›˜çš„æˆåƒä¸Šä¸‡å€ï¼ˆä¸å…·ä½“å®ç°æœ‰å…³ï¼‰ï¼Œå› æ­¤ï¼Œæ ¸å¿ƒé—®é¢˜æ˜¯â€œå¦‚ä½•å‡å°‘ç£ç›˜è¯»å†™æ¬¡æ•°â€ã€‚</p><p>é¦–å…ˆä¸è€ƒè™‘é¡µè¡¨æœºåˆ¶ï¼Œå‡è®¾æ¯æ¬¡è¯»ã€å†™éƒ½ç›´æ¥ç©¿é€åˆ°ç£ç›˜ï¼Œé‚£ä¹ˆï¼š</p><ul><li>çº¿æ€§ç»“æ„ï¼šè¯»/å†™å¹³å‡O(n)æ¬¡</li><li>äºŒå‰æœç´¢æ ‘ï¼ˆ<code>BST</code>ï¼‰ï¼šè¯»/å†™å¹³å‡O(log2(n))æ¬¡ï¼›å¦‚æœæ ‘ä¸å¹³è¡¡ï¼Œåˆ™æœ€å·®è¯»/å†™O(n)æ¬¡</li><li>è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆ<code>AVL</code>ï¼‰ï¼šåœ¨BSTçš„åŸºç¡€ä¸ŠåŠ å…¥äº†è‡ªå¹³è¡¡ç®—æ³•ï¼Œè¯»/å†™æœ€å¤§O(log2(n))æ¬¡</li><li>çº¢é»‘æ ‘ï¼ˆ<code>RBT</code>ï¼‰ï¼šå¦ä¸€ç§è‡ªå¹³è¡¡çš„æŸ¥æ‰¾æ ‘ï¼Œè¯»/å†™æœ€å¤§O(log2(n))æ¬¡</li></ul><p><code>BST</code>ã€<code>AVL</code>ã€<code>RBT</code>å¾ˆå¥½çš„å°†è¯»å†™æ¬¡æ•°ä»O(n)ä¼˜åŒ–åˆ°O(log2(n))ï¼›å…¶ä¸­ï¼Œ<code>AVL</code>å’Œ<code>RBT</code>éƒ½æ¯”<code>BST</code>å¤šäº†è‡ªå¹³è¡¡çš„åŠŸèƒ½ï¼Œå°†è¯»å†™æ¬¡æ•°é™åˆ°æœ€å¤§O(log2(n))ã€‚</p><p>å‡è®¾ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼Œåˆ™ä¸»é”®æœ¬èº«æ˜¯æœ‰åºçš„ï¼Œæ ‘ç»“æ„çš„è¯»å†™æ¬¡æ•°èƒ½å¤Ÿä¼˜åŒ–åˆ°æ ‘é«˜ï¼Œæ ‘é«˜è¶Šä½è¯»å†™æ¬¡æ•°è¶Šå°‘ï¼›è‡ªå¹³è¡¡ä¿è¯äº†æ ‘ç»“æ„çš„ç¨³å®šã€‚å¦‚æœæƒ³è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯ä»¥å¼•å…¥<code>Bæ ‘</code>å’Œ<code>B+æ ‘</code>ã€‚</p><h3 id="Bæ ‘ï¼ˆB-Treesï¼‰"><a href="#Bæ ‘ï¼ˆB-Treesï¼‰" class="headerlink" title="Bæ ‘ï¼ˆB-Treesï¼‰"></a>Bæ ‘ï¼ˆB-Treesï¼‰</h3><p>åˆç§°ï¼šå¤šè·¯å¹³è¡¡æŸ¥æ‰¾æ ‘ã€‚å¤§å¤šæ•°å­˜å‚¨å¼•æ“éƒ½æ”¯æŒBæ ‘ç´¢å¼•ã€‚bæ ‘é€šå¸¸æ„å‘³ç€æ‰€æœ‰çš„å€¼éƒ½æ˜¯æŒ‰é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹åˆ°æ ¹çš„è·ç¦»ç›¸åŒã€‚Bæ ‘ç´¢å¼•èƒ½å¤ŸåŠ å¿«è®¿é—®æ•°æ®çš„é€Ÿåº¦ï¼Œå› ä¸ºå­˜å‚¨å¼•æ“ä¸å†éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«ææ¥è·å–æ•°æ®ã€‚ä¸‹å›¾å°±æ˜¯ä¸€é¢—ç®€å•çš„Bæ ‘ã€‚</p><p>åœ¨Bæ ‘ä¸­ï¼Œå†…éƒ¨ï¼ˆéå¶å­ï¼‰èŠ‚ç‚¹å¯ä»¥æ‹¥æœ‰å¯å˜æ•°é‡çš„å­èŠ‚ç‚¹ï¼ˆæ•°é‡èŒƒå›´é¢„å…ˆå®šä¹‰å¥½ï¼‰ã€‚å½“æ•°æ®è¢«æ’å…¥æˆ–ä»ä¸€ä¸ªèŠ‚ç‚¹ä¸­ç§»é™¤ï¼Œå®ƒçš„å­èŠ‚ç‚¹æ•°é‡å‘ç”Ÿå˜åŒ–ã€‚ä¸ºäº†ç»´æŒåœ¨é¢„å…ˆè®¾å®šçš„æ•°é‡èŒƒå›´å†…ï¼Œå†…éƒ¨èŠ‚ç‚¹å¯èƒ½ä¼šè¢«åˆå¹¶æˆ–è€…åˆ†ç¦»ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/1766166186.png"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1766166186.png" alt="Bæ•°ç»“æ„å›¾"></a></p><ul><li>å¶èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„æ·±åº¦ï¼Œå¶èŠ‚ç‚¹çš„æŒ‡é’ˆä¸ºç©º</li><li>æ‰€æœ‰ç´¢å¼•å…ƒç´ ä¸é‡å¤</li><li>èŠ‚ç‚¹ä¸­çš„æ•°æ®ç´¢å¼•ä»å·¦åˆ°å³é€’å¢æ’åˆ—</li><li>æ— è®ºä¸­é—´èŠ‚ç‚¹è¿˜æ˜¯å¶å­èŠ‚ç‚¹éƒ½å¸¦æœ‰å«æ˜Ÿæ•°æ®dataï¼ˆç´¢å¼•å…ƒç´ æ‰€æŒ‡å‘çš„æ•°æ®è®°å½•ï¼‰</li></ul><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/2998451842.gif"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2998451842.gif" alt="Bæ ‘æ’å…¥è¿‡ç¨‹"></a></p><p>åªæ¼”ç¤ºäº†æ’å…¥çš„è¿‡ç¨‹ï¼Œå…¶ä¸­å¯ä»¥é€šè¿‡deleteã€findæ‰§è¡Œåˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚ç›´è§‚çš„æ„Ÿå—åˆ°Bæ ‘çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p><p>æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨äº†å¤šä¸ªKeyå’Œå­æ ‘ï¼Œå­æ ‘ä¸KeyæŒ‰é¡ºåºæ’åˆ—ã€‚</p><blockquote><p>åŒäºŒå‰æœç´¢æ ‘ç±»ä¼¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨äº†å¤šä¸ªkeyå’Œå­æ ‘ï¼Œå­æ ‘ä¸keyæŒ‰é¡ºåºæ’åˆ—ã€‚</p><p>é¡µè¡¨çš„ç›®å½•æ˜¯æ‰©å±•å¤–å­˜+åŠ é€Ÿç£ç›˜è¯»å†™ï¼Œä¸€ä¸ªé¡µï¼ˆPageï¼‰é€šå¸¸4Kï¼ˆç­‰äºç£ç›˜æ•°æ®å—blockçš„å¤§å°ï¼Œè§inodeä¸blockçš„åˆ†æï¼‰ï¼Œæ“ä½œç³»ç»Ÿæ¯æ¬¡ä»¥é¡µä¸ºå•ä½å°†å†…å®¹ä»ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼ˆä»¥æ‘Šåˆ†å¯»é“æˆæœ¬ï¼‰ï¼Œä¿®æ”¹é¡µåï¼Œå†æ‹©æœŸå°†è¯¥é¡µå†™å›ç£ç›˜ã€‚è€ƒè™‘åˆ°é¡µè¡¨çš„è‰¯å¥½æ€§è´¨ï¼Œå¯ä»¥ä½¿æ¯ä¸ªèŠ‚ç‚¹çš„å¤§å°çº¦ç­‰äºä¸€ä¸ªé¡µï¼ˆä½¿méå¸¸å¤§ï¼‰ï¼Œè¿™æ¯æ¬¡åŠ è½½çš„ä¸€ä¸ªé¡µå°±èƒ½å®Œæ•´è¦†ç›–ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»¥ä¾¿é€‰æ‹©ä¸‹ä¸€å±‚å­æ ‘ï¼›å¯¹å­æ ‘åŒç†ã€‚å¯¹äºé¡µè¡¨æ¥è¯´ï¼ŒAVLï¼ˆæˆ–RBTï¼‰ç›¸å½“äº1ä¸ªkey+2ä¸ªå­æ ‘çš„Bæ ‘ï¼Œç”±äºé€»è¾‘ä¸Šç›¸é‚»çš„èŠ‚ç‚¹ï¼Œç‰©ç†ä¸Šé€šå¸¸ä¸ç›¸é‚»ï¼Œå› æ­¤ï¼Œè¯»å…¥ä¸€ä¸ª4ké¡µï¼Œé¡µé¢å†…ç»å¤§éƒ¨åˆ†ç©ºé—´éƒ½å°†æ˜¯æ— æ•ˆæ•°æ®ã€‚</p></blockquote><p>å‡è®¾keyã€å­æ ‘èŠ‚ç‚¹æŒ‡é’ˆå‡å ç”¨4Bï¼Œåˆ™Bæ ‘èŠ‚ç‚¹æœ€å¤§<code>m * (4 + 4) = 8m B</code>ï¼›é¡µé¢å¤§å°4KBã€‚åˆ™<code>m = 4 * 1024 / 8m = 512</code>ï¼Œä¸€ä¸ª512å‰çš„Bæ ‘ï¼Œ1000wçš„æ•°æ®ï¼Œæ·±åº¦æœ€å¤§ <code>log(512/2)(10^7) = 3.02 ~= 4</code>ã€‚å¯¹æ¯”äºŒå‰æ ‘å¦‚AVLçš„æ·±åº¦ä¸º<code>log(2)(10^7) = 23.25 ~= 24</code>ï¼Œç›¸å·®äº†5å€ä»¥ä¸Šã€‚éœ‡æƒŠï¼Bæ ‘ç´¢å¼•æ·±åº¦ç«Ÿç„¶å¦‚æ­¤ï¼</p><p>é‚£ä¸ºä»€ä¹ˆBæ•°è¿™ä¹ˆå‰å®³äº†ï¼Œè¿˜æœ‰B+æ ‘çš„å‡ºç°å‘¢ï¼Œå¿…ç„¶æ˜¯è§£å†³Bæ ‘å­˜åœ¨çš„é—®é¢˜</p><p>1ã€ä¸ºå®šä½è¡Œæ•°</p><p>2ã€æ— æ³•å¤„ç†èŒƒå›´æŸ¥è¯¢</p><p><strong>é—®é¢˜1ï¼šä¸ºå®šä½è¡Œæ•°</strong></p><p>æ•°æ®è¡¨çš„è®°å½•æœ‰å¤šä¸ªå­—æ®µï¼Œä»…ä»…å®šä½åˆ°ä¸»é”®æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦å®šä½åˆ°æ•°æ®è¡Œã€‚æœ‰3ä¸ªæ–¹æ¡ˆè§£å†³ï¼š</p><ol><li>ç›´æ¥å°†keyå¯¹åº”çš„æ•°æ®è¡Œï¼ˆå¯èƒ½å¯¹åº”å¤šè¡Œï¼‰å­˜å‚¨å­èŠ‚ç‚¹ä¸­ã€‚</li><li>æ•°æ®è¡Œå•ç‹¬å­˜å‚¨ï¼›èŠ‚ç‚¹ä¸­å¢åŠ ä¸€ä¸ªå­—æ®µï¼Œå®šä½keyå¯¹åº”æ•°æ®è¡Œçš„ä½ç½®ã€‚</li><li>ä¿®æ”¹keyä¸å­æ ‘çš„åˆ¤æ–­é€»è¾‘ï¼Œä½¿å­æ ‘å¤§äºç­‰äºä¸Šä¸€keyå°äºä¸‹ä¸€keyï¼Œæœ€ç»ˆæ‰€æœ‰è®¿é—®éƒ½å°†è½äºå¶å­èŠ‚ç‚¹ï¼›å¶å­èŠ‚ç‚¹ä¸­ç›´æ¥å­˜å‚¨æ•°æ®è¡Œæˆ–æ•°æ®è¡Œçš„ä½ç½®ã€‚</li></ol><p>æ–¹æ¡ˆ1ç›´æ¥passï¼Œå­˜å‚¨æ•°æ®è¡Œå°†å‡å°‘é¡µé¢ä¸­çš„å­æ ‘ä¸ªæ•°ï¼Œmå‡å°æ ‘é«˜å¢å¤§ã€‚</p><p>æ–¹æ¡ˆ2çš„èŠ‚ç‚¹ä¸­å¢åŠ äº†ä¸€ä¸ªå­—æ®µï¼Œå‡è®¾æ˜¯4Bçš„æŒ‡é’ˆï¼Œåˆ™æ–°çš„<code>m = 4 * 1024 / 12m = 341.33 ~= 341</code>ï¼Œæ·±åº¦æœ€å¤§ <code>log(341/2)(10^7) = 3.14 ~= 4</code>ã€‚</p><p>æ–¹æ¡ˆ3çš„èŠ‚ç‚¹mä¸æ·±åº¦ä¸å˜ï¼Œä½†æ—¶é—´å¤æ‚åº¦å˜ä¸ºç¨³å®šçš„O(logm(n))ã€‚</p><p>æ–¹æ¡ˆ3å¯ä»¥è€ƒè™‘ã€‚</p><p><strong>é—®é¢˜2ï¼šæ— æ³•å¤„ç†èŒƒå›´æŸ¥è¯¢</strong></p><p>å®é™…ä¸šåŠ¡ä¸­ï¼ŒèŒƒå›´æŸ¥è¯¢çš„é¢‘ç‡éå¸¸é«˜ï¼ŒBæ ‘åªèƒ½å®šä½åˆ°ä¸€ä¸ªç´¢å¼•ä½ç½®ï¼ˆå¯èƒ½å¯¹åº”å¤šè¡Œï¼‰ï¼Œå¾ˆéš¾å¤„ç†èŒƒå›´æŸ¥è¯¢ã€‚æ”¹åŠ¨è¾ƒå°çš„æ˜¯2ä¸ªæ–¹æ¡ˆï¼š</p><ol><li>ä¸æ”¹åŠ¨ï¼›æŸ¥è¯¢çš„æ—¶å€™å…ˆæŸ¥åˆ°å·¦ç•Œï¼Œå†æŸ¥åˆ°å³ç•Œï¼Œç„¶åDFSï¼ˆæˆ–BFSï¼‰éå†å·¦ç•Œã€å³ç•Œä¹‹é—´çš„èŠ‚ç‚¹ã€‚</li><li>åœ¨â€œé—®é¢˜1-æ–¹æ¡ˆ3â€çš„åŸºç¡€ä¸Šï¼Œç”±äºæ‰€æœ‰æ•°æ®è¡Œéƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼ŒBæ ‘çš„å¶å­èŠ‚ç‚¹æœ¬èº«ä¹Ÿæ˜¯æœ‰åºçš„ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰å¶å­èŠ‚ç‚¹æŒ‰ä¸»é”®é¡ºåºçš„ä¸‹ä¸€å¶å­èŠ‚ç‚¹ï¼›æŸ¥è¯¢æ—¶å…ˆæŸ¥åˆ°å·¦ç•Œï¼Œå†æŸ¥åˆ°å³ç•Œï¼Œç„¶åä»å·¦ç•Œåˆ°æœ‰ç•Œçº¿æ€§éå†ã€‚</li></ol><p>ä¹ä¸€çœ‹æ„Ÿè§‰æ–¹æ¡ˆ1æ¯”æ–¹æ¡ˆ2å¥½â€”â€”æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°é¡¹éƒ½ä¸€æ ·ï¼Œæ–¹æ¡ˆ1è¿˜ä¸éœ€è¦æ”¹åŠ¨ã€‚ä½†æ˜¯åˆ«å¿˜äº†å±€éƒ¨æ€§åŸç†ï¼Œä¸ç®¡èŠ‚ç‚¹ä¸­å­˜å‚¨çš„æ˜¯æ•°æ®è¡Œè¿˜æ˜¯æ•°æ®è¡Œä½ç½®ï¼Œæ–¹æ¡ˆ2çš„å¥½å¤„åœ¨äºï¼Œä¾ç„¶å¯ä»¥åˆ©ç”¨é¡µè¡¨å’Œç¼“å­˜é¢„è¯»ä¸‹ä¸€èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚è€Œæ–¹æ¡ˆ1åˆ™é¢ä¸´èŠ‚ç‚¹é€»è¾‘ç›¸é‚»ã€ç‰©ç†åˆ†ç¦»çš„ç¼ºç‚¹ã€‚<br>æ¨èé˜…è¯»ï¼š</p><p><a href="https://zh.wikipedia.org/wiki/B%E6%A0%91">ç»´åŸºç™¾ç§‘-Bæ ‘</a></p><p><a href="https://mp.weixin.qq.com/s/rDCEFzoKHIjyHfI_bsz5Rw">ç¨‹åºå‘˜å°ç°-Bæ ‘</a></p><h3 id="B-æ ‘ï¼ˆB-Treesï¼‰"><a href="#B-æ ‘ï¼ˆB-Treesï¼‰" class="headerlink" title="B+æ ‘ï¼ˆB+Treesï¼‰"></a>B+æ ‘ï¼ˆB+Treesï¼‰</h3><p>ä¸»è¦å˜åŠ¨å¦‚ä¸Šæ‰€è¿°ï¼š</p><ul><li>ä¿®æ”¹keyä¸å­æ ‘çš„ç»„ç»‡é€»è¾‘ï¼Œå°†ç´¢å¼•è®¿é—®éƒ½è½åˆ°å¶å­èŠ‚ç‚¹</li><li>æŒ‰é¡ºåºå°†å¶å­èŠ‚ç‚¹ä¸²èµ·æ¥ï¼ˆæ–¹ä¾¿èŒƒå›´æŸ¥è¯¢ï¼‰</li></ul><p>å›é¡¾ä¸Šä¸€ä¸ªBæ ‘ï¼Œ<strong>ä¸€ä¸ªmé˜¶çš„Bæ ‘å…·æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</strong></p><p>1.æ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­å¥³ã€‚</p><p>2.æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ å’Œkä¸ªå­©å­ï¼Œå…¶ä¸­ m/2 &lt;= k &lt;= m</p><p>3.æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹éƒ½åŒ…å«k-1ä¸ªå…ƒç´ ï¼Œå…¶ä¸­ m/2 &lt;= k &lt;= m</p><p>4.æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ã€‚</p><p>5.æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ï¼ŒèŠ‚ç‚¹å½“ä¸­k-1ä¸ªå…ƒç´ æ­£å¥½æ˜¯kä¸ªå­©å­åŒ…å«çš„å…ƒç´ çš„å€¼åŸŸåˆ†åˆ’ã€‚</p><p><strong>ä¸€ä¸ªmé˜¶çš„B+æ ‘å…·æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</strong></p><p>1.æœ‰kä¸ªå­æ ‘çš„ä¸­é—´èŠ‚ç‚¹åŒ…å«æœ‰kä¸ªå…ƒç´ ï¼ˆBæ ‘ä¸­æ˜¯k-1ä¸ªå…ƒç´ ï¼‰ï¼Œæ¯ä¸ªå…ƒç´ ä¸ä¿å­˜æ•°æ®ï¼Œåªç”¨æ¥ç´¢å¼•ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å¶å­èŠ‚ç‚¹ã€‚</p><p>2.æ‰€æœ‰çš„å¶å­ç»“ç‚¹åŒ…å«äº†å…¨éƒ¨å…ƒç´ çš„ä¿¡æ¯ï¼ŒåŠæŒ‡å‘å«è¿™äº›å…ƒç´ è®°å½•çš„æŒ‡é’ˆï¼Œä¸”å¶å­ç»“ç‚¹æœ¬èº«ä¾å…³é”®å­—çš„å¤§å°è‡ªå°è€Œå¤§é¡ºåºé“¾æ¥ã€‚</p><p>3.æ‰€æœ‰çš„ä¸­é—´èŠ‚ç‚¹å…ƒç´ éƒ½åŒæ—¶å­˜åœ¨äºå­èŠ‚ç‚¹ï¼Œåœ¨å­èŠ‚ç‚¹å…ƒç´ ä¸­æ˜¯æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…ƒç´ ã€‚</p><p><strong>B+æ ‘ç‰¹æ€§æ€»ç»“</strong></p><p><strong>B+æ ‘æ˜¯Bæ ‘çš„å‡çº§ç‰ˆ</strong>ï¼Œå…¶æœ‰å¦‚ä¸‹ç‰¹æ€§</p><ul><li>éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨dataï¼Œåªå­˜å‚¨ç´¢å¼•(å†—ä½™)ï¼Œå¯ä»¥æ”¾æ›´å¤šçš„ç´¢å¼•</li><li>å¶å­èŠ‚ç‚¹åŒ…å«æ‰€æœ‰ç´¢å¼•å­—æ®µ</li><li>å¶å­èŠ‚ç‚¹ç”¨æŒ‡é’ˆè¿æ¥ï¼Œæé«˜åŒºé—´è®¿é—®çš„æ€§èƒ½</li><li>åªæœ‰å¶å­èŠ‚ç‚¹å¸¦æœ‰å«æ˜Ÿæ•°æ®dataï¼ˆç´¢å¼•å…ƒç´ æ‰€æŒ‡å‘çš„æ•°æ®è®°å½•ï¼‰</li></ul><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/1235167357.png"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1235167357.png" alt="1566368976038.png"></a></p><p>åŒæ ·åœ¨<a href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html">Data Structure Visualizations</a>ä¸­é€‰æ‹©<a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">B+ Trees</a>B+æ ‘è¿›è¡Œæ’å…¥æ“ä½œå¯ä»¥ç›´è§‚çš„çœ‹åˆ°æ’å…¥è¿‡ç¨‹</p><p><a href="https://images.niaobulashi.com/typecho/uploads/2019/08/18100144.gif"><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/18100144.gif" alt="B+æ ‘æ’å…¥è¿‡ç¨‹"></a></p><p>åœ¨åŠ¨å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒB+æ ‘çš„æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒæŠŠæ‰€æœ‰çš„å¶å­èŠ‚ç‚¹ä¸²åœ¨ä¸€èµ·ã€‚ç´¢å¼•æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ä¸­ã€‚</p><p>B+æ ‘ç›¸æ¯”äºBæ ‘ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼š</p><p>1.å•ä¸€èŠ‚ç‚¹å­˜å‚¨æ›´å¤šçš„å…ƒç´ ï¼Œä½¿å¾—æŸ¥è¯¢çš„IOæ¬¡æ•°æ›´å°‘ã€‚</p><p>2.æ‰€æœ‰æŸ¥è¯¢éƒ½è¦æŸ¥æ‰¾åˆ°å¶å­èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢æ€§èƒ½ç¨³å®šã€‚</p><p>3.æ‰€æœ‰å¶å­èŠ‚ç‚¹å½¢æˆæœ‰åºé“¾è¡¨ï¼Œä¾¿äºèŒƒå›´æŸ¥è¯¢ã€‚</p><p>æ€»ç»“ï¼ŒB+æ ‘ç›¸æ¯”Bæ ‘çš„ä¼˜åŠ¿æœ‰ä¸‰ï¼š1.IOæ¬¡æ•°æ›´å°‘ï¼›2.æŸ¥è¯¢æ€§èƒ½ç¨³å®šï¼›3.èŒƒå›´æŸ¥è¯¢ç®€ä¾¿ã€‚</p><p>æ¨èé˜…è¯»ï¼š</p><p><a href="https://zh.wikipedia.org/wiki/B%2B%E6%A0%91">ç»´åŸºç™¾ç§‘-B+æ ‘</a></p><p><a href="https://mp.weixin.qq.com/s/jRZMMONW3QP43dsDKIV9VQ">ç¨‹åºå‘˜å°ç°-B+æ ‘</a></p><h3 id="Hashç´¢å¼•"><a href="#Hashç´¢å¼•" class="headerlink" title="Hashç´¢å¼•"></a>Hashç´¢å¼•</h3><p>hashç´¢å¼•åŸºäºhashè¡¨å®ç°ï¼Œ<strong>Hash ç´¢å¼•æ˜¯å°†ç´¢å¼•é”®é€šè¿‡ Hash è¿ç®—ä¹‹åï¼Œå°† Hashè¿ç®—ç»“æœçš„ Hash å€¼å’Œæ‰€å¯¹åº”çš„è¡ŒæŒ‡é’ˆä¿¡æ¯å­˜æ”¾äºä¸€ä¸ª Hash è¡¨ä¸­</strong>ã€‚åªæœ‰ç²¾å‡†åŒ¹é…ç´¢å¼•æ‰€æœ‰åˆ—çš„æŸ¥è¯¢æ‰æœ‰æ•ˆã€‚ç´¢å¼•çš„æ£€ç´¢å¯ä»¥ä¸€æ¬¡å®šä½ï¼Œä¸åƒB-Treeç´¢å¼•éœ€è¦ä»æ ¹èŠ‚ç‚¹å‡ºå‘åˆ°ç›®æ ‡èŠ‚ç‚¹ã€‚è™½ç„¶Hashç´¢å¼•å¾ˆå¿«ï¼Œè¿œé«˜äºB-treeç´¢å¼•ï¼Œä½†æ˜¯ä¹Ÿæœ‰å…¶å¼Šç«¯ã€‚</p><ol><li>Hashç´¢å¼•ä»…ä»…èƒ½æ»¡è¶³â€™=â€™,â€™INâ€™,â€™&lt;=&gt;â€™æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯ç­‰å€¼æŸ¥è¯¢ï¼Œä¸èƒ½ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ã€‚å¾ˆå—é™<ol><li>ç”±äº Hash ç´¢å¼•æ¯”è¾ƒçš„æ˜¯è¿›è¡Œ Hash è¿ç®—ä¹‹åçš„ Hash å€¼ï¼Œæ‰€ä»¥å®ƒåªèƒ½ç”¨äºç­‰å€¼çš„è¿‡æ»¤ï¼Œä¸èƒ½ç”¨äºåŸºäºèŒƒå›´çš„è¿‡æ»¤ï¼Œå› ä¸ºç»è¿‡ç›¸åº”çš„ Hash ç®—æ³•å¤„ç†ä¹‹åçš„ Hash å€¼çš„å¤§å°å…³ç³»ï¼Œå¹¶ä¸èƒ½ä¿è¯å’ŒHashè¿ç®—å‰å®Œå…¨ä¸€æ ·ã€‚</li></ol></li><li>ç”±äºHashç´¢å¼•æ˜¯é€šè¿‡hashè¡¨å®ç°ï¼Œå…¶æœ¬èº«æ˜¯æ²¡æœ‰æ’åºçš„ã€‚<ol><li>ç”±äº Hash ç´¢å¼•ä¸­å­˜æ”¾çš„æ˜¯ç»è¿‡ Hash è®¡ç®—ä¹‹åçš„ Hash å€¼ï¼Œè€Œä¸”Hashå€¼çš„å¤§å°å…³ç³»å¹¶ä¸ä¸€å®šå’Œ Hash è¿ç®—å‰çš„é”®å€¼å®Œå…¨ä¸€æ ·ï¼Œæ‰€ä»¥æ•°æ®åº“æ— æ³•åˆ©ç”¨ç´¢å¼•çš„æ•°æ®æ¥é¿å…ä»»ä½•æ’åºè¿ç®—ï¼› </li></ol></li><li>Hashç´¢å¼•ä¸èƒ½åˆ©ç”¨éƒ¨åˆ†ç´¢å¼•é”®æŸ¥è¯¢<ol><li>å¯¹äºç»„åˆç´¢å¼•ï¼ŒHashç´¢å¼•åœ¨è®¡ç®—hashå€¼çš„æ—¶å€™æ˜¯ç»„åˆç´¢å¼•é”®åˆå¹¶åå†ä¸€èµ·è®¡ç®—hashå€¼ï¼Œè€Œä¸æ˜¯å•ç‹¬è®¡ç®—hashå€¼ï¼Œæ‰€ä»¥é€šè¿‡ç»„åˆç´¢å¼•çš„å‰é¢ä¸€ä¸ªæˆ–å‡ ä¸ªç´¢å¼•é”®è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼ŒHash ç´¢å¼•ä¹Ÿæ— æ³•è¢«åˆ©ç”¨ã€‚</li></ol></li><li>Hash ç´¢å¼•åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸èƒ½é¿å…è¡¨æ‰«æ<ol><li>å‰é¢å·²ç»çŸ¥é“ï¼ŒHash ç´¢å¼•æ˜¯å°†ç´¢å¼•é”®é€šè¿‡ Hash è¿ç®—ä¹‹åï¼Œå°† Hashè¿ç®—ç»“æœçš„ Hash å€¼å’Œæ‰€å¯¹åº”çš„è¡ŒæŒ‡é’ˆä¿¡æ¯å­˜æ”¾äºä¸€ä¸ª Hash è¡¨ä¸­ï¼Œç”±äºä¸åŒç´¢å¼•é”®å­˜åœ¨ç›¸åŒ Hash å€¼ï¼Œæ‰€ä»¥å³ä½¿å–æ»¡è¶³æŸä¸ª Hash é”®å€¼çš„æ•°æ®çš„è®°å½•æ¡æ•°ï¼Œä¹Ÿæ— æ³•ä» Hash ç´¢å¼•ä¸­ç›´æ¥å®ŒæˆæŸ¥è¯¢ï¼Œè¿˜æ˜¯è¦é€šè¿‡è®¿é—®è¡¨ä¸­çš„å®é™…æ•°æ®è¿›è¡Œç›¸åº”çš„æ¯”è¾ƒï¼Œå¹¶å¾—åˆ°ç›¸åº”çš„ç»“æœã€‚</li></ol></li><li>Hash ç´¢å¼•é‡åˆ°å¤§é‡Hashå€¼ç›¸ç­‰çš„æƒ…å†µåæ€§èƒ½å¹¶ä¸ä¸€å®šå°±ä¼šæ¯”B-Treeç´¢å¼•é«˜ã€‚<ol><li>å¯¹äºé€‰æ‹©æ€§æ¯”è¾ƒä½çš„ç´¢å¼•é”®ï¼Œå¦‚æœåˆ›å»º Hash ç´¢å¼•ï¼Œé‚£ä¹ˆå°†ä¼šå­˜åœ¨å¤§é‡è®°å½•æŒ‡é’ˆä¿¡æ¯å­˜äºåŒä¸€ä¸ª Hash å€¼ç›¸å…³è”ã€‚è¿™æ ·è¦å®šä½æŸä¸€æ¡è®°å½•æ—¶å°±ä¼šéå¸¸éº»çƒ¦ï¼Œä¼šæµªè´¹å¤šæ¬¡è¡¨æ•°æ®çš„è®¿é—®ï¼Œè€Œé€ æˆæ•´ä½“æ€§èƒ½ä½ä¸‹ã€‚</li></ol></li></ol><h2 id="ä¸‰ã€MySQLæ•°æ®åº“å¼•æ“"><a href="#ä¸‰ã€MySQLæ•°æ®åº“å¼•æ“" class="headerlink" title="ä¸‰ã€MySQLæ•°æ®åº“å¼•æ“"></a>ä¸‰ã€MySQLæ•°æ®åº“å¼•æ“</h2><p>é€šè¿‡navicatå·¥å…·æŸ¥çœ‹è¡¨è®¾è®¡é€‰é¡¹ä¸­ï¼Œä»å¼•æ“ä¸­å¯ä»¥çœ‹åˆ°MySQLåˆè¿™ä¹ˆå¤šå¼•æ“ã€‚å…·ä½“ç»†åˆ†åˆ°æ¯ä¸ªè¡¨ï¼Œä¸åŒçš„è¡¨å¼•æ“å¯ä»¥ä¸ä¸€æ ·ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1934170161.png" alt="MySQLæ•°æ®åº“å¼•æ“"></p><h3 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h3><p>æ–°å»ºä¸€å¼ è¡¨t_test_myisamï¼Œå¼•æ“ä½¿ç”¨MyISAMï¼ŒæŸ¥çœ‹åŸæ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ‰3ä¸ªæ–‡ä»¶</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1845963369.png" alt="MyISAMç´¢å¼•ç»“æ„åŸæ–‡ä»¶"></p><p>å¯ä»¥çœ‹åˆ°ç´¢å¼•å’Œæ•°æ®æ˜¯åˆ†å¼€çš„ï¼Œå…¶ä¸­ç´¢å¼•æ–‡ä»¶ä»…ä»…ä¿å­˜æ•°æ®è®°å½•çš„åœ°å€ï¼Œæ•…å±äº<strong>éèšç°‡ç´¢å¼•</strong>ã€‚</p><h4 id="ä¸»é”®ç´¢å¼•ï¼ˆPrimary-Indexï¼‰"><a href="#ä¸»é”®ç´¢å¼•ï¼ˆPrimary-Indexï¼‰" class="headerlink" title="ä¸»é”®ç´¢å¼•ï¼ˆPrimary Indexï¼‰"></a>ä¸»é”®ç´¢å¼•ï¼ˆPrimary Indexï¼‰</h4><p>MyISAMå¼•æ“ä½¿ç”¨B+Treeä½œä¸ºç´¢å¼•ç»“æ„ï¼Œå¶èŠ‚ç‚¹çš„dataå­˜æ”¾çš„æ˜¯æ•°æ®è®°å½•çš„åœ°å€ã€‚å¦‚ä¸‹å›¾æ˜¯MyISAMä¸»é”®ç´¢å¼•çš„åŸç†å›¾ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2287658511.png" alt="MyISAMä¸»é”®ç´¢å¼•"></p><p>å…¶ä¸­Col1ä¸ºä¸»é”®ï¼Œå¯ä»¥çœ‹å‡ºçœ‹å‡ºMyISAMçš„ç´¢å¼•æ–‡ä»¶ä»…ä¿å­˜æ•°æ®è®°å½•çš„åœ°å€ã€‚</p><h4 id="è¾…åŠ©ç´¢å¼•ï¼ˆSecondary-Indexï¼‰"><a href="#è¾…åŠ©ç´¢å¼•ï¼ˆSecondary-Indexï¼‰" class="headerlink" title="è¾…åŠ©ç´¢å¼•ï¼ˆSecondary Indexï¼‰"></a>è¾…åŠ©ç´¢å¼•ï¼ˆSecondary Indexï¼‰</h4><p>åœ¨Col2ä¸Šå»ºç«‹ä¸€ä¸ªè¾…åŠ©ç´¢å¼•ï¼Œå¦‚ä¸‹å›¾è¾…åŠ©ç´¢å¼•åŸç†å›¾ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1683017602.png" alt="MyISAMè¾…åŠ©ç´¢å¼•"></p><p>å¯ä»¥çœ‹åˆ°ä¸ä¸»é”®ç´¢å¼•æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåªä¸è¿‡ä¸»é”®ç´¢å¼•çš„keyæ˜¯å”¯ä¸€çš„ï¼Œè€Œè¾…åŠ©ç´¢å¼•çš„keyå¯ä»¥é‡å¤ã€‚</p><p><strong>MyISAMä¸­ç´¢å¼•æ£€ç´¢çš„ç®—æ³•ä¸ºé¦–å…ˆæŒ‰ç…§B+Treeæœç´¢ç®—æ³•æœç´¢ç´¢å¼•ï¼Œå¦‚æœæŒ‡å®šçš„Keyå­˜åœ¨ï¼Œåˆ™å–å‡ºå…¶dataåŸŸçš„å€¼ï¼Œç„¶åä»¥dataåŸŸçš„å€¼ä¸ºåœ°å€ï¼Œè¯»å–ç›¸åº”æ•°æ®è®°å½•ã€‚</strong></p><p>å…¶ä¸­ä¸‰ä¸ªå­—æ®µå°±æ˜¯è”åˆç´¢å¼•ã€‚</p><p>ç”±äºè”åˆç´¢å¼•çš„å‡ºç°ï¼Œkeyç”±å¤šä¸ªåˆ—ç»„æˆï¼Œåˆ—çš„æ’åºå†³å®šäº†å¯å‘½ä¸­ç´¢å¼•çš„åˆ—æ•°ã€‚ä¹Ÿå«<strong>æœ€å·¦å‰ç¼€åŒ¹é…</strong></p><p>ç´¢å¼•åªèƒ½ç”¨äºæŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨ï¼ˆç›¸ç­‰ï¼‰ï¼Œé‡åˆ°èŒƒå›´æŸ¥æ‰¾ï¼ˆ&gt;,&lt;,=,between,likeå·¦åŒ¹é…ï¼‰ç­‰å°±ä¸èƒ½è¿›ä¸€æ­¥åŒ¹é…ã€‚</p><h3 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h3><p>æ–°å»ºä¸€å¼ è¡¨t_test_innodbï¼Œå¼•æ“ä½¿ç”¨InnoDBï¼ŒæŸ¥çœ‹åŸæ–‡ä»¶å¯ä»¥çœ‹åˆ°æœ‰2ä¸ªæ–‡ä»¶</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2293316698.png" alt="InnoDBç´¢å¼•ç»“æ„åŸæ–‡ä»¶"></p><h4 id="ä¸»é”®ç´¢å¼•ï¼ˆPrimary-Indexï¼‰-1"><a href="#ä¸»é”®ç´¢å¼•ï¼ˆPrimary-Indexï¼‰-1" class="headerlink" title="ä¸»é”®ç´¢å¼•ï¼ˆPrimary Indexï¼‰"></a>ä¸»é”®ç´¢å¼•ï¼ˆPrimary Indexï¼‰</h4><p>InnoDBçš„ç´¢å¼•å’Œæ•°æ®åœ¨ä¸€ä¸ªæ–‡ä»¶å½“ä¸­ã€‚</p><p>æŒ‰ç…§B+Treeç»„ç»‡çš„ä¸€ä¸ªç´¢å¼•ç»“æ„ã€‚</p><p>å¶èŠ‚ç‚¹ä¿å­˜äº†å®Œæ•´çš„æ•°æ®è®°å½•å’Œç´¢å¼•ã€‚è¿™ç§ç´¢å¼•å°±å«åš<strong>èšç°‡ç´¢å¼•</strong>ã€‚</p><p>ç´¢å¼•çš„Keyæ˜¯æ•°æ®çš„ä¸»é”®ï¼Œå› æ­¤InnoDBè¡¨æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ä¸»ç´¢å¼•ã€‚</p><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3621007399.png" alt="InnoDBä¸»é”®ç´¢å¼•"></p><p>å¯ä»¥çœ‹åˆ°å¶èŠ‚ç‚¹åŒ…å«äº†å®Œæ•´çš„æ•°æ®è®°å½•ã€‚</p><p>å› ä¸ºInnoDBçš„æ•°æ®æ–‡ä»¶æœ¬èº«è¦æŒ‰ç…§ä¸»é”®èšé›†ï¼Œæ‰€ä»¥InnoDBè¦æ±‚<strong>å¿…é¡»æœ‰ä¸»é”®</strong>ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼æŒ‡å®šï¼Œåˆ™MySQLç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªå¯ä»¥å”¯ä¸€æ ‡è¯†æ•°æ®è®°å½•çš„åˆ—ä½œä¸ºä¸»é”®ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ç§åˆ—ï¼Œåˆ™MySQLè‡ªåŠ¨ä¸ºInnoDBè¡¨ç”Ÿæˆä¸€ä¸ªéšå«å­—æ®µrowidä½œä¸ºä¸»é”®ï¼Œè¿™ä¸ªå­—æ®µé•¿åº¦ä¸º6ä¸ªå­—èŠ‚ï¼Œç±»å‹ä¸ºé•¿æ•´å½¢ã€‚</p><h4 id="è¾…åŠ©ç´¢å¼•ï¼ˆSecondary-Indexï¼‰-1"><a href="#è¾…åŠ©ç´¢å¼•ï¼ˆSecondary-Indexï¼‰-1" class="headerlink" title="è¾…åŠ©ç´¢å¼•ï¼ˆSecondary Indexï¼‰"></a>è¾…åŠ©ç´¢å¼•ï¼ˆSecondary Indexï¼‰</h4><p>è¾…åŠ©ç´¢å¼•ï¼Œå°†é€”ä¸­çš„ç¬¬äºŒè¡Œnameï¼Œä½œä¸ºç´¢å¼•å¦‚å›¾</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3723123900.png" alt="InnoDBè¾…åŠ©ç´¢å¼•"></p><p><strong>InnoDB è¡¨æ˜¯åŸºäºèšç°‡ç´¢å¼•å»ºç«‹çš„</strong>ã€‚èšç°‡ç´¢å¼•è¿™ç§å®ç°æ–¹å¼ä½¿å¾—æŒ‰ç…§ä¸»é”®çš„æœç´¢ååˆ†é«˜æ•ˆï¼Œä½†æ˜¯<strong>éœ€è¦é¦–å…ˆæ£€ç´¢è¾…åŠ©ç´¢å¼•è·å¾—ä¸»é”®ï¼Œç„¶åç”¨ä¸»é”®åˆ°ä¸»ç´¢å¼•ä¸­æ£€ç´¢è·å¾—è®°å½•</strong>ã€‚</p><p><img src="https://cllc.fun/2019/04/01/mysql-index/3.png" alt="123123"></p><p>ç”±äºInnoDBç´¢å¼•çš„å®ç°ç‰¹æ€§ï¼Œæ¨èä½¿ç”¨æ•´å½¢çš„è‡ªå¢ä¸»é”®ã€‚</p><p>æœ‰ä¸‰ç‚¹å¥½å¤„ï¼š</p><ol><li>è‡ªå¢keyä¸€èˆ¬ä¸ºintç­‰æ•´æ•°å‹ï¼Œkeyæ¯”è¾ƒç´§å‡‘ï¼Œè¿™æ ·må¯ä»¥éå¸¸å¤§ï¼Œè€Œä¸”ç´¢å¼•å ç”¨ç©ºé—´å°ã€‚æœ€æç«¯çš„ä¾‹å­ï¼Œå¦‚æœä½¿ç”¨50Bçš„varcharï¼ˆåŒ…æ‹¬é•¿åº¦ï¼‰ï¼Œé‚£ä¹ˆ<code>m = 4 * 1024 / 54m = 75.85 ~= 76</code>ï¼Œæ·±åº¦æœ€å¤§<code>log(76/2)(10^7) = 4.43 ~= 5</code>ï¼Œå†åŠ ä¸Šcacheç¼ºå¤±ã€å­—ç¬¦ä¸²æ¯”è¾ƒçš„æˆæœ¬ï¼Œæ—¶é—´æˆæœ¬å¢åŠ è¾ƒå¤§ã€‚åŒæ—¶ï¼Œkeyç”±4Bå¢é•¿åˆ°50Bï¼Œæ•´æ£µç´¢å¼•æ ‘çš„ç©ºé—´å ç”¨å¢é•¿ä¹Ÿæ˜¯æä¸ºææ€–çš„ï¼ˆå¦‚æœäºŒçº§ç´¢å¼•ä½¿ç”¨ä¸»é”®å®šä½æ•°æ®è¡Œï¼Œåˆ™ç©ºé—´å¢é•¿æ›´åŠ ä¸¥é‡ï¼‰ã€‚</li><li>MySQLç´¢å¼•åº•å±‚çš„æ•°æ®æ¯”è¾ƒéƒ½æ˜¯æ•´æ•°å‹æ¯”è¾ƒï¼Œå¦‚æœä¸»é”®æ—¶å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œé‡Œé¢è¿˜æœ‰è‹±æ–‡ï¼Œè¿˜å¾—è½¬æ¢ASCIIç è¿›è¡Œæ¯”è¾ƒã€‚æ‰€ä»¥ä¸å»ºè®®ä½¿ç”¨uuidä½œä¸ºä¸»é”®ã€‚</li><li>è‡ªå¢çš„ä¸»é”®ä½¿å¾—æ•°æ®è¡Œçš„æ’å…¥æ¯”å¦‚è½åˆ°ç´¢å¼•æ•°çš„æœ€å³ä¾§ï¼Œå‘ç”ŸèŠ‚ç‚¹åˆ†è£‚çš„é¢‘ç‡è¾ƒä½ã€‚<a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html">B+Tree</a>å®é™…æ“ä½œæ’å…¥è¿‡ç¨‹ã€‚å¦‚æœä¸æ˜¯éå•è°ƒä¸»é”®ï¼Œæ’å…¥è¿‡ç¨‹å¾ˆå¤§ç¨‹åº¦ä¼šå‘ç”ŸèŠ‚ç‚¹é‡æ’ï¼Œä¸åˆ©äºç´¢å¼•ä¼˜åŒ–çš„åˆè¡·ã€‚</li></ol><h3 id="InnoDBç´¢å¼•å’ŒMyISAMç´¢å¼•çš„åŒºåˆ«"><a href="#InnoDBç´¢å¼•å’ŒMyISAMç´¢å¼•çš„åŒºåˆ«" class="headerlink" title="InnoDBç´¢å¼•å’ŒMyISAMç´¢å¼•çš„åŒºåˆ«"></a>InnoDBç´¢å¼•å’ŒMyISAMç´¢å¼•çš„åŒºåˆ«</h3><p>ä¸€æ˜¯ä¸»ç´¢å¼•çš„åŒºåˆ«ï¼šInnoDBçš„æ•°æ®æ–‡ä»¶æœ¬èº«å°±æ˜¯ç´¢å¼•æ–‡ä»¶ã€‚è€ŒMyISAMçš„ç´¢å¼•å’Œæ•°æ®æ˜¯åˆ†å¼€çš„ã€‚</p><p>äºŒæ˜¯è¾…åŠ©ç´¢å¼•çš„åŒºåˆ«ï¼šInnoDBçš„è¾…åŠ©ç´¢å¼•dataåŸŸå­˜å‚¨ç›¸åº”è®°å½•ä¸»é”®çš„å€¼è€Œä¸æ˜¯åœ°å€ã€‚è€ŒMyISAMçš„è¾…åŠ©ç´¢å¼•å’Œä¸»ç´¢å¼•æ²¡æœ‰å¤šå¤§åŒºåˆ«ã€‚</p><h2 id="å››ã€è¦†ç›–ç´¢å¼•ï¼ˆCovering-indexï¼‰"><a href="#å››ã€è¦†ç›–ç´¢å¼•ï¼ˆCovering-indexï¼‰" class="headerlink" title="å››ã€è¦†ç›–ç´¢å¼•ï¼ˆCovering indexï¼‰"></a>å››ã€è¦†ç›–ç´¢å¼•ï¼ˆCovering indexï¼‰</h2><p>InnoDBå­˜å‚¨å¼•æ“æ”¯æŒè¦†ç›–ç´¢å¼•ï¼Œå³ä»è¾…åŠ©ç´¢å¼•ä¸­å°±å¯ä»¥å¾—åˆ°æŸ¥è¯¢çš„è®°å½•ï¼Œè€Œä¸éœ€è¦æŸ¥è¯¢èšé›†ç´¢å¼•ä¸­çš„è®°å½•ï¼Œå°±æ˜¯å¹³æ—¶æ‰€è¯´çš„ä¸éœ€è¦å›è¡¨ã€‚</p><p>å¯ä»¥å‡å°‘å¤§é‡çš„IOæ“ä½œã€‚å¦‚æœè¦æŸ¥è¯¢è¾…åŠ©ç´¢å¼•ä¸­ä¸åŒ…å«çš„å­—æ®µï¼Œå¾—å…ˆéå†è¾…åŠ©ç´¢å¼•ï¼Œå†éå†èšé›†ç´¢å¼•ï¼Œè€Œå¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µå€¼åœ¨è¾…åŠ©ç´¢å¼•ä¸Šå°±æœ‰ï¼Œå°±ä¸ç”¨å†æŸ¥èšé›†ç´¢å¼•äº†ï¼Œè¿™æ˜¾ç„¶ä¼šå‡å°‘IOæ“ä½œã€‚</p><h2 id="äº”ã€è”åˆç´¢å¼•"><a href="#äº”ã€è”åˆç´¢å¼•" class="headerlink" title="äº”ã€è”åˆç´¢å¼•"></a>äº”ã€è”åˆç´¢å¼•</h2><p>è”åˆç´¢å¼•æ˜¯æŒ‡å¯¹è¡¨ä¸Šçš„å¤šä¸ªåˆ—è¿›è¡Œç´¢å¼•ã€‚å¦‚ä¸‹å›¾è”åˆç´¢å¼•åŸç†å›¾</p><p>InnoDBå­˜å‚¨å¼•æ“æ”¯æŒè¦†ç›–ç´¢å¼•ï¼Œå³ä»è¾…åŠ©ç´¢å¼•ä¸­å°±å¯ä»¥å¾—åˆ°æŸ¥è¯¢çš„è®°å½•ï¼Œä¸éœ€è¦æŸ¥è¯¢èšç°‡ç´¢å¼•ä¸­çš„è®°å½•äº†ã€‚å¯ä»¥å‡å°‘å¤§é‡çš„IOæ“ä½œã€‚</p><p>å¦‚æœè¦æŸ¥è¯¢è¾…åŠ©ç´¢å¼•ä¸­ä¸å«æœ‰çš„å­—æ®µï¼Œå¾—å…ˆéå†è¾…åŠ©ç´¢å¼•ï¼Œå†éå†èšé›†ç´¢å¼•ï¼Œè€Œå¦‚æœè¦æŸ¥è¯¢çš„å­—æ®µå€¼åœ¨è¾…åŠ©ç´¢å¼•ä¸Šå°±æœ‰ï¼Œå°±ä¸ç”¨å†æŸ¥èšé›†ç´¢å¼•äº†ï¼Œè¿™æ˜¾ç„¶ä¼šå‡å°‘IOæ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼Œè”åˆç´¢å¼•ï¼ˆa,b,c,dï¼‰,æŸ¥è¯¢æ¡ä»¶a=1 and b=3 and c&gt;3 and d=4;ä¼šä¾æ¬¡å‘½ä¸­a,b,cï¼Œæ— æ³•å‘½ä¸­dï¼Œè¿™å°±æ˜¯æœ€å·¦å‰ç¼€åŒ¹é…ã€‚</p><p>ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„åˆ—ä¸Šçš„ç´¢å¼•ã€‚å¦‚ä¸‹å›¾è”åˆç´¢å¼•çš„åŸç†å›¾ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/271003291.png" alt="è”åˆç´¢å¼•åŸç†å›¾"></p><p>ä¸Šå›¾ä¸­çš„è”åˆç´¢å¼•æœ‰ä¸‰ä¸ªï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä¸¥æ ¼æŒ‰ç…§æ’åºã€‚</p><h2 id="å…­ã€ä¼˜åŒ–å»ºè®®"><a href="#å…­ã€ä¼˜åŒ–å»ºè®®" class="headerlink" title="å…­ã€ä¼˜åŒ–å»ºè®®"></a>å…­ã€ä¼˜åŒ–å»ºè®®</h2><h3 id="æœ€å·¦å‰ç¼€åŒ¹é…"><a href="#æœ€å·¦å‰ç¼€åŒ¹é…" class="headerlink" title="æœ€å·¦å‰ç¼€åŒ¹é…"></a>æœ€å·¦å‰ç¼€åŒ¹é…</h3><p>ç´¢å¼•å¯ä»¥ç®€å•å¦‚ä¸€ä¸ªåˆ—(a)ï¼Œä¹Ÿå¯ä»¥å¤æ‚å¦‚å¤šä¸ªåˆ—(a, b, c, d)ï¼Œå³<code>è”åˆç´¢å¼•</code>ã€‚å¦‚æœæ˜¯è”åˆç´¢å¼•ï¼Œé‚£ä¹ˆkeyä¹Ÿç”±å¤šä¸ªåˆ—ç»„æˆï¼ŒåŒæ—¶ï¼Œç´¢å¼•åªèƒ½ç”¨äºæŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨ï¼ˆç›¸ç­‰ï¼‰ï¼Œé‡åˆ°èŒƒå›´æŸ¥è¯¢(&gt;ã€&lt;ã€betweenã€likeå·¦åŒ¹é…)ç­‰å°±ä¸èƒ½è¿›ä¸€æ­¥åŒ¹é…äº†ï¼Œåç»­é€€åŒ–ä¸ºçº¿æ€§æŸ¥æ‰¾ã€‚å› æ­¤ï¼Œåˆ—çš„æ’åˆ—é¡ºåºå†³å®šäº†å¯å‘½ä¸­ç´¢å¼•çš„åˆ—æ•°ã€‚</p><p>å¦‚æœ‰ç´¢å¼•(a, b, c, d)ï¼ŒæŸ¥è¯¢æ¡ä»¶<code>a = 1 and b = 2 and c &gt; 3 and d = 4</code>ï¼Œåˆ™ä¼šåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¾æ¬¡å‘½ä¸­aã€bã€cï¼Œæ— æ³•å‘½ä¸­dã€‚ä¹Ÿå°±æ˜¯æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€‚</p><h3 id="ã€inè‡ªåŠ¨ä¼˜åŒ–é¡ºåº"><a href="#ã€inè‡ªåŠ¨ä¼˜åŒ–é¡ºåº" class="headerlink" title="=ã€inè‡ªåŠ¨ä¼˜åŒ–é¡ºåº"></a>=ã€inè‡ªåŠ¨ä¼˜åŒ–é¡ºåº</h3><p>ä¸éœ€è¦è€ƒè™‘=ã€inç­‰çš„é¡ºåºï¼Œmysqlä¼šè‡ªåŠ¨ä¼˜åŒ–è¿™äº›æ¡ä»¶çš„é¡ºåºï¼Œä»¥åŒ¹é…å°½å¯èƒ½å¤šçš„ç´¢å¼•åˆ—ã€‚</p><p>å¦‚æœ‰ç´¢å¼•(a, b, c, d)ï¼ŒæŸ¥è¯¢æ¡ä»¶<code>c &gt; 3 and b = 2 and a = 1 and d &lt; 4</code>ä¸<code>a = 1 and c &gt; 3 and b = 2 and d &lt; 4</code>ç­‰é¡ºåºéƒ½æ˜¯å¯ä»¥çš„ï¼ŒMySQLä¼šè‡ªåŠ¨ä¼˜åŒ–ä¸º<code>a = 1 and b = 2 and c &gt; 3 and d &lt; 4</code>ï¼Œä¾æ¬¡å‘½ä¸­aã€bã€cã€‚</p><h3 id="ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—"><a href="#ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—" class="headerlink" title="ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—"></a>ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—</h3><p>æœ‰ç´¢å¼•åˆ—å‚ä¸è®¡ç®—çš„æŸ¥è¯¢æ¡ä»¶å¯¹ç´¢å¼•ä¸å‹å¥½ï¼ˆç”šè‡³æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼‰ï¼Œå¦‚<code>from_unixtime(create_time) = &#39;2014-05-29&#39;</code>ã€‚</p><p>åŸå› å¾ˆç®€å•ï¼Œå¦‚ä½•åœ¨èŠ‚ç‚¹ä¸­æŸ¥æ‰¾åˆ°å¯¹åº”keyï¼Ÿå¦‚æœçº¿æ€§æ‰«æï¼Œåˆ™æ¯æ¬¡éƒ½éœ€è¦é‡æ–°è®¡ç®—ï¼Œæˆæœ¬å¤ªé«˜ï¼›å¦‚æœäºŒåˆ†æŸ¥æ‰¾ï¼Œåˆ™éœ€è¦é’ˆå¯¹from_unixtimeæ–¹æ³•ç¡®å®šå¤§å°å…³ç³»ã€‚</p><p>å› æ­¤ï¼Œç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—ã€‚ä¸Šè¿°<code>from_unixtime(create_time) = &#39;2014-05-29&#39;</code>è¯­å¥åº”è¯¥å†™æˆ<code>create_time = unix_timestamp(&#39;2014-05-29&#39;)</code>ã€‚</p><h3 id="èƒ½æ‰©å±•å°±ä¸è¦æ–°å»ºç´¢å¼•"><a href="#èƒ½æ‰©å±•å°±ä¸è¦æ–°å»ºç´¢å¼•" class="headerlink" title="èƒ½æ‰©å±•å°±ä¸è¦æ–°å»ºç´¢å¼•"></a>èƒ½æ‰©å±•å°±ä¸è¦æ–°å»ºç´¢å¼•</h3><p>å¦‚æœå·²æœ‰ç´¢å¼•(a)ï¼Œæƒ³å»ºç«‹ç´¢å¼•(a, b)ï¼Œå°½é‡é€‰æ‹©ä¿®æ”¹ç´¢å¼•(a)ä¸ºç´¢å¼•(a, b)ã€‚</p><p>æ–°å»ºç´¢å¼•çš„æˆæœ¬å¾ˆå®¹æ˜“ç†è§£ã€‚è€ŒåŸºäºç´¢å¼•(a)ä¿®æ”¹ä¸ºç´¢å¼•(a, b)çš„è¯ï¼ŒMySQLå¯ä»¥ç›´æ¥åœ¨ç´¢å¼•açš„B+æ ‘ä¸Šï¼Œç»è¿‡åˆ†è£‚ã€åˆå¹¶ç­‰ä¿®æ”¹ä¸ºç´¢å¼•(a, b)ã€‚</p><h3 id="ä¸éœ€è¦å»ºç«‹å‰ç¼€æœ‰åŒ…å«å…³ç³»çš„ç´¢å¼•"><a href="#ä¸éœ€è¦å»ºç«‹å‰ç¼€æœ‰åŒ…å«å…³ç³»çš„ç´¢å¼•" class="headerlink" title="ä¸éœ€è¦å»ºç«‹å‰ç¼€æœ‰åŒ…å«å…³ç³»çš„ç´¢å¼•"></a>ä¸éœ€è¦å»ºç«‹å‰ç¼€æœ‰åŒ…å«å…³ç³»çš„ç´¢å¼•</h3><p>å¦‚æœå·²æœ‰ç´¢å¼•(a, b)ï¼Œåˆ™ä¸éœ€è¦å†å»ºç«‹ç´¢å¼•(a)ï¼Œä½†æ˜¯å¦‚æœæœ‰å¿…è¦ï¼Œåˆ™ä»ç„¶éœ€è€ƒè™‘å»ºç«‹ç´¢å¼•(b)ã€‚</p><h3 id="é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œç´¢å¼•"><a href="#é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œç´¢å¼•" class="headerlink" title="é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œç´¢å¼•"></a>é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œç´¢å¼•</h3><p>å¾ˆå®¹æ˜“ç†è§£ã€‚å¦‚ï¼Œç”¨æ€§åˆ«ä½œç´¢å¼•ï¼Œé‚£ä¹ˆç´¢å¼•ä»…èƒ½å°†1000wè¡Œæ•°æ®åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ˆå¦‚500wç”·ï¼Œ500wå¥³ï¼‰ï¼Œç´¢å¼•å‡ ä¹æ— æ•ˆã€‚</p><p><code>åŒºåˆ†åº¦</code>çš„å…¬å¼æ˜¯<code>count(distinct &lt;col&gt;) / count(*)</code>ï¼Œè¡¨ç¤ºå­—æ®µä¸é‡å¤çš„æ¯”ä¾‹ï¼Œæ¯”ä¾‹è¶Šå¤§åŒºåˆ†åº¦è¶Šå¥½ã€‚å”¯ä¸€é”®çš„åŒºåˆ†åº¦æ˜¯1ï¼Œè€Œä¸€äº›çŠ¶æ€ã€æ€§åˆ«å­—æ®µå¯èƒ½åœ¨å¤§æ•°æ®é¢å‰çš„åŒºåˆ†åº¦è¶‹è¿‘äº0ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginxçš„å®‰è£…ã€é…ç½®å’Œå¸è½½</title>
      <link href="2019/08/29/2019-08-29-nginx-start/"/>
      <url>2019/08/29/2019-08-29-nginx-start/</url>
      
        <content type="html"><![CDATA[<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦å­¦ä¹ äº†Nginxçš„å®‰è£…/é…ç½®/å¸è½½ï¼Œåšä¸€ä¸ªå¤§æ¦‚çš„äº†è§£å³å¯ã€‚</p><h3 id="Nginxç®€ä»‹"><a href="#Nginxç®€ä»‹" class="headerlink" title="Nginxç®€ä»‹"></a>Nginxç®€ä»‹</h3><p>Nginxï¼ˆå‘éŸ³åŒengine xï¼‰æ˜¯å¼‚æ­¥æ¡†æ¶çš„ç½‘é¡µæœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œåå‘ä»£ç†ã€è´Ÿè½½å¹³è¡¡å™¨å’ŒHTTPç¼“å­˜ã€‚è¯¥è½¯ä»¶ç”±ä¼Šæˆˆå°”Â·èµ›ç´¢è€¶å¤«åˆ›å»ºå¹¶äº2004å¹´é¦–æ¬¡å…¬å¼€å‘å¸ƒã€‚2011å¹´æˆç«‹åŒåå…¬å¸ä»¥æä¾›æ”¯æŒã€‚2019å¹´3æœˆ11æ—¥ï¼ŒNginxå…¬å¸è¢«F5 Networksä»¥6.7äº¿ç¾å…ƒæ”¶è´­ã€‚</p><p>Nginxæ˜¯å…è´¹çš„å¼€æºè½¯ä»¶ï¼Œæ ¹æ®ç±»BSDè®¸å¯è¯çš„æ¡æ¬¾å‘å¸ƒã€‚ä¸€å¤§éƒ¨åˆ†WebæœåŠ¡å™¨ä½¿ç”¨Nginxï¼Œé€šå¸¸ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨ã€‚</p><h3 id="1-nginx-å¸è½½ï¼š"><a href="#1-nginx-å¸è½½ï¼š" class="headerlink" title="1.nginx å¸è½½ï¼š"></a>1.nginx å¸è½½ï¼š</h3><p><strong>æ³¨æ„ç‚¹ï¼šé¦–å…ˆéœ€è¦åœæ­¢nginxçš„æœåŠ¡</strong></p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">sudo service nginx stop</span><br></pre></td></tr></table></figure><p>ï¼ˆ1.ï¼‰åˆ é™¤nginxï¼Œâ€“purgeåŒ…æ‹¬é…ç½®æ–‡ä»¶</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> --purge <span class="builtin-name">remove</span> nginx</span><br></pre></td></tr></table></figure><p>ï¼ˆ2.ï¼‰è‡ªåŠ¨ç§»é™¤å…¨éƒ¨ä¸ä½¿ç”¨çš„è½¯ä»¶åŒ…</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> autoremove</span><br></pre></td></tr></table></figure><p>ï¼ˆ3.ï¼‰åˆ—å‡ºä¸nginxç›¸å…³çš„è½¯ä»¶ å¹¶åˆ é™¤æ˜¾ç¤ºçš„è½¯ä»¶</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">dpkg --get-selections|grep nginx</span><br><span class="line"></span><br><span class="line">sudo apt-<span class="builtin-name">get</span> --purge <span class="builtin-name">remove</span> nginx</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> --purge <span class="builtin-name">remove</span> nginx-common</span><br><span class="line">sudo apt-<span class="builtin-name">get</span> --purge <span class="builtin-name">remove</span> nginx-core</span><br></pre></td></tr></table></figure><p>ï¼ˆ4.ï¼‰å†æ¬¡æ‰§è¡Œ</p><figure class="highlight 1c"><table><tr><td class="code"><pre><span class="line">dpkg --get-selections<span class="string">|grep nginx</span></span><br><span class="line"></span><br><span class="line">which nginx <span class="meta"># ä¸åœ¨æ˜¾ç¤ºnginx</span></span><br><span class="line"></span><br><span class="line">è¿™æ ·å°±å¯ä»¥å®Œå…¨å¸è½½æ‰nginxåŒ…æ‹¬é…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><h3 id="2-nginx-å®‰è£…"><a href="#2-nginx-å®‰è£…" class="headerlink" title="2.nginx å®‰è£…"></a>2.nginx å®‰è£…</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install nginx </span><br></pre></td></tr></table></figure><h3 id="3-ä¿®æ”¹nginxé»˜è®¤ç«¯å£"><a href="#3-ä¿®æ”¹nginxé»˜è®¤ç«¯å£" class="headerlink" title="3.ä¿®æ”¹nginxé»˜è®¤ç«¯å£"></a>3.ä¿®æ”¹nginxé»˜è®¤ç«¯å£</h3><figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>nginx<span class="regexp">/sites-enabled/</span><span class="keyword">default</span></span><br><span class="line">server &#123;</span><br><span class="line">        listen <span class="number">80</span> default_server;</span><br><span class="line">        listen [::]:<span class="number">80</span> default_server;</span><br></pre></td></tr></table></figure><h3 id="4-nginxéƒ¨ç½²å‰ç«¯ä»£ç "><a href="#4-nginxéƒ¨ç½²å‰ç«¯ä»£ç " class="headerlink" title="4.nginxéƒ¨ç½²å‰ç«¯ä»£ç "></a>4.nginxéƒ¨ç½²å‰ç«¯ä»£ç </h3><p>ï¼ˆ1.ï¼‰ç¼–è¯‘å‰ç«¯ä»£ç </p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">npm run build  <span class="comment">//ç”Ÿæˆdistæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2.ï¼‰å°†distæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶æ‹·è´æ–‡ä»¶åˆ°/root/project/www</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cp dist<span class="regexp">/* /</span>root<span class="regexp">/project/</span>www    <span class="regexp">//</span>å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œæå‰åˆ›å»ºwwwç›®å½•</span><br></pre></td></tr></table></figure><p>ï¼ˆ3.ï¼‰ä¿®æ”¹/etc/nginx/nginx.conf</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">user</span> root;</span><br><span class="line"></span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">      <span class="attribute">listen</span> <span class="number">8082</span>;</span><br><span class="line">      <span class="attribute">server_name</span> localhost;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">root</span> /root/project/www;</span><br><span class="line">      <span class="attribute">index</span> index.html;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> $uri $uri/ /index.html;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-nginxå¯åŠ¨"><a href="#5-nginxå¯åŠ¨" class="headerlink" title="5.nginxå¯åŠ¨"></a>5.nginxå¯åŠ¨</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">nginx -s stop  <span class="regexp">//</span>åœæ­¢</span><br><span class="line">nginx -s reload  <span class="regexp">//</span>é‡æ–°åŠ è½½</span><br><span class="line">nginx  <span class="regexp">//</span>å¯åŠ¨</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€›ä¸€é€›å¤§å”ä¸å¤œåŸ</title>
      <link href="2019/08/04/2019-08-04-xi-an/"/>
      <url>2019/08/04/2019-08-04-xi-an/</url>
      
        <content type="html"><![CDATA[<p>ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªå‘¨æœ«æ²¡æœ‰å‡ºå»äº†ï¼Œä¹‹å‰ä¸€ç›´å®…ç€ä¸æƒ³å‡ºå»èµ°ï¼Œä»Šå¤©å®åœ¨æƒ³å‡ºå»èµ°èµ°ã€‚äºæ˜¯å‚æ™šå»äº†é€›äº†é€›å¤§å”ä¸å¤œåŸâ€¦</p><p>é€›ä¹‹å‰å…ˆå†™å†™å¯¹è¥¿å®‰çš„ä¸€äº›æ„Ÿæƒ³ï¼š</p><p>æ¥è¥¿å®‰å‡ºå·®å¿«ä¸¤å¹´äº†ã€‚è¿™æ—¶é—´è¿‡å¾—çœŸçš„å¿«</p><p>17å¹´å¹´åº•æ¥çš„æ—¶å€™ï¼Œèµ¶ä¸Šäº†è¥¿å®‰ä¸¥é‡çš„é›¾éœ¾å¤©æ°”ï¼Œå¯è§åº¦å·®ä¸å¤šä¸åˆ°ç™¾ç±³ï¼Œå¾ˆææ€–ã€‚é™¤äº†ä¸Šç­å’Œåƒé¥­ï¼ŒåŸºæœ¬ä¸æƒ³å‡ºé—¨ã€‚</p><p>åŒå¹´èµ¶ä¸ŠæŠ–éŸ³appå¯¹è¥¿å®‰çš„æåº¦æ¨å¹¿ï¼Œå°†è¥¿å®‰è¿™åº§åŸå¸‚æ¨å‘äº†å¤§ä¼—çœ¼ä¸­ï¼Œä¸€åº¦è¢«ç§°ä¸ºæŠ–éŸ³ä¹‹åŸï¼Œå¾ˆå¤šç½‘ç»œæ‰“å¡åœ¨è¥¿å®‰å„ä¸ªåœ°æ–¹çˆ†çº¢ï¼Œä¸¾ä¸ªæ —å­ï¼šæ°¸å…´åŠçš„æ‘”ç¢—é…’ã€è€èŒ¶åŠçš„æ¯›ç¬”é…¥ã€å†°å³°å’Œå°å…µé©¬ä¿‘ã€çŸ³å¤´äººç¬‘åœºç­‰ç­‰ã€‚ã€‚ã€‚</p><p>ä»¥åŠå½“åœ°äººå…³å¿ƒçš„æˆ¿ä»·ä»¥è‚‰çœ¼å¯è§çš„é€Ÿåº¦è¿…çŒ›é£™å‡ï¼Œè¿™ä¸ªé€Ÿåº¦é¢†å…ˆå…¨å›½ã€‚</p><p>ç»™äººçš„æ„Ÿè§‰æœ‰ç‚¹è¿‡å¿«ï¼Œå¿«å¾—ä¸æ˜¯æˆ‘è®¤çŸ¥ä¸­çš„é‚£ä¸ªè¥¿å®‰å¤åŸã€‚</p><p>å¯ä»¥æ„Ÿå—åˆ°è¥¿å®‰åœ¨åŠªåŠ›æƒ³è¦æˆä¸ºä¸€åº§ä¼˜ç§€çš„åŸå¸‚ï¼Œå¹¶ä¸ºä¹‹ä¸æ–­åŠªåŠ›ç€ï¼Œå€¼å¾—è‚¯å®šï¼ä½†ä¼¼ä¹æœ‰ç‚¹æ“ä¹‹è¿‡æ€¥äº†ç‚¹ã€‚</p><p>æ°‘é£çš„è¯ï¼Œå‡ åº¦è¢«æ¨å‘äº†çƒ­æœï¼Œäº‰è®ºäº†å¾ˆä¹…ã€‚æˆ‘ä¹Ÿçœ‹äº†ä¸€äº›è¯„è®ºï¼Œä¸ªäººè§‰å¾—äº”äº”å¼€ï¼Œæœ‰å¥½çš„ä¹Ÿæœ‰ä¸å¥½çš„åœ°æ–¹ï¼Œæˆ‘å°±ä¸å¾€è¿™æ–¹é¢è¯´ä¸‹å»äº†ï¼</p><p>ç›¸ä¿¡è¥¿å®‰ä¼šæ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„åŸå¸‚ã€‚æ¯•ç«Ÿæ˜¯13æœçš„å¤éƒ½ï¼</p><hr><p>å›åˆ°ä»Šå¤©çš„ä¸»è§’ï¼šå¤§å”ä¸å¤œåŸã€‚<br>æ¯åˆ°å¤œæ™šï¼ŒæƒŠè‰³è‡³æ<br>æœ‰äººè¯´ï¼šã€ä»å–œæ¬¢åˆ°çˆ±ä¸Šåªéœ€ä¸‰ç§’ï¼Œå…¶å®ï¼Œä¸‰ç§’åªæ˜¯é‡åŒ–çš„è™šæ•°ï¼Œå¤©ä¸Šè¡—å¸‚ï¼Œæ¢¦å›å¤§å”ï¼Œåœ¨è¿™é‡Œï¼Œåªéœ€ä¸€ç¬ï¼Œä¸€ç¬ï¼Œä½ å°±å¯ä»¥å›åˆ°å¤§å”ã€‘</p><p>ï¼ˆç›¸æœºå»‰ä»·ï¼ŒåŸå§‹é•œå¤´ï¼›æŠ€æœ¯è¿‡æ¸£ï¼Œéšä¾¿çœ‹çœ‹ï¼‰</p><p>å½“æ™šçš„å¤œè‰²ä¹Ÿè¢«çº¢è‰²éœ“è™¹ç¯æŸ“æˆäº†çº¢è‰²ï¼Œæ™šä¸Šçš„è¥¿å®‰å¼‚å¸¸è€€çœ¼</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1060601031.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/657967137.jpg"/></td>    </tr></table>èµ°ä¸€æ®µè·¯å°±ä¼šæœ‰è¿™æ ·é†’ç›®å¤§å­—å†™ç€ï¼šå¤§å”ä¸å¤œåŸã€‚äººå¤´æ”’åŠ¨ï¼Œå¾ˆåº”æ™¯<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3413010223.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1822173089.jpg"/></td>    </tr></table>å·å·å¤§é›å¡”ï¼Œå†ç»æ‚ æ‚ å²æœˆï¼Œè€¸ç«‹åœ¨å¤éƒ½é•¿å®‰çš„å¤§æ…ˆæ©å¯ºè¥¿é™¢å†…ï¼Œå®ƒæ‰¿è½½ç€å†å²ï¼Œè§è¯ç€æ²§æ¡‘ï¼Œå±•æœ›ç€æœªæ¥ï¼Œä½œä¸ºè¥¿å®‰çš„æ ‡å¿—æ€§å»ºç­‘ï¼Œåœ¨æ—¶åˆ»å¬å–šç€ä¸–ç•Œä¸Šå››é¢å…«æ–¹çš„æ¸¸å®¢çº·æ¶Œè€Œè‡³ã€‚<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/4124619488.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2412143900.jpg"/></td>    </tr></table>æˆ‘è§‰å¾—è¥¿å®‰ç©å¾—æœ€6çš„åº”è¯¥æ˜¯ç¯å…‰äº†ï¼Œç§€å¾—ä½ å¤´çš®å‘éº» ::aru:thumb:: å…¶å®å¤§æ™šä¸Šçš„è¿™ä¹ˆå¤šäººæ¥è¿™é‡Œï¼Œå°±æ˜¯æ¥æ‹å„ç§å„æ ·çš„ç¯å…‰ï¼ŒåŒ…æ‹¬æˆ‘ ::aru:surprised:: <table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/1362857026.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2744572109.jpg"/></td>    </tr></table>æ™¯åŒºæœ‰å¾ˆå¤šå·¥ä½œäººå‘˜åœ¨è¿™é‡Œå·¥ä½œæ¼”å‡ºã€‚ç©èµ·äº†æ‚¬ç©ºçš„ç©æ³•ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“ä¼ ä¸Šæ¥ç…§ç‰‡å°±æ—‹è½¬äº†ï¼Œåˆšå¥½æ²»ä¸€æ²»é¢ˆæ¤ ::aru:bigeye:: ï¼‰<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/198569365.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/65073547.jpg"/></td>    </tr></table>æ™šä¸Šè¿˜ç¢°å·§æœ‰æ¸¸è¡Œå±•å‡ºçš„å¤§è½¦å¤©ä¸Šçš„ç¯å…‰å›ºç„¶ä¸ä¼šæ”¾è¿‡ï¼Œè¿åœ°ä¸Šä¹Ÿåˆ«æµªè´¹äº†ï¼Œå„ç§è¸©è¸æ„Ÿåº”å¼ç¯å…‰é“ºæ»¡åœ°<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/522464691.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/348229430.jpg"/></td>    </tr></table>è¿˜æœ‰å”å¤ªå®—æä¸–æ°‘è´è§‚ä¹‹æ²»çš„å·¨å¤§é›•åƒï¼Œè±¡å¾ç€å¤§å”ç››ä¸–çš„å¼€å¯ï¼Œå°†ä¸­å›½ä¼ ç»Ÿå†œä¸šç¤¾ä¼šæ¨å‘é¼ç››æ—¶æœŸï¼Œé‚£æ—¶å€™çš„GDPåº”è¯¥å°±æ˜¯ä¸–ç•Œç¬¬ä¸€äº†å§<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/956363203.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/4121878747.jpg"/></td>    </tr></table>è¥¿å®‰å¸‚æ”¿åºœæ‰“é€ å¤§å”ä¸å¤œåŸè¿˜æ˜¯ä¸‹äº†ä¸å°‘åŠŸå¤«çš„ï¼Œå„ç§åº—å¼•è¿›æ¥ï¼Œå¸å¼•æ¸¸å®¢ã€‚<table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2495059789.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/2808435176.jpg"/></td>    </tr>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/925263401.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3424253528.jpg"/></td>    </tr></table>å›å»çš„è·¯ä¸Šï¼Œæ—¶é—´å¤§æ¦‚æ˜¯æ™šä¸Š9ç‚¹åŠçš„æ ·å­ï¼Œè¿‡é©¬è·¯ï¼Œä½ çœ‹ï¼Œå¯¹é¢è¿˜æœ‰è¿™ä¹ˆå¤šäººè¿›æ¥çœ‹ã€‚ã€å¤§å”ä¸å¤œåŸï¼Œåå‰¯å…¶å®ã€‘è¿˜æœ‰å¾ˆå¤šæ¼‚äº®çš„ç©¿å”è£…çš„å°å§å§ ï¼Œå¯åˆ«é”™è¿‡å•¦å“ˆå“ˆå“ˆå“ˆ::aru:smile:: <table>    <tr>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/506740253.jpg"/></td>        <td><img src="https://images.niaobulashi.com/typecho/uploads/2019/08/3479488574.jpg"/></td>    </tr></table>ä¸ªäººæœ€å–œæ¬¢çš„æ˜¯ï¼Œæ—è¾¹è¥¿å®‰å¤§æ‚¦åŸçš„ç¾çŒ´ç‹é›•åƒï¼Œé›•åƒåå­—å«åšã€å‹¿ç©ºã€‘å¸…çˆ†äº†![å­™æ‚Ÿç©º.jpg][1]<p>å¤§å”ä¸å¤œåŸå®åœ¨å¤ª<strong>å¤§</strong>ï¼Œå®åœ¨é€›ä¸å®Œ<br>è¿™é‡Œé™„ä¸Šå¤§å”ä¸å¤œåŸçš„åœ°å›¾ï¼Œåœ°é“3å·çº¿ï¼Œå¤§é›å¡”ç«™ä¸‹Cå‡ºå£å°±åˆ°äº†å¹¿åœºæ­£é—¨äº†ã€‚<br>æ—è¾¹å°±æ˜¯å¤§å”èŠ™è“‰å›­ï¼Œé¡ºé“ä¹Ÿå¯ä»¥å»çœ‹çœ‹ã€‚</p><iframe width="970" height="500" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.openstreetmap.org/export/embed.html?bbox=108.94633912830615%2C34.213584598042935%2C108.97393369465136%2C34.22589828654352&amp;layer=mapnik" style="border: 1px solid black"></iframe><p>è¥¿å®‰ä½ åˆšæ¥å¯èƒ½å¿ƒé‡Œæ‰“åˆ†å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œåƒæˆ‘è¿™æ ·å¾…ä¹…äº†ï¼Œè™½ç„¶ä¸€ç›´å¯¹è¿™é‡Œçš„é¥®é£Ÿä¹ æƒ¯ä¸é€‚å®œ<br>æ¯•ç«Ÿåœ¨æ¹–åŒ—ç”Ÿæ´»äº†20å¤šå¹´çš„äººäº†ï¼Œé¥®é£Ÿä¹ æƒ¯ä¸å¥½æ”¹å˜ã€‚<br>å…¶ä»–çš„ä½ ä¼šæ„Ÿè§‰æ…¢æ…¢åœ¨å˜å¥½ï¼Œå¯¹è¥¿å®‰çš„åè§ä¹Ÿä¸æ˜¯é‚£ä¹ˆå¤§ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæœ€åä¸€å¥ï¼šæƒ³æ•…ä¹¡çš„äº‘äº†</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaåŸºç¡€çŸ¥è¯†å›é¡¾(ä¸€)</title>
      <link href="2019/07/29/2019-07-29-java-base-01/"/>
      <url>2019/07/29/2019-07-29-java-base-01/</url>
      
        <content type="html"><![CDATA[<h2 id="1-é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"><a href="#1-é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«" class="headerlink" title="1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«"></a>1. é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«</h2><ul><li><strong>é¢å‘è¿‡ç¨‹</strong> ï¼š<strong>é¢å‘è¿‡ç¨‹æ€§èƒ½æ¯”é¢å‘å¯¹è±¡é«˜ã€‚</strong> å› ä¸ºç±»è°ƒç”¨æ—¶éœ€è¦å®ä¾‹åŒ–ï¼Œå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ¶ˆè€—èµ„æºï¼Œæ‰€ä»¥å½“æ€§èƒ½æ˜¯æœ€é‡è¦çš„è€ƒé‡å› ç´ çš„æ—¶å€™ï¼Œæ¯”å¦‚å•ç‰‡æœºã€åµŒå…¥å¼å¼€å‘ã€Linux/Unixç­‰ä¸€èˆ¬é‡‡ç”¨é¢å‘è¿‡ç¨‹å¼€å‘ã€‚ä½†æ˜¯ï¼Œ<strong>é¢å‘è¿‡ç¨‹æ²¡æœ‰é¢å‘å¯¹è±¡æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€‚</strong></li><li><strong>é¢å‘å¯¹è±¡</strong> ï¼š<strong>é¢å‘å¯¹è±¡æ˜“ç»´æŠ¤ã€æ˜“å¤ç”¨ã€æ˜“æ‰©å±•ã€‚</strong> å› ä¸ºé¢å‘å¯¹è±¡æœ‰å°è£…ã€ç»§æ‰¿ã€å¤šæ€æ€§çš„ç‰¹æ€§ï¼Œæ‰€ä»¥å¯ä»¥è®¾è®¡å‡ºä½è€¦åˆçš„ç³»ç»Ÿï¼Œä½¿ç³»ç»Ÿæ›´åŠ çµæ´»ã€æ›´åŠ æ˜“äºç»´æŠ¤ã€‚ä½†æ˜¯ï¼Œ<strong>é¢å‘å¯¹è±¡æ€§èƒ½æ¯”é¢å‘è¿‡ç¨‹ä½</strong>ã€‚</li></ul><h2 id="2-Java-è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹"><a href="#2-Java-è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹" class="headerlink" title="2. Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹?"></a>2. Java è¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹?</h2><ol><li>ç®€å•æ˜“å­¦ï¼›</li><li>é¢å‘å¯¹è±¡ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ï¼›</li><li>å¹³å°æ— å…³æ€§ï¼ˆ Java è™šæ‹Ÿæœºå®ç°å¹³å°æ— å…³æ€§ï¼‰ï¼›</li><li>å¯é æ€§ï¼›</li><li>å®‰å…¨æ€§ï¼›</li><li>æ”¯æŒå¤šçº¿ç¨‹ï¼ˆ C++ è¯­è¨€æ²¡æœ‰å†…ç½®çš„å¤šçº¿ç¨‹æœºåˆ¶ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å¤šçº¿ç¨‹åŠŸèƒ½æ¥è¿›è¡Œå¤šçº¿ç¨‹ç¨‹åºè®¾è®¡ï¼Œè€Œ Java è¯­è¨€å´æä¾›äº†å¤šçº¿ç¨‹æ”¯æŒï¼‰ï¼›</li><li>æ”¯æŒç½‘ç»œç¼–ç¨‹å¹¶ä¸”å¾ˆæ–¹ä¾¿ï¼ˆ Java è¯­è¨€è¯ç”Ÿæœ¬èº«å°±æ˜¯ä¸ºç®€åŒ–ç½‘ç»œç¼–ç¨‹è®¾è®¡çš„ï¼Œå› æ­¤ Java è¯­è¨€ä¸ä»…æ”¯æŒç½‘ç»œç¼–ç¨‹è€Œä¸”å¾ˆæ–¹ä¾¿ï¼‰ï¼›</li><li>ç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜ï¼›</li></ol><h2 id="3-å…³äº-JVM-JDK-å’Œ-JRE-æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”"><a href="#3-å…³äº-JVM-JDK-å’Œ-JRE-æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”" class="headerlink" title="3. å…³äº JVM JDK å’Œ JRE æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”"></a>3. å…³äº JVM JDK å’Œ JRE æœ€è¯¦ç»†é€šä¿—çš„è§£ç­”</h2><h3 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h3><p>Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVMæœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œå®ƒä»¬éƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚</p><p><strong>ä»€ä¹ˆæ˜¯å­—èŠ‚ç ?é‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„æ˜¯ä»€ä¹ˆ?</strong></p><blockquote><p>åœ¨ Java ä¸­ï¼ŒJVMå¯ä»¥ç†è§£çš„ä»£ç å°±å«åš<code>å­—èŠ‚ç </code>ï¼ˆå³æ‰©å±•åä¸º <code>.class</code> çš„æ–‡ä»¶ï¼‰ï¼Œå®ƒä¸é¢å‘ä»»ä½•ç‰¹å®šçš„å¤„ç†å™¨ï¼Œåªé¢å‘è™šæ‹Ÿæœºã€‚Java è¯­è¨€é€šè¿‡å­—èŠ‚ç çš„æ–¹å¼ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ä¼ ç»Ÿè§£é‡Šå‹è¯­è¨€æ‰§è¡Œæ•ˆç‡ä½çš„é—®é¢˜ï¼ŒåŒæ—¶åˆä¿ç•™äº†è§£é‡Šå‹è¯­è¨€å¯ç§»æ¤çš„ç‰¹ç‚¹ã€‚æ‰€ä»¥ Java ç¨‹åºè¿è¡Œæ—¶æ¯”è¾ƒé«˜æ•ˆï¼Œè€Œä¸”ï¼Œç”±äºå­—èŠ‚ç å¹¶ä¸é’ˆå¯¹ä¸€ç§ç‰¹å®šçš„æœºå™¨ï¼Œå› æ­¤ï¼ŒJavaç¨‹åºæ— é¡»é‡æ–°ç¼–è¯‘ä¾¿å¯åœ¨å¤šç§ä¸åŒæ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºä¸Šè¿è¡Œã€‚</p></blockquote><p><strong>Java ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸€èˆ¬æœ‰ä¸‹é¢3æ­¥ï¼š</strong></p><p><img src="https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/Java%20%E7%A8%8B%E5%BA%8F%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B.png" alt="Javaç¨‹åºè¿è¡Œè¿‡ç¨‹"></p><p>æˆ‘ä»¬éœ€è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ .class-&gt;æœºå™¨ç  è¿™ä¸€æ­¥ã€‚åœ¨è¿™ä¸€æ­¥ JVM ç±»åŠ è½½å™¨é¦–å…ˆåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨é€è¡Œè§£é‡Šæ‰§è¡Œï¼Œè¿™ç§æ–¹å¼çš„æ‰§è¡Œé€Ÿåº¦ä¼šç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚è€Œä¸”ï¼Œæœ‰äº›æ–¹æ³•å’Œä»£ç å—æ˜¯ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„(ä¹Ÿå°±æ˜¯æ‰€è°“çš„çƒ­ç‚¹ä»£ç )ï¼Œæ‰€ä»¥åé¢å¼•è¿›äº† JIT ç¼–è¯‘å™¨ï¼Œè€ŒJIT å±äºè¿è¡Œæ—¶ç¼–è¯‘ã€‚å½“ JIT ç¼–è¯‘å™¨å®Œæˆç¬¬ä¸€æ¬¡ç¼–è¯‘åï¼Œå…¶ä¼šå°†å­—èŠ‚ç å¯¹åº”çš„æœºå™¨ç ä¿å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼Œæœºå™¨ç çš„è¿è¡Œæ•ˆç‡è‚¯å®šæ˜¯é«˜äº Java è§£é‡Šå™¨çš„ã€‚è¿™ä¹Ÿè§£é‡Šäº†æˆ‘ä»¬ä¸ºä»€ä¹ˆç»å¸¸ä¼šè¯´ Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ã€‚</p><blockquote><p>HotSpoté‡‡ç”¨äº†æƒ°æ€§è¯„ä¼°(Lazy Evaluation)çš„åšæ³•ï¼Œæ ¹æ®äºŒå…«å®šå¾‹ï¼Œæ¶ˆè€—å¤§éƒ¨åˆ†ç³»ç»Ÿèµ„æºçš„åªæœ‰é‚£ä¸€å°éƒ¨åˆ†çš„ä»£ç ï¼ˆçƒ­ç‚¹ä»£ç ï¼‰ï¼Œè€Œè¿™ä¹Ÿå°±æ˜¯JITæ‰€éœ€è¦ç¼–è¯‘çš„éƒ¨åˆ†ã€‚JVMä¼šæ ¹æ®ä»£ç æ¯æ¬¡è¢«æ‰§è¡Œçš„æƒ…å†µæ”¶é›†ä¿¡æ¯å¹¶ç›¸åº”åœ°åšå‡ºä¸€äº›ä¼˜åŒ–ï¼Œå› æ­¤æ‰§è¡Œçš„æ¬¡æ•°è¶Šå¤šï¼Œå®ƒçš„é€Ÿåº¦å°±è¶Šå¿«ã€‚JDK 9å¼•å…¥äº†ä¸€ç§æ–°çš„ç¼–è¯‘æ¨¡å¼AOT(Ahead of Time Compilation)ï¼Œå®ƒæ˜¯ç›´æ¥å°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™æ ·å°±é¿å…äº†JITé¢„çƒ­ç­‰å„æ–¹é¢çš„å¼€é”€ã€‚JDKæ”¯æŒåˆ†å±‚ç¼–è¯‘å’ŒAOTåä½œä½¿ç”¨ã€‚ä½†æ˜¯ ï¼ŒAOT ç¼–è¯‘å™¨çš„ç¼–è¯‘è´¨é‡æ˜¯è‚¯å®šæ¯”ä¸ä¸Š JIT ç¼–è¯‘å™¨çš„ã€‚</p></blockquote><p><strong>æ€»ç»“ï¼š</strong></p><p>Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVMæœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œå®ƒä»¬éƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚å­—èŠ‚ç å’Œä¸åŒç³»ç»Ÿçš„ JVM å®ç°æ˜¯ Java è¯­è¨€â€œä¸€æ¬¡ç¼–è¯‘ï¼Œéšå¤„å¯ä»¥è¿è¡Œâ€çš„å…³é”®æ‰€åœ¨ã€‚</p><h3 id="JDK-å’Œ-JRE"><a href="#JDK-å’Œ-JRE" class="headerlink" title="JDK å’Œ JRE"></a>JDK å’Œ JRE</h3><p>JDKæ˜¯Java Development Kitï¼Œå®ƒæ˜¯åŠŸèƒ½é½å…¨çš„Java SDKã€‚å®ƒæ‹¥æœ‰JREæ‰€æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œå·¥å…·ï¼ˆå¦‚javadocå’Œjdbï¼‰ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚</p><p>JRE æ˜¯ Javaè¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿è¡Œå·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJavaç±»åº“ï¼Œjavaå‘½ä»¤å’Œå…¶ä»–çš„ä¸€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½ç”¨äºåˆ›å»ºæ–°ç¨‹åºã€‚</p><p>å¦‚æœä½ åªæ˜¯ä¸ºäº†è¿è¡Œä¸€ä¸‹ Java ç¨‹åºçš„è¯ï¼Œé‚£ä¹ˆä½ åªéœ€è¦å®‰è£… JRE å°±å¯ä»¥äº†ã€‚å¦‚æœä½ éœ€è¦è¿›è¡Œä¸€äº› Java ç¼–ç¨‹æ–¹é¢çš„å·¥ä½œï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å®‰è£…JDKäº†ã€‚ä½†æ˜¯ï¼Œè¿™ä¸æ˜¯ç»å¯¹çš„ã€‚æœ‰æ—¶ï¼Œå³ä½¿æ‚¨ä¸æ‰“ç®—åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œä»»ä½•Javaå¼€å‘ï¼Œä»ç„¶éœ€è¦å®‰è£…JDKã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦ä½¿ç”¨JSPéƒ¨ç½²Webåº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆä»æŠ€æœ¯ä¸Šè®²ï¼Œæ‚¨åªæ˜¯åœ¨åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­è¿è¡ŒJavaç¨‹åºã€‚é‚£ä½ ä¸ºä»€ä¹ˆéœ€è¦JDKå‘¢ï¼Ÿå› ä¸ºåº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¼šå°† JSP è½¬æ¢ä¸º Java servletï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨ JDK æ¥ç¼–è¯‘ servletã€‚</p><h2 id="4-å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«"><a href="#4-å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«" class="headerlink" title="4. å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«?"></a>4. å­—ç¬¦å‹å¸¸é‡å’Œå­—ç¬¦ä¸²å¸¸é‡çš„åŒºåˆ«?</h2><ol><li>å½¢å¼ä¸Š: å­—ç¬¦å¸¸é‡æ˜¯å•å¼•å·å¼•èµ·çš„ä¸€ä¸ªå­—ç¬¦; å­—ç¬¦ä¸²å¸¸é‡æ˜¯åŒå¼•å·å¼•èµ·çš„è‹¥å¹²ä¸ªå­—ç¬¦</li><li>å«ä¹‰ä¸Š: å­—ç¬¦å¸¸é‡ç›¸å½“äºä¸€ä¸ªæ•´å‹å€¼( ASCII å€¼),å¯ä»¥å‚åŠ è¡¨è¾¾å¼è¿ç®—; å­—ç¬¦ä¸²å¸¸é‡ä»£è¡¨ä¸€ä¸ªåœ°å€å€¼(è¯¥å­—ç¬¦ä¸²åœ¨å†…å­˜ä¸­å­˜æ”¾ä½ç½®)</li><li>å å†…å­˜å¤§å° å­—ç¬¦å¸¸é‡åªå 2ä¸ªå­—èŠ‚; å­—ç¬¦ä¸²å¸¸é‡å è‹¥å¹²ä¸ªå­—èŠ‚(è‡³å°‘ä¸€ä¸ªå­—ç¬¦ç»“æŸæ ‡å¿—) (<strong>æ³¨æ„ï¼š charåœ¨Javaä¸­å ä¸¤ä¸ªå­—èŠ‚</strong>)</li></ol><blockquote><p>javaç¼–ç¨‹æ€æƒ³ç¬¬å››ç‰ˆï¼š2.2.2èŠ‚ <img src="http://my-blog-to-use.oss-cn-beijing.aliyuncs.com/18-9-15/86735519.jpg" alt="img"></p></blockquote><h2 id="5-æ„é€ å™¨-Constructor-æ˜¯å¦å¯è¢«-override"><a href="#5-æ„é€ å™¨-Constructor-æ˜¯å¦å¯è¢«-override" class="headerlink" title="5. æ„é€ å™¨ Constructor æ˜¯å¦å¯è¢« override?"></a>5. æ„é€ å™¨ Constructor æ˜¯å¦å¯è¢« override?</h2><p>åœ¨è®²ç»§æ‰¿çš„æ—¶å€™æˆ‘ä»¬å°±çŸ¥é“çˆ¶ç±»çš„ç§æœ‰å±æ€§å’Œæ„é€ æ–¹æ³•å¹¶ä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ Constructor ä¹Ÿå°±ä¸èƒ½è¢« overrideï¼ˆé‡å†™ï¼‰,ä½†æ˜¯å¯ä»¥ overloadï¼ˆé‡è½½ï¼‰,æ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç±»ä¸­æœ‰å¤šä¸ªæ„é€ å‡½æ•°çš„æƒ…å†µã€‚</p><h2 id="6-é‡è½½å’Œé‡å†™çš„åŒºåˆ«"><a href="#6-é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="headerlink" title="6. é‡è½½å’Œé‡å†™çš„åŒºåˆ«"></a>6. é‡è½½å’Œé‡å†™çš„åŒºåˆ«</h2><ul><li><strong>é‡è½½ï¼š</strong> å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åå¿…é¡»ç›¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒã€ä¸ªæ•°ä¸åŒã€é¡ºåºä¸åŒï¼Œæ–¹æ³•è¿”å›å€¼å’Œè®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒï¼Œå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ã€‚ ã€€ã€€</li><li><strong>é‡å†™ï¼š</strong> å‘ç”Ÿåœ¨çˆ¶å­ç±»ä¸­ï¼Œæ–¹æ³•åã€å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒï¼Œè¿”å›å€¼èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºç­‰äºçˆ¶ç±»ï¼›å¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º private åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ã€‚</li></ul><h2 id="7-Java-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§-å°è£…-ç»§æ‰¿-å¤šæ€"><a href="#7-Java-é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§-å°è£…-ç»§æ‰¿-å¤šæ€" class="headerlink" title="7. Java é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§: å°è£… ç»§æ‰¿ å¤šæ€"></a>7. Java é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸‰å¤§ç‰¹æ€§: å°è£… ç»§æ‰¿ å¤šæ€</h2><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><p>å°è£…æŠŠä¸€ä¸ªå¯¹è±¡çš„å±æ€§ç§æœ‰åŒ–ï¼ŒåŒæ—¶æä¾›ä¸€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„å±æ€§çš„æ–¹æ³•ï¼Œå¦‚æœå±æ€§ä¸æƒ³è¢«å¤–ç•Œè®¿é—®ï¼Œæˆ‘ä»¬å¤§å¯ä¸å¿…æä¾›æ–¹æ³•ç»™å¤–ç•Œè®¿é—®ã€‚ä½†æ˜¯å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æä¾›ç»™å¤–ç•Œè®¿é—®çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚</p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>ç»§æ‰¿æ˜¯ä½¿ç”¨å·²å­˜åœ¨çš„ç±»çš„å®šä¹‰ä½œä¸ºåŸºç¡€å»ºç«‹æ–°ç±»çš„æŠ€æœ¯ï¼Œæ–°ç±»çš„å®šä¹‰å¯ä»¥å¢åŠ æ–°çš„æ•°æ®æˆ–æ–°çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½é€‰æ‹©æ€§åœ°ç»§æ‰¿çˆ¶ç±»ã€‚é€šè¿‡ä½¿ç”¨ç»§æ‰¿æˆ‘ä»¬èƒ½å¤Ÿéå¸¸æ–¹ä¾¿åœ°å¤ç”¨ä»¥å‰çš„ä»£ç ã€‚</p><p><strong>å…³äºç»§æ‰¿å¦‚ä¸‹ 3 ç‚¹è¯·è®°ä½ï¼š</strong></p><ol><li>å­ç±»æ‹¥æœ‰çˆ¶ç±»å¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯çˆ¶ç±»ä¸­çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•å­ç±»æ˜¯æ— æ³•è®¿é—®ï¼Œ<strong>åªæ˜¯æ‹¥æœ‰</strong>ã€‚</li><li>å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±å±æ€§å’Œæ–¹æ³•ï¼Œå³å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•ã€‚</li><li>å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚ï¼ˆä»¥åä»‹ç»ï¼‰ã€‚</li></ol><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><p>æ‰€è°“å¤šæ€å°±æ˜¯æŒ‡ç¨‹åºä¸­å®šä¹‰çš„å¼•ç”¨å˜é‡æ‰€æŒ‡å‘çš„å…·ä½“ç±»å‹å’Œé€šè¿‡è¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åœ¨ç¼–ç¨‹æ—¶å¹¶ä¸ç¡®å®šï¼Œè€Œæ˜¯åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰ç¡®å®šï¼Œå³ä¸€ä¸ªå¼•ç”¨å˜é‡åˆ°åº•ä¼šæŒ‡å‘å“ªä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¯¥å¼•ç”¨å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨åˆ°åº•æ˜¯å“ªä¸ªç±»ä¸­å®ç°çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç”±ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½å†³å®šã€‚</p><p>åœ¨Javaä¸­æœ‰ä¸¤ç§å½¢å¼å¯ä»¥å®ç°å¤šæ€ï¼šç»§æ‰¿ï¼ˆå¤šä¸ªå­ç±»å¯¹åŒä¸€æ–¹æ³•çš„é‡å†™ï¼‰å’Œæ¥å£ï¼ˆå®ç°æ¥å£å¹¶è¦†ç›–æ¥å£ä¸­åŒä¸€æ–¹æ³•ï¼‰ã€‚</p><h2 id="8-String-StringBuffer-å’Œ-StringBuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ-String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„"><a href="#8-String-StringBuffer-å’Œ-StringBuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ-String-ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„" class="headerlink" title="8. String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ? String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?"></a>8. String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ? String ä¸ºä»€ä¹ˆæ˜¯ä¸å¯å˜çš„?</h2><p><strong>å¯å˜æ€§</strong></p><p>ç®€å•çš„æ¥è¯´ï¼šString ç±»ä¸­ä½¿ç”¨ final å…³é”®å­—ä¿®é¥°å­—ç¬¦æ•°ç»„æ¥ä¿å­˜å­—ç¬¦ä¸²ï¼Œ<code>privateã€€finalã€€charã€€value[]</code>ï¼Œæ‰€ä»¥ String å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚è€ŒStringBuilder ä¸ StringBuffer éƒ½ç»§æ‰¿è‡ª AbstractStringBuilder ç±»ï¼Œåœ¨ AbstractStringBuilder ä¸­ä¹Ÿæ˜¯ä½¿ç”¨å­—ç¬¦æ•°ç»„ä¿å­˜å­—ç¬¦ä¸²<code>char[]value</code> ä½†æ˜¯æ²¡æœ‰ç”¨ final å…³é”®å­—ä¿®é¥°ï¼Œæ‰€ä»¥è¿™ä¸¤ç§å¯¹è±¡éƒ½æ˜¯å¯å˜çš„ã€‚</p><p>StringBuilder ä¸ StringBuffer çš„æ„é€ æ–¹æ³•éƒ½æ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ä¹Ÿå°±æ˜¯ AbstractStringBuilder å®ç°çš„ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡ŒæŸ¥é˜…æºç ã€‚</p><p>AbstractStringBuilder.java</p><figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractStringBuilder</span> <span class="keyword">implements</span> <span class="title">Appendable</span>, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line">    <span class="built_in">char</span>[] value;</span><br><span class="line">    <span class="built_in">int</span> <span class="keyword">count</span>;</span><br><span class="line">    AbstractStringBuilder() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    AbstractStringBuilder(<span class="built_in">int</span> capacity) &#123;</span><br><span class="line">        value = <span class="keyword">new</span> <span class="built_in">char</span>[capacity];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>çº¿ç¨‹å®‰å…¨æ€§</strong></p><p>String ä¸­çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£ä¸ºå¸¸é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚AbstractStringBuilder æ˜¯ StringBuilder ä¸ StringBuffer çš„å…¬å…±çˆ¶ç±»ï¼Œå®šä¹‰äº†ä¸€äº›å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œï¼Œå¦‚ expandCapacityã€appendã€insertã€indexOf ç­‰å…¬å…±æ–¹æ³•ã€‚StringBuffer å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚StringBuilder å¹¶æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡ŒåŠ åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚ã€€</p><p><strong>æ€§èƒ½</strong></p><p>æ¯æ¬¡å¯¹ String ç±»å‹è¿›è¡Œæ”¹å˜çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ String å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ String å¯¹è±¡ã€‚StringBuffer æ¯æ¬¡éƒ½ä¼šå¯¹ StringBuffer å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ã€‚ç›¸åŒæƒ…å†µä¸‹ä½¿ç”¨ StringBuilder ç›¸æ¯”ä½¿ç”¨ StringBuffer ä»…èƒ½è·å¾— 10%~15% å·¦å³çš„æ€§èƒ½æå‡ï¼Œä½†å´è¦å†’å¤šçº¿ç¨‹ä¸å®‰å…¨çš„é£é™©ã€‚</p><p><strong>å¯¹äºä¸‰è€…ä½¿ç”¨çš„æ€»ç»“ï¼š</strong></p><ol><li>æ“ä½œå°‘é‡çš„æ•°æ®: é€‚ç”¨String</li><li>å•çº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨StringBuilder</li><li>å¤šçº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨StringBuffer</li></ol><h2 id="9-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"><a href="#9-è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±" class="headerlink" title="9. è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"></a>9. è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h2><ul><li><strong>è£…ç®±</strong>ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›</li><li><strong>æ‹†ç®±</strong>ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›</li></ul><h2 id="10-åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„"><a href="#10-åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„" class="headerlink" title="10. åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„?"></a>10. åœ¨ä¸€ä¸ªé™æ€æ–¹æ³•å†…è°ƒç”¨ä¸€ä¸ªéé™æ€æˆå‘˜ä¸ºä»€ä¹ˆæ˜¯éæ³•çš„?</h2><p>ç”±äºé™æ€æ–¹æ³•å¯ä»¥ä¸é€šè¿‡å¯¹è±¡è¿›è¡Œè°ƒç”¨ï¼Œå› æ­¤åœ¨é™æ€æ–¹æ³•é‡Œï¼Œä¸èƒ½è°ƒç”¨å…¶ä»–éé™æ€å˜é‡ï¼Œä¹Ÿä¸å¯ä»¥è®¿é—®éé™æ€å˜é‡æˆå‘˜ã€‚</p><h2 id="11-åœ¨-Java-ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨"><a href="#11-åœ¨-Java-ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨" class="headerlink" title="11. åœ¨ Java ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨"></a>11. åœ¨ Java ä¸­å®šä¹‰ä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•çš„ä½œç”¨</h2><p>Java ç¨‹åºåœ¨æ‰§è¡Œå­ç±»çš„æ„é€ æ–¹æ³•ä¹‹å‰ï¼Œå¦‚æœæ²¡æœ‰ç”¨ <code>super()</code>æ¥è°ƒç”¨çˆ¶ç±»ç‰¹å®šçš„æ„é€ æ–¹æ³•ï¼Œåˆ™ä¼šè°ƒç”¨çˆ¶ç±»ä¸­â€œæ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•â€ã€‚å› æ­¤ï¼Œå¦‚æœçˆ¶ç±»ä¸­åªå®šä¹‰äº†æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œè€Œåœ¨å­ç±»çš„æ„é€ æ–¹æ³•ä¸­åˆæ²¡æœ‰ç”¨ <code>super()</code>æ¥è°ƒç”¨çˆ¶ç±»ä¸­ç‰¹å®šçš„æ„é€ æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘æ—¶å°†å‘ç”Ÿé”™è¯¯ï¼Œå› ä¸º Java ç¨‹åºåœ¨çˆ¶ç±»ä¸­æ‰¾ä¸åˆ°æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•å¯ä¾›æ‰§è¡Œã€‚è§£å†³åŠæ³•æ˜¯åœ¨çˆ¶ç±»é‡ŒåŠ ä¸Šä¸€ä¸ªä¸åšäº‹ä¸”æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚ ã€€</p><h2 id="12-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#12-æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="12. æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>12. æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ol><li>æ¥å£çš„æ–¹æ³•é»˜è®¤æ˜¯ publicï¼Œæ‰€æœ‰æ–¹æ³•åœ¨æ¥å£ä¸­ä¸èƒ½æœ‰å®ç°(Java 8 å¼€å§‹æ¥å£æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥æœ‰éæŠ½è±¡çš„æ–¹æ³•ã€‚</li><li>æ¥å£ä¸­é™¤äº†staticã€finalå˜é‡ï¼Œä¸èƒ½æœ‰å…¶ä»–å˜é‡ï¼Œè€ŒæŠ½è±¡ç±»ä¸­åˆ™ä¸ä¸€å®šã€‚</li><li>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½å®ç°ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æ¥å£è‡ªå·±æœ¬èº«å¯ä»¥é€šè¿‡extendså…³é”®å­—æ‰©å±•å¤šä¸ªæ¥å£ã€‚</li><li>æ¥å£æ–¹æ³•é»˜è®¤ä¿®é¥°ç¬¦æ˜¯publicï¼ŒæŠ½è±¡æ–¹æ³•å¯ä»¥æœ‰publicã€protectedå’Œdefaultè¿™äº›ä¿®é¥°ç¬¦ï¼ˆæŠ½è±¡æ–¹æ³•å°±æ˜¯ä¸ºäº†è¢«é‡å†™æ‰€ä»¥ä¸èƒ½ä½¿ç”¨privateå…³é”®å­—ä¿®é¥°ï¼ï¼‰ã€‚</li><li>ä»è®¾è®¡å±‚é¢æ¥è¯´ï¼ŒæŠ½è±¡æ˜¯å¯¹ç±»çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿è®¾è®¡ï¼Œè€Œæ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§è¡Œä¸ºçš„è§„èŒƒã€‚</li></ol><p>å¤‡æ³¨ï¼šåœ¨JDK8ä¸­ï¼Œæ¥å£ä¹Ÿå¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥å£åè°ƒç”¨ã€‚å®ç°ç±»å’Œå®ç°æ˜¯ä¸å¯ä»¥è°ƒç”¨çš„ã€‚å¦‚æœåŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£ï¼Œæ¥å£ä¸­å®šä¹‰äº†ä¸€æ ·çš„é»˜è®¤æ–¹æ³•ï¼Œåˆ™å¿…é¡»é‡å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚(è¯¦è§issue:<a href="https://github.com/Snailclimb/JavaGuide/issues/146">https://github.com/Snailclimb/JavaGuide/issues/146</a>)</p><h2 id="13-ä¸-equals-é‡è¦"><a href="#13-ä¸-equals-é‡è¦" class="headerlink" title="13. == ä¸ equals(é‡è¦))"></a>13. == ä¸ equals(é‡è¦))</h2><p><strong>==</strong> : å®ƒçš„ä½œç”¨æ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯ä¸æ˜¯ç›¸ç­‰ã€‚å³ï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡(åŸºæœ¬æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹==æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€)ã€‚</p><p><strong>equals()</strong> : å®ƒçš„ä½œç”¨ä¹Ÿæ˜¯åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä½†å®ƒä¸€èˆ¬æœ‰ä¸¤ç§ä½¿ç”¨æƒ…å†µï¼š</p><ul><li>æƒ…å†µ1ï¼šç±»æ²¡æœ‰è¦†ç›– equals() æ–¹æ³•ã€‚åˆ™é€šè¿‡ equals() æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚</li><li>æƒ…å†µ2ï¼šç±»è¦†ç›–äº† equals() æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– equals() æ–¹æ³•æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true (å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚</li></ul><p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong></p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test1</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">String</span> a = <span class="keyword">new</span> <span class="built_in"><span class="keyword">String</span></span>(<span class="string">&quot;ab&quot;</span>); <span class="comment">// a ä¸ºä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line">        <span class="keyword">String</span> b = <span class="keyword">new</span> <span class="built_in"><span class="keyword">String</span></span>(<span class="string">&quot;ab&quot;</span>); <span class="comment">// bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·</span></span><br><span class="line">        <span class="keyword">String</span> aa = <span class="string">&quot;ab&quot;</span>; <span class="comment">// æ”¾åœ¨å¸¸é‡æ± ä¸­</span></span><br><span class="line">        <span class="keyword">String</span> bb = <span class="string">&quot;ab&quot;</span>; <span class="comment">// ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾</span></span><br><span class="line">        <span class="keyword">if</span> (aa == bb) <span class="comment">// true</span></span><br><span class="line">            System.out.<span class="built_in">println</span>(<span class="string">&quot;aa==bb&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (a == b) <span class="comment">// falseï¼ŒéåŒä¸€å¯¹è±¡</span></span><br><span class="line">            System.out.<span class="built_in">println</span>(<span class="string">&quot;a==b&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (a.<span class="built_in">equals</span>(b)) <span class="comment">// true</span></span><br><span class="line">            System.out.<span class="built_in">println</span>(<span class="string">&quot;aEQb&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">42</span> == <span class="number">42.0</span>) &#123; <span class="comment">// true</span></span><br><span class="line">            System.out.<span class="built_in">println</span>(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong></p><ul><li>String ä¸­çš„ equals æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º object çš„ equals æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ String çš„ equals æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚</li><li>å½“åˆ›å»º String ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª String å¯¹è±¡ã€‚</li></ul><h2 id="14-hashCode-ä¸-equals-é‡è¦"><a href="#14-hashCode-ä¸-equals-é‡è¦" class="headerlink" title="14. hashCode ä¸ equals (é‡è¦)"></a>14. hashCode ä¸ equals (é‡è¦)</h2><p>é¢è¯•å®˜å¯èƒ½ä¼šé—®ä½ ï¼šâ€œä½ é‡å†™è¿‡ hashcode å’Œ equals ä¹ˆï¼Œä¸ºä»€ä¹ˆé‡å†™equalsæ—¶å¿…é¡»é‡å†™hashCodeæ–¹æ³•ï¼Ÿâ€</p><h3 id="hashCodeï¼ˆï¼‰ä»‹ç»"><a href="#hashCodeï¼ˆï¼‰ä»‹ç»" class="headerlink" title="hashCodeï¼ˆï¼‰ä»‹ç»"></a>hashCodeï¼ˆï¼‰ä»‹ç»</h3><p>hashCode() çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚hashCode() å®šä¹‰åœ¨JDKçš„Object.javaä¸­ï¼Œè¿™å°±æ„å‘³ç€Javaä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰hashCode() å‡½æ•°ã€‚</p><p>æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰</p><h3 id="ä¸ºä»€ä¹ˆè¦æœ‰-hashCode"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰-hashCode" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰ hashCode"></a>ä¸ºä»€ä¹ˆè¦æœ‰ hashCode</h3><p><strong>æˆ‘ä»¬å…ˆä»¥â€œHashSet å¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼š</strong> å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ HashSet æ—¶ï¼ŒHashSet ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ hashcode å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ hashcode å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„hashcodeï¼ŒHashSetä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ hashcode å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ <code>equalsï¼ˆï¼‰</code>æ–¹æ³•æ¥æ£€æŸ¥ hashcode ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSet å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚ï¼ˆæ‘˜è‡ªæˆ‘çš„Javaå¯è’™ä¹¦ã€ŠHead first javaã€‹ç¬¬äºŒç‰ˆï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† equals çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚</p><p>é€šè¿‡æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š<code>hashCode()</code> çš„ä½œç”¨å°±æ˜¯<strong>è·å–å“ˆå¸Œç </strong>ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ªintæ•´æ•°ã€‚è¿™ä¸ª<strong>å“ˆå¸Œç çš„ä½œç”¨</strong>æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚<strong>hashCode()åœ¨æ•£åˆ—è¡¨ä¸­æ‰æœ‰ç”¨ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹æ²¡ç”¨ã€‚</strong>åœ¨æ•£åˆ—è¡¨ä¸­hashCode() çš„ä½œç”¨æ˜¯è·å–å¯¹è±¡çš„æ•£åˆ—ç ï¼Œè¿›è€Œç¡®å®šè¯¥å¯¹è±¡åœ¨æ•£åˆ—è¡¨ä¸­çš„ä½ç½®ã€‚</p><h3 id="hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š"><a href="#hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š" class="headerlink" title="hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š"></a>hashCodeï¼ˆï¼‰ä¸equalsï¼ˆï¼‰çš„ç›¸å…³è§„å®š</h3><ol><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™hashcodeä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„</li><li>ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨equalsæ–¹æ³•éƒ½è¿”å›true</li><li>ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„</li><li><strong>å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–</strong></li><li>hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode()ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰</li></ol><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/skywang12345/p/3324958.html">Java hashCode() å’Œ equals()çš„è‹¥å¹²é—®é¢˜è§£ç­”</a></p><h2 id="15-ä¸ºä»€ä¹ˆJavaä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"><a href="#15-ä¸ºä»€ä¹ˆJavaä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ" class="headerlink" title="15. ä¸ºä»€ä¹ˆJavaä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"></a>15. ä¸ºä»€ä¹ˆJavaä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ</h2><p>é¦–å…ˆå›é¡¾ä¸€ä¸‹åœ¨ç¨‹åºè®¾è®¡è¯­è¨€ä¸­æœ‰å…³å°†å‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼ˆæˆ–å‡½æ•°ï¼‰çš„ä¸€äº›ä¸“ä¸šæœ¯è¯­ã€‚<strong>æŒ‰å€¼è°ƒç”¨(call by value)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å€¼ï¼Œè€ŒæŒ‰å¼•ç”¨è°ƒç”¨ï¼ˆcall by reference)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å˜é‡åœ°å€ã€‚ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¿®æ”¹ä¼ é€’å¼•ç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ï¼Œè€Œä¸èƒ½ä¿®æ”¹ä¼ é€’å€¼è°ƒç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ã€‚</strong> å®ƒç”¨æ¥æè¿°å„ç§ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆä¸åªæ˜¯Java)ä¸­æ–¹æ³•å‚æ•°ä¼ é€’æ–¹å¼ã€‚</p><p><strong>Javaç¨‹åºè®¾è®¡è¯­è¨€æ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•å¾—åˆ°çš„æ˜¯æ‰€æœ‰å‚æ•°å€¼çš„ä¸€ä¸ªæ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„ä»»ä½•å‚æ•°å˜é‡çš„å†…å®¹ã€‚</strong></p><p><strong>ä¸‹é¢é€šè¿‡ 3 ä¸ªä¾‹å­æ¥ç»™å¤§å®¶è¯´æ˜</strong></p><h3 id="example-1"><a href="#example-1" class="headerlink" title="example 1"></a>example 1</h3><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> num2 = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    swap(num1, num2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;num1 = &quot; + num1);</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;num2 = &quot; + num2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">public</span> static <span class="type">void</span> swap(<span class="type">int</span> a, <span class="type">int</span> b) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="keyword">temp</span> = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = <span class="keyword">temp</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;a = &quot; + a);</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;b = &quot; + b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong></p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">a</span> = <span class="number">20</span></span><br><span class="line"><span class="attr">b</span> = <span class="number">10</span></span><br><span class="line"><span class="attr">num1</span> = <span class="number">10</span></span><br><span class="line"><span class="attr">num2</span> = <span class="number">20</span></span><br></pre></td></tr></table></figure><p><strong>è§£æï¼š</strong></p><p><a href="https://camo.githubusercontent.com/ab46506b1a5ce09a516051c35f981e55255337f9/687474703a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d392d32372f32323139313334382e6a7067"><img src="https://camo.githubusercontent.com/ab46506b1a5ce09a516051c35f981e55255337f9/687474703a2f2f6d792d626c6f672d746f2d7573652e6f73732d636e2d6265696a696e672e616c6979756e63732e636f6d2f31382d392d32372f32323139313334382e6a7067" alt="example 1 "></a></p><p>åœ¨swapæ–¹æ³•ä¸­ï¼Œaã€bçš„å€¼è¿›è¡Œäº¤æ¢ï¼Œå¹¶ä¸ä¼šå½±å“åˆ° num1ã€num2ã€‚å› ä¸ºï¼Œaã€bä¸­çš„å€¼ï¼Œåªæ˜¯ä» num1ã€num2 çš„å¤åˆ¶è¿‡æ¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œaã€bç›¸å½“äºnum1ã€num2 çš„å‰¯æœ¬ï¼Œå‰¯æœ¬çš„å†…å®¹æ— è®ºæ€ä¹ˆä¿®æ”¹ï¼Œéƒ½ä¸ä¼šå½±å“åˆ°åŸä»¶æœ¬èº«ã€‚</p><p><strong>é€šè¿‡ä¸Šé¢ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼Œè€Œå¯¹è±¡å¼•ç”¨ä½œä¸ºå‚æ•°å°±ä¸ä¸€æ ·ï¼Œè¯·çœ‹ example2.</strong></p><h3 id="example-2"><a href="#example-2" class="headerlink" title="example 2"></a>example 2</h3><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] arr = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> &#125;;</span><br><span class="line">  System.out.<span class="built_in">println</span>(arr[<span class="number">0</span>]);</span><br><span class="line">  <span class="built_in">change</span>(arr);</span><br><span class="line">  System.out.<span class="built_in">println</span>(arr[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å°†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å˜ä¸º0</span></span><br><span class="line">  array[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p><strong>è§£æï¼š</strong></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/4012894370.jpg" alt="example02.jpg"></p><p>array è¢«åˆå§‹åŒ– arr çš„æ‹·è´ä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ array å’Œ arr æŒ‡å‘çš„æ—¶åŒä¸€ä¸ªæ•°ç»„å¯¹è±¡ã€‚ å› æ­¤ï¼Œå¤–éƒ¨å¯¹å¼•ç”¨å¯¹è±¡çš„æ”¹å˜ä¼šåæ˜ åˆ°æ‰€å¯¹åº”çš„å¯¹è±¡ä¸Šã€‚</p><p><strong>é€šè¿‡ example2 æˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œå®ç°ä¸€ä¸ªæ”¹å˜å¯¹è±¡å‚æ•°çŠ¶æ€çš„æ–¹æ³•å¹¶ä¸æ˜¯ä¸€ä»¶éš¾äº‹ã€‚ç†ç”±å¾ˆç®€å•ï¼Œæ–¹æ³•å¾—åˆ°çš„æ˜¯å¯¹è±¡å¼•ç”¨çš„æ‹·è´ï¼Œå¯¹è±¡å¼•ç”¨åŠå…¶ä»–çš„æ‹·è´åŒæ—¶å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚</strong></p><p><strong>å¾ˆå¤šç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆç‰¹åˆ«æ˜¯ï¼ŒC++å’ŒPascal)æä¾›äº†ä¸¤ç§å‚æ•°ä¼ é€’çš„æ–¹å¼ï¼šå€¼è°ƒç”¨å’Œå¼•ç”¨è°ƒç”¨ã€‚æœ‰äº›ç¨‹åºå‘˜ï¼ˆç”šè‡³æœ¬ä¹¦çš„ä½œè€…ï¼‰è®¤ä¸ºJavaç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œè¿™ç§ç†è§£æ˜¯ä¸å¯¹çš„ã€‚ç”±äºè¿™ç§è¯¯è§£å…·æœ‰ä¸€å®šçš„æ™®éæ€§ï¼Œæ‰€ä»¥ä¸‹é¢ç»™å‡ºä¸€ä¸ªåä¾‹æ¥è¯¦ç»†åœ°é˜è¿°ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</strong></p><h3 id="example-3"><a href="#example-3" class="headerlink" title="example 3"></a>example 3</h3><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> Test &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">public</span> static <span class="type">void</span> main(String[] args) &#123;</span><br><span class="line">    // TODO Auto-<span class="keyword">generated</span> <span class="keyword">method</span> stub</span><br><span class="line">    Student s1 = <span class="built_in">new</span> Student(&quot;å°å¼ &quot;);</span><br><span class="line">    Student s2 = <span class="built_in">new</span> Student(&quot;å°æ&quot;);</span><br><span class="line">    Test.swap(s1, s2);</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;s1:&quot; + s1.getName());</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;s2:&quot; + s2.getName());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">public</span> static <span class="type">void</span> swap(Student x, Student y) &#123;</span><br><span class="line">    Student <span class="keyword">temp</span> = x;</span><br><span class="line">    x = y;</span><br><span class="line">    y = <span class="keyword">temp</span>;</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;x:&quot; + x.getName());</span><br><span class="line">    <span class="keyword">System</span>.<span class="keyword">out</span>.println(&quot;y:&quot; + y.getName());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç»“æœï¼š</strong></p><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">x:</span>å°æ</span><br><span class="line"><span class="symbol">y:</span>å°å¼ </span><br><span class="line"><span class="symbol">s1:</span>å°å¼ </span><br><span class="line"><span class="symbol">s2:</span>å°æ</span><br></pre></td></tr></table></figure><p><strong>è§£æï¼š</strong></p><p>äº¤æ¢ä¹‹å‰ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/1702368504.jpg" alt="example03.jpg"></p><p>äº¤æ¢ä¹‹åï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2621135131.jpg" alt="example04.jpg"></p><p>é€šè¿‡ä¸Šé¢ä¸¤å¼ å›¾å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹å‡ºï¼š <strong>æ–¹æ³•å¹¶æ²¡æœ‰æ”¹å˜å­˜å‚¨åœ¨å˜é‡ s1 å’Œ s2 ä¸­çš„å¯¹è±¡å¼•ç”¨ã€‚swapæ–¹æ³•çš„å‚æ•°xå’Œyè¢«åˆå§‹åŒ–ä¸ºä¸¤ä¸ªå¯¹è±¡å¼•ç”¨çš„æ‹·è´ï¼Œè¿™ä¸ªæ–¹æ³•äº¤æ¢çš„æ˜¯è¿™ä¸¤ä¸ªæ‹·è´</strong></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Javaç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰ å€¼ä¼ é€’çš„ã€‚</p><p>ä¸‹é¢å†æ€»ç»“ä¸€ä¸‹Javaä¸­æ–¹æ³•å‚æ•°çš„ä½¿ç”¨æƒ…å†µï¼š</p><ul><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆå³æ•°å€¼å‹æˆ–å¸ƒå°”å‹ï¼‰ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡å‚æ•°çš„çŠ¶æ€ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</li></ul><hr><p>å‚è€ƒï¼š<a href="https://github.com/niaobulashi/JavaGuide">https://github.com/niaobulashi/JavaGuide</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(åäº”)ï¼šShiroè®°ä½æˆ‘rememberMeã€éªŒè¯ç Kaptcha</title>
      <link href="2019/07/25/2019-07-25-rememberme-kaptcha/"/>
      <url>2019/07/25/2019-07-25-rememberme-kaptcha/</url>
      
        <content type="html"><![CDATA[<p>æ¥ç€ä¸Šæ¬¡å­¦ä¹ çš„ã€ŠSpring Boot2(åäºŒ)ï¼šæ‰‹æ‘¸æ‰‹æ•™ä½ æ­å»ºShiroå®‰å…¨æ¡†æ¶ã€‹ï¼Œå®ç°äº†Shiroçš„è®¤è¯å’Œæˆæƒã€‚ä»Šå¤©ç»§ç»­åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå­¦ä¹ Shiroå®ç°åŠŸèƒ½è®°ä½æˆ‘rememberMeï¼Œä»¥åŠç™»å½•æ—¶éªŒè¯ç Kaptchaã€‚</p><p>Remember Meè®°ä½æˆ‘ï¼šç”¨æˆ·çš„ç™»å½•çŠ¶æ€ä¼šä¸ä¼šå› ä¸ºæµè§ˆå™¨çš„å…³é—­è€Œå¤±æ•ˆï¼Œç›´åˆ°Cookieå¤±æ•ˆã€‚å…³é—­æµè§ˆå™¨åï¼Œå†æ¬¡è®¿é—®ç™»å½•åçš„é¡µé¢å¯ä»¥ä¸ç”¨ç™»å½•ã€‚å› ä¸ºç”¨Cookieå®ç°ï¼Œæ•…åªåœ¨åŒä¸€æµè§ˆå™¨ä¸­æœ‰æ•ˆã€‚</p><p>KaptchaéªŒè¯ç ï¼šæ˜¯è°·æ­Œå¼€æºçš„éªŒè¯ç æ’ä»¶ï¼Œå®ç°ç™»å½•çš„éªŒè¯ç éªŒè¯æ‹¦æˆªã€‚</p><h2 id="ä¸€ã€è®°ä½æˆ‘rememberMe"><a href="#ä¸€ã€è®°ä½æˆ‘rememberMe" class="headerlink" title="ä¸€ã€è®°ä½æˆ‘rememberMe"></a>ä¸€ã€è®°ä½æˆ‘rememberMe</h2><p>ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ä¼šä¸ä¼šå› ä¸ºæµè§ˆå™¨çš„å…³é—­è€Œå¤±æ•ˆï¼Œç›´åˆ°Cookieå¤±æ•ˆã€‚å…³é—­æµè§ˆå™¨åï¼Œå†æ¬¡è®¿é—®ç™»å½•åçš„é¡µé¢å¯ä»¥ä¸ç”¨ç™»å½•ã€‚å› ä¸ºç”¨Cookieå®ç°ï¼Œæ•…åªåœ¨åŒä¸€æµè§ˆå™¨ä¸­æœ‰æ•ˆã€‚</p><h3 id="ä¿®æ”¹ShiroConfig"><a href="#ä¿®æ”¹ShiroConfig" class="headerlink" title="ä¿®æ”¹ShiroConfig"></a>ä¿®æ”¹ShiroConfig</h3><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·¯å¾„è¿‡æ»¤è§„åˆ™</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">@Bean</span><br><span class="line"><span class="function"><span class="keyword">public</span> ShiroFilterFactoryBean <span class="title">shiroFilter</span><span class="params">(SecurityManager securityManager)</span> </span>&#123;</span><br><span class="line">  ShiroFilterFactoryBean shiroFilterFactoryBean = <span class="keyword">new</span> <span class="built_in">ShiroFilterFactoryBean</span>();</span><br><span class="line">  shiroFilterFactoryBean.<span class="built_in">setSecurityManager</span>(securityManager);</span><br><span class="line">  <span class="comment">// å¦‚æœä¸è®¾ç½®é»˜è®¤ä¼šè‡ªåŠ¨å¯»æ‰¾Webå·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„&quot;/login.jsp&quot;é¡µé¢</span></span><br><span class="line">  shiroFilterFactoryBean.<span class="built_in">setLoginUrl</span>(<span class="string">&quot;/login&quot;</span>);</span><br><span class="line">  shiroFilterFactoryBean.<span class="built_in">setSuccessUrl</span>(<span class="string">&quot;/index&quot;</span>);</span><br><span class="line">  <span class="comment">// æ‹¦æˆªå™¨</span></span><br><span class="line">  LinkedHashMap&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line">  <span class="comment">// é…ç½®ä¸ä¼šè¢«æ‹¦æˆªçš„é“¾æ¥ é¡ºåºåˆ¤æ–­</span></span><br><span class="line">  <span class="comment">// å¯¹é™æ€èµ„æºè®¾ç½®åŒ¿åè®¿é—®</span></span><br><span class="line">  map.<span class="built_in">put</span>(<span class="string">&quot;/static/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">  map.<span class="built_in">put</span>(<span class="string">&quot;/css/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">  map.<span class="built_in">put</span>(<span class="string">&quot;/js/**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿‡æ»¤é“¾å®šä¹‰ï¼Œä»ä¸Šå‘ä¸‹é¡ºåºæ‰§è¡Œï¼Œä¸€èˆ¬å°†/**æ”¾åœ¨æœ€ä¸ºä¸‹è¾¹</span></span><br><span class="line">  <span class="comment">// è¿›è¡Œèº«ä»½è®¤è¯åæ‰èƒ½è®¿é—®</span></span><br><span class="line">  <span class="comment">// authc:æ‰€æœ‰urléƒ½å¿…é¡»è®¤è¯é€šè¿‡æ‰å¯ä»¥è®¿é—®; anon:æ‰€æœ‰urléƒ½éƒ½å¯ä»¥åŒ¿åè®¿é—®</span></span><br><span class="line">  <span class="comment">// useræŒ‡çš„æ˜¯ç”¨æˆ·è®¤è¯é€šè¿‡æˆ–è€…é…ç½®äº†Remember Meè®°ä½ç”¨æˆ·ç™»å½•çŠ¶æ€åå¯è®¿é—®</span></span><br><span class="line">  map.<span class="built_in">put</span>(<span class="string">&quot;/**&quot;</span>, <span class="string">&quot;user&quot;</span>);</span><br><span class="line">  shiroFilterFactoryBean.<span class="built_in">setFilterChainDefinitionMap</span>(map);</span><br><span class="line">  <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºå¯¹ç™»å½•é¡µé¢åšäº†ä¸€äº›æ ·å¼ï¼Œæ–°å¢äº†é™æ€èµ„æºæ–‡ä»¶staticï¼Œè¿™æ—¶å€™é‡åˆ°äº†å‘ï¼Œé¡µé¢å¼•ç”¨çš„<code>js</code>å’Œ<code>css</code>éƒ½æ— æ•ˆäº†ï¼Œç„¶åå‘ç°æ—¶å› ä¸ºè¢«æ‹¦æˆªäº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Shiroçš„æ‹¦æˆªå™¨ä¸­å…è®¸å¯¹é™æ€èµ„æºçš„åŒ¿å<code>anon</code>è®¿é—®ã€‚</p><p>æ³¨æ„åˆ°å°†<code>ShiroFilterFactoryBean</code>çš„<code>map.put(&quot;/**&quot;, &quot;authc&quot;);</code>æ›´æ”¹ä¸º<code>map.put(&quot;/**&quot;, &quot;user&quot;);</code>useræ˜¯æŒ‡ç”¨æˆ·è®¤è¯é€šè¿‡æˆ–é…ç½®äº†RememberMeè®°ä½ç”¨æˆ·ç™»å½•çŠ¶æ€åå¯è®¿é—®ã€‚</p><p>è§£å†³è¿‡ç¨‹æŸ¥é˜…äº†ä¸€äº›èµ„æ–™ï¼Œä¸å…‰å…‰åªå¯¹<code>css</code>å’Œ<code>js</code>çš„æ”¾å¼€ï¼Œè¿˜éœ€è¦å¯¹<code>static</code>ä¹Ÿæ”¾å¼€</p><p>å¯¹é™æ€èµ„æºçš„æ‹¦æˆªç›¸å…³é—®é¢˜å¯ä»¥å‚ç…§è¿™é‡Œäº†è§£å­¦ä¹ ä¸€ä¸‹ï¼š<a href="https://412887952-qq-com.iteye.com/blog/2392741">Spring Boot Shiroæ— æ³•è®¿é—®JS/CSS/IMG+è‡ªå®šä¹‰Filteræ— æ³•è®¿é—®å®Œç¾æ–¹æ¡ˆ</a></p><p>å›æ¥ç»§ç»­ï¼Œè°ƒç”¨SimpleCookieï¼Œé…ç½®Cookieçš„åŸºæœ¬å±æ€§ï¼šåç§°å’Œè¿‡æœŸæ—¶é—´ã€‚</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * cookieå¯¹è±¡</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public SimpleCookie rememberMeCookie() &#123;</span><br><span class="line">  <span class="operator">/</span><span class="operator">/</span> è®¾ç½®cookieåç§°ï¼Œå¯¹åº”login.htmlé¡µé¢çš„<span class="operator">&lt;</span>input type<span class="operator">=</span>&quot;checkbox&quot; name<span class="operator">=</span>&quot;rememberMe&quot;<span class="operator">/</span><span class="operator">&gt;</span></span><br><span class="line">  SimpleCookie cookie <span class="operator">=</span> <span class="keyword">new</span> SimpleCookie(&quot;rememberMe&quot;);</span><br><span class="line">  <span class="operator">/</span><span class="operator">/</span> è®¾ç½®cookieçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œè¿™é‡Œä¸ºä¸€å¤©</span><br><span class="line">  cookie.setMaxAge(<span class="number">86400</span>);</span><br><span class="line">  <span class="keyword">return</span> cookie;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SimleCookieå‚æ•°ä¸­çš„åç§°ä¸ºé¡µé¢çš„nameæ ‡ç­¾å±æ€§åç§°ã€‚</p><p>å®ç°äº†Cookieå¯¹è±¡å±æ€§é…ç½®ï¼Œè¿˜éœ€è¦é€šè¿‡<code>CookieRememberMeManager</code>è¿›è¡Œç®¡ç†èµ·æ¥ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * cookieç®¡ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * rememberMeManager()æ–¹æ³•æ˜¯ç”ŸæˆrememberMeç®¡ç†å™¨ï¼Œè€Œä¸”è¦å°†è¿™ä¸ªrememberMeç®¡ç†å™¨è®¾ç½®åˆ°securityManagerä¸­</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public CookieRememberMeManager remember<span class="constructor">MeManager()</span> &#123;</span><br><span class="line">  CookieRememberMeManager cookieRememberMeManager = <span class="keyword">new</span> <span class="constructor">CookieRememberMeManager()</span>;</span><br><span class="line">  cookieRememberMeManager.set<span class="constructor">Cookie(<span class="params">rememberMeCookie</span>()</span>);</span><br><span class="line">  <span class="comment">// rememberMe cookieåŠ å¯†çš„å¯†é’¥ å»ºè®®æ¯ä¸ªé¡¹ç›®éƒ½ä¸ä¸€æ · é»˜è®¤AESç®—æ³• å¯†é’¥é•¿åº¦(128 256 512 ä½)</span></span><br><span class="line">  cookieRememberMeManager.set<span class="constructor">CipherKey(Base64.<span class="params">decode</span>(<span class="string">&quot;3AvVhmFLUs0KTA3Kprsdag==&quot;</span>)</span>);</span><br><span class="line">  return cookieRememberMeManager;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°†cookieç®¡ç†å¯¹è±¡è®¾ç½®åˆ°<code>SecurityManager</code>ä¸­ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Bean</span><br><span class="line">public SecurityManager security<span class="constructor">Manager()</span> &#123;</span><br><span class="line">  DefaultWebSecurityManager securityManager = <span class="keyword">new</span> <span class="constructor">DefaultWebSecurityManager()</span>;</span><br><span class="line">  <span class="comment">// è®¾ç½®realm</span></span><br><span class="line">  securityManager.set<span class="constructor">Realm(<span class="params">authRealm</span>()</span>);</span><br><span class="line">  <span class="comment">// ç”¨æˆ·æˆæƒ/è®¤è¯ä¿¡æ¯Cache, é‡‡ç”¨EhC//æ³¨å…¥è®°ä½æˆ‘ç®¡ç†å™¨</span></span><br><span class="line">  securityManager.set<span class="constructor">RememberMeManager(<span class="params">rememberMeManager</span>()</span>);</span><br><span class="line">  return securityManager;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ å¯†å¤„ç†"><a href="#åŠ å¯†å¤„ç†" class="headerlink" title="åŠ å¯†å¤„ç†"></a>åŠ å¯†å¤„ç†</h3><p>ã€ŠSpring Boot2(åäºŒ)ï¼šæ‰‹æ‘¸æ‰‹æ•™ä½ æ­å»ºShiroå®‰å…¨æ¡†æ¶ã€‹è¿™ä¸ªé¡¹ç›®ä¸­ç”¨çš„æ˜æ–‡ï¼Œè¿™é‡Œæˆ‘ä»¬å‡ä¸ªçº§ï¼Œä½¿ç”¨MD5åŠ å¯†</p><p>æ–°å»ºMD5åŠ å¯†å·¥å…·ç±»ã€‚</p><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MD5Utils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">String</span> SALT = <span class="string">&quot;niaobulashi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final <span class="keyword">String</span> ALGORITH_NAME = <span class="string">&quot;md5&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final int HASH_ITERATIONS = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> encrypt(<span class="keyword">String</span> pwd) &#123;</span><br><span class="line">        <span class="keyword">String</span> <span class="keyword">new</span><span class="type">Password</span> = <span class="keyword">new</span> <span class="type">SimpleHash</span>(ALGORITH_NAME, pwd, ByteSource.Util.bytes(SALT), HASH_ITERATIONS).toHex();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Password</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> encrypt(<span class="keyword">String</span> username, <span class="keyword">String</span> pwd) &#123;</span><br><span class="line">        <span class="keyword">String</span> <span class="keyword">new</span><span class="type">Password</span> = <span class="keyword">new</span> <span class="type">SimpleHash</span>(ALGORITH_NAME, pwd, ByteSource.Util.bytes(username + SALT),</span><br><span class="line">                HASH_ITERATIONS).toHex();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span><span class="type">Password</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> void main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;MD5åŠ å¯†åçš„å¯†æ–‡ä¸ºï¼š&quot;</span> + MD5Utils.encrypt(<span class="string">&quot;root&quot;</span>, <span class="string">&quot;root&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>SALT</code>æ˜¯åŠ å¯†çš„ç›ï¼Œå¯è‡ªè¡Œå®šä¹‰ã€‚</p><p>mainæ–¹æ³•ä¸­ï¼Œæ ¹æ®ç™»å½•åå’Œå¯†ç æ˜æ–‡ï¼Œè¾“å‡ºæœ€ç»ˆåŠ å¯†çš„å¯†æ–‡ï¼Œå°†è¾“å‡ºå†…å®¹ç²˜è´´åˆ°æˆ‘ä»¬çš„æ•°æ®åº“ä¸­ï¼Œå¾…åç»­ç™»å½•æ—¶ä½¿ç”¨ã€‚</p><h3 id="æ–°å¢ç™»å½•é¡µé¢å’Œä¸»é¡µé¢"><a href="#æ–°å¢ç™»å½•é¡µé¢å’Œä¸»é¡µé¢" class="headerlink" title="æ–°å¢ç™»å½•é¡µé¢å’Œä¸»é¡µé¢"></a>æ–°å¢ç™»å½•é¡µé¢å’Œä¸»é¡µé¢</h3><p>ç™»å½•é¡µlogin.html</p><p>æ·»åŠ Remember Me checkbox</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/static/css/login.css&#125;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/static/js/jquery-1.11.1.min.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login-page&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;ç”¨æˆ·å&quot;</span> <span class="attr">name</span>=<span class="string">&quot;account&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å¯†ç &quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;rememberMe&quot;</span>/&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;login()&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">&quot;javascript&quot;</span>&gt;</span><span class="javascript"><span class="keyword">var</span> ctx = [[@&#123;/&#125;]];</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">&quot;javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">login</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> account = $(<span class="string">&quot;input[name=&#x27;account&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> password = $(<span class="string">&quot;input[name=&#x27;password&#x27;]&quot;</span>).val();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> rememberMe = $(<span class="string">&quot;input[name=&#x27;rememberMe&#x27;]&quot;</span>).is(<span class="string">&#x27;:checked&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">            type: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">            url: ctx + <span class="string">&quot;login&quot;</span>,</span></span><br><span class="line">            data: &#123;</span><br><span class="line"><span class="javascript">                <span class="string">&quot;account&quot;</span>: account,</span></span><br><span class="line"><span class="javascript">                <span class="string">&quot;password&quot;</span>: password,</span></span><br><span class="line"><span class="javascript">                <span class="string">&quot;rememberMe&quot;</span>: rememberMe</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="javascript">            success: <span class="function"><span class="keyword">function</span>(<span class="params">r</span>) </span>&#123;</span></span><br><span class="line">                if (r.code == 100) &#123;</span><br><span class="line"><span class="javascript">                    location.href = ctx + <span class="string">&#x27;index&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line">                    alert(r.message);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é™æ€èµ„æºjså’Œcsså¯ä»¥åœ¨æºç ä¸­æŸ¥çœ‹</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2309019532.png" alt="ç™»å½•é¡µé¢"></p><p>é¦–é¡µindex.html</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ å¥½ï¼[[$</span><span class="template-variable">&#123;user.getUsername()&#125;</span><span class="xml">]]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">logout</span>&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>æ³¨é”€<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Controllerå±‚"><a href="#Controllerå±‚" class="headerlink" title="Controllerå±‚"></a>Controllerå±‚</h3><p>åœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢å‚æ•°rememberMeï¼ŒåŒæ—¶å¯¹ç”¨æˆ·åå’Œæ˜æ–‡å¯†ç è¿›è¡ŒMD5åŠ å¯†å¤„ç†è·å¾—å¯†æ–‡ã€‚</p><p>ç™»å½•æ¥å£</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç™»å½•æ“ä½œ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> password</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> rememberMe</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping</span>(<span class="string">&quot;/login&quot;</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="function">ResponseCode <span class="title">login</span><span class="params">(String account, String password, Boolean rememberMe)</span> </span>&#123;</span><br><span class="line">  logger.info(<span class="string">&quot;ç™»å½•è¯·æ±‚-start&quot;</span>);</span><br><span class="line">  password = MD5Utils.encrypt(account, password);</span><br><span class="line">  Subject userSubject = SecurityUtils.getSubject();</span><br><span class="line">  UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(account, password, rememberMe);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// ç™»å½•éªŒè¯</span></span><br><span class="line">    userSubject.login(token);</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">success</span><span class="params">()</span></span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (UnknownAccountException e) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">error</span><span class="params">(StatusEnums.ACCOUNT_UNKNOWN)</span></span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (DisabledAccountException e) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">error</span><span class="params">(StatusEnums.ACCOUNT_IS_DISABLED)</span></span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (IncorrectCredentialsException e) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">error</span><span class="params">(StatusEnums.INCORRECT_CREDENTIALS)</span></span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (AuthenticationException e) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">error</span><span class="params">(StatusEnums.AUTH_ERROR)</span></span>;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    <span class="function"><span class="keyword">return</span> ResponseCode.<span class="title">error</span><span class="params">(StatusEnums.SYSTEM_ERROR)</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é”€æ¥å£</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç™»å‡º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">&quot;/logout&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">logout</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  getSubject().logout();</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨é¡¹ç›®ï¼Œè¿›è¡Œæµ‹è¯•å¯ä»¥çœ‹åˆ°æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2305576115.gif" alt="ç™»å½•æ“ä½œ"></p><h2 id="äºŒã€éªŒè¯ç Kaptcha"><a href="#äºŒã€éªŒè¯ç Kaptcha" class="headerlink" title="äºŒã€éªŒè¯ç Kaptcha"></a>äºŒã€éªŒè¯ç Kaptcha</h2><p>kaptcha æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„éªŒè¯ç ç”Ÿæˆå·¥å…·ã€‚æœ‰äº†å®ƒï¼Œä½ å¯ä»¥ç”Ÿæˆå„ç§æ ·å¼çš„éªŒè¯ç ï¼Œå› ä¸ºå®ƒæ˜¯å¯é…ç½®çš„ã€‚kaptchaå·¥ä½œçš„åŸç†æ˜¯è°ƒç”¨ com.google.code.kaptcha.servlet.KaptchaServletï¼Œç”Ÿæˆä¸€ä¸ªå›¾ç‰‡ã€‚åŒæ—¶å°†ç”Ÿæˆçš„éªŒè¯ç å­—ç¬¦ä¸²æ”¾åˆ° HttpSessionä¸­ã€‚</p><p>Kaptchaå®˜ç½‘ï¼š<a href="https://code.google.com/archive/p/kaptcha/">https://code.google.com/archive/p/kaptcha/</a></p><p>ä½¿ç”¨kaptchaå¯ä»¥æ–¹ä¾¿çš„é…ç½®ï¼š</p><ul><li>éªŒè¯ç çš„å­—ä½“</li><li>éªŒè¯ç å­—ä½“çš„å¤§å°</li><li>éªŒè¯ç å­—ä½“çš„å­—ä½“é¢œè‰²</li><li>éªŒè¯ç å†…å®¹çš„èŒƒå›´(æ•°å­—ï¼Œå­—æ¯ï¼Œä¸­æ–‡æ±‰å­—ï¼)</li><li>éªŒè¯ç å›¾ç‰‡çš„å¤§å°ï¼Œè¾¹æ¡†ï¼Œè¾¹æ¡†ç²—ç»†ï¼Œè¾¹æ¡†é¢œè‰²</li><li>éªŒè¯ç çš„å¹²æ‰°çº¿(å¯ä»¥è‡ªå·±ç»§æ‰¿com.google.code.kaptcha.NoiseProducerå†™ä¸€ä¸ªè‡ªå®šä¹‰çš„å¹²æ‰°çº¿)</li><li>éªŒè¯ç çš„æ ·å¼(é±¼çœ¼æ ·å¼ã€3Dã€æ™®é€šæ¨¡ç³Šâ€¦â€¦å½“ç„¶ä¹Ÿå¯ä»¥ç»§æ‰¿com.google.code.kaptcha.GimpyEngineè‡ªå®šä¹‰æ ·å¼)</li></ul><h3 id="kaptchaé…ç½®è¯¦è§£"><a href="#kaptchaé…ç½®è¯¦è§£" class="headerlink" title="kaptchaé…ç½®è¯¦è§£"></a>kaptchaé…ç½®è¯¦è§£</h3><table><thead><tr><th>kaptchaå¯¹è±¡å±æ€§</th><th>ä½œç”¨</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>kaptcha.border</td><td>æ˜¯å¦æœ‰è¾¹æ¡†</td><td>é»˜è®¤ä¸ºtrue</td></tr><tr><td>kaptcha.border.color</td><td>è¾¹æ¡†é¢œè‰²</td><td>é»˜è®¤ä¸ºColor.BLACK</td></tr><tr><td>kaptcha.border.thickness</td><td>è¾¹æ¡†ç²—ç»†åº¦</td><td>é»˜è®¤ä¸º1</td></tr><tr><td>kaptcha.producer.impl</td><td>éªŒè¯ç ç”Ÿæˆå™¨</td><td>é»˜è®¤ä¸ºDefaultKaptcha</td></tr><tr><td>kaptcha.textproducer.impl</td><td>éªŒè¯ç æ–‡æœ¬ç”Ÿæˆå™¨</td><td>é»˜è®¤ä¸ºDefaultTextCreator</td></tr><tr><td>kaptcha.textproducer.char.string</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦å†…å®¹èŒƒå›´</td><td>é»˜è®¤ä¸ºabcde2345678gfynmnpwx</td></tr><tr><td>kaptcha.textproducer.char.length</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦é•¿åº¦</td><td>é»˜è®¤ä¸º5</td></tr><tr><td>kaptcha.textproducer.font.names</td><td>éªŒè¯ç æ–‡æœ¬å­—ä½“æ ·å¼</td><td>å®‹ä½“,æ¥·ä½“,å¾®è½¯é›…é»‘ï¼Œé»˜è®¤ä¸ºnew Font(â€œArialâ€, 1, fontSize), new Font(â€œCourierâ€, 1, fontSize)</td></tr><tr><td>kaptcha.textproducer.font.size</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦å¤§å°</td><td>é»˜è®¤ä¸º40</td></tr><tr><td>kaptcha.textproducer.font.color</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦é¢œè‰²</td><td>é»˜è®¤ä¸ºColor.BLACK</td></tr><tr><td>kaptcha.textproducer.char.space</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦é—´è·</td><td>é»˜è®¤ä¸º2</td></tr><tr><td>kaptcha.noise.impl</td><td>éªŒè¯ç å™ªç‚¹ç”Ÿæˆå¯¹è±¡</td><td>é»˜è®¤ä¸ºDefaultNoise</td></tr><tr><td>kaptcha.noise.color</td><td>éªŒè¯ç å™ªç‚¹é¢œè‰²</td><td>é»˜è®¤ä¸ºColor.BLACK</td></tr><tr><td>kaptcha.obscurificator.impl</td><td>éªŒè¯ç æ ·å¼å¼•æ“</td><td>é»˜è®¤ä¸ºWaterRipple</td></tr><tr><td>kaptcha.word.impl</td><td>éªŒè¯ç æ–‡æœ¬å­—ç¬¦æ¸²æŸ“</td><td>é»˜è®¤ä¸ºDefaultWordRenderer</td></tr><tr><td>kaptcha.background.impl</td><td>éªŒè¯ç èƒŒæ™¯ç”Ÿæˆå™¨</td><td>é»˜è®¤ä¸ºDefaultBackground</td></tr><tr><td>kaptcha.background.clear.from</td><td>éªŒè¯ç èƒŒæ™¯é¢œè‰²æ¸è¿›</td><td>é»˜è®¤ä¸ºColor.LIGHT_GRAY</td></tr><tr><td>kaptcha.background.clear.to</td><td>éªŒè¯ç èƒŒæ™¯é¢œè‰²æ¸è¿›</td><td>é»˜è®¤ä¸ºColor.WHITE</td></tr><tr><td>kaptcha.image.width</td><td>éªŒè¯ç å›¾ç‰‡å®½åº¦</td><td>é»˜è®¤ä¸º200</td></tr><tr><td>kaptcha.image.height</td><td>éªŒè¯ç å›¾ç‰‡é«˜åº¦</td><td>é»˜è®¤ä¸º50</td></tr></tbody></table><h3 id="æ·»åŠ mavenä¾èµ–"><a href="#æ·»åŠ mavenä¾èµ–" class="headerlink" title="æ·»åŠ mavenä¾èµ–"></a>æ·»åŠ mavenä¾èµ–</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&lt;!--éªŒè¯ç --&gt;</span></span><br><span class="line"><span class="string">&lt;dependency&gt;</span></span><br><span class="line">  <span class="string">&lt;groupId&gt;com.github.penggle&lt;/groupId&gt;</span></span><br><span class="line">  <span class="string">&lt;artifactId&gt;kaptcha&lt;/artifactId&gt;</span></span><br><span class="line">  <span class="string">&lt;version&gt;2.3.2&lt;/version&gt;</span></span><br><span class="line"><span class="string">&lt;/dependency&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ–°å¢éªŒè¯ç å›¾ç‰‡æ ·å¼é…ç½®å™¨"><a href="#æ–°å¢éªŒè¯ç å›¾ç‰‡æ ·å¼é…ç½®å™¨" class="headerlink" title="æ–°å¢éªŒè¯ç å›¾ç‰‡æ ·å¼é…ç½®å™¨"></a>æ–°å¢éªŒè¯ç å›¾ç‰‡æ ·å¼é…ç½®å™¨</h3><p>å…·ä½“é…ç½®å¯ä»¥å‚è€ƒä¸Šé¢çš„<strong>kaptcheé…ç½®è¯¦æƒ…</strong>ï¼Œé’ˆå¯¹ä¸åŒçš„å¸¸è§é…ç½®ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public <span class="keyword">class</span> KaptchaConfig &#123;</span><br><span class="line"></span><br><span class="line">    @<span class="constructor">Bean(<span class="params">name</span>=<span class="string">&quot;captchaProducer&quot;</span>)</span></span><br><span class="line">    public DefaultKaptcha get<span class="constructor">KaptchaBean()</span>&#123;</span><br><span class="line">        DefaultKaptcha defaultKaptcha=<span class="keyword">new</span> <span class="constructor">DefaultKaptcha()</span>;</span><br><span class="line">        Properties properties=<span class="keyword">new</span> <span class="constructor">Properties()</span>;</span><br><span class="line">        <span class="comment">//éªŒè¯ç å­—ç¬¦èŒƒå›´</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.char.string&quot;</span>, <span class="string">&quot;23456789&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å›¾ç‰‡è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.border.color&quot;</span>, <span class="string">&quot;245,248,249&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å­—ä½“é¢œè‰²</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.font.color&quot;</span>, <span class="string">&quot;black&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//æ–‡å­—é—´éš”</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.char.space&quot;</span>, <span class="string">&quot;1&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å›¾ç‰‡å®½åº¦</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.image.width&quot;</span>, <span class="string">&quot;100&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å›¾ç‰‡é«˜åº¦</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.image.height&quot;</span>, <span class="string">&quot;35&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å­—ä½“å¤§å°</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.font.size&quot;</span>, <span class="string">&quot;30&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//sessionçš„key</span></span><br><span class="line">        <span class="comment">//properties.setProperty(&quot;kaptcha.session.key&quot;, &quot;code&quot;);</span></span><br><span class="line">        <span class="comment">//é•¿åº¦</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.char.length&quot;</span>, <span class="string">&quot;4&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">//å­—ä½“</span></span><br><span class="line">        properties.set<span class="constructor">Property(<span class="string">&quot;kaptcha.textproducer.font.names&quot;</span>, <span class="string">&quot;å®‹ä½“,æ¥·ä½“,å¾®è½¯é›…é»‘&quot;</span>)</span>;</span><br><span class="line">        Config config=<span class="keyword">new</span> <span class="constructor">Config(<span class="params">properties</span>)</span>;</span><br><span class="line">        defaultKaptcha.set<span class="constructor">Config(<span class="params">config</span>)</span>;</span><br><span class="line">        return defaultKaptcha;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–°å¢å›¾ç‰‡éªŒè¯ç Controllerå±‚"><a href="#æ–°å¢å›¾ç‰‡éªŒè¯ç Controllerå±‚" class="headerlink" title="æ–°å¢å›¾ç‰‡éªŒè¯ç Controllerå±‚"></a>æ–°å¢å›¾ç‰‡éªŒè¯ç Controllerå±‚</h3><p>æ˜¯ä¸€ä¸ªåˆ›å»ºæ–‡ä»¶å›¾ç‰‡æµçš„è¿‡ç¨‹ï¼Œä½¿ç”¨ServletOutPutStreamè¾“å‡ºæœ€åçš„å›¾ç‰‡ã€‚</p><p>å¼€å¤´å£°æ˜çš„<code>@Resource(name = &quot;captchaProducer&quot;)</code>ï¼Œæ˜¯éªŒè¯ç å›¾ç‰‡æ ·å¼é…ç½®å™¨å¯åŠ¨æ—¶é…ç½®çš„Beanï¼š<code>captchaProducer</code>ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Controller</span><br><span class="line">@<span class="constructor">RequestMapping(<span class="string">&quot;/captcha&quot;</span>)</span></span><br><span class="line">public <span class="keyword">class</span> KaptchaController &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> static final Logger logger = <span class="module-access"><span class="module"><span class="identifier">LoggerFactory</span>.</span></span>get<span class="constructor">Logger(KaptchaController.<span class="params">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">    @<span class="constructor">Resource(<span class="params">name</span> = <span class="string">&quot;captchaProducer&quot;</span>)</span></span><br><span class="line">    <span class="keyword">private</span> Producer captchaProducer;</span><br><span class="line"></span><br><span class="line">    @<span class="constructor">GetMapping(<span class="string">&quot;/captchaImage&quot;</span>)</span></span><br><span class="line">    public ModelAndView get<span class="constructor">KaptchaImage(HttpServletRequest <span class="params">request</span>, HttpServletResponse <span class="params">response</span>)</span> throws Exception &#123;</span><br><span class="line">        ServletOutputStream out = response.get<span class="constructor">OutputStream()</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            HttpSession session = request.get<span class="constructor">Session()</span>;</span><br><span class="line">            response.set<span class="constructor">DateHeader(<span class="string">&quot;Expires&quot;</span>, 0)</span>;</span><br><span class="line">            <span class="comment">// Set standard HTTP/1.1 no-cache headers.</span></span><br><span class="line">            response.set<span class="constructor">Header(<span class="string">&quot;Cache-Control&quot;</span>, <span class="string">&quot;no-store, no-cache, must-revalidate&quot;</span>)</span>;</span><br><span class="line">            <span class="comment">// Set IE extended HTTP/1.1 no-cache headers (use addHeader).</span></span><br><span class="line">            response.add<span class="constructor">Header(<span class="string">&quot;Cache-Control&quot;</span>, <span class="string">&quot;post-check=0, pre-check=0&quot;</span>)</span>;</span><br><span class="line">            <span class="comment">// Set standard HTTP/1.0 no-cache header.</span></span><br><span class="line">            response.set<span class="constructor">Header(<span class="string">&quot;Pragma&quot;</span>, <span class="string">&quot;no-cache&quot;</span>)</span>;</span><br><span class="line">            <span class="comment">// return a jpeg</span></span><br><span class="line">            response.set<span class="constructor">ContentType(<span class="string">&quot;image/jpeg&quot;</span>)</span>;</span><br><span class="line">            <span class="comment">// create the text for the image</span></span><br><span class="line">            String capText = captchaProducer.create<span class="constructor">Text()</span>;</span><br><span class="line">            <span class="comment">//å°†éªŒè¯ç å­˜åˆ°session</span></span><br><span class="line">            session.set<span class="constructor">Attribute(Constants.KAPTCHA_SESSION_KEY, <span class="params">capText</span>)</span>;</span><br><span class="line">            logger.info(capText);</span><br><span class="line">            <span class="comment">// åˆ›å»ºä¸€å¼ æ–‡æœ¬å›¾ç‰‡</span></span><br><span class="line">            BufferedImage bi = captchaProducer.create<span class="constructor">Image(<span class="params">capText</span>)</span>;</span><br><span class="line">            <span class="comment">// å“åº”</span></span><br><span class="line">            out = response.get<span class="constructor">OutputStream()</span>;</span><br><span class="line">            <span class="comment">// å†™å…¥æ•°æ®</span></span><br><span class="line">            <span class="module-access"><span class="module"><span class="identifier">ImageIO</span>.</span></span>write(bi, <span class="string">&quot;jpg&quot;</span>, out);</span><br><span class="line"></span><br><span class="line">            out.flush<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (out != null) &#123;</span><br><span class="line">                    out.close<span class="literal">()</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            catch (IOException e) &#123;</span><br><span class="line">                e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„æœ€åéƒ½éœ€è¦å°†æµå…³é—­<code>out.close()</code></p><h3 id="æ”¾å¼€å›¾ç‰‡éªŒè¯ç çš„æ‹¦æˆª"><a href="#æ”¾å¼€å›¾ç‰‡éªŒè¯ç çš„æ‹¦æˆª" class="headerlink" title="æ”¾å¼€å›¾ç‰‡éªŒè¯ç çš„æ‹¦æˆª"></a>æ”¾å¼€å›¾ç‰‡éªŒè¯ç çš„æ‹¦æˆª</h3><p>é‡å¯ä¼šå‘ç°ï¼Œå›¾ç‰‡éªŒè¯ç çš„æ¥å£è¯·æ±‚æ— æ³•è®¿é—®ï¼Œè¿˜æ˜¯è·³è½¬åˆ°äº†localhost:8081/loginç™»å½•é¡µé¢</p><p>å› ä¸ºShiroé…ç½®çš„æ‹¦æˆªå™¨æ²¡æœ‰æ”¾å¼€ï¼Œéœ€è¦å†<code>ShiroConfig</code>ä¸­å…è®¸åŒ¿åè®¿é—®æ”¹è¯·æ±‚èµ„æº</p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">map.<span class="built_in">put</span>(<span class="string">&quot;/captcha/captchaImage**&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="ç™»å½•é¡µé¢æ·»åŠ å›¾ç‰‡éªŒè¯ç "><a href="#ç™»å½•é¡µé¢æ·»åŠ å›¾ç‰‡éªŒè¯ç " class="headerlink" title="ç™»å½•é¡µé¢æ·»åŠ å›¾ç‰‡éªŒè¯ç "></a>ç™»å½•é¡µé¢æ·»åŠ å›¾ç‰‡éªŒè¯ç </h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login-page&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;ç”¨æˆ·å&quot;</span> <span class="attr">name</span>=<span class="string">&quot;account&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å¯†ç &quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">label</span>&gt;</span>éªŒè¯ç <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;validateCode&quot;</span> <span class="attr">id</span>=<span class="string">&quot;validateCode&quot;</span> <span class="attr">class</span>=<span class="string">&quot;validateCode&quot;</span> <span class="attr">required</span>=<span class="string">&quot;required&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0);&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/captcha/captchaImage&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;this.src=&#x27;/captcha/captchaImage?&#x27;+Math.random()&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;rememberMe&quot;</span>/&gt;</span>è®°ä½æˆ‘<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;login()&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢<code>div</code>ä¸ºbodyçš„å…¨éƒ¨éƒ¨åˆ†</p><p>æˆ‘åœ¨è¯·æ±‚<code>/captcha/captchaImage</code>åé¢æ·»åŠ éšæœºå€¼<code>Math.random()</code>ã€‚æ˜¯å› ä¸ºå®¢æˆ·æµè§ˆå™¨ä¼šç¼“å­˜URLç›¸åŒçš„èµ„æºï¼Œæ•…ä½¿ç”¨éšæœºæ•°æ¥é‡æ–°è¯·æ±‚ã€‚è¿™å’Œå‰ç«¯ä¸Šçº¿æ—¶ï¼Œè¯·æ±‚åç¼€éƒ½ä¼šå˜æ›´ä¸€ä¸ªç‰ˆæœ¬å·ä¸€æ ·ï¼Œä¸éœ€è¦è®©å®¢æˆ·æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨å°±å¯ä»¥è·å–æœ€æ–°èµ„æºä¸€æ ·ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2338195235.gif" alt="éªŒè¯ç è¯·æ±‚"></p><h3 id="ä¿®æ”¹ç™»å½•è¯·æ±‚æ¥å£"><a href="#ä¿®æ”¹ç™»å½•è¯·æ±‚æ¥å£" class="headerlink" title="ä¿®æ”¹ç™»å½•è¯·æ±‚æ¥å£"></a>ä¿®æ”¹ç™»å½•è¯·æ±‚æ¥å£</h3><p>ä¸»è¦æ˜¯éªŒè¯åå°ç”Ÿæˆçš„éªŒè¯ç ï¼Œä¸å‰å°è¾“å…¥çš„éªŒè¯ç è¿›è¡Œæ¯”è¾ƒï¼ŒéªŒè¯æ˜¯å¦ç›¸åŒ</p><p>è¿™é‡Œåªç²˜è´´å‡ºéªŒè¯ç éªŒè¯çš„é€»è¾‘ï¼Œæºç åœ¨æ–‡ç« æœ€åã€‚</p><p>å¯ä»¥çœ‹å‡º<code>validateCode</code>æ˜¯å‰ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°ï¼Œå…ˆæ ¡éªŒæ˜¯å¦ä¸ºç©ºã€‚</p><p>ç„¶åä»sessionä¸­è·å–åå°ç”Ÿæˆçš„éªŒè¯ç ã€‚</p><p>æœ€åé€šè¿‡æ¯”è¾ƒå‰ç«¯è¾“å…¥çš„éªŒè¯ç å’Œåå°ç”Ÿæˆçš„æ˜¯å¦ä¸€è‡´ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1ã€æ£€éªŒéªŒè¯ç </span></span><br><span class="line"><span class="keyword">if</span>(validateCode<span class="operator"> == </span>null<span class="operator"> || </span>validateCode<span class="operator"> == </span><span class="string">&quot;&quot;</span>)&#123;</span><br><span class="line">  return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(StatusEnums.PARAM_NULL);</span><br><span class="line">&#125;</span><br><span class="line">Session session = <span class="module-access"><span class="module"><span class="identifier">SecurityUtils</span>.</span></span>get<span class="constructor">Subject()</span>.get<span class="constructor">Session()</span>;</span><br><span class="line"><span class="comment">//è½¬åŒ–æˆå°å†™å­—æ¯</span></span><br><span class="line">validateCode = validateCode.<span class="keyword">to</span><span class="constructor">LowerCase()</span>;</span><br><span class="line">String v = (String) session.get<span class="constructor">Attribute(Constants.KAPTCHA_SESSION_KEY)</span>;</span><br><span class="line"><span class="comment">//è¿˜å¯ä»¥è¯»å–ä¸€æ¬¡åæŠŠéªŒè¯ç æ¸…ç©ºï¼Œè¿™æ ·æ¯æ¬¡ç™»å½•éƒ½å¿…é¡»è·å–éªŒè¯ç </span></span><br><span class="line"><span class="comment">//session.removeAttribute(&quot;_come&quot;);</span></span><br><span class="line"><span class="keyword">if</span>(!validateCode.equals(v))&#123;</span><br><span class="line">  return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(StatusEnums.VALIDATECODE_ERROR);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹å›¾æ˜¯ç™»å½•æ ¡éªŒéªŒè¯ç çš„debugè¿‡ç¨‹ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2915987549.gif" alt="kaptchaéªŒè¯ç æ ¡éªŒ"></p><h2 id="ä¸‰ã€æºç "><a href="#ä¸‰ã€æºç " class="headerlink" title="ä¸‰ã€æºç "></a>ä¸‰ã€æºç </h2><p>æºç åœ°å€ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-23-shiro-remember"><strong>spring-boot-23-shiro-remember</strong></a><br>æ¬¢è¿starã€forkï¼Œç»™ä½œè€…ä¸€äº›é¼“åŠ±</p><hr><p>èœé¸Ÿä¹Ÿè¦æˆä¸ºæ¶æ„å¸ˆï¼Œä¸€èµ·åŠªåŠ›</p><p>æ¬¢è¿å…³æ³¨æˆ‘å¾®ä¿¡å…¬ä¼—å·ã€é¸Ÿä¸æ‹‰è¯—ã€‘</p><p>è°¢è°¢ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ï¼Œæˆä¸ºä¼˜ç§€çš„äººã€‚</p><p><img src="https://niaobulashi.com/usr/uploads/2019/07/2427016822.png" alt="å¾®ä¿¡å…¬ä¼—å·ï¼šé¸Ÿä¸æ‹‰è¯—"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(åå››)ï¼šå•æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ï¼Œæ–‡ä»¶æ‰¹é‡ä¸Šä¼ </title>
      <link href="2019/07/20/2019-07-20-fileupload/"/>
      <url>2019/07/20/2019-07-20-fileupload/</url>
      
        <content type="html"><![CDATA[<p>æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½åœ¨é¡¹ç›®ä¸­ç»å¸¸ç”¨åˆ°ï¼Œè¿™é‡Œä¸»è¦å­¦ä¹ SpringBootå®Œæˆå•ä¸ªæ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ï¼Œæ‰¹é‡æ–‡ä»¶ä¸Šä¼ çš„åœºæ™¯åº”ç”¨ã€‚ç»“åˆmysqlæ•°æ®åº“ã€jpaæ•°æ®å±‚æ“ä½œã€thymeleafé¡µé¢æ¨¡æ¿ã€‚</p><h2 id="ä¸€ã€å‡†å¤‡"><a href="#ä¸€ã€å‡†å¤‡" class="headerlink" title="ä¸€ã€å‡†å¤‡"></a>ä¸€ã€å‡†å¤‡</h2><h3 id="æ·»åŠ mavenä¾èµ–"><a href="#æ·»åŠ mavenä¾èµ–" class="headerlink" title="æ·»åŠ mavenä¾èµ–"></a>æ·»åŠ mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--springbootæ ¸å¿ƒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--springbootæµ‹è¯•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--thymeleafå‰ç«¯æ¨¡æ¿--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--springboot-web--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--springbootçƒ­éƒ¨ç½²--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--jpa--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--mysqlé©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶application-yml"><a href="#é…ç½®æ–‡ä»¶application-yml" class="headerlink" title="é…ç½®æ–‡ä»¶application.yml"></a>é…ç½®æ–‡ä»¶application.yml</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">tomcat:</span></span><br><span class="line">    <span class="attr">max-swallow-size:</span> <span class="string">1MB</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">multipart:</span></span><br><span class="line">      <span class="comment"># é»˜è®¤æ”¯æŒæ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="comment"># æœ€å¤§æ”¯æŒæ–‡ä»¶å¤§å°</span></span><br><span class="line">      <span class="attr">max-file-size:</span> <span class="string">50MB</span></span><br><span class="line">      <span class="comment"># æœ€å¤§æ”¯æŒè¯·æ±‚å¤§å°</span></span><br><span class="line">      <span class="attr">max-request-size:</span> <span class="string">100MB</span></span><br><span class="line">      <span class="comment"># æ–‡ä»¶æ”¯æŒå†™å…¥ç£ç›˜</span></span><br><span class="line">      <span class="attr">file-size-threshold:</span> <span class="number">0</span></span><br><span class="line">      <span class="comment"># ä¸Šä¼ æ–‡ä»¶çš„ä¸´æ—¶ç›®å½•</span></span><br><span class="line">      <span class="attr">location:</span> <span class="string">/test</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="comment"># æ•°æ®åº“ç±»å‹</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="comment">#æ‰“å°SQL</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span>  <span class="comment">#ç¬¬ä¸€æ¬¡å¯åŠ¨åˆ›å»ºè¡¨ï¼Œä¹‹åä¿®æ”¹ä¸ºupdate</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="comment"># æ˜¯å¦å¯ç”¨</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿ç¼–ç </span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿æ¨¡å¼</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿å­˜æ”¾è·¯å¾„</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿åç¼€</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="comment"># å¯ç”¨ç¼“å­˜ï¼Œå»ºè®®ç”Ÿäº§å¼€å¯</span></span><br><span class="line">    <span class="attr">cache:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># æ ¡éªŒæ¨¡æ¿æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="attr">check-template-location:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Content-typeå€¼</span></span><br><span class="line">    <span class="attr">servlet:</span></span><br><span class="line">      <span class="attr">content-type:</span> <span class="string">text/html</span></span><br><span class="line">    <span class="comment"># åŠ é…ç½®é™æ€èµ„æº</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="attr">static-locations:</span> <span class="string">classpath:/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">niaobulashi:</span></span><br><span class="line">  <span class="attr">file:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">D:\workspace\javaProject\spring-boot-learning\spring-boot-22-updownload\doc</span></span><br><span class="line">    <span class="attr">extension:</span> <span class="string">.gif,.jpeg,.png,.jpg,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.txt,.rar,.tif</span></span><br></pre></td></tr></table></figure><p>æœ€ä¸‹é¢æ˜¯è‡ªå®šä¹‰çš„é…ç½®å±æ€§ï¼Œå®šä¹‰äº†æ–‡ä»¶å­˜æ”¾è·¯å¾„å’Œä¸Šä¼ æ–‡ä»¶å…è®¸çš„åç¼€åç§°ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>niaobulashi.file.path</code>ï¼Œä¸ºä½ ç£ç›˜ä¸Šçš„ç›®å½•ï¼Œæ ¹æ®ä½ å®é™…çš„ç›®å½•<strong>ä¿®æ”¹</strong>ã€‚</p><h3 id="æ•°æ®åº“è¡¨sys-file-info"><a href="#æ•°æ®åº“è¡¨sys-file-info" class="headerlink" title="æ•°æ®åº“è¡¨sys_file_info"></a>æ•°æ®åº“è¡¨sys_file_info</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for `sys_file_info`</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `sys_file_info`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `sys_file_info` (</span><br><span class="line">  `file_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;æ–‡ä»¶id&#x27;</span>,</span><br><span class="line">  `file_name` <span class="type">varchar</span>(<span class="number">50</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;æ–‡ä»¶åç§°&#x27;</span>,</span><br><span class="line">  `file_path` <span class="type">varchar</span>(<span class="number">255</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;æ–‡ä»¶è·¯å¾„&#x27;</span>,</span><br><span class="line">  `file_size` <span class="type">varchar</span>(<span class="number">100</span>) <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;æ–‡ä»¶å¤§å°&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`file_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 COMMENT<span class="operator">=</span><span class="string">&#x27;æ–‡ä»¶ä¿¡æ¯è¡¨&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="äºŒã€ä»£ç å®ç°"><a href="#äºŒã€ä»£ç å®ç°" class="headerlink" title="äºŒã€ä»£ç å®ç°"></a>äºŒã€ä»£ç å®ç°</h2><h3 id="ç»“æ„ç›®å½•"><a href="#ç»“æ„ç›®å½•" class="headerlink" title="ç»“æ„ç›®å½•"></a>ç»“æ„ç›®å½•</h3><p><img src="https://niaobulashi.github.io/assets/images/2019/springboot/springboot-fileload-01.png"></p><h3 id="é¡µé¢file-html"><a href="#é¡µé¢file-html" class="headerlink" title="é¡µé¢file.html"></a>é¡µé¢file.html</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>1ã€å•æ–‡ä»¶ä¸Šä¼ <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;upload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    æ–‡ä»¶ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>2ã€æ–‡ä»¶ä¸‹è½½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;download&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    æ–‡ä»¶IDï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;fileId&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸‹è½½æ–‡ä»¶&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>3ã€å¤šæ–‡ä»¶ä¸Šä¼ <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;batchUpload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    ä¸€æ¬¡é€‰æ‹©å¤šä¸ªæ–‡ä»¶çš„å¤šæ–‡ä»¶ä¸Šä¼ ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç»Ÿä¸€è¿”å›ResponseCode"><a href="#ç»Ÿä¸€è¿”å›ResponseCode" class="headerlink" title="ç»Ÿä¸€è¿”å›ResponseCode"></a>ç»Ÿä¸€è¿”å›ResponseCode</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseCode</span> <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">String</span>, <span class="title">Object</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final long serialVersionUID = 1L;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> final <span class="built_in">String</span> CODE_TAG = <span class="string">&quot;code&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> final <span class="built_in">String</span> MSG_TAG = <span class="string">&quot;msg&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> final <span class="built_in">String</span> DATA_TAG = <span class="string">&quot;data&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çŠ¶æ€ç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">enum</span> Type</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/** æˆåŠŸ */</span></span><br><span class="line">        SUCCESS(<span class="number">100</span>),</span><br><span class="line">        <span class="comment">/** è­¦å‘Š */</span></span><br><span class="line">        WARN(<span class="number">200</span>),</span><br><span class="line">        <span class="comment">/** é”™è¯¯ */</span></span><br><span class="line">        ERROR(<span class="number">300</span>);</span><br><span class="line">        <span class="keyword">private</span> final int value;</span><br><span class="line"></span><br><span class="line">        Type(int value)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">this</span>.value = value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> int value()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** çŠ¶æ€ç±»å‹ */</span></span><br><span class="line">    <span class="keyword">private</span> Type <span class="keyword">type</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** çŠ¶æ€ç  */</span></span><br><span class="line">    <span class="keyword">private</span> int code;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** è¿”å›å†…å®¹ */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">String</span> msg;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** æ•°æ®å¯¹è±¡ */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">Object</span> data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„ AjaxResult å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>type çŠ¶æ€ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> ResponseCode(Type <span class="keyword">type</span>, <span class="built_in">String</span> msg)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">super</span>.put(CODE_TAG, <span class="keyword">type</span>.value);</span><br><span class="line">        <span class="built_in">super</span>.put(MSG_TAG, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„ AjaxResult å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>type çŠ¶æ€ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>data æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> ResponseCode(Type <span class="keyword">type</span>, <span class="built_in">String</span> msg, <span class="built_in">Object</span> data)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">super</span>.put(CODE_TAG, <span class="keyword">type</span>.value);</span><br><span class="line">        <span class="built_in">super</span>.put(MSG_TAG, msg);</span><br><span class="line">        <span class="keyword">if</span> (data !=<span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">super</span>.put(DATA_TAG, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode success()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.success(<span class="string">&quot;æ“ä½œæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸæ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode success(<span class="built_in">Object</span> data)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.success(<span class="string">&quot;æ“ä½œæˆåŠŸ&quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode success(<span class="built_in">String</span> msg)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.success(msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>data æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>æˆåŠŸæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">success</span>(<span class="params"><span class="built_in">String</span> msg, <span class="built_in">Object</span> data</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode(Type.SUCCESS, msg, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode warn(<span class="built_in">String</span> msg)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.warn(msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>data æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">warn</span>(<span class="params"><span class="built_in">String</span> msg, <span class="built_in">Object</span> data</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode(Type.WARN, msg, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›é”™è¯¯æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">error</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.error(<span class="string">&quot;æ“ä½œå¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›é”™è¯¯æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">error</span>(<span class="params"><span class="built_in">String</span> msg</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.error(msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›é”™è¯¯æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>msg è¿”å›å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>data æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return </span>è­¦å‘Šæ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">error</span>(<span class="params"><span class="built_in">String</span> msg, <span class="built_in">Object</span> data</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode(Type.ERROR, msg, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="modelå®ä½“ç±»SysFileInfo"><a href="#modelå®ä½“ç±»SysFileInfo" class="headerlink" title="modelå®ä½“ç±»SysFileInfo"></a>modelå®ä½“ç±»SysFileInfo</h3><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Data</span></span><br><span class="line"><span class="variable">@Entity</span></span><br><span class="line"><span class="variable">@Table</span>(name = <span class="string">&quot;sys_file_info&quot;</span>)</span><br><span class="line">public class SysFileInfo implements Serializable &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Id</span></span><br><span class="line">    <span class="variable">@GeneratedValue</span></span><br><span class="line">    private Integer fileId;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private String fileName;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private String filePath;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private Long fileSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Data</span></span><br><span class="line"><span class="variable">@Component</span></span><br><span class="line">public class GlobalProperties &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** æ–‡ä»¶å­˜æ”¾è·¯å¾„ */</span></span><br><span class="line">    <span class="variable">@Value</span>(<span class="string">&quot;$&#123;niaobulashi.file.path&#125;&quot;</span>)</span><br><span class="line">    private String serverPath;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** æ–‡ä»¶æ‰©å±•å */</span></span><br><span class="line">    <span class="variable">@Value</span>(<span class="string">&quot;$&#123;niaobulashi.file.extension&#125;&quot;</span>)</span><br><span class="line">    private String extension;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="daoå±‚"><a href="#daoå±‚" class="headerlink" title="daoå±‚"></a>daoå±‚</h3><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="symbol">SysFileInfoDao</span> <span class="symbol">extends</span> <span class="symbol">JpaRepository</span>&lt;<span class="symbol">SysFileInfo</span>, <span class="symbol">Integer</span>&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Controllerå±‚"><a href="#Controllerå±‚" class="headerlink" title="Controllerå±‚"></a>Controllerå±‚</h3><p>å…³ç³»çš„åœ°æ–¹æ¥äº†ï¼Œå…¶ä¸­æœ‰ä¸‰éƒ¨åˆ†ï¼šå•æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€æ‰¹é‡æ–‡ä»¶ä¸Šä¼ </p><h4 id="å¤´éƒ¨åˆ†"><a href="#å¤´éƒ¨åˆ†" class="headerlink" title="å¤´éƒ¨åˆ†"></a>å¤´éƒ¨åˆ†</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(<span class="keyword">this</span>.getClass());</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é»˜è®¤å¤§å° 50M</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> DEFAULT_MAX_SIZE = <span class="number">50</span> * <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysFileInfoDao sysFileInfoDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> GlobalProperties globalProperties;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸Šä¼ é¡µé¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updatePage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;file&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">///....å…·ä½“é€»è¾‘åœ¨ä¸‹æ–¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å•æ–‡ä»¶ä¸Šä¼ "><a href="#å•æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="å•æ–‡ä»¶ä¸Šä¼ "></a>å•æ–‡ä»¶ä¸Šä¼ </h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å•æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line"><span class="comment"> * @param file</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">@<span class="constructor">PostMapping(<span class="string">&quot;/upload&quot;</span>)</span></span><br><span class="line">@ResponseBody</span><br><span class="line"><span class="keyword">private</span> ResponseCode upload(@<span class="constructor">RequestParam(<span class="string">&quot;file&quot;</span>)</span> MultipartFile file) throws Exception &#123;</span><br><span class="line">  <span class="comment">// è·å–æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„å­˜å‚¨ä½ç½®</span></span><br><span class="line">  String serverPath = globalProperties.get<span class="constructor">ServerPath()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å…è®¸ä¸Šä¼ çš„æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">  String extension = globalProperties.get<span class="constructor">Extension()</span>;</span><br><span class="line"></span><br><span class="line">  File filePath = <span class="keyword">new</span> <span class="constructor">File(<span class="params">serverPath</span>)</span>;</span><br><span class="line">  logger.info(<span class="string">&quot;æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ä¸ºï¼š&quot;</span> + filePath);</span><br><span class="line">  <span class="keyword">if</span> (!filePath.exists<span class="literal">()</span><span class="operator"> &amp;&amp; </span>!filePath.is<span class="constructor">Directory()</span>) &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½•ï¼š&quot;</span> + filePath);</span><br><span class="line">    filePath.mkdir<span class="literal">()</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">  <span class="keyword">if</span> (file.is<span class="constructor">Empty()</span>) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;æ–‡ä»¶ä¸ºç©º&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºç©ºæ–‡ä»¶</span></span><br><span class="line">  <span class="keyword">if</span> (file.get<span class="constructor">Size()</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;æ–‡ä»¶å¤§å°ä¸ºç©ºï¼Œä¸Šä¼ å¤±è´¥&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ–‡ä»¶å¤§å°ä¸èƒ½å¤§äº50M</span></span><br><span class="line">  <span class="keyword">if</span> (DEFAULT_MAX_SIZE != -<span class="number">1</span><span class="operator"> &amp;&amp; </span>file.get<span class="constructor">Size()</span> &gt; DEFAULT_MAX_SIZE) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;ä¸Šä¼ çš„æ–‡ä»¶ä¸èƒ½å¤§äº50M&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–æ–‡ä»¶å</span></span><br><span class="line">  String fileName = file.get<span class="constructor">OriginalFilename()</span>;</span><br><span class="line">  <span class="comment">// è·å–æ–‡ä»¶æ‰©å±•å</span></span><br><span class="line">  String fileExtension = fileName.substring(fileName.last<span class="constructor">IndexOf(<span class="string">&quot;.&quot;</span>)</span>).<span class="keyword">to</span><span class="constructor">LowerCase()</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ–‡ä»¶æ‰©å±•åæ˜¯å¦æ­£ç¡®</span></span><br><span class="line">  <span class="keyword">if</span> (!extension.contains(fileExtension)) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;æ–‡ä»¶æ‰©å±•åä¸æ­£ç¡®&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  SysFileInfo sysFileInfo = <span class="keyword">new</span> <span class="constructor">SysFileInfo()</span>;</span><br><span class="line">  <span class="comment">// é‡æ–°ç”Ÿæˆçš„æ–‡ä»¶å</span></span><br><span class="line">  String saveFileName = <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>current<span class="constructor">TimeMillis()</span> + fileExtension;</span><br><span class="line">  <span class="comment">// åœ¨æŒ‡å®šç›®å½•ä¸‹åˆ›å»ºè¯¥æ–‡ä»¶</span></span><br><span class="line">  File targetFile = <span class="keyword">new</span> <span class="constructor">File(<span class="params">filePath</span>, <span class="params">saveFileName</span>)</span>;</span><br><span class="line"></span><br><span class="line">  logger.info(<span class="string">&quot;å°†æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šç›®å½•&quot;</span>);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    file.transfer<span class="constructor">To(<span class="params">targetFile</span>)</span>;</span><br><span class="line">  &#125; catch (IOException e) &#123;</span><br><span class="line">    throw <span class="keyword">new</span> <span class="constructor">Exception(<span class="params">e</span>.<span class="params">getMessage</span>()</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¿å­˜æ•°æ®</span></span><br><span class="line">  sysFileInfo.set<span class="constructor">FileName(<span class="params">fileName</span>)</span>;</span><br><span class="line">  sysFileInfo.set<span class="constructor">FilePath(<span class="params">serverPath</span> + <span class="string">&quot;/&quot;</span> + <span class="params">saveFileName</span>)</span>;</span><br><span class="line">  sysFileInfo.set<span class="constructor">FileSize(<span class="params">file</span>.<span class="params">getSize</span>()</span>);</span><br><span class="line"></span><br><span class="line">  logger.info(<span class="string">&quot;æ–°å¢æ–‡ä»¶æ•°æ®&quot;</span>);</span><br><span class="line">  <span class="comment">// æ–°å¢æ–‡ä»¶æ•°æ®</span></span><br><span class="line">  sysFileInfoDao.save(sysFileInfo);</span><br><span class="line">  return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>success(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><p>ä¸‹è½½çš„é€»è¾‘ï¼Œæˆ‘åœ¨å‰ç«¯é€šè¿‡inputè¾“å…¥æ¡†è¾“å…¥fileIdï¼Œåå°æŸ¥è¯¢æ•°æ®åº“æ¥ä¸‹è½½</p><p>æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯åˆ—è¡¨ï¼Œå•é€‰æˆ–è€…å¤šé€‰åä¸‹è½½æ–‡ä»¶çš„ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸‹è½½</span></span><br><span class="line"><span class="comment"> * @param fileId</span></span><br><span class="line"><span class="comment"> * @param request</span></span><br><span class="line"><span class="comment"> * @param response</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">@<span class="constructor">PostMapping(<span class="string">&quot;/download&quot;</span>)</span></span><br><span class="line">@ResponseBody</span><br><span class="line">public ResponseCode download<span class="constructor">File(@RequestParam(<span class="string">&quot;fileId&quot;</span>)</span> Integer fileId, HttpServletRequest request, HttpServletResponse response) &#123;</span><br><span class="line">  logger.info(<span class="string">&quot;æ–‡ä»¶IDä¸ºï¼š&quot;</span> + fileId);</span><br><span class="line">  <span class="comment">// åˆ¤æ–­ä¼ å…¥å‚æ•°æ˜¯å¦éç©º</span></span><br><span class="line">  <span class="keyword">if</span> (fileId<span class="operator"> == </span>null) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;è¯·æ±‚å‚æ•°ä¸èƒ½ä¸ºç©º&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ ¹æ®fileIdæŸ¥è¯¢æ–‡ä»¶è¡¨</span></span><br><span class="line">  Optional&lt;SysFileInfo&gt; sysFileInfo = sysFileInfoDao.find<span class="constructor">ById(<span class="params">fileId</span>)</span>;</span><br><span class="line">  <span class="keyword">if</span> (sysFileInfo.is<span class="constructor">Empty()</span>) &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;ä¸‹è½½çš„æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è·å–æ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line">  File file = <span class="keyword">new</span> <span class="constructor">File(<span class="params">sysFileInfo</span>.<span class="params">get</span>()</span>.get<span class="constructor">FilePath()</span>);</span><br><span class="line">  String fileName = sysFileInfo.get<span class="literal">()</span>.get<span class="constructor">FileName()</span>;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç£ç›˜ä¸­</span></span><br><span class="line">  <span class="keyword">if</span> (file.exists<span class="literal">()</span>) &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å¼ºåˆ¶ä¸‹è½½ä¸æ‰“å¼€</span></span><br><span class="line">    response.set<span class="constructor">ContentType(<span class="string">&quot;application/force-download&quot;</span>)</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®æ–‡ä»¶å</span></span><br><span class="line">    response.add<span class="constructor">Header(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;fileName=&quot;</span> + <span class="params">fileName</span>)</span>;</span><br><span class="line">    byte<span class="literal">[]</span> buffer = <span class="keyword">new</span> byte<span class="literal">[<span class="number">1024</span>]</span>;</span><br><span class="line">    FileInputStream fis = null;</span><br><span class="line">    BufferedInputStream bis = null;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      fis = <span class="keyword">new</span> <span class="constructor">FileInputStream(<span class="params">file</span>)</span>;</span><br><span class="line">      bis = <span class="keyword">new</span> <span class="constructor">BufferedInputStream(<span class="params">fis</span>)</span>;</span><br><span class="line">      OutputStream os = response.get<span class="constructor">OutputStream()</span>;</span><br><span class="line">      <span class="built_in">int</span> i = bis.read(buffer);</span><br><span class="line">      <span class="keyword">while</span> (i != -<span class="number">1</span>) &#123;</span><br><span class="line">        os.write(buffer, <span class="number">0</span>, i);</span><br><span class="line">        i = bis.read(buffer);</span><br><span class="line">      &#125;</span><br><span class="line">      return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>success(<span class="string">&quot;ä¸‹è½½æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125; catch (Exception e) &#123;</span><br><span class="line">      e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">      <span class="keyword">if</span> (bis != null) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          bis.close<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">          e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (fis != null) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          fis.close<span class="literal">()</span>;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">          e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>error(<span class="string">&quot;æ•°æ®åº“æŸ¥è¯¢å­˜åœ¨ï¼Œæœ¬åœ°ç£ç›˜ä¸å­˜åœ¨æ–‡ä»¶&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  return <span class="module-access"><span class="module"><span class="identifier">ResponseCode</span>.</span></span>success(<span class="string">&quot;ä¸‹è½½å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰¹é‡æ–‡ä»¶ä¸Šä¼ "><a href="#æ‰¹é‡æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ‰¹é‡æ–‡ä»¶ä¸Šä¼ "></a>æ‰¹é‡æ–‡ä»¶ä¸Šä¼ </h4><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ‰¹é‡æ–‡ä»¶ä¸Šä¼ </span></span><br><span class="line"><span class="comment"> * @param files</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> * @throws Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable">@PostMapping</span>(<span class="string">&quot;/batchUpload&quot;</span>)</span><br><span class="line"><span class="variable">@ResponseBody</span></span><br><span class="line">public ResponseCode batchUpload(<span class="variable">@RequestParam</span>(<span class="string">&quot;files&quot;</span>) MultipartFile[] files) throws Exception &#123;</span><br><span class="line">  <span class="selector-tag">if</span> (files == null) &#123;</span><br><span class="line">    <span class="selector-tag">return</span> <span class="selector-tag">ResponseCode</span><span class="selector-class">.error</span>(<span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">for</span> (MultipartFile <span class="attribute">multipartFile </span>: files) &#123;</span><br><span class="line">    <span class="selector-tag">upload</span>(multipartFile);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">return</span> <span class="selector-tag">ResponseCode</span><span class="selector-class">.success</span>(<span class="string">&quot;æ‰¹é‡ä¸Šä¼ æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤é¡¹ç›®å®Œæˆï¼Œå¼€å§‹æµ‹è¯•</p><h2 id="ä¸‰ã€æµ‹è¯•"><a href="#ä¸‰ã€æµ‹è¯•" class="headerlink" title="ä¸‰ã€æµ‹è¯•"></a>ä¸‰ã€æµ‹è¯•</h2><p><img src="https://niaobulashi.github.io/assets/images/2019/springboot/springboot-upload02.gif"></p><h2 id="å››ã€æºç "><a href="#å››ã€æºç " class="headerlink" title="å››ã€æºç "></a>å››ã€æºç </h2><p>emmmï¼Œç§è—çš„å¯çˆ±å›¾ç‰‡ä¹Ÿç»™ä½ ä»¬å•¦</p><p>æºç åœ°å€ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-22-updownload">spring-boot-learning</a><br>æ¬¢è¿starã€forkï¼Œç»™ä½œè€…ä¸€äº›é¼“åŠ±</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(åä¸‰)ï¼šæ•´åˆå®šæ—¶ä»»åŠ¡å‘é€é‚®ä»¶</title>
      <link href="2019/07/16/2019-07-16-schedule-mail/"/>
      <url>2019/07/16/2019-07-16-schedule-mail/</url>
      
        <content type="html"><![CDATA[<p>ä¸»è¦ç©ä¸€ä¸‹SpringBootçš„å®šæ—¶ä»»åŠ¡å’Œå‘é€é‚®ä»¶çš„åŠŸèƒ½ã€‚å®šæ—¶å‘é€é‚®ä»¶ï¼Œè¿™åœ¨å®é™…ç”Ÿæˆç¯å¢ƒä¸‹ä¸»è¦ç”¨æˆ·ç³»ç»Ÿæ€§èƒ½ç›‘æ§æ—¶ï¼Œå½“è¶…è¿‡è®¾å®šçš„é˜™å€¼ï¼Œå°±å‘é€é‚®ä»¶é€šçŸ¥é¢„è­¦åŠŸèƒ½ã€‚è¿™é‡Œåªé€šè¿‡ç®€å•çš„å†™ä¸ªå®šæ—¶ç»“åˆé‚®ä»¶é€šçŸ¥è¿›è¡Œå­¦ä¹ ã€‚</p><h2 id="ä¸€ã€å‡†å¤‡"><a href="#ä¸€ã€å‡†å¤‡" class="headerlink" title="ä¸€ã€å‡†å¤‡"></a>ä¸€ã€å‡†å¤‡</h2><h3 id="æ·»åŠ mavenä¾èµ–"><a href="#æ·»åŠ mavenä¾èµ–" class="headerlink" title="æ·»åŠ mavenä¾èµ–"></a>æ·»åŠ mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--mailé‚®ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--thymeleafå‰ç«¯æ¨¡æ¿--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶application-yml"><a href="#é…ç½®æ–‡ä»¶application-yml" class="headerlink" title="é…ç½®æ–‡ä»¶application.yml"></a>é…ç½®æ–‡ä»¶application.yml</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mail:</span></span><br><span class="line">    <span class="comment">#é‚®ç®±æœåŠ¡å™¨åœ°å€</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">smtp.qq.com</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">hulang6666@qq.com</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">**********</span></span><br><span class="line">    <span class="attr">default-encoding:</span> <span class="string">UTF-8</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mail:</span></span><br><span class="line">  <span class="comment">#ä»¥è°æ¥å‘é€é‚®ä»¶</span></span><br><span class="line">  <span class="attr">fromMail:</span></span><br><span class="line">    <span class="attr">addr:</span> <span class="string">hulang6666@qq.com</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>spring.mail.password</code>ä¸ºä½ çš„é‚®ç®±å¼€å¯smtpæœåŠ¡éœ€è¦è®¾ç½®å®¢æˆ·ç«¯æˆæƒç ï¼Œæ­¤å¤„çš„passwordä¸ºä½ çš„éªŒè¯å¯†ç ã€‚æ³¨æ„ä¸æ˜¯ä½ çš„qqç™»å½•å¯†ç ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯<code>spring.mail.host</code>ä¸º<strong>é‚®ç®±æœåŠ¡åœ°å€</strong></p><h3 id="å¸¸è§çš„é‚®ä»¶æœåŠ¡å™¨æ‰©å±•"><a href="#å¸¸è§çš„é‚®ä»¶æœåŠ¡å™¨æ‰©å±•" class="headerlink" title="å¸¸è§çš„é‚®ä»¶æœåŠ¡å™¨æ‰©å±•"></a>å¸¸è§çš„é‚®ä»¶æœåŠ¡å™¨æ‰©å±•</h3><p>ï¼ˆSMTPã€POP3ï¼‰åœ°å€ã€ç«¯å£å¦‚ä¸‹ï¼š</p><p><strong>gmail(google.com)</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.gmail.comï¼ˆSSLå¯ç”¨ ç«¯å£ï¼š995ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.gmail.comï¼ˆSSLå¯ç”¨ ç«¯å£ï¼š587ï¼‰</p><p><strong>Foxmail:</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.foxmail.comï¼ˆç«¯å£ï¼š110ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.foxmail.comï¼ˆç«¯å£ï¼š25ï¼‰</p><p><strong>sina.com:</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop3.sina.com.cnï¼ˆç«¯å£ï¼š110ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.sina.com.cnï¼ˆç«¯å£ï¼š25ï¼‰ </p><p><strong>163.com:</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.163.comï¼ˆç«¯å£ï¼š110ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.163.comï¼ˆç«¯å£ï¼š25ï¼‰</p><p><strong>QQé‚®ç®±</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.qq.comï¼ˆç«¯å£ï¼š110ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.qq.comï¼ˆç«¯å£ï¼š25ï¼‰</p><p><strong>QQä¼ä¸šé‚®ç®±</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.exmail.qq.comï¼ˆç«¯å£ï¼š995ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.exmail.qq.comï¼ˆç«¯å£ï¼š587/465ï¼‰</p><p><strong>HotMail</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop.live.comï¼ˆç«¯å£ï¼š995ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.live.comï¼ˆç«¯å£ï¼š587ï¼‰</p><p><strong>sohu.com:</strong><br>POP3æœåŠ¡å™¨åœ°å€:pop3.sohu.comï¼ˆç«¯å£ï¼š110ï¼‰<br>SMTPæœåŠ¡å™¨åœ°å€:smtp.sohu.comï¼ˆç«¯å£ï¼š25ï¼‰</p><h2 id="äºŒã€é‚®ä»¶æœåŠ¡"><a href="#äºŒã€é‚®ä»¶æœåŠ¡" class="headerlink" title="äºŒã€é‚®ä»¶æœåŠ¡"></a>äºŒã€é‚®ä»¶æœåŠ¡</h2><p>æˆ‘ä»¬ä½¿ç”¨htmlæ¨¡æ¿å¹¶ä¸”å¸¦æœ‰é™„ä»¶çš„ä¾‹å­ã€‚</p><h3 id="MailService"><a href="#MailService" class="headerlink" title="MailService"></a>MailService</h3><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> interface MailService &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">sendHtmlMail</span><span class="params">(<span class="keyword">String</span> to, <span class="keyword">String</span> subject, <span class="keyword">String</span> content, <span class="keyword">String</span> filePath)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="MailServiceImpl"><a href="#MailServiceImpl" class="headerlink" title="MailServiceImpl"></a>MailServiceImpl</h3><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Component</span><br><span class="line">public <span class="keyword">class</span> MailServiceImpl implements MailService &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> final Logger logger = <span class="module-access"><span class="module"><span class="identifier">LoggerFactory</span>.</span></span>get<span class="constructor">Logger(<span class="params">this</span>.<span class="params">getClass</span>()</span>);</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    <span class="keyword">private</span> JavaMailSender mailSender;</span><br><span class="line"></span><br><span class="line">    @<span class="constructor">Value(<span class="string">&quot;$&#123;mail.fromMail.addr&#125;&quot;</span>)</span></span><br><span class="line">    <span class="keyword">private</span> String from;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€htmlé‚®ä»¶</span></span><br><span class="line"><span class="comment">     * @param to</span></span><br><span class="line"><span class="comment">     * @param subject</span></span><br><span class="line"><span class="comment">     * @param content</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @Override</span><br><span class="line">    public void send<span class="constructor">HtmlMail(String <span class="params">to</span>, String <span class="params">subject</span>, String <span class="params">content</span>, String <span class="params">filePath</span>)</span> &#123;</span><br><span class="line">        MimeMessage message = mailSender.create<span class="constructor">MimeMessage()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//trueè¡¨ç¤ºéœ€è¦åˆ›å»ºä¸€ä¸ªmultipart message</span></span><br><span class="line">            MimeMessageHelper helper = <span class="keyword">new</span> <span class="constructor">MimeMessageHelper(<span class="params">message</span>, <span class="params">true</span>)</span>;</span><br><span class="line">            helper.set<span class="constructor">From(<span class="params">from</span>)</span>;</span><br><span class="line">            helper.set<span class="constructor">To(<span class="params">to</span>)</span>;</span><br><span class="line">            helper.set<span class="constructor">Subject(<span class="params">subject</span>)</span>;</span><br><span class="line">            helper.set<span class="constructor">Text(<span class="params">content</span>, <span class="params">true</span>)</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦å¸¦æœ‰é™„ä»¶</span></span><br><span class="line">            <span class="keyword">if</span> (filePath != null) &#123;</span><br><span class="line">                FileSystemResource file = <span class="keyword">new</span> <span class="constructor">FileSystemResource(<span class="params">new</span> File(<span class="params">filePath</span>)</span>);</span><br><span class="line">                String fileName = filePath.substring(filePath.last<span class="constructor">IndexOf(File.<span class="params">separator</span>)</span>);</span><br><span class="line">                helper.add<span class="constructor">Attachment(<span class="params">fileName</span>, <span class="params">file</span>)</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            mailSender.send(message);</span><br><span class="line">            logger.info(<span class="string">&quot;htmlé‚®ä»¶å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125; catch (MessagingException e) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;å‘é€htmlé‚®ä»¶æ—¶å‘ç”Ÿå¼‚å¸¸ï¼&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–°å¢é‚®ä»¶æ¨¡æ¿"><a href="#æ–°å¢é‚®ä»¶æ¨¡æ¿" class="headerlink" title="æ–°å¢é‚®ä»¶æ¨¡æ¿"></a>æ–°å¢é‚®ä»¶æ¨¡æ¿</h3><p>sendMail.html</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border-radius:5px;font-size:19px;width:680px;font-family:å¾®è½¯é›…é»‘,&#x27;Helvetica Neue&#x27;,Arial,sans-serif;margin:10px auto 0px;border:1px solid #eee;max-width:100%;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;background:#49BDAD;color:#FFFFFF;border-radius:5px 5px 0 0;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;font-size:22px;word-break:break-all;padding:20px 32px;margin:0;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;siteTitle&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>ã€Š<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;color:#FFFFFF;font-weight:bold;text-decoration:none;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;permalink&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;title&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span>ã€‹ä¸€æ–‡æœ‰æ–°çš„è¯„è®ºå•¦ï¼<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin:0px auto;width:90%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;author&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span> äº <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;time&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span>åœ¨ã€Š<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;title&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span>ã€‹è¯„è®ºè¯´ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;background:#EFEFEF;margin:15px 0px;padding:20px;border-radius:5px;font-size:20px;color:#333;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;text&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>IPï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;ip&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span>ï¼Œé‚®ç®±ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;mail&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span>ï¼Œå®¡æ ¸ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;status&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span>ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯ç™»å½•<span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;manage&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span> <span class="attr">target</span>=<span class="string">&#x27;_blank&#x27;</span>&gt;</span>ç½‘ç«™åå°<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ç®¡ç†è¯„è®ºã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void send<span class="constructor">TemplateMail()</span> &#123;</span><br><span class="line">  <span class="comment">//åˆ›å»ºé‚®ä»¶å­—æ®µ</span></span><br><span class="line">  Context context = <span class="keyword">new</span> <span class="constructor">Context()</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;siteTitle&quot;</span>, <span class="string">&quot;é¸Ÿä¸æ‹‰è¯—&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;permalink&quot;</span>, <span class="string">&quot;https://niaobulashi.com/archives/canteen.html/comment-page-1#comment-1152&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;å…¬å¸é£Ÿå ‚ä¼™é£Ÿçœ‹èµ·æ¥è¿˜ä¸é”™çš„äºšå­ï¼ˆä½“é‡æœ‰æ‰€å›å‡ï¼‰&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;author&quot;</span>, <span class="string">&quot;æµ‹è¯•å‘˜&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;time&quot;</span>, <span class="string">&quot;2019-07-16 08:52:46&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;text&quot;</span>, <span class="string">&quot;çœŸçš„å¾ˆä¸é”™ï¼&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;ip&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;mail&quot;</span>, <span class="string">&quot;123321@qq.com&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;é€šè¿‡&quot;</span>)</span>;</span><br><span class="line">  context.set<span class="constructor">Variable(<span class="string">&quot;manage&quot;</span>, <span class="string">&quot;https://niaobulashi.com&quot;</span>)</span>;</span><br><span class="line">  <span class="comment">// å°†å­—æ®µåŠ è½½åˆ°é¡µé¢æ¨¡æ¿ä¸­</span></span><br><span class="line">  String emailContent = templateEngine.process(<span class="string">&quot;sendMail&quot;</span>, context);</span><br><span class="line">  <span class="comment">// æ·»åŠ é™„ä»¶</span></span><br><span class="line">  String filePath=<span class="string">&quot;E:\\workspace\\javaWorkspace\\spring-boot-learning\\spring-boot-21-schedule-mail\\doc\\test.log&quot;</span>;</span><br><span class="line">  mailService.send<span class="constructor">HtmlMail(<span class="string">&quot;hulang6666@qq.com&quot;</span>,<span class="string">&quot;ä¸»é¢˜ï¼šè¿™æ˜¯æ¨¡æ¿é‚®ä»¶&quot;</span>,<span class="params">emailContent</span>, <span class="params">filePath</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®šæ—¶ä»»åŠ¡"><a href="#ä¸‰ã€å®šæ—¶ä»»åŠ¡" class="headerlink" title="ä¸‰ã€å®šæ—¶ä»»åŠ¡"></a>ä¸‰ã€å®šæ—¶ä»»åŠ¡</h2><p>å®šæ—¶ä»»åŠ¡åœ¨SpringBooté»˜è®¤çš„SpringBootStartåŒ…ä¸­å·²ç»å­˜åœ¨</p><h3 id="å¯åŠ¨ç±»å¼€å¯å®šæ—¶ä»»åŠ¡"><a href="#å¯åŠ¨ç±»å¼€å¯å®šæ—¶ä»»åŠ¡" class="headerlink" title="å¯åŠ¨ç±»å¼€å¯å®šæ—¶ä»»åŠ¡"></a>å¯åŠ¨ç±»å¼€å¯å®šæ—¶ä»»åŠ¡</h3><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@SpringBootApplication</span></span><br><span class="line"><span class="variable">@EnableScheduling</span></span><br><span class="line">public class ScheduleMailApplication &#123;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">static</span> <span class="selector-tag">void</span> <span class="selector-tag">main</span>(String[] args) &#123;</span><br><span class="line">        <span class="selector-tag">SpringApplication</span><span class="selector-class">.run</span>(ScheduleMailApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºå®šæ—¶ä»»åŠ¡"><a href="#åˆ›å»ºå®šæ—¶ä»»åŠ¡" class="headerlink" title="åˆ›å»ºå®šæ—¶ä»»åŠ¡"></a>åˆ›å»ºå®šæ—¶ä»»åŠ¡</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SchedulerTask</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Scheduled(cron=&quot;*/8 * * * * ?&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®šæ—¶ä»»åŠ¡å¼€å¯ï¼Œä»¥è·‘ï¼š  &quot;</span>+(count++));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Quart-Cronè¡¨è¾¾å¼æ‰©å±•"><a href="#Quart-Cronè¡¨è¾¾å¼æ‰©å±•" class="headerlink" title="Quart Cronè¡¨è¾¾å¼æ‰©å±•"></a>Quart Cronè¡¨è¾¾å¼æ‰©å±•</h3><p>cronçš„è¡¨è¾¾å¼æ˜¯å­—ç¬¦ä¸²ï¼Œå®é™…ä¸Šæ˜¯ç”±ä¸ƒå­è¡¨è¾¾å¼ï¼Œæè¿°ä¸ªåˆ«ç»†èŠ‚çš„æ—¶é—´è¡¨ã€‚</p><ol><li>â€‹       <strong>Seconds</strong></li><li>â€‹       <strong>Minutes</strong></li><li>â€‹       <strong>Hours</strong></li><li>â€‹       <strong>Day-of-Month</strong></li><li>â€‹       <strong>Month</strong></li><li>â€‹       <strong>Day-of-Week</strong></li><li>â€‹      <strong>Year (å¯é€‰å­—æ®µ)</strong></li></ol><p>â€‹     1ï¼‰Cronè¡¨è¾¾å¼çš„æ ¼å¼ï¼šç§’ åˆ† æ—¶ æ—¥ æœˆ å‘¨ å¹´(å¯é€‰)ã€‚</p><p>â€‹               å­—æ®µå                 å…è®¸çš„å€¼                        å…è®¸çš„ç‰¹æ®Šå­—ç¬¦                 </p><p>â€‹                 ç§’                      0-59                                   , - * /                 </p><p>â€‹                 åˆ†                      0-59                                   , - * /                 </p><p>â€‹               å°æ—¶                     0-23                                   , - * /                 </p><p>â€‹                 æ—¥                      1-31                                   , - * ? / L W C                 </p><p>â€‹                 æœˆ                      1-12 or JAN-DEC                 , - * /                 </p><p>â€‹                å‘¨å‡                     1-7 or SUN-SAT                  , - * ? / L C #                 </p><p>â€‹              å¹´ (å¯é€‰å­—æ®µ)         empty, 1970-2099             , - * /</p><p>â€‹             </p><p>â€‹              â€œ*â€ ä»£è¡¨æ•´ä¸ªæ—¶é—´æ®µ</p><p>â€‹               â€œ?â€å­—ç¬¦ï¼šè¡¨ç¤ºä¸ç¡®å®šçš„å€¼</p><p>â€‹               â€œ,â€å­—ç¬¦ï¼šæŒ‡å®šæ•°ä¸ªå€¼</p><p>â€‹               â€œ-â€å­—ç¬¦ï¼šæŒ‡å®šä¸€ä¸ªå€¼çš„èŒƒå›´</p><p>â€‹               â€œ/â€å­—ç¬¦ï¼šæŒ‡å®šä¸€ä¸ªå€¼çš„å¢åŠ å¹…åº¦ã€‚n/mè¡¨ç¤ºä»nå¼€å§‹ï¼Œæ¯æ¬¡å¢åŠ m</p><p>â€‹               â€œLâ€å­—ç¬¦ï¼šç”¨åœ¨æ—¥è¡¨ç¤ºä¸€ä¸ªæœˆä¸­çš„æœ€åä¸€å¤©ï¼Œç”¨åœ¨å‘¨è¡¨ç¤ºè¯¥æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸX</p><p>â€‹               â€œWâ€å­—ç¬¦ï¼šæŒ‡å®šç¦»ç»™å®šæ—¥æœŸæœ€è¿‘çš„å·¥ä½œæ—¥(å‘¨ä¸€åˆ°å‘¨äº”)</p><p>â€‹               â€œ#â€å­—ç¬¦ï¼šè¡¨ç¤ºè¯¥æœˆç¬¬å‡ ä¸ªå‘¨Xã€‚6#3è¡¨ç¤ºè¯¥æœˆç¬¬3ä¸ªå‘¨äº”</p><p>â€‹        2ï¼‰Cronè¡¨è¾¾å¼èŒƒä¾‹ï¼š</p><p>â€‹                 æ¯éš”5ç§’æ‰§è¡Œä¸€æ¬¡ï¼š*/5 * * * * ?</p><p>â€‹                 æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼š0 */1 * * * ?</p><p>â€‹                 æ¯å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡ï¼š0 0 23 * * ?</p><p>â€‹                 æ¯å¤©å‡Œæ™¨1ç‚¹æ‰§è¡Œä¸€æ¬¡ï¼š0 0 1 * * ?</p><p>â€‹                 æ¯æœˆ1å·å‡Œæ™¨1ç‚¹æ‰§è¡Œä¸€æ¬¡ï¼š0 0 1 1 * ?</p><p>â€‹                 æ¯æœˆæœ€åä¸€å¤©23ç‚¹æ‰§è¡Œä¸€æ¬¡ï¼š0 0 23 L * ?</p><p>â€‹                 æ¯å‘¨æ˜ŸæœŸå¤©å‡Œæ™¨1ç‚¹å®è¡Œä¸€æ¬¡ï¼š0 0 1 ? * L</p><p>â€‹                 åœ¨26åˆ†ã€29åˆ†ã€33åˆ†æ‰§è¡Œä¸€æ¬¡ï¼š0 26,29,33 * * * ?</p><p>â€‹                 æ¯å¤©çš„0ç‚¹ã€13ç‚¹ã€18ç‚¹ã€21ç‚¹éƒ½æ‰§è¡Œä¸€æ¬¡ï¼š0 0 0,13,18,21 * * ?</p><p><strong>Cornè¡¨è¾¾å¼åœ¨çº¿éªŒè¯ï¼š<a href="http://cron.qqe2.com/">http://cron.qqe2.com/</a></strong></p><p> <img src="https://images2015.cnblogs.com/blog/903762/201609/903762-20160901193022230-1358890324.png" alt="img"></p><h2 id="å››ã€å®šæ—¶å‘é€é‚®ä»¶"><a href="#å››ã€å®šæ—¶å‘é€é‚®ä»¶" class="headerlink" title="å››ã€å®šæ—¶å‘é€é‚®ä»¶"></a>å››ã€å®šæ—¶å‘é€é‚®ä»¶</h2><p>å®šæ—¶1åˆ†é’Ÿå‘é€é‚®ä»¶</p><h3 id="SchedulerTask"><a href="#SchedulerTask" class="headerlink" title="SchedulerTask"></a>SchedulerTask</h3><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Component</span><br><span class="line">public <span class="keyword">class</span> SchedulerTask &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    <span class="keyword">private</span> MailService mailService;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    <span class="keyword">private</span> TemplateEngine templateEngine;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="constructor">Scheduled(<span class="params">cron</span>=<span class="string">&quot;0 */1 * * * ?&quot;</span>)</span></span><br><span class="line">    <span class="keyword">private</span> void process<span class="literal">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;this is scheduler task runing  &quot;</span>+(count++));</span><br><span class="line">        <span class="comment">//åˆ›å»ºé‚®ä»¶å­—æ®µ</span></span><br><span class="line">        Context context = <span class="keyword">new</span> <span class="constructor">Context()</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;siteTitle&quot;</span>, <span class="string">&quot;é¸Ÿä¸æ‹‰è¯—&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;permalink&quot;</span>, <span class="string">&quot;https://niaobulashi.com/archives/canteen.html/comment-page-1#comment-1152&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;å…¬å¸é£Ÿå ‚ä¼™é£Ÿçœ‹èµ·æ¥è¿˜ä¸é”™çš„äºšå­ï¼ˆä½“é‡æœ‰æ‰€å›å‡ï¼‰&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;author&quot;</span>, <span class="string">&quot;æµ‹è¯•å‘˜&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;time&quot;</span>, <span class="string">&quot;2019-07-16 08:52:46&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;text&quot;</span>, <span class="string">&quot;çœŸçš„å¾ˆä¸é”™ï¼&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;ip&quot;</span>, <span class="string">&quot;127.0.0.1&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;mail&quot;</span>, <span class="string">&quot;123321@qq.com&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;status&quot;</span>, <span class="string">&quot;é€šè¿‡&quot;</span>)</span>;</span><br><span class="line">        context.set<span class="constructor">Variable(<span class="string">&quot;manage&quot;</span>, <span class="string">&quot;https://niaobulashi.com&quot;</span>)</span>;</span><br><span class="line">        <span class="comment">// å°†å­—æ®µåŠ è½½åˆ°é¡µé¢æ¨¡æ¿ä¸­</span></span><br><span class="line">        String emailContent = templateEngine.process(<span class="string">&quot;sendMail&quot;</span>, context);</span><br><span class="line">        <span class="comment">// æ·»åŠ é™„ä»¶</span></span><br><span class="line">        String filePath=<span class="string">&quot;E:\\workspace\\javaWorkspace\\spring-boot-learning\\spring-boot-21-schedule-mail\\doc\\test.log&quot;</span>;</span><br><span class="line">        mailService.send<span class="constructor">HtmlMail(<span class="string">&quot;hulang6666@qq.com&quot;</span>,<span class="string">&quot;ä¸»é¢˜ï¼šè¿™æ˜¯æ¨¡æ¿é‚®ä»¶&quot;</span>,<span class="params">emailContent</span>, <span class="params">filePath</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•-1"><a href="#æµ‹è¯•-1" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p><img src="https://user-gold-cdn.xitu.io/2019/7/16/16bfaf6843249cc6?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ç¬¬äºŒæ¬¡å‘é€æˆåŠŸ"></p><p><img src="https://user-gold-cdn.xitu.io/2019/7/16/16bfaf6a4ad95170?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="é‚®ä»¶å‘é€æµ‹è¯•æˆªå›¾"></p><p>æºç åœ°å€ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-21-schedule-mail">https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-21-schedule-mail</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(åäºŒ)ï¼šæ‰‹æ‘¸æ‰‹æ•™ä½ æ­å»ºShiroå®‰å…¨æ¡†æ¶</title>
      <link href="2019/07/13/2019-07-13-springboot-shiro/"/>
      <url>2019/07/13/2019-07-13-springboot-shiro/</url>
      
        <content type="html"><![CDATA[<p>SpringBoot+Shiro+Mybatiså®Œæˆçš„ã€‚</p><p>ä¹‹å‰çœ‹äº†ä¸€ä½å°ä¼™ä¼´çš„Shiroæ•™ç¨‹ï¼Œè·Ÿç€åšäº†ï¼Œé‡åˆ°è›®å¤šå‘çš„(Â´à®‡çš¿à®‡ï½€)</p><p>ä¿®æ”¹æ•´ç†äº†ä¸€ä¸‹ï¼ŒæˆåŠŸè·‘èµ·æ¥äº†ã€‚å¯ä»¥é€šè¿‡postmanè¿›è¡Œæµ‹è¯•</p><p>ä¸å¤šæ¯”æ¯”âˆ ( á› ã€âˆ )ï¼¿ï¼Œç›´æ¥ä¸Šæºç ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-20-shiro">https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-20-shiro</a></p><h2 id="ä¸€ã€Shiroæ˜¯å•¥"><a href="#ä¸€ã€Shiroæ˜¯å•¥" class="headerlink" title="ä¸€ã€Shiroæ˜¯å•¥"></a>ä¸€ã€Shiroæ˜¯å•¥</h2><p>Apache Shiroæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€çµæ´»çš„ã€å¼€æºçš„å®‰å…¨æ¡†æ¶ã€‚å¯ä»¥å¹²å‡€åˆ©è½åœ°å¤„ç†èº«ä»½éªŒè¯ã€æˆæƒã€ä¼ä¸šä¼šè¯ç®¡ç†å’ŒåŠ å¯†ã€‚</p><h2 id="äºŒã€Shiroå¯ä»¥å¹²å•¥"><a href="#äºŒã€Shiroå¯ä»¥å¹²å•¥" class="headerlink" title="äºŒã€Shiroå¯ä»¥å¹²å•¥"></a>äºŒã€Shiroå¯ä»¥å¹²å•¥</h2><ul><li>éªŒè¯ç”¨æˆ·èº«ä»½</li><li>ç”¨æˆ·è®¿é—®æƒé™æ§åˆ¶ï¼Œæ¯”å¦‚ï¼š1ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦åˆ†é…äº†ä¸€å®šçš„å®‰å…¨è§’è‰²ã€‚2ã€åˆ¤æ–­ç”¨æˆ·æ˜¯å¦è¢«æˆäºˆå®ŒæˆæŸä¸ªæ“ä½œçš„æƒé™</li><li>åœ¨é Web æˆ– EJB å®¹å™¨çš„ç¯å¢ƒä¸‹å¯ä»¥ä»»æ„ä½¿ç”¨ Session API</li><li>å¯ä»¥å“åº”è®¤è¯ã€è®¿é—®æ§åˆ¶ï¼Œæˆ–è€… Session ç”Ÿå‘½å‘¨æœŸä¸­å‘ç”Ÿçš„äº‹ä»¶</li><li>å¯å°†ä¸€ä¸ªæˆ–ä»¥ä¸Šç”¨æˆ·å®‰å…¨æ•°æ®æºæ•°æ®ç»„åˆæˆä¸€ä¸ªå¤åˆçš„ç”¨æˆ· â€œviewâ€(è§†å›¾)</li><li>æ”¯æŒå•ç‚¹ç™»å½•(SSO)åŠŸèƒ½</li><li>æ”¯æŒæä¾›â€œRemember Meâ€æœåŠ¡ï¼Œè·å–ç”¨æˆ·å…³è”ä¿¡æ¯è€Œæ— éœ€ç™»å½•</li></ul><p>Shiroæ¡†æ¶å›¾å¦‚ä¸‹ï¼š</p><p><img src="http://www.itmind.net/assets/images/2017/springboot/ShiroFeatures.png" alt="img"></p><ul><li><strong>Authenticationï¼ˆè®¤è¯ï¼‰ï¼š</strong>ç”¨æˆ·èº«ä»½è¯†åˆ«ï¼Œé€šå¸¸è¢«ç§°ä¸ºç”¨æˆ·â€œç™»å½•â€</li><li><strong>Authorizationï¼ˆæˆæƒï¼‰ï¼š</strong>è®¿é—®æ§åˆ¶ã€‚æ¯”å¦‚æŸä¸ªç”¨æˆ·æ˜¯å¦å…·æœ‰æŸä¸ªæ“ä½œçš„ä½¿ç”¨æƒé™ã€‚</li><li><strong>Session Managementï¼ˆä¼šè¯ç®¡ç†ï¼‰ï¼š</strong>ç‰¹å®šäºç”¨æˆ·çš„ä¼šè¯ç®¡ç†,ç”šè‡³åœ¨éweb æˆ– EJB åº”ç”¨ç¨‹åºã€‚</li><li><strong>Cryptographyï¼ˆåŠ å¯†ï¼‰ï¼š</strong>åœ¨å¯¹æ•°æ®æºä½¿ç”¨åŠ å¯†ç®—æ³•åŠ å¯†çš„åŒæ—¶ï¼Œä¿è¯æ˜“äºä½¿ç”¨ã€‚</li></ul><p>åœ¨æ¦‚å¿µå±‚ï¼ŒShiroæ¶æ„åŒ…å«ä¸‰ä¸ªä¸»è¦çš„ç†å¿µï¼šSubjectï¼ŒSecurityManagerå’Œ Realmã€‚ä¸‹é¢çš„å›¾å±•ç¤ºäº†è¿™äº›ç»„ä»¶å¦‚ä½•ç›¸äº’ä½œç”¨ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢ä¾æ¬¡å¯¹å…¶è¿›è¡Œæè¿°ã€‚</p><p><img src="http://www.itmind.net/assets/images/2017/springboot/ShiroBasicArchitecture.png" alt="img"></p><ul><li>Subjectï¼šå½“å‰ç”¨æˆ·ï¼ŒSubject å¯ä»¥æ˜¯ä¸€ä¸ªäººï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹æœåŠ¡ã€å®ˆæŠ¤è¿›ç¨‹å¸æˆ·ã€æ—¶é’Ÿå®ˆæŠ¤ä»»åŠ¡æˆ–è€…å…¶å®ƒâ€“å½“å‰å’Œè½¯ä»¶äº¤äº’çš„ä»»ä½•äº‹ä»¶ã€‚</li><li>SecurityManagerï¼šç®¡ç†æ‰€æœ‰Subjectï¼ŒSecurityManager æ˜¯ Shiro æ¶æ„çš„æ ¸å¿ƒï¼Œé…åˆå†…éƒ¨å®‰å…¨ç»„ä»¶å…±åŒç»„æˆå®‰å…¨ä¼ã€‚</li><li>Realmsï¼šç”¨äºè¿›è¡Œæƒé™ä¿¡æ¯çš„éªŒè¯ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°ã€‚Realm æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‰¹å®šçš„å®‰å…¨ DAOï¼šå®ƒå°è£…ä¸æ•°æ®æºè¿æ¥çš„ç»†èŠ‚ï¼Œå¾—åˆ°Shiro æ‰€éœ€çš„ç›¸å…³çš„æ•°æ®ã€‚åœ¨é…ç½® Shiro çš„æ—¶å€™ï¼Œä½ å¿…é¡»æŒ‡å®šè‡³å°‘ä¸€ä¸ªRealm æ¥å®ç°è®¤è¯ï¼ˆauthenticationï¼‰å’Œ/æˆ–æˆæƒï¼ˆauthorizationï¼‰ã€‚</li></ul><h2 id="ä¸‰ã€ä»£ç å®ç°"><a href="#ä¸‰ã€ä»£ç å®ç°" class="headerlink" title="ä¸‰ã€ä»£ç å®ç°"></a>ä¸‰ã€ä»£ç å®ç°</h2><h3 id="1ã€æ·»åŠ Mavenä¾èµ–"><a href="#1ã€æ·»åŠ Mavenä¾èµ–" class="headerlink" title="1ã€æ·»åŠ Mavenä¾èµ–"></a>1ã€æ·»åŠ Mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2ã€é…ç½®æ–‡ä»¶"><a href="#2ã€é…ç½®æ–‡ä»¶" class="headerlink" title="2ã€é…ç½®æ–‡ä»¶"></a>2ã€é…ç½®æ–‡ä»¶</h3><p><code>application.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœåŠ¡å™¨ç«¯å£</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®Springç›¸å…³ä¿¡æ¯</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®Mybatis</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.niaobulashi.model</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># å¼€å¯é©¼å³°å‘½åè½¬æ¢</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°SQLæ—¥å¿—</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.niaobulashi.mapper:</span> <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨æ–¹æ³•æ·»åŠ mapperæ‰«æï¼Œæˆ‘ä¸€èˆ¬éƒ½æ˜¯åœ¨å¯åŠ¨æ–¹æ³•ä¸Šé¢å£°æ˜ï¼Œå¦åˆ™éœ€è¦åœ¨æ¯ä¸€ä¸ªmapperä¸Šå•ç‹¬å£°æ˜æ‰«æ</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@SpringBootApplication</span></span><br><span class="line"><span class="variable">@MapperScan</span>(<span class="string">&quot;com.niaobulashi.mapper&quot;</span>)</span><br><span class="line">public class ShiroApplication &#123;</span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">static</span> <span class="selector-tag">void</span> <span class="selector-tag">main</span>(String[] args) &#123;</span><br><span class="line">        <span class="selector-tag">SpringApplication</span><span class="selector-class">.run</span>(ShiroApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€ç®€å•çš„è¡¨è®¾è®¡"><a href="#3ã€ç®€å•çš„è¡¨è®¾è®¡" class="headerlink" title="3ã€ç®€å•çš„è¡¨è®¾è®¡"></a>3ã€ç®€å•çš„è¡¨è®¾è®¡</h3><p>æ— éå°±æ˜¯5å¼ è¡¨ï¼šç”¨æˆ·è¡¨ã€è§’è‰²è¡¨ã€æƒé™è¡¨ã€ç”¨æˆ·è§’è‰²è¡¨ã€è§’è‰²æƒé™è¡¨ã€‚</p><p>çœ‹ä¸‹é¢è¿™å¼ å›¾ï¼Œå¯ä»¥è¯´ç›¸å½“æ˜äº†äº†ã€‚</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2956571916.png" alt="ç”¨æˆ·è§’è‰²æƒé™å…³ç³»è¡¨"></p><p>å…·ä½“æˆ‘å°±ä¸è´´å‡ºæ¥äº†ï¼Œå¤ªå ç¯‡å¹…ã€‚ã€‚ç›´æ¥è´´é“¾æ¥ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/blob/master/spring-boot-20-shiro/db/test.sql">https://github.com/niaobulashi/spring-boot-learning/blob/master/spring-boot-20-shiro/db/test.sql</a></p><h3 id="4ã€å®ä½“ç±»"><a href="#4ã€å®ä½“ç±»" class="headerlink" title="4ã€å®ä½“ç±»"></a>4ã€å®ä½“ç±»</h3><h4 id="User-java"><a href="#User-java" class="headerlink" title="User.java"></a>User.java</h4><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final long serialVersionUID = <span class="number">-6056125703075132981</span>L;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> account;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> username;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Role-java"><a href="#Role-java" class="headerlink" title="Role.java"></a>Role.java</h4><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> final long serialVersionUID = <span class="number">-1767327914553823741</span>L;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> role;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> desc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5ã€mapperå±‚"><a href="#5ã€mapperå±‚" class="headerlink" title="5ã€mapperå±‚"></a>5ã€mapperå±‚</h3><p>è¿™é‡Œæ¦‚æ‹¬ä¸€ä¸‹ï¼šç®€å•çš„ç”¨æˆ·ç™»å½•æƒé™çš„Shiroæ§åˆ¶æ¶‰åŠåˆ°çš„æ•°æ®åº“æ“ä½œä¸»è¦æœ‰ä»¨</p><ul><li>ç”¨æˆ·<strong>ç™»å½•å</strong>æŸ¥è¯¢<strong>ç”¨æˆ·</strong>ä¿¡æ¯</li><li>æ ¹æ®<strong>ç”¨æˆ·</strong>æŸ¥è¯¢<strong>è§’è‰²</strong>ä¿¡æ¯</li><li>æ ¹æ®<strong>è§’è‰²</strong>æŸ¥è¯¢<strong>æƒé™</strong>ä¿¡æ¯</li></ul><h4 id="UserMapper-java-UserMapper-xml"><a href="#UserMapper-java-UserMapper-xml" class="headerlink" title="UserMapper.java/UserMapper.xml"></a>UserMapper.java/UserMapper.xml</h4><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">interface</span> <span class="selector-tag">UserMapper</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è´¦æˆ·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * @param account</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="selector-tag">User</span> <span class="selector-tag">findByAccount</span>(<span class="variable">@Param</span>(<span class="string">&quot;account&quot;</span>) String account);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--ç”¨æˆ·è¡¨ç»“æœé›†--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;base_column_list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">id, account, password, username</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--æ ¹æ®è´¦æˆ·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByAccount&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Map&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.niaobulashi.model.User&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">select</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;base_column_list&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">from user</span></span><br><span class="line"><span class="xml">where account = #</span><span class="template-variable">&#123;account&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="RoleMapper-java-RoleMapper-xml"><a href="#RoleMapper-java-RoleMapper-xml" class="headerlink" title="RoleMapper.java/RoleMapper.xml"></a>RoleMapper.java/RoleMapper.xml</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleMapper</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdæŸ¥è¯¢è§’è‰²ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userId</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;Role&gt; <span class="title">findRoleByUserId</span><span class="params">(<span class="meta">@Param(&quot;userId&quot;)</span> Integer userId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--è§’è‰²è¡¨å­—æ®µç»“æœé›†--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;base_cloum_list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">id, role, desc</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--æ ¹æ®userIdæŸ¥è¯¢è§’è‰²ä¿¡æ¯--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findRoleByUserId&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.niaobulashi.model.Role&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">select r.id, r.role</span></span><br><span class="line"><span class="xml">from role r</span></span><br><span class="line"><span class="xml">left join user_role ur on ur.role_id = r.id</span></span><br><span class="line"><span class="xml">left join user u on u.id = ur.user_id</span></span><br><span class="line"><span class="xml">where 1=1</span></span><br><span class="line"><span class="xml">and u.user_id = #</span><span class="template-variable">&#123;userId&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="PermissionMapper-java-PermissionMapper-xml"><a href="#PermissionMapper-java-PermissionMapper-xml" class="headerlink" title="PermissionMapper.java/PermissionMapper.xml"></a>PermissionMapper.java/PermissionMapper.xml</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PermissionMapper</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è§’è‰²idæŸ¥è¯¢æƒé™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> roleIds</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;String&gt; <span class="title">findByRoleId</span><span class="params">(<span class="meta">@Param(&quot;roleIds&quot;)</span> List&lt;Integer&gt; roleIds)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--æƒé™æŸ¥è¯¢ç»“æœé›†--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;base_column_list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">id, permission, desc</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--æ ¹æ®è§’è‰²idæŸ¥è¯¢æƒé™--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findByRoleId&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;List&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;String&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">select permission</span></span><br><span class="line"><span class="xml">from permission, role_permission rp</span></span><br><span class="line"><span class="xml">where rp.permission_id = permission.id and rp.role_id in</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;roleIds&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">#</span><span class="template-variable">&#123;id&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="6ã€Serviceå±‚"><a href="#6ã€Serviceå±‚" class="headerlink" title="6ã€Serviceå±‚"></a>6ã€Serviceå±‚</h3><p>æ²¡æœ‰å…¶ä»–é€»è¾‘ï¼Œåªæœ‰ç»§æ‰¿ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><blockquote><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘åœ¨Serviceå±‚ä¸­ï¼Œä½¿ç”¨çš„æ³¨è§£@Serviceï¼šå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ³¨å†Œåˆ°Springå®¹å™¨ä¸­ã€‚</p><p>å¦åˆ™å¯åŠ¨æ—¶ï¼Œæ‹¦æˆªå™¨é…ç½®åˆå§‹åŒ–æ—¶ï¼Œä¼šæ‰¾ä¸åˆ°Serviceã€‚ã€‚ã€‚è¿™ç‚¹æœ‰ç‚¹å‘ã€‚</p></blockquote><h4 id="UserService-java-UserServiceImpl-java"><a href="#UserService-java-UserServiceImpl-java" class="headerlink" title="UserService.java/UserServiceImpl.java"></a>UserService.java/UserServiceImpl.java</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è´¦æˆ·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">User <span class="title">findByAccount</span><span class="params">(String account)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">&quot;userService&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è´¦æˆ·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> account</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function">User <span class="title">findByAccount</span><span class="params">(String account)</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">return</span> userMapper.<span class="title">findByAccount</span><span class="params">(account)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="RoleService-java-RoleServiceImpl-java"><a href="#RoleService-java-RoleServiceImpl-java" class="headerlink" title="RoleService.java/RoleServiceImpl.java"></a>RoleService.java/RoleServiceImpl.java</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdæŸ¥è¯¢è§’è‰²ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;Role&gt; <span class="title">findRoleByUserId</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;roleService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> <span class="keyword">implements</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> RoleMapper roleMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdæŸ¥è¯¢è§’è‰²ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Role&gt; <span class="title">findRoleByUserId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> roleMapper.findRoleByUserId(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="PermissionService-java-PermissionServiceImpl-java"><a href="#PermissionService-java-PermissionServiceImpl-java" class="headerlink" title="PermissionService.java/PermissionServiceImpl.java"></a>PermissionService.java/PermissionServiceImpl.java</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">PermissionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è§’è‰²idæŸ¥è¯¢æƒé™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> roleIds</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">List&lt;String&gt; <span class="title">findByRoleId</span><span class="params">(<span class="meta">@Param(&quot;roleIds&quot;)</span> List&lt;Integer&gt; roleIds)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;permissionService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PermissionServiceImpl</span> <span class="keyword">implements</span> <span class="title">PermissionService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> PermissionMapper permissionMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®è§’è‰²idæŸ¥è¯¢æƒé™</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> roleIds</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findByRoleId</span><span class="params">(List&lt;Integer&gt; roleIds)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> permissionMapper.findByRoleId(roleIds);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€ç³»ç»Ÿç»Ÿä¸€è¿”å›çŠ¶æ€æšä¸¾å’ŒåŒ…è£…æ–¹æ³•"><a href="#7ã€ç³»ç»Ÿç»Ÿä¸€è¿”å›çŠ¶æ€æšä¸¾å’ŒåŒ…è£…æ–¹æ³•" class="headerlink" title="7ã€ç³»ç»Ÿç»Ÿä¸€è¿”å›çŠ¶æ€æšä¸¾å’ŒåŒ…è£…æ–¹æ³•"></a>7ã€ç³»ç»Ÿç»Ÿä¸€è¿”å›çŠ¶æ€æšä¸¾å’ŒåŒ…è£…æ–¹æ³•</h3><p>çŠ¶æ€å­—æ®µæšä¸¾</p><h4 id="StatusEnmus-java"><a href="#StatusEnmus-java" class="headerlink" title="StatusEnmus.java"></a>StatusEnmus.java</h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public enum StatusEnums &#123;</span><br><span class="line"></span><br><span class="line">    <span class="constructor">SUCCESS(200, <span class="string">&quot;æ“ä½œæˆåŠŸ&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">SYSTEM_ERROR(500, <span class="string">&quot;ç³»ç»Ÿé”™è¯¯&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">ACCOUNT_UNKNOWN(500, <span class="string">&quot;è´¦æˆ·ä¸å­˜åœ¨&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">ACCOUNT_IS_DISABLED(13, <span class="string">&quot;è´¦å·è¢«ç¦ç”¨&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">INCORRECT_CREDENTIALS(500,<span class="string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">PARAM_ERROR(400, <span class="string">&quot;å‚æ•°é”™è¯¯&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">PARAM_REPEAT(400, <span class="string">&quot;å‚æ•°å·²å­˜åœ¨&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">PERMISSION_ERROR(403, <span class="string">&quot;æ²¡æœ‰æ“ä½œæƒé™&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">NOT_LOGIN_IN(15, <span class="string">&quot;è´¦å·æœªç™»å½•&quot;</span>)</span>,</span><br><span class="line">    <span class="constructor">OTHER(-100, <span class="string">&quot;å…¶ä»–é”™è¯¯&quot;</span>)</span>;</span><br><span class="line"></span><br><span class="line">    @Getter</span><br><span class="line">    @Setter</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> code;</span><br><span class="line">    @Getter</span><br><span class="line">    @Setter</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line"></span><br><span class="line">    <span class="constructor">StatusEnums(<span class="params">int</span> <span class="params">code</span>, String <span class="params">message</span>)</span> &#123;</span><br><span class="line">        this.code = code;</span><br><span class="line">        this.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å“åº”åŒ…è£…æ–¹æ³•</p><h4 id="ResponseCode-java"><a href="#ResponseCode-java" class="headerlink" title="ResponseCode.java"></a>ResponseCode.java</h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseCode</span>&lt;<span class="title">T</span>&gt; <span class="title">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">String</span> message;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">Object</span> data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="title">ResponseCode</span>(<span class="params">StatusEnums responseCode</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = responseCode.getCode();</span><br><span class="line">        <span class="built_in">this</span>.message = responseCode.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="title">ResponseCode</span>(<span class="params">StatusEnums responseCode, T data</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = responseCode.getCode();</span><br><span class="line">        <span class="built_in">this</span>.message = responseCode.getMessage();</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="title">ResponseCode</span>(<span class="params">Integer code, <span class="built_in">String</span> message</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>data      ä¿¡æ¯å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; ResponseCode <span class="function"><span class="title">success</span>(<span class="params">T data</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode&lt;&gt;(StatusEnums.SUCCESS, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›æˆåŠŸä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">success</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode(StatusEnums.SUCCESS);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿”å›é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param </span>statusEnums      å“åº”ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResponseCode <span class="function"><span class="title">error</span>(<span class="params">StatusEnums statusEnums</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseCode(statusEnums);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8ã€Shiroé…ç½®"><a href="#8ã€Shiroé…ç½®" class="headerlink" title="8ã€Shiroé…ç½®"></a>8ã€Shiroé…ç½®</h3><h4 id="ShiroConfig-java"><a href="#ShiroConfig-java" class="headerlink" title="ShiroConfig.java"></a>ShiroConfig.java</h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShiroConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·¯å¾„è¿‡æ»¤è§„åˆ™</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> ShiroFilterFactoryBean <span class="function"><span class="title">shiroFilter</span>(<span class="params">SecurityManager securityManager</span>)</span> &#123;</span><br><span class="line">    ShiroFilterFactoryBean shiroFilterFactoryBean = <span class="keyword">new</span> ShiroFilterFactoryBean();</span><br><span class="line">    shiroFilterFactoryBean.setSecurityManager(securityManager);</span><br><span class="line">    <span class="comment">// å¦‚æœä¸è®¾ç½®é»˜è®¤ä¼šè‡ªåŠ¨å¯»æ‰¾Webå·¥ç¨‹æ ¹ç›®å½•ä¸‹çš„&quot;/login.jsp&quot;é¡µé¢</span></span><br><span class="line">    shiroFilterFactoryBean.setLoginUrl(<span class="string">&quot;/login&quot;</span>);</span><br><span class="line">    shiroFilterFactoryBean.setSuccessUrl(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    <span class="comment">// æ‹¦æˆªå™¨</span></span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">// é…ç½®ä¸ä¼šè¢«æ‹¦æˆªçš„é“¾æ¥ é¡ºåºåˆ¤æ–­</span></span><br><span class="line">    map.put(<span class="string">&quot;/login&quot;</span>, <span class="string">&quot;anon&quot;</span>);</span><br><span class="line">    <span class="comment">// è¿‡æ»¤é“¾å®šä¹‰ï¼Œä»ä¸Šå‘ä¸‹é¡ºåºæ‰§è¡Œï¼Œä¸€èˆ¬å°†/**æ”¾åœ¨æœ€ä¸ºä¸‹è¾¹</span></span><br><span class="line">    <span class="comment">// è¿›è¡Œèº«ä»½è®¤è¯åæ‰èƒ½è®¿é—®</span></span><br><span class="line">    <span class="comment">// authc:æ‰€æœ‰urléƒ½å¿…é¡»è®¤è¯é€šè¿‡æ‰å¯ä»¥è®¿é—®; anon:æ‰€æœ‰urléƒ½éƒ½å¯ä»¥åŒ¿åè®¿é—®</span></span><br><span class="line">    map.put(<span class="string">&quot;/**&quot;</span>, <span class="string">&quot;authc&quot;</span>);</span><br><span class="line">    shiroFilterFactoryBean.setFilterChainDefinitionMap(map);</span><br><span class="line">    <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰èº«ä»½è®¤è¯Realmï¼ˆåŒ…å«ç”¨æˆ·åå¯†ç æ ¡éªŒï¼Œæƒé™æ ¡éªŒç­‰ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> AuthRealm <span class="function"><span class="title">authRealm</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> AuthRealm();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> SecurityManager <span class="function"><span class="title">securityManager</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    DefaultWebSecurityManager securityManager = <span class="keyword">new</span> DefaultWebSecurityManager();</span><br><span class="line">    securityManager.setRealm(authRealm());</span><br><span class="line">    <span class="keyword">return</span> securityManager;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¼€å¯Shiroæ³¨è§£æ¨¡å¼ï¼Œå¯ä»¥åœ¨Controllerä¸­çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">securityManager</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="keyword">public</span> AuthorizationAttributeSourceAdvisor <span class="function"><span class="title">authorizationAttributeSourceAdvisor</span>(<span class="params">SecurityManager securityManager</span>)</span>&#123;</span><br><span class="line">    AuthorizationAttributeSourceAdvisor authorizationAttributeSourceAdvisor = <span class="keyword">new</span> AuthorizationAttributeSourceAdvisor();</span><br><span class="line">    authorizationAttributeSourceAdvisor.setSecurityManager(securityManager);</span><br><span class="line">    <span class="keyword">return</span> authorizationAttributeSourceAdvisor;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰©å±•ï¼šæƒé™æ‹¦æˆªFilterçš„URLçš„ä¸€äº›è¯´æ˜"><a href="#æ‰©å±•ï¼šæƒé™æ‹¦æˆªFilterçš„URLçš„ä¸€äº›è¯´æ˜" class="headerlink" title="æ‰©å±•ï¼šæƒé™æ‹¦æˆªFilterçš„URLçš„ä¸€äº›è¯´æ˜"></a>æ‰©å±•ï¼šæƒé™æ‹¦æˆªFilterçš„URLçš„ä¸€äº›è¯´æ˜</h4><p>è¿™é‡Œæ‰©å±•ä¸€ä¸‹<strong>æƒé™æ‹¦æˆªFilterçš„URLçš„ä¸€äº›è¯´æ˜</strong></p><p>1ã€URLåŒ¹é…è§„åˆ™</p><p>ï¼ˆ1ï¼‰â€œ?â€ï¼šåŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚â€/admin?â€ï¼Œå°†åŒ¹é…â€œ /admin1â€ã€â€œ/admin2â€ï¼Œä½†ä¸åŒ¹é…â€œ/adminâ€</p><p>ï¼ˆ2ï¼‰â€œ<em>â€ï¼šåŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚â€œ/admin</em>â€ï¼Œå°†åŒ¹é…â€œ /adminâ€ã€â€œ/admin123â€ï¼Œä½†ä¸åŒ¹é…â€œ/admin/1â€</p><p>ï¼ˆ3ï¼‰â€œ**â€ï¼šåŒ¹é…è·¯å¾„ä¸­çš„é›¶ä¸ªæˆ–å¤šä¸ªè·¯å¾„ï¼Œå¦‚â€œ/admin/**â€ï¼Œå°†åŒ¹é…â€œ/admin/aâ€ã€â€œ/admin/a/bâ€</p><p>2ã€shiroè¿‡æ»¤å™¨</p><table><thead><tr><th>Filter</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>anon</td><td>æ— å‚ï¼Œå¼€æ”¾æƒé™ï¼Œå¯ä»¥ç†è§£ä¸ºåŒ¿åç”¨æˆ·æˆ–æ¸¸å®¢</td></tr><tr><td>authc</td><td>æ— å‚ï¼Œéœ€è¦è®¤è¯</td></tr><tr><td>logout</td><td>æ— å‚ï¼Œæ³¨é”€ï¼Œæ‰§è¡Œåä¼šç›´æ¥è·³è½¬åˆ°<code>shiroFilterFactoryBean.setLoginUrl();</code> è®¾ç½®çš„ url</td></tr><tr><td>authcBasic</td><td>æ— å‚ï¼Œè¡¨ç¤º httpBasic è®¤è¯</td></tr><tr><td>user</td><td>æ— å‚ï¼Œè¡¨ç¤ºå¿…é¡»å­˜åœ¨ç”¨æˆ·ï¼Œå½“ç™»å…¥æ“ä½œæ—¶ä¸åšæ£€æŸ¥</td></tr><tr><td>ssl</td><td>æ— å‚ï¼Œè¡¨ç¤ºå®‰å…¨çš„URLè¯·æ±‚ï¼Œåè®®ä¸º https</td></tr><tr><td>perms[user]</td><td>å‚æ•°å¯å†™å¤šä¸ªï¼Œè¡¨ç¤ºéœ€è¦æŸä¸ªæˆ–æŸäº›æƒé™æ‰èƒ½é€šè¿‡ï¼Œå¤šä¸ªå‚æ•°æ—¶å†™ perms[â€œuser, adminâ€]ï¼Œå½“æœ‰å¤šä¸ªå‚æ•°æ—¶å¿…é¡»æ¯ä¸ªå‚æ•°éƒ½é€šè¿‡æ‰ç®—é€šè¿‡</td></tr><tr><td>roles[admin]</td><td>å‚æ•°å¯å†™å¤šä¸ªï¼Œè¡¨ç¤ºæ˜¯æŸä¸ªæˆ–æŸäº›è§’è‰²æ‰èƒ½é€šè¿‡ï¼Œå¤šä¸ªå‚æ•°æ—¶å†™ roles[â€œadminï¼Œuserâ€]ï¼Œå½“æœ‰å¤šä¸ªå‚æ•°æ—¶å¿…é¡»æ¯ä¸ªå‚æ•°éƒ½é€šè¿‡æ‰ç®—é€šè¿‡</td></tr><tr><td>rest[user]</td><td>æ ¹æ®è¯·æ±‚çš„æ–¹æ³•ï¼Œç›¸å½“äº perms[user:method]ï¼Œå…¶ä¸­ method ä¸º postï¼Œgetï¼Œdelete ç­‰</td></tr><tr><td>port[8081]</td><td>å½“è¯·æ±‚çš„URLç«¯å£ä¸æ˜¯8081æ—¶ï¼Œè·³è½¬åˆ°<a href="https://link.jianshu.com/?t=schemal://serverName:8081?queryString">schemal://serverName:8081?queryString</a> å…¶ä¸­ schmal æ˜¯åè®® http æˆ– https ç­‰ç­‰ï¼ŒserverName æ˜¯ä½ è®¿é—®çš„ Hostï¼Œ8081 æ˜¯ Port ç«¯å£ï¼ŒqueryString æ˜¯ä½ è®¿é—®çš„ URL é‡Œçš„ ? åé¢çš„å‚æ•°</td></tr></tbody></table><p>å¸¸ç”¨çš„ä¸»è¦å°±æ˜¯ anonï¼Œauthcï¼Œuserï¼Œrolesï¼Œperms ç­‰</p><p><strong>æ³¨æ„</strong>ï¼šanon, authc, authcBasic, user æ˜¯ç¬¬ä¸€ç»„è®¤è¯è¿‡æ»¤å™¨ï¼Œperms, port, rest, roles, ssl æ˜¯ç¬¬äºŒç»„æˆæƒè¿‡æ»¤å™¨ï¼Œè¦é€šè¿‡æˆæƒè¿‡æ»¤å™¨ï¼Œå°±å…ˆè¦å®Œæˆç™»é™†è®¤è¯æ“ä½œï¼ˆå³å…ˆè¦å®Œæˆè®¤è¯æ‰èƒ½å‰å»å¯»æ‰¾æˆæƒ) æ‰èƒ½èµ°ç¬¬äºŒç»„æˆæƒå™¨ï¼ˆä¾‹å¦‚è®¿é—®éœ€è¦ roles æƒé™çš„ urlï¼Œå¦‚æœè¿˜æ²¡æœ‰ç™»é™†çš„è¯ï¼Œä¼šç›´æ¥è·³è½¬åˆ° <code>shiroFilterFactoryBean.setLoginUrl();</code> è®¾ç½®çš„ url ï¼‰ã€‚</p><h3 id="9ã€è‡ªå®šä¹‰Realm"><a href="#9ã€è‡ªå®šä¹‰Realm" class="headerlink" title="9ã€è‡ªå®šä¹‰Realm"></a>9ã€è‡ªå®šä¹‰Realm</h3><p>ä¸»è¦ç»§æ‰¿<code>AuthorizingRealm</code>ï¼Œé‡å†™é‡Œé¢çš„æ–¹æ³•<code>doGetAuthorizationInfo</code>ï¼Œ<code>doGetAuthenticationInfo</code></p><p>æˆæƒï¼š<code>doGetAuthorizationInfo</code></p><p>è®¤è¯ï¼š<code>doGetAuthenticationInfo</code></p><h4 id="AuthRealm-java"><a href="#AuthRealm-java" class="headerlink" title="AuthRealm.java"></a>AuthRealm.java</h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public <span class="keyword">class</span> AuthRealm extends AuthorizingRealm &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    <span class="keyword">private</span> RoleService roleService;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    <span class="keyword">private</span> PermissionService permissionService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æˆæƒ</span></span><br><span class="line"><span class="comment">     * @param principalCollection</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @Override</span><br><span class="line">    protected AuthorizationInfo <span class="keyword">do</span><span class="constructor">GetAuthorizationInfo(PrincipalCollection <span class="params">principalCollection</span>)</span> &#123;</span><br><span class="line">        User user = (User) principalCollection.get<span class="constructor">PrimaryPrincipal()</span>;</span><br><span class="line">        SimpleAuthorizationInfo authorizationInfo = <span class="keyword">new</span> <span class="constructor">SimpleAuthorizationInfo()</span>;</span><br><span class="line">        <span class="comment">// æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢è§’è‰²ä¿¡æ¯</span></span><br><span class="line">        List&lt;Role&gt; roleList = roleService.find<span class="constructor">RoleByUserId(<span class="params">user</span>.<span class="params">getId</span>()</span>);</span><br><span class="line">        Set&lt;String&gt; roleSet = <span class="keyword">new</span> HashSet&lt;&gt;<span class="literal">()</span>;</span><br><span class="line">        List&lt;Integer&gt; roleIds = <span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line">        <span class="keyword">for</span> (Role role : roleList) &#123;</span><br><span class="line">            roleSet.add(role.get<span class="constructor">Role()</span>);</span><br><span class="line">            roleIds.add(role.get<span class="constructor">Id()</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ”¾å…¥è§’è‰²ä¿¡æ¯</span></span><br><span class="line">        authorizationInfo.set<span class="constructor">Roles(<span class="params">roleSet</span>)</span>;</span><br><span class="line">        <span class="comment">// æ”¾å…¥æƒé™ä¿¡æ¯</span></span><br><span class="line">        List&lt;String&gt; permissionList = permissionService.find<span class="constructor">ByRoleId(<span class="params">roleIds</span>)</span>;</span><br><span class="line">        authorizationInfo.set<span class="constructor">StringPermissions(<span class="params">new</span> HashSet&lt;&gt;(<span class="params">permissionList</span>)</span>);</span><br><span class="line"></span><br><span class="line">        return authorizationInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¤è¯</span></span><br><span class="line"><span class="comment">     * @param authToken</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     * @throws AuthenticationException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @Override</span><br><span class="line">    protected AuthenticationInfo <span class="keyword">do</span><span class="constructor">GetAuthenticationInfo(AuthenticationToken <span class="params">authToken</span>)</span> throws AuthenticationException &#123;</span><br><span class="line">        UsernamePasswordToken token = (UsernamePasswordToken) authToken;</span><br><span class="line">        <span class="comment">// æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        User user = userService.find<span class="constructor">ByAccount(<span class="params">token</span>.<span class="params">getUsername</span>()</span>);</span><br><span class="line">        <span class="keyword">if</span> (user<span class="operator"> == </span>null) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">        return <span class="keyword">new</span> <span class="constructor">SimpleAuthenticationInfo(<span class="params">user</span>, <span class="params">user</span>.<span class="params">getPassword</span>()</span>, get<span class="constructor">Name()</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10ã€Contrllerå±‚"><a href="#10ã€Contrllerå±‚" class="headerlink" title="10ã€Contrllerå±‚"></a>10ã€Contrllerå±‚</h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç™»å½•æ“ä½œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = <span class="meta-string">&quot;/login&quot;</span>, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseCode login(<span class="meta">@RequestBody</span> User user) &#123;</span><br><span class="line">        Subject userSubject = SecurityUtils.getSubject();</span><br><span class="line">        UsernamePasswordToken token = new UsernamePasswordToken(user.getAccount(), user.getPassword());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ç™»å½•éªŒè¯</span></span><br><span class="line">            userSubject.login(token);</span><br><span class="line">            <span class="keyword">return</span> ResponseCode.success();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnknownAccountException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseCode.error(StatusEnums.ACCOUNT_UNKNOWN);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (DisabledAccountException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseCode.error(StatusEnums.ACCOUNT_IS_DISABLED);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IncorrectCredentialsException e) &#123;</span><br><span class="line">            <span class="keyword">return</span> ResponseCode.error(StatusEnums.INCORRECT_CREDENTIALS);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> ResponseCode.error(StatusEnums.SYSTEM_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/login&quot;</span>)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseCode login() &#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.error(StatusEnums.NOT_LOGIN_IN);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/auth&quot;</span>)</span></span><br><span class="line">    <span class="keyword">public</span> String auth() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å·²æˆåŠŸç™»å½•&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/role&quot;</span>)</span></span><br><span class="line">    <span class="meta">@RequiresRoles(<span class="meta-string">&quot;vip&quot;</span>)</span></span><br><span class="line">    <span class="keyword">public</span> String role() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æµ‹è¯•Vipè§’è‰²&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/permission&quot;</span>)</span></span><br><span class="line">    <span class="meta">@RequiresPermissions(value = &#123;<span class="meta-string">&quot;add&quot;</span>, <span class="meta-string">&quot;update&quot;</span>&#125;, logical = Logical.AND)</span></span><br><span class="line">    <span class="keyword">public</span> String permission() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æµ‹è¯•Addå’ŒUpdateæƒé™&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç™»å‡º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/logout&quot;</span>)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseCode logout() &#123;</span><br><span class="line">        getSubject().logout();</span><br><span class="line">        <span class="keyword">return</span> ResponseCode.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å››ã€æµ‹è¯•"><a href="#å››ã€æµ‹è¯•" class="headerlink" title="å››ã€æµ‹è¯•"></a>å››ã€æµ‹è¯•</h2><p>1ã€ç™»å½•ï¼š<a href="http://localhost:8081/login">http://localhost:8081/login</a></p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;account&quot;</span>:<span class="string">&quot;123&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;password&quot;</span>:<span class="string">&quot;232&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€å…¶ä»–çš„æ˜¯getè¯·æ±‚ï¼Œç›´æ¥å‘URLå°±è¡Œå•¦ã€‚</p><p>å·²é€šè¿‡æ¥å£æµ‹è¯•ï¼Œå¤§å®¶å¯æ”¾å¿ƒé£Ÿç”¨ã€‚</p><p>å‚è€ƒï¼š<a href="https://juejin.im/post/5d27db16e51d454fbe24a717">https://juejin.im/post/5d27db16e51d454fbe24a717</a></p><p>æ¨èé˜…è¯»ï¼š</p><p>å¼ å¼€æ¶›è€çš„ã€Šè·Ÿæˆ‘å­¦Shiroã€‹<a href="https://jinnianshilongnian.iteye.com/blog/2018936">https://jinnianshilongnian.iteye.com/blog/2018936</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Shiro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(åä¸€)ï¼šMybatisä½¿ç”¨æ€»ç»“ï¼ˆè‡ªå¢é•¿ã€å¤šæ¡ä»¶ã€æ‰¹é‡æ“ä½œã€å¤šè¡¨æŸ¥è¯¢ç­‰ç­‰ï¼‰</title>
      <link href="2019/07/10/2019-07-10-mybatis-note/"/>
      <url>2019/07/10/2019-07-10-mybatis-note/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šæ¬¡ç”¨Mybatisè¿˜æ˜¯2017å¹´åšé¡¹ç›®çš„æ—¶å€™ï¼Œå·²ç»å¾ˆä¹…è¿‡å»äº†ã€‚ä¸­é€”å†æ²¡æœ‰ç”¨è¿‡Mybatisã€‚å¯¼è‡´ç°åœ¨å­¦ä¹ SpringBootè¿‡ç¨‹ä¸­é‡åˆ°ä¸€äº›Mybatisçš„é—®é¢˜ï¼Œä»¥æ­¤åšå‡ºæ€»ç»“ï¼ˆXMLæç®€æ¨¡å¼ï¼‰ã€‚å½“ç„¶åªæ˜¯å®ç”¨æ–¹é¢çš„æ€»ç»“ï¼Œå…·ä½“å°±ä¸æ·±ç©¶â™‚äº†ã€‚<strong>è¿™é‡Œåªæ€»ç»“æ€ä¹ˆç”¨ï¼ï¼ï¼</strong></p><h2 id="ä¸€ã€å…³äºMybatis"><a href="#ä¸€ã€å…³äºMybatis" class="headerlink" title="ä¸€ã€å…³äºMybatis"></a>ä¸€ã€å…³äºMybatis</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯Mybatis"><a href="#1ã€ä»€ä¹ˆæ˜¯Mybatis" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯Mybatis"></a>1ã€ä»€ä¹ˆæ˜¯Mybatis</h3><p>ï¼ˆ1ï¼‰Mybatisæ˜¯ä¸€ä¸ªåŠORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œå®ƒå†…éƒ¨å°è£…äº†JDBCï¼Œå¼€å‘æ—¶åªéœ€è¦å…³æ³¨SQLè¯­å¥æœ¬èº«ï¼Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†åŠ è½½é©±åŠ¨ã€åˆ›å»ºè¿æ¥ã€åˆ›å»ºstatementç­‰ç¹æ‚çš„è¿‡ç¨‹ã€‚ç¨‹åºå‘˜ç›´æ¥ç¼–å†™åŸç”Ÿæ€sqlï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶sqlæ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ã€‚</p><p>ï¼ˆ2ï¼‰MyBatis å¯ä»¥ä½¿ç”¨ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°† POJOæ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ï¼Œé¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚</p><p>ï¼ˆ3ï¼‰é€šè¿‡xml æ–‡ä»¶æˆ–æ³¨è§£çš„æ–¹å¼å°†è¦æ‰§è¡Œçš„å„ç§ statement é…ç½®èµ·æ¥ï¼Œå¹¶é€šè¿‡javaå¯¹è±¡å’Œ statementä¸­sqlçš„åŠ¨æ€å‚æ•°è¿›è¡Œæ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„sqlè¯­å¥ï¼Œæœ€åç”±mybatisæ¡†æ¶æ‰§è¡Œsqlå¹¶å°†ç»“æœæ˜ å°„ä¸ºjavaå¯¹è±¡å¹¶è¿”å›ã€‚ï¼ˆä»æ‰§è¡Œsqlåˆ°è¿”å›resultçš„è¿‡ç¨‹ï¼‰ã€‚</p><h3 id="2ã€Mybaitsçš„ä¼˜ç‚¹"><a href="#2ã€Mybaitsçš„ä¼˜ç‚¹" class="headerlink" title="2ã€Mybaitsçš„ä¼˜ç‚¹"></a>2ã€Mybaitsçš„ä¼˜ç‚¹</h3><p>ï¼ˆ1ï¼‰åŸºäºSQLè¯­å¥ç¼–ç¨‹ï¼Œç›¸å½“çµæ´»ï¼Œä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾è®¡é€ æˆä»»ä½•å½±å“ï¼ŒSQLå†™åœ¨XMLé‡Œï¼Œè§£é™¤sqlä¸ç¨‹åºä»£ç çš„è€¦åˆï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†ï¼›æä¾›XMLæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€SQLè¯­å¥ï¼Œå¹¶å¯é‡ç”¨ã€‚</p><p>ï¼ˆ2ï¼‰ä¸JDBCç›¸æ¯”ï¼Œå‡å°‘äº†50%ä»¥ä¸Šçš„ä»£ç é‡ï¼Œæ¶ˆé™¤äº†JDBCå¤§é‡å†—ä½™çš„ä»£ç ï¼Œä¸éœ€è¦æ‰‹åŠ¨å¼€å…³è¿æ¥ï¼›</p><p>ï¼ˆ3ï¼‰å¾ˆå¥½çš„ä¸å„ç§æ•°æ®åº“å…¼å®¹ï¼ˆå› ä¸ºMyBatisä½¿ç”¨JDBCæ¥è¿æ¥æ•°æ®åº“ï¼Œæ‰€ä»¥åªè¦JDBCæ”¯æŒçš„æ•°æ®åº“MyBatiséƒ½æ”¯æŒï¼‰ã€‚</p><p>ï¼ˆ4ï¼‰èƒ½å¤Ÿä¸Springå¾ˆå¥½çš„é›†æˆï¼›</p><p>ï¼ˆ5ï¼‰æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ORMå­—æ®µå…³ç³»æ˜ å°„ï¼›æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„ä»¶ç»´æŠ¤ã€‚</p><h3 id="3ã€MyBatisæ¡†æ¶çš„ç¼ºç‚¹"><a href="#3ã€MyBatisæ¡†æ¶çš„ç¼ºç‚¹" class="headerlink" title="3ã€MyBatisæ¡†æ¶çš„ç¼ºç‚¹"></a>3ã€MyBatisæ¡†æ¶çš„ç¼ºç‚¹</h3><p>ï¼ˆ1ï¼‰SQLè¯­å¥çš„ç¼–å†™å·¥ä½œé‡è¾ƒå¤§ï¼Œå°¤å…¶å½“å­—æ®µå¤šã€å…³è”è¡¨å¤šæ—¶ï¼Œå¯¹å¼€å‘äººå‘˜ç¼–å†™SQLè¯­å¥çš„åŠŸåº•æœ‰ä¸€å®šè¦æ±‚ã€‚</p><p>ï¼ˆ2ï¼‰SQLè¯­å¥ä¾èµ–äºæ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“ç§»æ¤æ€§å·®ï¼Œä¸èƒ½éšæ„æ›´æ¢æ•°æ®åº“ã€‚</p><h3 id="4ã€MyBatisæ¡†æ¶é€‚ç”¨åœºåˆ"><a href="#4ã€MyBatisæ¡†æ¶é€‚ç”¨åœºåˆ" class="headerlink" title="4ã€MyBatisæ¡†æ¶é€‚ç”¨åœºåˆ"></a>4ã€MyBatisæ¡†æ¶é€‚ç”¨åœºåˆ</h3><p>ï¼ˆ1ï¼‰MyBatisä¸“æ³¨äºSQLæœ¬èº«ï¼Œæ˜¯ä¸€ä¸ªè¶³å¤Ÿçµæ´»çš„DAOå±‚è§£å†³æ–¹æ¡ˆã€‚</p><p>ï¼ˆ2ï¼‰å¯¹æ€§èƒ½çš„è¦æ±‚å¾ˆé«˜ï¼Œæˆ–è€…éœ€æ±‚å˜åŒ–è¾ƒå¤šçš„é¡¹ç›®ï¼Œå¦‚äº’è”ç½‘é¡¹ç›®ï¼ŒMyBatiså°†æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p><h3 id="5ã€MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒ"><a href="#5ã€MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒ" class="headerlink" title="5ã€MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒ"></a>5ã€MyBatisä¸Hibernateæœ‰å“ªäº›ä¸åŒ</h3><p>ï¼ˆ1ï¼‰Mybatiså’Œhibernateä¸åŒï¼Œå®ƒä¸å®Œå…¨æ˜¯ä¸€ä¸ªORMæ¡†æ¶ï¼Œå› ä¸ºMyBatiséœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™Sqlè¯­å¥ã€‚</p><p>ï¼ˆ2ï¼‰Mybatisç›´æ¥ç¼–å†™åŸç”Ÿæ€sqlï¼Œå¯ä»¥ä¸¥æ ¼æ§åˆ¶sqlæ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ï¼Œéå¸¸é€‚åˆå¯¹å…³ç³»æ•°æ®æ¨¡å‹è¦æ±‚ä¸é«˜çš„è½¯ä»¶å¼€å‘ï¼Œå› ä¸ºè¿™ç±»è½¯ä»¶éœ€æ±‚å˜åŒ–é¢‘ç¹ï¼Œä¸€ä½†éœ€æ±‚å˜åŒ–è¦æ±‚è¿…é€Ÿè¾“å‡ºæˆæœã€‚ä½†æ˜¯çµæ´»çš„å‰ææ˜¯mybatisæ— æ³•åšåˆ°æ•°æ®åº“æ— å…³æ€§ï¼Œå¦‚æœéœ€è¦å®ç°æ”¯æŒå¤šç§æ•°æ®åº“çš„è½¯ä»¶ï¼Œåˆ™éœ€è¦è‡ªå®šä¹‰å¤šå¥—sqlæ˜ å°„æ–‡ä»¶ï¼Œå·¥ä½œé‡å¤§ã€‚ </p><p>ï¼ˆ3ï¼‰Hibernateå¯¹è±¡/å…³ç³»æ˜ å°„èƒ½åŠ›å¼ºï¼Œæ•°æ®åº“æ— å…³æ€§å¥½ï¼Œå¯¹äºå…³ç³»æ¨¡å‹è¦æ±‚é«˜çš„è½¯ä»¶ï¼Œå¦‚æœç”¨hibernateå¼€å‘å¯ä»¥èŠ‚çœå¾ˆå¤šä»£ç ï¼Œæé«˜æ•ˆç‡ã€‚ </p><hr><h2 id="äºŒã€ä½¿ç”¨æ€»ç»“"><a href="#äºŒã€ä½¿ç”¨æ€»ç»“" class="headerlink" title="äºŒã€ä½¿ç”¨æ€»ç»“"></a>äºŒã€ä½¿ç”¨æ€»ç»“</h2><blockquote><p>ä»¥ä¸‹çš„ç”¨æ³•å®ä¾‹å»ºè®®å°†æºç cloneåˆ°æœ¬åœ°è¿è¡Œï¼Œå…¨éƒ¨ä½¿ç”¨çš„æ˜¯<strong>XMlæç®€æ¨¡å¼</strong></p><p>å› ä¸ºæˆ‘æ²¡æœ‰è´´å‡ºå®Œæ•´çš„ä»£ç ï¼Œåªè´´å‡ºå…³é”®å¤„ç†çš„éƒ¨åˆ†</p><p>æ‰€æœ‰æµ‹è¯•éƒ½å·²ç»é€šè¿‡Postmanå‘é€è¯·æ±‚æµ‹è¯•ã€‚</p><p>ä¸è¿‡æˆ‘å»ºè®®å„ä½çœ‹å®˜å¯ä»¥ç”¨ä¸‹IDEAçš„æ’ä»¶ï¼š<strong>Restfultookit</strong>ï¼Œéå¸¸å¥½ç”¨çš„ï¼Œæ ¹æ®controllerå®šä¹‰çš„urlåœ°å€å¿«æ·ç”Ÿæˆè¯·æ±‚æŠ¥æ–‡ï¼Œå¯ä»¥ç›´æ¥æµ‹è¯•ã€‚å¯¹äºæµ‹è¯•æŠ¥æ–‡æ¥è¯´è¿™ä¸ªæ’ä»¶ç®€ç›´æ— æ•Œï¼å¼ºçƒˆæ¨èï¼ˆå·²ç»å®‰è£…çš„å½“æˆ‘æ²¡è¯´ï¼‰</p></blockquote><hr><h3 id="1ã€Javaï¼ŒJDBCä¸MySQLæ•°æ®ç±»å‹å¯¹ç…§æ•°æ®ç±»å‹å…³ç³»è¡¨"><a href="#1ã€Javaï¼ŒJDBCä¸MySQLæ•°æ®ç±»å‹å¯¹ç…§æ•°æ®ç±»å‹å…³ç³»è¡¨" class="headerlink" title="1ã€Javaï¼ŒJDBCä¸MySQLæ•°æ®ç±»å‹å¯¹ç…§æ•°æ®ç±»å‹å…³ç³»è¡¨"></a>1ã€Javaï¼ŒJDBCä¸MySQLæ•°æ®ç±»å‹å¯¹ç…§æ•°æ®ç±»å‹å…³ç³»è¡¨</h3><p>ä»»ä½•MySQLæ•°æ®ç±»å‹éƒ½å¯ä»¥è½¬æ¢ä¸ºJavaæ•°æ®ç±»å‹ã€‚</p><p>å¦‚æœé€‰æ‹©çš„Javaæ•°å€¼æ•°æ®ç±»å‹çš„ç²¾åº¦æˆ–å®¹é‡ä½äºè¦è½¬æ¢ä¸ºçš„MySQLæ•°æ®ç±»å‹ï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°èˆå…¥ï¼Œæº¢å‡ºæˆ–ç²¾åº¦æŸå¤±ã€‚</p><p>ä¸‹è¡¨åˆ—å‡ºäº†å§‹ç»ˆä¿è¯æœ‰æ•ˆçš„è½¬æ¢ã€‚ ç¬¬ä¸€åˆ—åˆ—å‡ºäº†ä¸€ç§æˆ–å¤šç§MySQLæ•°æ®ç±»å‹ï¼Œç¬¬äºŒåˆ—åˆ—å‡ºäº†å¯ä»¥è½¬æ¢MySQLç±»å‹çš„ä¸€ç§æˆ–å¤šç§Javaç±»å‹ã€‚</p><table><thead><tr><th>These MySQL Data Types</th><th>Can always be converted to these Java types</th></tr></thead><tbody><tr><td><code>CHAR, VARCHAR, BLOB, TEXT, ENUM, and SET</code></td><td><code>java.lang.String, java.io.InputStream, java.io.Reader, java.sql.Blob, java.sql.Clob</code></td></tr><tr><td><code>FLOAT, REAL, DOUBLE PRECISION, NUMERIC, DECIMAL, TINYINT, SMALLINT, MEDIUMINT, INTEGER, BIGINT</code></td><td><code>java.lang.String, java.lang.Short, java.lang.Integer, java.lang.Long, java.lang.Double, java.math.BigDecimal</code></td></tr><tr><td><code>DATE, TIME, DATETIME, TIMESTAMP</code></td><td><code>java.lang.String, java.sql.Date, java.sql.Timestamp</code></td></tr></tbody></table><p>ResultSet.getObjectï¼ˆï¼‰æ–¹æ³•ä½¿ç”¨MySQLå’ŒJavaç±»å‹ä¹‹é—´çš„ç±»å‹è½¬æ¢ï¼Œéµå¾ªé€‚å½“çš„JDBCè§„èŒƒã€‚ ResultSetMetaData.GetColumnTypeNameï¼ˆï¼‰å’ŒResultSetMetaData.GetColumnClassNameï¼ˆï¼‰è¿”å›çš„å€¼å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚ æœ‰å…³JDBCç±»å‹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…java.sql.Typesç±»çš„å‚è€ƒã€‚</p><table><thead><tr><th>MySQL Type Name</th><th>Return value of <code>GetColumnTypeName</code></th><th>Return value of <code>GetColumnClassName</code></th></tr></thead><tbody><tr><td><code>BIT(1)</code></td><td><code>BIT</code></td><td><code>java.lang.Boolean</code></td></tr><tr><td><code>BIT( &gt; 1)</code></td><td><code>BIT</code></td><td><code>byte[]</code></td></tr><tr><td><code>TINYINT</code></td><td><code>TINYINT</code></td><td><code>java.lang.Boolean</code> if the configuration property <code>tinyInt1isBit</code> is set to <code>true</code> (the default) and the storage size is 1, or <code>java.lang.Integer</code> if not.</td></tr><tr><td><code>BOOL</code>, <code>BOOLEAN</code></td><td><code>TINYINT</code></td><td>See <code>TINYINT</code>, above as these are aliases for <code>TINYINT(1)</code>, currently.</td></tr><tr><td><code>SMALLINT[(M)] [UNSIGNED]</code></td><td><code>SMALLINT [UNSIGNED]</code></td><td><code>java.lang.Integer</code> (regardless of whether it is <code>UNSIGNED</code> or not)</td></tr><tr><td><code>MEDIUMINT[(M)] [UNSIGNED]</code></td><td><code>MEDIUMINT [UNSIGNED]</code></td><td><code>java.lang.Integer</code> (regardless of whether it is <code>UNSIGNED</code> or not)</td></tr><tr><td><code>INT,INTEGER[(M)] [UNSIGNED]</code></td><td><code>INTEGER [UNSIGNED]</code></td><td><code>java.lang.Integer</code>, if <code>UNSIGNED</code> <code>java.lang.Long</code></td></tr><tr><td><code>BIGINT[(M)] [UNSIGNED]</code></td><td><code>BIGINT [UNSIGNED]</code></td><td><code>java.lang.Long</code>, if UNSIGNED <code>java.math.BigInteger</code></td></tr><tr><td><code>FLOAT[(M,D)]</code></td><td><code>FLOAT</code></td><td><code>java.lang.Float</code></td></tr><tr><td><code>DOUBLE[(M,B)]</code></td><td><code>DOUBLE</code></td><td><code>java.lang.Double</code></td></tr><tr><td><code>DECIMAL[(M[,D])]</code></td><td><code>DECIMAL</code></td><td><code>java.math.BigDecimal</code></td></tr><tr><td><code>DATE</code></td><td><code>DATE</code></td><td><code>java.sql.Date</code></td></tr><tr><td><code>DATETIME</code></td><td><code>DATETIME</code></td><td><code>java.sql.Timestamp</code></td></tr><tr><td><code>TIMESTAMP[(M)]</code></td><td><code>TIMESTAMP</code></td><td><code>java.sql.Timestamp</code></td></tr><tr><td><code>TIME</code></td><td><code>TIME</code></td><td><code>java.sql.Time</code></td></tr><tr><td>`YEAR[(2</td><td>4)]`</td><td><code>YEAR</code></td></tr><tr><td><code>CHAR(M)</code></td><td><code>CHAR</code></td><td><code>java.lang.String</code> (unless the character set for the column is <code>BINARY</code>, then <code>byte[]</code> is returned.</td></tr><tr><td><code>VARCHAR(M) [BINARY]</code></td><td><code>VARCHAR</code></td><td><code>java.lang.String</code> (unless the character set for the column is <code>BINARY</code>, then <code>byte[]</code> is returned.</td></tr><tr><td><code>BINARY(M)</code></td><td><code>BINARY</code></td><td><code>byte[]</code></td></tr><tr><td><code>VARBINARY(M)</code></td><td><code>VARBINARY</code></td><td><code>byte[]</code></td></tr><tr><td><code>TINYBLOB</code></td><td><code>TINYBLOB</code></td><td><code>byte[]</code></td></tr><tr><td><code>TINYTEXT</code></td><td><code>VARCHAR</code></td><td><code>java.lang.String</code></td></tr><tr><td><code>BLOB</code></td><td><code>BLOB</code></td><td><code>byte[]</code></td></tr><tr><td><code>TEXT</code></td><td><code>VARCHAR</code></td><td><code>java.lang.String</code></td></tr><tr><td><code>MEDIUMBLOB</code></td><td><code>MEDIUMBLOB</code></td><td><code>byte[]</code></td></tr><tr><td><code>MEDIUMTEXT</code></td><td><code>VARCHAR</code></td><td><code>java.lang.String</code></td></tr><tr><td><code>LONGBLOB</code></td><td><code>LONGBLOB</code></td><td><code>byte[]</code></td></tr><tr><td><code>LONGTEXT</code></td><td><code>VARCHAR</code></td><td><code>java.lang.String</code></td></tr><tr><td><code>ENUM(&#39;value1&#39;,&#39;value2&#39;,...)</code></td><td><code>CHAR</code></td><td><code>java.lang.String</code></td></tr><tr><td><code>SET(&#39;value1&#39;,&#39;value2&#39;,...)</code></td><td><code>CHAR</code></td><td><code>java.lang.String</code></td></tr></tbody></table><p>å‚è€ƒï¼š<a href="https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-type-conversions.html">6.5 Java, JDBC, and MySQL Types</a></p><h3 id="2ã€å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·ï¼Œæ€ä¹ˆåŠ"><a href="#2ã€å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·ï¼Œæ€ä¹ˆåŠ" class="headerlink" title="2ã€å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·ï¼Œæ€ä¹ˆåŠ"></a>2ã€å½“å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·ï¼Œæ€ä¹ˆåŠ</h3><blockquote><p>å…¶ä¸€ï¼šå®šä¹‰å­—æ®µåˆ«åï¼Œä½¿ä¹‹ä¸å®ä½“ç±»å±æ€§åä¸€è‡´ã€‚</p></blockquote><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨1 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserList1&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.niaobulashi.entity.SysUser&quot;</span>&gt;</span></span><br><span class="line">   SELECT</span><br><span class="line">    u.user_id, u.username userNameStr, u.password, u.salt, u.email,</span><br><span class="line">    u.mobile, u.status, u.dept_id, u.create_time</span><br><span class="line">  FROM</span><br><span class="line">    sys_user u</span><br><span class="line">  where 1=1</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>å…¶äºŒï¼šé€šè¿‡resultMapæ˜ å°„å­—æ®µåå’Œå®ä½“ç±»å±æ€§åä¿æŒä¸€è‡´</p></blockquote><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;sysUserInfoMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.niaobulashi.entity.SysUser&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç”¨æˆ·Idå±æ€§æ¥æ˜ å°„ä¸»é”®å­—æ®µ userId--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;userId&quot;</span>/&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ç”¨resultå±æ€§æ¥æ˜ å°„éä¸»é”®å­—æ®µï¼Œpropertyä¸ºå®ä½“ç±»å±æ€§åï¼Œcolumnä¸ºæ•°æ®è¡¨ä¸­çš„å±æ€§--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;userNameStr&quot;</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--ç”¨æˆ·Vo--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;selectSysUserVo&quot;</span>&gt;</span></span><br><span class="line">  SELECT</span><br><span class="line">    u.user_id, u.username, u.password, u.salt, </span><br><span class="line">    u.email, u.mobile, u.status, u.dept_id, u.create_time</span><br><span class="line">  FROM</span><br><span class="line">    sys_user u</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨2 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserList2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;sysUserInfoMap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;selectSysUserVo&quot;</span>/&gt;</span></span><br><span class="line">    where 1=1</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ¨èä½¿ç”¨ç¬¬äºŒç§ã€‚</p><h3 id="2ã€è·å–Mybatisè‡ªå¢é•¿ä¸»é”®"><a href="#2ã€è·å–Mybatisè‡ªå¢é•¿ä¸»é”®" class="headerlink" title="2ã€è·å–Mybatisè‡ªå¢é•¿ä¸»é”®"></a>2ã€è·å–Mybatisè‡ªå¢é•¿ä¸»é”®</h3><p>æ€è·¯ï¼š<code>useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;</code></p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- è·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertSysTest&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.niaobulashi.model.SysTest&quot;</span></span></span></span><br><span class="line"><span class="xml">useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;</span></span><br><span class="line"><span class="xml">INSERT INTO sys_test(name, age, nick_name) VALUES (#</span><span class="template-variable">&#123;name&#125;</span><span class="xml">,#</span><span class="template-variable">&#123;age&#125;</span><span class="xml">,#</span><span class="template-variable">&#123;nickName&#125;</span><span class="xml">)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è·å–è‡ªå¢é•¿ä¸»é”®</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–è‡ªå¢é•¿ä¸»é”®ID</span></span><br><span class="line"><span class="comment"> * @param sysTest</span></span><br><span class="line"><span class="comment"> * @throws Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">@<span class="constructor">RequestMapping(<span class="params">value</span> = <span class="string">&quot;/add&quot;</span>, <span class="params">method</span> = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">private</span> void add<span class="constructor">SysTest(@RequestBody SysTest <span class="params">sysTest</span>)</span> throws Exception &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    SysTest sysTestParam = <span class="keyword">new</span> <span class="constructor">SysTest()</span>;</span><br><span class="line">        <span class="comment">// å°†ä¼ å…¥å‚æ•°Copyåˆ°æ–°ç”³æ˜çš„å¯¹è±¡ä¸­ï¼Œè¿™æ ·æ‰èƒ½ä»sysTestParamä¸­è·å–åˆ°è‡ªå¢é•¿ä¸»é”®</span></span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">BeanUtils</span>.</span></span>copy<span class="constructor">Properties(<span class="params">sysTest</span>, <span class="params">sysTestParam</span>)</span>;</span><br><span class="line">    this.sysTestService.insert<span class="constructor">SysTest(<span class="params">sysTestParam</span>)</span>;</span><br><span class="line">    log.info(<span class="string">&quot;è·å–è‡ªå¢é•¿ä¸»é”®ä¸ºï¼š&quot;</span> + sysTestParam.get<span class="constructor">Id()</span>);</span><br><span class="line">  &#125; catch (Exception e) &#123;</span><br><span class="line">    e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">    throw <span class="keyword">new</span> <span class="constructor">Exception()</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3ã€æ¨¡ç³ŠæŸ¥è¯¢"><a href="#3ã€æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="3ã€æ¨¡ç³ŠæŸ¥è¯¢"></a>3ã€æ¨¡ç³ŠæŸ¥è¯¢</h3><p>ä½¿ç”¨<code>%&quot;#&#123;value&#125;&quot;%&quot;</code>æ–¹æ³•ä¼šå¼•èµ·SQLæ³¨å…¥</p><p>æ¨èä½¿ç”¨ï¼š**<code>CONCAT(&#39;%&#39;,#&#123;value&#125;,&#39;%&#39;)</code>**</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--ç”¨æˆ·Vo--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;selectSysUserVo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">SELECT</span></span><br><span class="line"><span class="xml">u.user_id, u.username, u.password, u.salt, </span></span><br><span class="line"><span class="xml">u.email, u.mobile, u.status, u.dept_id, u.create_time</span></span><br><span class="line"><span class="xml">FROM</span></span><br><span class="line"><span class="xml">sys_user u</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯åˆ—è¡¨2 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserListByName&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;String&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;sysUserInfoMap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;selectSysUserVo&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">where 1=1</span></span><br><span class="line"><span class="xml">and u.username like concat(&#x27;%&#x27;,#</span><span class="template-variable">&#123;userName&#125;</span><span class="xml">,&#x27;%&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="4ã€å¤šæ¡ä»¶æŸ¥è¯¢"><a href="#4ã€å¤šæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="4ã€å¤šæ¡ä»¶æŸ¥è¯¢"></a>4ã€å¤šæ¡ä»¶æŸ¥è¯¢</h3><p>1ã€ä½¿ç”¨@Param</p><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">List&lt;SysUser&gt; queryUserByNameAndEmail(<span class="symbol">@Param</span>(<span class="string">&quot;userName&quot;</span>) <span class="built_in">String</span> userName, <span class="symbol">@Param</span>(<span class="string">&quot;email&quot;</span>) <span class="built_in">String</span> email)<span class="comment">;</span></span><br></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--ä½¿ç”¨ç”¨æˆ·åå’Œé‚®ç®±æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserByNameAndEmail&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;sysUserInfoMap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;selectSysUserVo&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;userName != null and userName != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            AND u.username like concat(&#x27;%&#x27;,#</span><span class="template-variable">&#123;userName&#125;</span><span class="xml">,&#x27;%&#x27;)</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            AND u.email like concat(&#x27;%&#x27;,#</span><span class="template-variable">&#123;email&#125;</span><span class="xml">,&#x27;%&#x27;)</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨JavaBean</p><p>è¿™é‡Œç»™äº†ä¸€äº›å¸¸è§çš„æŸ¥è¯¢æ¡ä»¶ï¼šæ—¥æœŸã€é‡‘é¢ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">List&lt;SysUser&gt; query<span class="constructor">UserByUser(SysUser <span class="params">sysUser</span>)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserByUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.niaobulashi.model.SysUser&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;sysUserInfoMap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;selectSysUserVo&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml">1=1</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;userNameStr != null and userNameStr != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">AND u.username like concat(&#x27;%&#x27;, #</span><span class="template-variable">&#123;userNameStr&#125;</span><span class="xml">, &#x27;%&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null and email != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">AND u.email like concat(&#x27;%&#x27;, #</span><span class="template-variable">&#123;email&#125;</span><span class="xml">, &#x27;%&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;mobile != null and mobile != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">AND u.mobile like concat(&#x27;%&#x27;, #</span><span class="template-variable">&#123;mobile&#125;</span><span class="xml">, &#x27;%&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;createDateStart != null and createDateStart != &#x27;&#x27;&quot;</span>&gt;</span>/*å¼€å§‹æ—¶é—´æ£€ç´¢*/</span></span><br><span class="line"><span class="xml">AND date_format(u.create_time, &#x27;%y%m%d&#x27;) &lt;![CDATA[ &gt;= ]]&gt; date_format(#</span><span class="template-variable">&#123;createDateStart&#125;</span><span class="xml">, &#x27;%y%m%d&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;createDateEnd != null and createDateEnd != &#x27;&#x27;&quot;</span>&gt;</span>/*ç»“æŸæ—¶é—´æ£€ç´¢*/</span></span><br><span class="line"><span class="xml">AND date_format(u.create_time, &#x27;%y%m%d&#x27;) &lt;![CDATA[ &lt;= ]]&gt; date_format(#</span><span class="template-variable">&#123;createDateEnd&#125;</span><span class="xml">, &#x27;%y%m%d&#x27;)</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;amtFrom != null and amtFrom != &#x27;&#x27;&quot;</span>&gt;</span>/*èµ·å§‹é‡‘é¢*/</span></span><br><span class="line"><span class="xml">AND u.amt &lt;![CDATA[ &gt;= ]]&gt; #</span><span class="template-variable">&#123;amtFrom&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;amtTo != null and amtTo != &#x27;&#x27;&quot;</span>&gt;</span>/*æˆªè‡³é‡‘é¢*/</span></span><br><span class="line"><span class="xml">AND u.amt &lt;![CDATA[ &lt;= ]]&gt; #</span><span class="template-variable">&#123;amtTo&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">where</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="5ã€æ‰¹é‡åˆ é™¤foreach"><a href="#5ã€æ‰¹é‡åˆ é™¤foreach" class="headerlink" title="5ã€æ‰¹é‡åˆ é™¤foreach"></a>5ã€æ‰¹é‡åˆ é™¤foreach</h3><p>xmléƒ¨åˆ†</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">delete</span> id=&quot;deleteSysTestByIds&quot; parameterType=&quot;String&quot;&gt;</span><br><span class="line">  <span class="keyword">delete</span> <span class="keyword">from</span> sys_test <span class="keyword">where</span> id <span class="keyword">in</span></span><br><span class="line">  &lt;<span class="keyword">foreach</span> collection=&quot;array&quot; item=&quot;id&quot; <span class="keyword">open</span>=&quot;(&quot; separator=&quot;,&quot; <span class="keyword">close</span>=&quot;)&quot;&gt;</span><br><span class="line">    #&#123;id&#125;</span><br><span class="line">  &lt;/<span class="keyword">foreach</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">delete</span>&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­foreachåŒ…å«å±æ€§è®²è§£ï¼š</p><ul><li>openï¼šæ•´ä¸ªå¾ªç¯å†…å®¹å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚</li><li>closeï¼šæ•´ä¸ªå¾ªç¯å†…å®¹ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚</li><li>separatorï¼šæ¯æ¬¡å¾ªç¯çš„åˆ†éš”ç¬¦ã€‚</li><li>itemï¼šä»è¿­ä»£å¯¹è±¡ä¸­å–å‡ºçš„æ¯ä¸€ä¸ªå€¼ã€‚</li><li>indexï¼šå¦‚æœå‚æ•°ä¸ºé›†åˆæˆ–è€…æ•°ç»„ï¼Œè¯¥å€¼ä¸ºå½“å‰ç´¢å¼•å€¼ï¼Œå¦‚æœå‚æ•°ä¸ºMapç±»å‹æ—¶ï¼Œè¯¥å€¼ä¸ºMapçš„keyã€‚</li><li>collectionï¼šè¦è¿­ä»£å¾ªç¯çš„å±æ€§åã€‚</li></ul><p>daoéƒ¨åˆ†</p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">deleteSysTestByIds</span><span class="params">(<span class="keyword">String</span>[] ids)</span></span>;</span><br></pre></td></tr></table></figure><p>serviceå±‚</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Transactional</span>(rollbackFor = Exception.class)</span><br><span class="line"><span class="variable">@Override</span></span><br><span class="line">public int deleteDictDataByIds(String ids) throws Exception&#123;</span><br><span class="line">  <span class="selector-tag">try</span> &#123;</span><br><span class="line">    <span class="selector-tag">return</span> <span class="selector-tag">sysTestDao</span><span class="selector-class">.deleteSysTestByIds</span>(ids.split(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">  &#125; <span class="selector-tag">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="selector-tag">e</span><span class="selector-class">.printStackTrace</span>();</span><br><span class="line">    <span class="selector-tag">throw</span> <span class="selector-tag">new</span> <span class="selector-tag">Exception</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>controller</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@<span class="constructor">RequestMapping(<span class="params">value</span> = <span class="string">&quot;/deleteIds&quot;</span>, <span class="params">method</span> = RequestMethod.POST)</span></span><br><span class="line">public <span class="built_in">int</span> delete<span class="constructor">Ids(String <span class="params">ids</span>)</span> throws Exception &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    return sysTestService.delete<span class="constructor">DictDataByIds(<span class="params">ids</span>)</span>;</span><br><span class="line">  &#125; catch (Exception e) &#123;</span><br><span class="line">    e.print<span class="constructor">StackTrace()</span>;</span><br><span class="line">    throw <span class="keyword">new</span> <span class="constructor">Exception()</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·æ±‚URLï¼š<a href="http://localhost:8081/test/deleteIds">http://localhost:8081/test/deleteIds</a></p><p>è¯·æ±‚æŠ¥æ–‡ï¼š</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ids</span> : <span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure><h3 id="6ã€å¤šè¡¨æŸ¥è¯¢associationå’Œcollection"><a href="#6ã€å¤šè¡¨æŸ¥è¯¢associationå’Œcollection" class="headerlink" title="6ã€å¤šè¡¨æŸ¥è¯¢associationå’Œcollection"></a>6ã€å¤šè¡¨æŸ¥è¯¢associationå’Œcollection</h3><p>å¤šè¡¨æŸ¥è¯¢ï¼Œå¤šè¡¨è‚¯å®šé¦–å…ˆæˆ‘ä»¬å…ˆè¦å¼„æ¸…æ¥šä¸¤ä¸ªå…³é”®å­—ï¼š</p><p><strong>association: ä¸€å¯¹ä¸€å…³è”(has one)<strong>ï¼›</strong>collection:ä¸€å¯¹å¤šå…³è”(has many)</strong></p><p>çš„å„ä¸ªå±æ€§çš„å«ä¹‰ï¼š</p><table><thead><tr><th>associationå’Œcollection</th></tr></thead><tbody><tr><td>propertyï¼šæ˜ å°„æ•°æ®åº“åˆ—çš„å­—æ®µæˆ–å±æ€§ã€‚<br/>columï¼šæ•°æ®åº“çš„åˆ—åæˆ–è€…åˆ—æ ‡ç­¾åˆ«åã€‚<br/>javaTypï¼šå®Œæ•´javaç±»åæˆ–åˆ«åã€‚<br/>jdbcTypeï¼šæ”¯æŒçš„JDBCç±»å‹åˆ—è¡¨åˆ—å‡ºçš„JDBCç±»å‹ã€‚è¿™ä¸ªå±æ€§åªåœ¨insert,updateæˆ–deleteçš„æ—¶å€™é’ˆå¯¹å…è®¸ç©ºçš„åˆ—æœ‰ç”¨ã€‚<br/>resultMapï¼šä¸€ä¸ªå¯ä»¥æ˜ å°„è”åˆåµŒå¥—ç»“æœé›†åˆ°ä¸€ä¸ªé€‚åˆçš„å¯¹è±¡è§†å›¾ä¸Šçš„ResultMapã€‚è¿™æ˜¯ä¸€ä¸ªæ›¿ä»£çš„æ–¹å¼å»è°ƒç”¨å¦ä¸€ä¸ªselectè¯­å¥ã€‚</td></tr></tbody></table><p>è¿™æ ·è¯´èµ·æ¥å¯èƒ½ä¸å¥½ç†è§£ï¼Œæˆ‘ä¸¾ä¸ªæ —å­</p><p>æ¶‰åŠåˆ°è¿™ä¸‰å¼ è¡¨ï¼Œæˆ‘ç²—ç•¥çš„ç”»äº†ä¸€ä¸‹ï¼š</p><table><thead><tr><th>-</th><th>ç”¨æˆ·è¡¨</th><th>éƒ¨é—¨è¡¨</th><th>è§’è‰²è¡¨</th></tr></thead><tbody><tr><td>è¡¨å</td><td>sys_user</td><td>sys_dept</td><td>sys_role</td></tr><tr><td>ä¸ç”¨æˆ·è¡¨å…³ç³»</td><td>-</td><td>ä¸€å¯¹ä¸€ï¼ˆä¸€ä¸ªç”¨æˆ·åªå±äºä¸€ä¸ªéƒ¨é—¨ï¼‰</td><td>ä¸€å¯¹å¤šï¼ˆä¸€ä¸ªç”¨æˆ·å¯ä»¥æœ‰å¤šä¸ªè§’è‰²ï¼‰</td></tr></tbody></table><p>äºæ˜¯ç”¨æˆ·è¡¨å…³è”éƒ¨é—¨è¡¨ï¼Œæˆ‘ä»¬ç”¨<strong>association</strong></p><p>ç”¨æˆ·è¡¨å…³è”è§’è‰²è¡¨ï¼Œæˆ‘ä»¬ç”¨<strong>collection</strong></p><p>å½“ç„¶äº†ï¼Œèƒ½ç”¨å¾—è¿™ä¹ˆè›‹ç–¼å…³é”®å­—çš„å‰ææ¡ä»¶æ˜¯ï¼Œä½ è¦æŸ¥è¯¢å…³è”çš„å­—æ®µï¼Œå¦‚æœä½ åªæ˜¯å…³è”ä¸æŸ¥å®ƒï¼Œé‚£å°±ä¸éœ€è¦ç”¨è¿™ç©æ„ã€‚ã€‚</p><p>è¾£ä¹ˆï¼Œæˆ‘ç»“åˆè¿™ä¸¤ä¸ªå¤šè¡¨æŸ¥è¯¢çš„å…³é”®å­—<strong>association</strong>ã€<strong>collection</strong>ä¸¾ä¸ªæ —å­ã€‚</p><h4 id="1ã€ç”¨æˆ·è¡¨å®ä½“ç±»"><a href="#1ã€ç”¨æˆ·è¡¨å®ä½“ç±»" class="headerlink" title="1ã€ç”¨æˆ·è¡¨å®ä½“ç±»"></a>1ã€ç”¨æˆ·è¡¨å®ä½“ç±»</h4><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysUser</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> final long serialVersionUID = <span class="number">1</span>L;</span><br><span class="line">  <span class="comment">/** ç”¨æˆ·ID */</span></span><br><span class="line">  <span class="keyword">private</span> Long userId;</span><br><span class="line">  <span class="comment">/** ç”¨æˆ·å */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> userNameStr;</span><br><span class="line">  <span class="comment">/** å¯†ç  */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> password;</span><br><span class="line">  <span class="comment">/** ç› */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> salt;</span><br><span class="line">  <span class="comment">/** é‚®ç®± */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> email;</span><br><span class="line">  <span class="comment">/** æ‰‹æœºå· */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> mobile;</span><br><span class="line">  <span class="comment">/** çŠ¶æ€  0ï¼šç¦ç”¨   1ï¼šæ­£å¸¸ */</span></span><br><span class="line">  <span class="keyword">private</span> Integer status;</span><br><span class="line">  <span class="comment">/** éƒ¨é—¨Id */</span></span><br><span class="line">  <span class="keyword">private</span> Long deptId;</span><br><span class="line">  <span class="comment">/** åˆ›å»ºæ—¶é—´ */</span></span><br><span class="line">  <span class="keyword">private</span> Date createTime;</span><br><span class="line">  <span class="comment">/****************å…³è”éƒ¨åˆ†**************</span></span><br><span class="line"><span class="comment">/** éƒ¨é—¨ */</span></span><br><span class="line">  <span class="keyword">private</span> SysDept dept;</span><br><span class="line">  <span class="comment">/** è§’è‰²é›†åˆ */</span></span><br><span class="line">  <span class="keyword">private</span> List&lt;SysRole&gt; roles;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2ã€éƒ¨é—¨è¡¨å®ä½“ç±»"><a href="#2ã€éƒ¨é—¨è¡¨å®ä½“ç±»" class="headerlink" title="2ã€éƒ¨é—¨è¡¨å®ä½“ç±»"></a>2ã€éƒ¨é—¨è¡¨å®ä½“ç±»</h4><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysDept</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line">    <span class="comment">/** éƒ¨é—¨ID */</span></span><br><span class="line">    <span class="keyword">private</span> Long deptId;</span><br><span class="line">    <span class="comment">/** éƒ¨é—¨åç§° */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> deptName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3ã€è§’è‰²è¡¨å®ä½“ç±»"><a href="#3ã€è§’è‰²è¡¨å®ä½“ç±»" class="headerlink" title="3ã€è§’è‰²è¡¨å®ä½“ç±»"></a>3ã€è§’è‰²è¡¨å®ä½“ç±»</h4><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysRole</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line">    <span class="comment">/** è§’è‰²ID */</span></span><br><span class="line">    <span class="keyword">private</span> Long roleId;</span><br><span class="line">    <span class="comment">/** è§’è‰²åç§° */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> roleName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4ã€Mapperã€Serviceéƒ¨åˆ†ï¼ˆç•¥ï¼‰"><a href="#4ã€Mapperã€Serviceéƒ¨åˆ†ï¼ˆç•¥ï¼‰" class="headerlink" title="4ã€Mapperã€Serviceéƒ¨åˆ†ï¼ˆç•¥ï¼‰"></a>4ã€Mapperã€Serviceéƒ¨åˆ†ï¼ˆç•¥ï¼‰</h4><figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">List<span class="variable">&lt;SysUser&gt;</span> queryUserRoleDept(SysUser <span class="keyword">user</span>);</span><br></pre></td></tr></table></figure><h4 id="5ã€XMLéƒ¨åˆ†"><a href="#5ã€XMLéƒ¨åˆ†" class="headerlink" title="5ã€XMLéƒ¨åˆ†"></a>5ã€XMLéƒ¨åˆ†</h4><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--æŸ¥çœ‹ç”¨æˆ·éƒ¨é—¨å’Œè§’è‰²ä¿¡æ¯--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserRoleDept&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.niaobulashi.model.SysUser&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserResult&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">select u.user_id, u.username, u.dept_id, d.dept_name, r.role_id, r.role_name</span></span><br><span class="line"><span class="xml">from sys_user u</span></span><br><span class="line"><span class="xml">LEFT JOIN sys_dept d on d.dept_id = u.dept_id</span></span><br><span class="line"><span class="xml">LEFT JOIN sys_user_role ur on ur.user_id = u.user_id</span></span><br><span class="line"><span class="xml">LEFT JOIN sys_role r on r.role_id = ur.role_id</span></span><br><span class="line"><span class="xml">WHERE 1=1</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;userId != null and userId != &#x27;&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">AND u.user_id = #</span><span class="template-variable">&#123;userId&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>UserResultéƒ¨åˆ†</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--ç”¨æˆ·è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">type</span>=<span class="string">&quot;com.niaobulashi.model.SysUser&quot;</span> <span class="attr">id</span>=<span class="string">&quot;UserResult&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;userId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;userNameStr&quot;</span> <span class="attr">column</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;password&quot;</span> <span class="attr">column</span>=<span class="string">&quot;login_name&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;salt&quot;</span> <span class="attr">column</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;mobile&quot;</span> <span class="attr">column</span>=<span class="string">&quot;mobile&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;status&quot;</span> <span class="attr">column</span>=<span class="string">&quot;status&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;dept&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.niaobulashi.model.SysDept&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;DeptResult&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;roles&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;java.util.List&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;RoleResult&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--éƒ¨é—¨è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;DeptResult&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.niaobulashi.model.SysDept&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--è§’è‰²è¡¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;RoleResult&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.niaobulashi.model.SysRole&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;roleId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;role_id&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;roleName&quot;</span> <span class="attr">column</span>=<span class="string">&quot;role_name&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6ã€Controlleréƒ¨åˆ†"><a href="#6ã€Controlleréƒ¨åˆ†" class="headerlink" title="6ã€Controlleréƒ¨åˆ†"></a>6ã€Controlleréƒ¨åˆ†</h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@<span class="constructor">RequestMapping(<span class="params">value</span> = <span class="string">&quot;/queryUserRoleDept&quot;</span>, <span class="params">method</span> = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">private</span> List&lt;SysUser&gt; query<span class="constructor">UserRoleDept(@RequestBody SysUser <span class="params">sysUser</span>)</span> &#123;</span><br><span class="line">  List&lt;SysUser&gt; userList = sysUserService.query<span class="constructor">UserRoleDept(<span class="params">sysUser</span>)</span>;</span><br><span class="line">  return userList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7ã€æµ‹è¯•éƒ¨åˆ†"><a href="#7ã€æµ‹è¯•éƒ¨åˆ†" class="headerlink" title="7ã€æµ‹è¯•éƒ¨åˆ†"></a>7ã€æµ‹è¯•éƒ¨åˆ†</h4><p>è¯·æ±‚ç»“æœï¼š</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/3893102344.png" alt="å¤šè¡¨å…³è”æŸ¥è¯¢æµ‹è¯•æŠ¥æ–‡"></p><h3 id="7ã€åˆ†é¡µæ’ä»¶"><a href="#7ã€åˆ†é¡µæ’ä»¶" class="headerlink" title="7ã€åˆ†é¡µæ’ä»¶"></a>7ã€åˆ†é¡µæ’ä»¶</h3><p>ä½¿ç”¨åˆ†é¡µæ’ä»¶<code>PageHelper Spring Boot Starter</code>ï¼Œå¼•å…¥mavenä¾èµ–ï¼š<a href="https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper-spring-boot-starter">PageHelper Spring Boot Starter1.2.12</a></p><p>application.ymlé…ç½®</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># PageHelperåˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="attr">pagehelper:</span></span><br><span class="line">  <span class="attr">helperDialect:</span> <span class="string">mysql</span></span><br><span class="line">  <span class="attr">reasonable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">supportMethodsArguments:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">params:</span> <span class="string">count=countSql</span></span><br></pre></td></tr></table></figure><p>controller</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@<span class="constructor">RequestMapping(<span class="params">value</span> = <span class="string">&quot;/queryUserByPage&quot;</span>, <span class="params">method</span> = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">private</span> PageInfo query<span class="constructor">UserByPage(Integer <span class="params">currentPage</span>, Integer <span class="params">pageSize</span>)</span> &#123;</span><br><span class="line">  <span class="module-access"><span class="module"><span class="identifier">PageHelper</span>.</span></span>start<span class="constructor">Page(<span class="params">currentPage</span>, <span class="params">pageSize</span>)</span>;</span><br><span class="line">  List&lt;SysUser&gt; userList = sysUserService.query<span class="constructor">UserRoleDept(<span class="params">new</span> SysUser()</span>);</span><br><span class="line">  PageInfo info=<span class="keyword">new</span> <span class="constructor">PageInfo(<span class="params">userList</span>)</span>;</span><br><span class="line">  return info;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›®å‰æš‚æ—¶å†™åˆ°è¿™é‡Œï¼Œæœ¬ç¯‡ä¼šæŒç»­è¡¥å……</p><p>To be continued</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(å)ï¼šRabbitMQ è¯¦è§£</title>
      <link href="2019/07/08/2019-07-08-springboot-rabbitMQ/"/>
      <url>2019/07/08/2019-07-08-springboot-rabbitMQ/</url>
      
        <content type="html"><![CDATA[<p>RabbitMQ å³ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸»è¦æ˜¯ç”¨æ¥å®ç°åº”ç”¨ç¨‹åºçš„å¼‚æ­¥å’Œè§£è€¦ï¼ŒåŒæ—¶ä¹Ÿèƒ½èµ·åˆ°æ¶ˆæ¯ç¼“å†²ï¼Œæ¶ˆæ¯åˆ†å‘çš„ä½œç”¨ã€‚</p><p>æ¶ˆæ¯ä¸­é—´ä»¶åœ¨äº’è”ç½‘å…¬å¸çš„ä½¿ç”¨ä¸­è¶Šæ¥è¶Šå¤šï¼Œåˆšæ‰è¿˜çœ‹åˆ°æ–°é—»é˜¿é‡Œå°† RocketMQ æçŒ®ç»™äº† Apacheï¼Œå½“ç„¶äº†ä»Šå¤©çš„ä¸»è§’è¿˜æ˜¯è®² RabbitMQã€‚æ¶ˆæ¯ä¸­é—´ä»¶æœ€ä¸»è¦çš„ä½œç”¨æ˜¯è§£è€¦ï¼Œä¸­é—´ä»¶æœ€æ ‡å‡†çš„ç”¨æ³•æ˜¯ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯ä¼ é€åˆ°é˜Ÿåˆ—ï¼Œæ¶ˆè´¹è€…ä»é˜Ÿåˆ—ä¸­æ‹¿å–æ¶ˆæ¯å¹¶å¤„ç†ï¼Œç”Ÿäº§è€…ä¸ç”¨å…³å¿ƒæ˜¯è°æ¥æ¶ˆè´¹ï¼Œæ¶ˆè´¹è€…ä¸ç”¨å…³å¿ƒè°åœ¨ç”Ÿäº§æ¶ˆæ¯ï¼Œä»è€Œè¾¾åˆ°è§£è€¦çš„ç›®çš„ã€‚åœ¨åˆ†å¸ƒå¼çš„ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿä¼šè¢«ç”¨åœ¨å¾ˆå¤šå…¶å®ƒçš„æ–¹é¢ï¼Œæ¯”å¦‚ï¼šåˆ†å¸ƒå¼äº‹åŠ¡çš„æ”¯æŒï¼ŒRPC çš„è°ƒç”¨ç­‰ç­‰ã€‚</p><p>ä»¥å‰ä¸€ç›´ä½¿ç”¨çš„æ˜¯ ActiveMQï¼Œåœ¨å®é™…çš„ç”Ÿäº§ä½¿ç”¨ä¸­ä¹Ÿå‡ºç°äº†ä¸€äº›å°é—®é¢˜ï¼Œåœ¨ç½‘ç»œæŸ¥é˜…äº†å¾ˆå¤šçš„èµ„æ–™åï¼Œå†³å®šå°è¯•ä½¿ç”¨ RabbitMQ æ¥æ›¿æ¢ ActiveMQï¼ŒRabbitMQ çš„é«˜å¯ç”¨æ€§ã€é«˜æ€§èƒ½ã€çµæ´»æ€§ç­‰ä¸€äº›ç‰¹ç‚¹å¸å¼•äº†æˆ‘ä»¬ï¼ŒæŸ¥é˜…äº†ä¸€äº›èµ„æ–™æ•´ç†å‡ºæ­¤æ–‡ã€‚</p><h2 id="RabbitMQ-ä»‹ç»"><a href="#RabbitMQ-ä»‹ç»" class="headerlink" title="RabbitMQ ä»‹ç»"></a>RabbitMQ ä»‹ç»</h2><p>RabbitMQ æ˜¯å®ç° AMQPï¼ˆé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§ï¼Œæœ€åˆèµ·æºäºé‡‘èç³»ç»Ÿï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ï¼Œåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€é«˜å¯ç”¨æ€§ç­‰æ–¹é¢è¡¨ç°ä¸ä¿—ã€‚ RabbitMQ ä¸»è¦æ˜¯ä¸ºäº†å®ç°ç³»ç»Ÿä¹‹é—´çš„åŒå‘è§£è€¦è€Œå®ç°çš„ã€‚å½“ç”Ÿäº§è€…å¤§é‡äº§ç”Ÿæ•°æ®æ—¶ï¼Œæ¶ˆè´¹è€…æ— æ³•å¿«é€Ÿæ¶ˆè´¹ï¼Œé‚£ä¹ˆéœ€è¦ä¸€ä¸ªä¸­é—´å±‚ã€‚ä¿å­˜è¿™ä¸ªæ•°æ®ã€‚</p><p>AMQPï¼Œå³ Advanced Message Queuing Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼Œæ˜¯åº”ç”¨å±‚åè®®çš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸ºé¢å‘æ¶ˆæ¯çš„ä¸­é—´ä»¶è®¾è®¡ã€‚æ¶ˆæ¯ä¸­é—´ä»¶ä¸»è¦ç”¨äºç»„ä»¶ä¹‹é—´çš„è§£è€¦ï¼Œæ¶ˆæ¯çš„å‘é€è€…æ— éœ€çŸ¥é“æ¶ˆæ¯ä½¿ç”¨è€…çš„å­˜åœ¨ï¼Œåä¹‹äº¦ç„¶ã€‚AMQP çš„ä¸»è¦ç‰¹å¾æ˜¯é¢å‘æ¶ˆæ¯ã€é˜Ÿåˆ—ã€è·¯ç”±ï¼ˆåŒ…æ‹¬ç‚¹å¯¹ç‚¹å’Œå‘å¸ƒ/è®¢é˜…ï¼‰ã€å¯é æ€§ã€å®‰å…¨ã€‚</p><p>RabbitMQ æ˜¯ä¸€ä¸ªå¼€æºçš„ AMQP å®ç°ï¼ŒæœåŠ¡å™¨ç«¯ç”¨Erlangè¯­è¨€ç¼–å†™ï¼Œæ”¯æŒå¤šç§å®¢æˆ·ç«¯ï¼Œå¦‚ï¼šPythonã€Rubyã€.NETã€Javaã€JMSã€Cã€PHPã€ActionScriptã€XMPPã€STOMP ç­‰ï¼Œæ”¯æŒ AJAXã€‚ç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ï¼Œåœ¨æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ã€é«˜å¯ç”¨æ€§ç­‰æ–¹é¢è¡¨ç°ä¸ä¿—ã€‚</p><h3 id="ç›¸å…³æ¦‚å¿µ"><a href="#ç›¸å…³æ¦‚å¿µ" class="headerlink" title="ç›¸å…³æ¦‚å¿µ"></a>ç›¸å…³æ¦‚å¿µ</h3><p>é€šå¸¸æˆ‘ä»¬è°ˆåˆ°é˜Ÿåˆ—æœåŠ¡, ä¼šæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š å‘æ¶ˆæ¯è€…ã€é˜Ÿåˆ—ã€æ”¶æ¶ˆæ¯è€…ï¼ŒRabbitMQ åœ¨è¿™ä¸ªåŸºæœ¬æ¦‚å¿µä¹‹ä¸Š, å¤šåšäº†ä¸€å±‚æŠ½è±¡, åœ¨å‘æ¶ˆæ¯è€…å’Œ é˜Ÿåˆ—ä¹‹é—´, åŠ å…¥äº†äº¤æ¢å™¨ (Exchange). è¿™æ ·å‘æ¶ˆæ¯è€…å’Œé˜Ÿåˆ—å°±æ²¡æœ‰ç›´æ¥è”ç³», è½¬è€Œå˜æˆå‘æ¶ˆæ¯è€…æŠŠæ¶ˆæ¯ç»™äº¤æ¢å™¨, äº¤æ¢å™¨æ ¹æ®è°ƒåº¦ç­–ç•¥å†æŠŠæ¶ˆæ¯å†ç»™é˜Ÿåˆ—ã€‚</p><p><img src="http://www.itmind.net/assets/images/2016/RabbitMQ01.png" alt="img"></p><ul><li>å·¦ä¾§ P ä»£è¡¨ ç”Ÿäº§è€…ï¼Œä¹Ÿå°±æ˜¯å¾€ RabbitMQ å‘æ¶ˆæ¯çš„ç¨‹åºã€‚</li><li>ä¸­é—´å³æ˜¯ RabbitMQï¼Œ<em>å…¶ä¸­åŒ…æ‹¬äº† äº¤æ¢æœº å’Œ é˜Ÿåˆ—ã€‚</em></li><li>å³ä¾§ C ä»£è¡¨ æ¶ˆè´¹è€…ï¼Œä¹Ÿå°±æ˜¯å¾€ RabbitMQ æ‹¿æ¶ˆæ¯çš„ç¨‹åºã€‚</li></ul><p>é‚£ä¹ˆï¼Œ<em>å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ¦‚å¿µæœ‰ 4 ä¸ªï¼Œåˆ†åˆ«ä¸ºï¼šè™šæ‹Ÿä¸»æœºï¼Œäº¤æ¢æœºï¼Œé˜Ÿåˆ—ï¼Œå’Œç»‘å®šã€‚</em></p><ul><li>è™šæ‹Ÿä¸»æœºï¼šä¸€ä¸ªè™šæ‹Ÿä¸»æœºæŒæœ‰ä¸€ç»„äº¤æ¢æœºã€é˜Ÿåˆ—å’Œç»‘å®šã€‚ä¸ºä»€ä¹ˆéœ€è¦å¤šä¸ªè™šæ‹Ÿä¸»æœºå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œ RabbitMQ å½“ä¸­ï¼Œ<em>ç”¨æˆ·åªèƒ½åœ¨è™šæ‹Ÿä¸»æœºçš„ç²’åº¦è¿›è¡Œæƒé™æ§åˆ¶ã€‚</em> å› æ­¤ï¼Œå¦‚æœéœ€è¦ç¦æ­¢Aç»„è®¿é—®Bç»„çš„äº¤æ¢æœº/é˜Ÿåˆ—/ç»‘å®šï¼Œå¿…é¡»ä¸ºAå’ŒBåˆ†åˆ«åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿä¸»æœºã€‚æ¯ä¸€ä¸ª RabbitMQ æœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„è™šæ‹Ÿä¸»æœºâ€œ/â€ã€‚</li><li>äº¤æ¢æœºï¼š<em>Exchange ç”¨äºè½¬å‘æ¶ˆæ¯ï¼Œä½†æ˜¯å®ƒä¸ä¼šåšå­˜å‚¨</em> ï¼Œå¦‚æœæ²¡æœ‰ Queue bind åˆ° Exchange çš„è¯ï¼Œå®ƒä¼šç›´æ¥ä¸¢å¼ƒæ‰ Producer å‘é€è¿‡æ¥çš„æ¶ˆæ¯ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ¦‚å¿µï¼š<strong>è·¯ç”±é”®</strong> ã€‚æ¶ˆæ¯åˆ°äº¤æ¢æœºçš„æ—¶å€™ï¼Œäº¤äº’æœºä¼šè½¬å‘åˆ°å¯¹åº”çš„é˜Ÿåˆ—ä¸­ï¼Œé‚£ä¹ˆç©¶ç«Ÿè½¬å‘åˆ°å“ªä¸ªé˜Ÿåˆ—ï¼Œå°±è¦æ ¹æ®è¯¥è·¯ç”±é”®ã€‚</li><li>ç»‘å®šï¼šä¹Ÿå°±æ˜¯äº¤æ¢æœºéœ€è¦å’Œé˜Ÿåˆ—ç›¸ç»‘å®šï¼Œè¿™å…¶ä¸­å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚</li></ul><h3 id="äº¤æ¢æœº-Exchange"><a href="#äº¤æ¢æœº-Exchange" class="headerlink" title="äº¤æ¢æœº(Exchange)"></a>äº¤æ¢æœº(Exchange)</h3><p>äº¤æ¢æœºçš„åŠŸèƒ½ä¸»è¦æ˜¯æ¥æ”¶æ¶ˆæ¯å¹¶ä¸”è½¬å‘åˆ°ç»‘å®šçš„é˜Ÿåˆ—ï¼Œäº¤æ¢æœºä¸å­˜å‚¨æ¶ˆæ¯ï¼Œåœ¨å¯ç”¨ackæ¨¡å¼åï¼Œäº¤æ¢æœºæ‰¾ä¸åˆ°é˜Ÿåˆ—ä¼šè¿”å›é”™è¯¯ã€‚äº¤æ¢æœºæœ‰å››ç§ç±»å‹ï¼šDirect, topic, Headers and Fanout</p><ul><li>Directï¼šdirect ç±»å‹çš„è¡Œä¸ºæ˜¯â€å…ˆåŒ¹é…, å†æŠ•é€â€. å³åœ¨ç»‘å®šæ—¶è®¾å®šä¸€ä¸ª <strong>routing_key</strong>, æ¶ˆæ¯çš„<strong>routing_key</strong> åŒ¹é…æ—¶, æ‰ä¼šè¢«äº¤æ¢å™¨æŠ•é€åˆ°ç»‘å®šçš„é˜Ÿåˆ—ä¸­å».</li><li>Topicï¼šæŒ‰è§„åˆ™è½¬å‘æ¶ˆæ¯ï¼ˆæœ€çµæ´»ï¼‰</li><li>Headersï¼šè®¾ç½® header attribute å‚æ•°ç±»å‹çš„äº¤æ¢æœº</li><li>Fanoutï¼šè½¬å‘æ¶ˆæ¯åˆ°æ‰€æœ‰ç»‘å®šé˜Ÿåˆ—</li></ul><p><strong>Direct Exchange</strong></p><p>Direct Exchange æ˜¯ RabbitMQ é»˜è®¤çš„äº¤æ¢æœºæ¨¡å¼ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„æ¨¡å¼ï¼Œæ ¹æ®keyå…¨æ–‡åŒ¹é…å»å¯»æ‰¾é˜Ÿåˆ—ã€‚<br><img src="http://www.itmind.net/assets/images/2016/rabbitMq_direct.png" alt="img"></p><p>ç¬¬ä¸€ä¸ª X - Q1 å°±æœ‰ä¸€ä¸ª binding keyï¼Œåå­—ä¸º orangeï¼› X - Q2 å°±æœ‰ 2 ä¸ª binding keyï¼Œåå­—ä¸º black å’Œ greenã€‚<em>å½“æ¶ˆæ¯ä¸­çš„ è·¯ç”±é”® å’Œ è¿™ä¸ª binding key å¯¹åº”ä¸Šçš„æ—¶å€™ï¼Œé‚£ä¹ˆå°±çŸ¥é“äº†è¯¥æ¶ˆæ¯å»åˆ°å“ªä¸€ä¸ªé˜Ÿåˆ—ä¸­ã€‚</em></p><p>Psï¼šä¸ºä»€ä¹ˆ X åˆ° Q2 è¦æœ‰ blackï¼Œgreenï¼Œ2ä¸ª binding keyå‘¢ï¼Œä¸€ä¸ªä¸å°±è¡Œäº†å—ï¼Ÿ - è¿™ä¸ªä¸»è¦æ˜¯å› ä¸ºå¯èƒ½åˆæœ‰ Q3ï¼Œè€ŒQ3åªæ¥å— black çš„ä¿¡æ¯ï¼Œè€ŒQ2ä¸ä»…æ¥å—black çš„ä¿¡æ¯ï¼Œè¿˜æ¥å— green çš„ä¿¡æ¯ã€‚</p><p><strong>Topic Exchange</strong></p><p><em>Topic Exchange è½¬å‘æ¶ˆæ¯ä¸»è¦æ˜¯æ ¹æ®é€šé…ç¬¦ã€‚</em> åœ¨è¿™ç§äº¤æ¢æœºä¸‹ï¼Œé˜Ÿåˆ—å’Œäº¤æ¢æœºçš„ç»‘å®šä¼šå®šä¹‰ä¸€ç§è·¯ç”±æ¨¡å¼ï¼Œé‚£ä¹ˆï¼Œé€šé…ç¬¦å°±è¦åœ¨è¿™ç§è·¯ç”±æ¨¡å¼å’Œè·¯ç”±é”®ä¹‹é—´åŒ¹é…åäº¤æ¢æœºæ‰èƒ½è½¬å‘æ¶ˆæ¯ã€‚</p><p>åœ¨è¿™ç§äº¤æ¢æœºæ¨¡å¼ä¸‹ï¼š</p><ul><li>è·¯ç”±é”®å¿…é¡»æ˜¯ä¸€ä¸²å­—ç¬¦ï¼Œç”¨å¥å·ï¼ˆ<code>.</code>ï¼‰ éš”å¼€ï¼Œæ¯”å¦‚è¯´ agreements.usï¼Œæˆ–è€… agreements.eu.stockholm ç­‰ã€‚</li><li>è·¯ç”±æ¨¡å¼å¿…é¡»åŒ…å«ä¸€ä¸ª æ˜Ÿå·ï¼ˆ<code>*</code>ï¼‰ï¼Œä¸»è¦ç”¨äºåŒ¹é…è·¯ç”±é”®æŒ‡å®šä½ç½®çš„ä¸€ä¸ªå•è¯ï¼Œæ¯”å¦‚è¯´ï¼Œä¸€ä¸ªè·¯ç”±æ¨¡å¼æ˜¯è¿™æ ·å­ï¼šagreements..b.*ï¼Œé‚£ä¹ˆå°±åªèƒ½åŒ¹é…è·¯ç”±é”®æ˜¯è¿™æ ·å­çš„ï¼šç¬¬ä¸€ä¸ªå•è¯æ˜¯ agreementsï¼Œç¬¬å››ä¸ªå•è¯æ˜¯ bã€‚ äº•å·ï¼ˆ#ï¼‰å°±è¡¨ç¤ºç›¸å½“äºä¸€ä¸ªæˆ–è€…å¤šä¸ªå•è¯ï¼Œä¾‹å¦‚ä¸€ä¸ªåŒ¹é…æ¨¡å¼æ˜¯ agreements.eu.berlin.#ï¼Œé‚£ä¹ˆï¼Œä»¥agreements.eu.berlin å¼€å¤´çš„è·¯ç”±é”®éƒ½æ˜¯å¯ä»¥çš„ã€‚</li></ul><p>å…·ä½“ä»£ç å‘é€çš„æ—¶å€™è¿˜æ˜¯ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºäº¤æ¢æœºï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤º routing keyï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å³æ¶ˆæ¯ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">rabbitTemplate</span><span class="selector-class">.convertAndSend</span>(<span class="string">&quot;testTopicExchange&quot;</span>,<span class="string">&quot;key1.a.c.key2&quot;</span>, <span class="string">&quot; this is  RabbitMQ!&quot;</span>);</span><br></pre></td></tr></table></figure><p>topic å’Œ direct ç±»ä¼¼, åªæ˜¯åŒ¹é…ä¸Šæ”¯æŒäº†â€æ¨¡å¼â€, åœ¨â€ç‚¹åˆ†â€çš„ routing_key å½¢å¼ä¸­, å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªé€šé…ç¬¦:</p><ul><li><code>*</code>è¡¨ç¤ºä¸€ä¸ªè¯.</li><li><code>#</code>è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªè¯.</li></ul><p><strong>Headers Exchange</strong></p><p>headers ä¹Ÿæ˜¯æ ¹æ®è§„åˆ™åŒ¹é…, ç›¸è¾ƒäº direct å’Œ topic å›ºå®šåœ°ä½¿ç”¨ routing_key , headers åˆ™æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰åŒ¹é…è§„åˆ™çš„ç±»å‹. åœ¨é˜Ÿåˆ—ä¸äº¤æ¢å™¨ç»‘å®šæ—¶, ä¼šè®¾å®šä¸€ç»„é”®å€¼å¯¹è§„åˆ™, æ¶ˆæ¯ä¸­ä¹ŸåŒ…æ‹¬ä¸€ç»„é”®å€¼å¯¹( headers å±æ€§), å½“è¿™äº›é”®å€¼å¯¹æœ‰ä¸€å¯¹, æˆ–å…¨éƒ¨åŒ¹é…æ—¶, æ¶ˆæ¯è¢«æŠ•é€åˆ°å¯¹åº”é˜Ÿåˆ—.</p><p><strong>Fanout Exchange</strong></p><p>Fanout Exchange æ¶ˆæ¯å¹¿æ’­çš„æ¨¡å¼ï¼Œä¸ç®¡è·¯ç”±é”®æˆ–è€…æ˜¯è·¯ç”±æ¨¡å¼ï¼Œ<em>ä¼šæŠŠæ¶ˆæ¯å‘ç»™ç»‘å®šç»™å®ƒçš„å…¨éƒ¨é˜Ÿåˆ—</em>ï¼Œå¦‚æœé…ç½®äº† routing_key ä¼šè¢«å¿½ç•¥ã€‚</p><h2 id="Spring-Boot-é›†æˆ-RabbitMQ"><a href="#Spring-Boot-é›†æˆ-RabbitMQ" class="headerlink" title="Spring Boot é›†æˆ RabbitMQ"></a>Spring Boot é›†æˆ RabbitMQ</h2><p>Spring Boot é›†æˆ RabbitMQ éå¸¸ç®€å•ï¼Œå¦‚æœåªæ˜¯ç®€å•çš„ä½¿ç”¨é…ç½®éå¸¸å°‘ï¼ŒSpring Boot æä¾›äº†<code>spring-boot-starter-amqp</code> é¡¹ç›®å¯¹æ¶ˆæ¯å„ç§æ”¯æŒã€‚</p><h3 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h3><p>1ã€é…ç½® Pom åŒ…ï¼Œä¸»è¦æ˜¯æ·»åŠ  <code>spring-boot-starter-amqp</code> çš„æ”¯æŒ</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€é…ç½®æ–‡ä»¶</p><p>é…ç½® RabbitMQ çš„å®‰è£…åœ°å€ã€ç«¯å£ä»¥åŠè´¦æˆ·ä¿¡æ¯</p><figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring.application.name</span>=Spring-boot-rabbitmq</span><br><span class="line"></span><br><span class="line"><span class="attr">spring.rabbitmq.host</span>=<span class="number">192.168</span>.<span class="number">0.86</span></span><br><span class="line"><span class="attr">spring.rabbitmq.port</span>=<span class="number">5672</span></span><br><span class="line"><span class="attr">spring.rabbitmq.username</span>=admin</span><br><span class="line"><span class="attr">spring.rabbitmq.password</span>=<span class="number">123456</span></span><br></pre></td></tr></table></figure><p>3ã€é˜Ÿåˆ—é…ç½®</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">Queue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€å‘é€è€…</p><p>rabbitTemplate æ˜¯ Spring Boot æä¾›çš„é»˜è®¤å®ç°</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloSender</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Autowired</span></span><br><span class="line">  <span class="keyword">private</span> AmqpTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">send</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">String</span> context = <span class="string">&quot;hello &quot;</span> + <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    System.out.println(<span class="string">&quot;Sender : &quot;</span> + context);</span><br><span class="line">    <span class="built_in">this</span>.rabbitTemplate.convertAndSend(<span class="string">&quot;hello&quot;</span>, context);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€æ¥æ”¶è€…</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Component</span></span><br><span class="line"><span class="variable">@RabbitListener</span>(queues = <span class="string">&quot;hello&quot;</span>)</span><br><span class="line">public class HelloReceiver &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@RabbitHandler</span></span><br><span class="line">    public void process(String hello) &#123;</span><br><span class="line">        <span class="selector-tag">System</span><span class="selector-class">.out</span><span class="selector-class">.println</span>(<span class="string">&quot;Receiver  : &quot;</span> + hello);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5ã€æµ‹è¯•</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@RunWith</span>(SpringRunner.class)</span><br><span class="line"><span class="variable">@SpringBootTest</span></span><br><span class="line">public class RabbitMqHelloTest &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@Autowired</span></span><br><span class="line">  private HelloSender helloSender;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@Test</span></span><br><span class="line">  public void hello() throws Exception &#123;</span><br><span class="line">    <span class="selector-tag">helloSender</span><span class="selector-class">.send</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œå‘é€è€…å’Œæ¥æ”¶è€…çš„ queue name å¿…é¡»ä¸€è‡´ï¼Œä¸ç„¶ä¸èƒ½æ¥æ”¶</p></blockquote><h3 id="å¤šå¯¹å¤šä½¿ç”¨"><a href="#å¤šå¯¹å¤šä½¿ç”¨" class="headerlink" title="å¤šå¯¹å¤šä½¿ç”¨"></a>å¤šå¯¹å¤šä½¿ç”¨</h3><p>ä¸€ä¸ªå‘é€è€…ï¼ŒN ä¸ªæ¥æ”¶è€…æˆ–è€… N ä¸ªå‘é€è€…å’Œ N ä¸ªæ¥æ”¶è€…ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p><p><strong>ä¸€å¯¹å¤šå‘é€</strong></p><p>å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œäº†å°æ”¹é€ ï¼Œæ¥æ”¶ç«¯æ³¨å†Œäº†ä¸¤ä¸ª Receiver,Receiver1 å’Œ Receiver2ï¼Œå‘é€ç«¯åŠ å…¥å‚æ•°è®¡æ•°ï¼Œæ¥æ”¶ç«¯æ‰“å°æ¥æ”¶åˆ°çš„å‚æ•°ï¼Œä¸‹é¢æ˜¯æµ‹è¯•ä»£ç ï¼Œå‘é€ä¸€ç™¾æ¡æ¶ˆæ¯ï¼Œæ¥è§‚å¯Ÿä¸¤ä¸ªæ¥æ”¶ç«¯çš„æ‰§è¡Œæ•ˆæœ</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">oneToMany</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">    neoSender.send(i);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">11</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">12</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">14</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">13</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">15</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">16</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">18</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">17</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">19</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">20</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®è¿”å›ç»“æœå¾—åˆ°ä»¥ä¸‹ç»“è®º</p><blockquote><p>ä¸€ä¸ªå‘é€è€…ï¼ŒNä¸ªæ¥å—è€…,ç»è¿‡æµ‹è¯•ä¼šå‡åŒ€çš„å°†æ¶ˆæ¯å‘é€åˆ°Nä¸ªæ¥æ”¶è€…ä¸­</p></blockquote><p><strong>å¤šå¯¹å¤šå‘é€</strong></p><p>å¤åˆ¶äº†ä¸€ä»½å‘é€è€…ï¼ŒåŠ å…¥æ ‡è®°ï¼Œåœ¨ä¸€ç™¾ä¸ªå¾ªç¯ä¸­ç›¸äº’äº¤æ›¿å‘é€</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">manyToMany</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      neoSender.send(i);</span><br><span class="line">      neoSender2.send(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">20</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">20</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">21</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">21</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">22</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">22</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">23</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">23</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">24</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">24</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">1</span>: Spring boot neo queue ****** <span class="number">25</span></span><br><span class="line"><span class="attribute">Receiver</span> <span class="number">2</span>: Spring boot neo queue ****** <span class="number">25</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»“è®ºï¼šå’Œä¸€å¯¹å¤šä¸€æ ·ï¼Œæ¥æ”¶ç«¯ä»ç„¶ä¼šå‡åŒ€æ¥æ”¶åˆ°æ¶ˆæ¯</p></blockquote><h3 id="é«˜çº§ä½¿ç”¨"><a href="#é«˜çº§ä½¿ç”¨" class="headerlink" title="é«˜çº§ä½¿ç”¨"></a>é«˜çº§ä½¿ç”¨</h3><p><strong>å¯¹è±¡çš„æ”¯æŒ</strong></p><p>Spring Boot ä»¥åŠå®Œç¾çš„æ”¯æŒå¯¹è±¡çš„å‘é€å’Œæ¥æ”¶ï¼Œä¸éœ€è¦æ ¼å¤–çš„é…ç½®ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å‘é€è€…</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">send</span>(<span class="params">User user</span>)</span> &#123;</span><br><span class="line">  System.out.println(<span class="string">&quot;Sender object: &quot;</span> + user.toString());</span><br><span class="line">  <span class="built_in">this</span>.rabbitTemplate.convertAndSend(<span class="string">&quot;object&quot;</span>, user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¥æ”¶è€…</span></span><br><span class="line"><span class="meta">@RabbitHandler</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">process</span>(<span class="params">User user</span>)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Receiver object : &quot;</span> + user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">Sender <span class="keyword">object</span>: <span class="keyword">User</span>&#123;<span class="type">name</span>=<span class="string">&#x27;neo&#x27;</span>, pass=<span class="string">&#x27;123456&#x27;</span>&#125;</span><br><span class="line">Receiver <span class="keyword">object</span> : <span class="keyword">User</span>&#123;<span class="type">name</span>=<span class="string">&#x27;neo&#x27;</span>, pass=<span class="string">&#x27;123456&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><p><strong>Topic Exchange</strong></p><p>topic æ˜¯ RabbitMQ ä¸­æœ€çµæ´»çš„ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥æ ¹æ® routing_key è‡ªç”±çš„ç»‘å®šä¸åŒçš„é˜Ÿåˆ—</p><p>é¦–å…ˆå¯¹ topic è§„åˆ™é…ç½®ï¼Œè¿™é‡Œä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—æ¥æµ‹è¯•</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TopicRabbitConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    final <span class="keyword">static</span> <span class="built_in">String</span> message = <span class="string">&quot;topic.message&quot;</span>;</span><br><span class="line">    final <span class="keyword">static</span> <span class="built_in">String</span> messages = <span class="string">&quot;topic.messages&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="function"><span class="title">queueMessage</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(TopicRabbitConfig.message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="function"><span class="title">queueMessages</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(TopicRabbitConfig.messages);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    TopicExchange <span class="function"><span class="title">exchange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TopicExchange(<span class="string">&quot;exchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    Binding <span class="function"><span class="title">bindingExchangeMessage</span>(<span class="params">Queue queueMessage, TopicExchange exchange</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queueMessage).to(exchange).with(<span class="string">&quot;topic.message&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    Binding <span class="function"><span class="title">bindingExchangeMessages</span>(<span class="params">Queue queueMessages, TopicExchange exchange</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queueMessages).to(exchange).with(<span class="string">&quot;topic.#&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ queueMessages åŒæ—¶åŒ¹é…ä¸¤ä¸ªé˜Ÿåˆ—ï¼ŒqueueMessage åªåŒ¹é… â€œtopic.messageâ€ é˜Ÿåˆ—</p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">String</span> context = <span class="string">&quot;hi, i am message 1&quot;</span>;</span><br><span class="line">  System.out.<span class="built_in">println</span>(<span class="string">&quot;Sender : &quot;</span> + context);</span><br><span class="line">  <span class="keyword">this</span>.rabbitTemplate.<span class="built_in">convertAndSend</span>(<span class="string">&quot;exchange&quot;</span>, <span class="string">&quot;topic.message&quot;</span>, context);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">String</span> context = <span class="string">&quot;hi, i am messages 2&quot;</span>;</span><br><span class="line">  System.out.<span class="built_in">println</span>(<span class="string">&quot;Sender : &quot;</span> + context);</span><br><span class="line">  <span class="keyword">this</span>.rabbitTemplate.<span class="built_in">convertAndSend</span>(<span class="string">&quot;exchange&quot;</span>, <span class="string">&quot;topic.messages&quot;</span>, context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘é€send1ä¼šåŒ¹é…åˆ°topic.#å’Œtopic.message ä¸¤ä¸ªReceiveréƒ½å¯ä»¥æ”¶åˆ°æ¶ˆæ¯ï¼Œå‘é€send2åªæœ‰topic.#å¯ä»¥åŒ¹é…æ‰€æœ‰åªæœ‰Receiver2ç›‘å¬åˆ°æ¶ˆæ¯</p><p><strong>Fanout Exchange</strong></p><p>Fanout å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„å¹¿æ’­æ¨¡å¼æˆ–è€…è®¢é˜…æ¨¡å¼ï¼Œç»™ Fanout äº¤æ¢æœºå‘é€æ¶ˆæ¯ï¼Œç»‘å®šäº†è¿™ä¸ªäº¤æ¢æœºçš„æ‰€æœ‰é˜Ÿåˆ—éƒ½æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯ã€‚</p><p>Fanout ç›¸å…³é…ç½®</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FanoutRabbitConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="function"><span class="title">AMessage</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;fanout.A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="function"><span class="title">BMessage</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;fanout.B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="function"><span class="title">CMessage</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;fanout.C&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    FanoutExchange <span class="function"><span class="title">fanoutExchange</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FanoutExchange(<span class="string">&quot;fanoutExchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    Binding <span class="function"><span class="title">bindingExchangeA</span>(<span class="params">Queue AMessage,FanoutExchange fanoutExchange</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(AMessage).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    Binding <span class="function"><span class="title">bindingExchangeB</span>(<span class="params">Queue BMessage, FanoutExchange fanoutExchange</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(BMessage).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    Binding <span class="function"><span class="title">bindingExchangeC</span>(<span class="params">Queue CMessage, FanoutExchange fanoutExchange</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(CMessage).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨äº† Aã€Bã€C ä¸‰ä¸ªé˜Ÿåˆ—ç»‘å®šåˆ° Fanout äº¤æ¢æœºä¸Šé¢ï¼Œå‘é€ç«¯çš„ routing_key å†™ä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«å¿½ç•¥ï¼š</p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">String</span> context = <span class="string">&quot;hi, fanout msg &quot;</span>;</span><br><span class="line">  System.out.<span class="built_in">println</span>(<span class="string">&quot;Sender : &quot;</span> + context);</span><br><span class="line">  <span class="keyword">this</span>.rabbitTemplate.<span class="built_in">convertAndSend</span>(<span class="string">&quot;fanoutExchange&quot;</span>,<span class="string">&quot;&quot;</span>, context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight ldif"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Sender </span>: hi, fanout msg </span><br><span class="line">...</span><br><span class="line"><span class="attribute">fanout Receiver B</span>: hi, fanout msg </span><br><span class="line"><span class="attribute">fanout Receiver A  </span>: hi, fanout msg </span><br><span class="line"><span class="attribute">fanout Receiver C</span>: hi, fanout msg </span><br></pre></td></tr></table></figure><p>ç»“æœè¯´æ˜ï¼Œç»‘å®šåˆ° fanout äº¤æ¢æœºä¸Šé¢çš„é˜Ÿåˆ—éƒ½æ”¶åˆ°äº†æ¶ˆæ¯</p><blockquote><p>æ–‡ç« å†…å®¹å·²ç»å‡çº§åˆ° Spring Boot 2.x</p></blockquote><p><strong>ç¤ºä¾‹ä»£ç -github</strong></p><p><strong>ç¤ºä¾‹ä»£ç -ç äº‘</strong></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.zouyesheng.com/rabbitmq.html">RabbitMQ ä½¿ç”¨å‚è€ƒ</a></p><p><a href="https://github.com/401Studio/WeekLearn/issues/2">RabbitMQï¼šSpring é›†æˆ RabbitMQ ä¸å…¶æ¦‚å¿µï¼Œæ¶ˆæ¯æŒä¹…åŒ–ï¼ŒACKæœºåˆ¶</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> RabbitMQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(ä¹)ï¼šæ•´åˆJpaçš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="2019/07/07/2019-07-07-springboot-jpa/"/>
      <url>2019/07/07/2019-07-07-springboot-jpa/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©æ—©ä¸Šçœ‹åˆ°ä¸€ç¯‡å¾®ä¿¡æ–‡ç« ï¼Œè¯´çš„æ˜¯å›½å†…æ™®éç”¨çš„Mybatisï¼Œè€Œå›½å¤–ç¡®æ™®éç”¨çš„æ˜¯Jpaã€‚æˆ‘ä¹‹å‰ä¹Ÿçœ‹äº†jpaï¼Œå‘ç°å…¥é—¨ç›¸å½“å®¹æ˜“ã€‚jpaå¯¹äºç®€å•çš„CRUDæ”¯æŒéå¸¸å¥½ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿä¼šæ¯”Mybatisé«˜å‡ºä¸å°‘ï¼Œå› ä¸º<code>JpaRepository</code>ä¼šæ ¹æ®ä½ å®šåˆ¶çš„å®ä½“ç±»ï¼Œç»§æ‰¿äº†<code>JpaRepository</code>ä¼šæœ‰ä¸€å¥—å®Œæ•´çš„å°è£…å¥½äº†çš„åŸºæœ¬æ¡ä»¶æ–¹æ³•ã€‚å‡å°‘äº†å¾ˆå¤šå¼€å‘é‡ã€‚ä½ åªéœ€è¦å†™SQLå°±è¡Œäº†ã€‚å¯èƒ½æˆ‘æ‰åˆšå…¥é—¨Jpaï¼Œå¯¹ä¸€äº›è®¤è¯†è¿˜æ˜¯å¾ˆæµ…æ˜¾ã€‚æˆ‘è§‰å¾—Jpaå¯¹äºå¤šè¡¨æŸ¥è¯¢ï¼Œå¼€å‘èµ·æ¥æœ‰ç‚¹åƒåŠ›ã€‚ã€‚</p><p>è¿™æ˜¯æˆ‘å¼€å§‹ç©Jpaçš„æœ€åˆçš„æ„Ÿå—ï¼Œä½†æ˜¯Jpaå´å—åˆ°äº†æå¤§çš„æ”¯æŒå’Œèµæ‰¬ï¼Œåœ¨å›½å¤–Jpaè¿œæ¯”Mybatisæµè¡Œå¾—å¤šå¾—å¤šã€‚å›½å†…å´è¿˜æ˜¯åœ¨æµç¨‹ç”¨Mybatisï¼Œä¼°è®¡ä¹Ÿæ˜¯æ”¶åˆ°å¾ˆå¤šåŸ¹è®­æœºæ„æˆ–è€…å¤§Vçš„å¸¦é¢†ä¸‹ï¼Œå¾ˆå¤šå›½å†…ä¼˜ç§€çš„å¼€æºé¡¹ç›®ä¹Ÿæ˜¯ç”¨çš„Mybatisï¼Œå› ä¸ºå·²ç»ç”¨å¾—éå¸¸ç†Ÿç»ƒäº†ã€‚</p><p>è¯ä¸å¤šè¯´ï¼Œå…ˆçœ‹çœ‹SpringBootå¦‚ä½•æ•´åˆä½¿ç”¨Jpaå§ï¼</p><p>è¿™é‡Œå…·ä½“è®²ä¸€è®²Jpaçš„æ­å»ºï¼Œå‡ ç§å¸¸è§çš„åœºæ™¯çš„ä½¿ç”¨ï¼šå¢åˆ æ”¹æŸ¥ã€å¤šè¡¨æŸ¥è¯¢ï¼Œéä¸»é”®æŸ¥è¯¢è¿™å‡ ç§æƒ…å†µçš„ä¸€ä¸ªå­¦ä¹ æ€»ç»“ã€‚</p><h2 id="ä¸€ã€ä»£ç éƒ¨ç½²"><a href="#ä¸€ã€ä»£ç éƒ¨ç½²" class="headerlink" title="ä¸€ã€ä»£ç éƒ¨ç½²"></a>ä¸€ã€ä»£ç éƒ¨ç½²</h2><h3 id="1ã€æ·»åŠ Mavenä¾èµ–"><a href="#1ã€æ·»åŠ Mavenä¾èµ–" class="headerlink" title="1ã€æ·»åŠ Mavenä¾èµ–"></a>1ã€æ·»åŠ Mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶å®Jpaå…³é”®ç”¨åˆ°çš„æ˜¯æœ€ä¸‹é¢ä¸¤å—</p><h3 id="2ã€é…ç½®application"><a href="#2ã€é…ç½®application" class="headerlink" title="2ã€é…ç½®application"></a>2ã€é…ç½®application</h3><p><code>application.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="comment">#æŒ‡å®šé…ç½®æ–‡ä»¶ä¸ºtest</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">test</span></span><br></pre></td></tr></table></figure><p><code>application-test.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/jpatest?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="comment"># æ•°æ®åº“ç±»å‹</span></span><br><span class="line">    <span class="attr">database:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="comment">#æ‰“å°SQL</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">ddl-auto:</span> <span class="string">update</span>  <span class="comment">#ç¬¬ä¸€æ¬¡å¯åŠ¨åˆ›å»ºè¡¨ï¼Œä¹‹åä¿®æ”¹ä¸ºupdate</span></span><br></pre></td></tr></table></figure><p><code>application-test.yml</code>éœ€è¦äº†è§£çš„æ˜¯jpaåˆ†æ”¯ï¼Œå¦‚æœéœ€è¦é€šè¿‡jpaåœ¨æ•°æ®åº“ä¸­å»ºè¡¨ï¼Œå°±å°†<code>spring.jpa.hibernate.ddl-auto</code>æ”¹ä¸º<code>create</code>ï¼Œå»ºå®Œè¡¨ä¹‹åï¼Œå»ºè®®æ”¹ä¸ºupdateï¼Œå¦åˆ™ä½ å†æ¬¡é‡å¯ï¼Œè¡¨ä¼šå›ç‚‰é‡é€ ï¼Œæ•°æ®ç›¸åº”çš„ä¼šä¸¢å¤±ã€‚å¯å¾—æ³¨æ„å•¦ã€‚</p><h3 id="3ã€åˆ›å»ºå®ä½“ç±»"><a href="#3ã€åˆ›å»ºå®ä½“ç±»" class="headerlink" title="3ã€åˆ›å»ºå®ä½“ç±»"></a>3ã€åˆ›å»ºå®ä½“ç±»</h3><p>ç”¨æˆ·è¡¨sys_userçš„å®ä½“ç±»</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Data</span></span><br><span class="line"><span class="variable">@Entity</span></span><br><span class="line"><span class="variable">@Table</span>(name = <span class="string">&quot;sys_user&quot;</span>)</span><br><span class="line">public class SysUser implements Serializable &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Id</span></span><br><span class="line">    private String userId;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private String userName;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private String passWord;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false, unique = true)</span><br><span class="line">    private String email;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false, unique = true)</span><br><span class="line">    private String salt;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Column</span>(nullable = false)</span><br><span class="line">    private Date regTime;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·è§’è‰²å¯¹ç…§è¡¨sys_user_roleçš„å®ä½“ç±»</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Entity</span></span><br><span class="line"><span class="variable">@Data</span></span><br><span class="line"><span class="variable">@Table</span>(name = <span class="string">&quot;sys_user_role&quot;</span>)</span><br><span class="line">public class SysUserRole implements Serializable &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable">@Id</span></span><br><span class="line">    <span class="variable">@GeneratedValue</span></span><br><span class="line">    private int id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æˆ·ID</span></span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">String</span> <span class="selector-tag">userId</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§’è‰²ID</span></span><br><span class="line">    <span class="selector-tag">private</span> <span class="selector-tag">int</span> <span class="selector-tag">roleId</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4ã€Daoå±‚"><a href="#4ã€Daoå±‚" class="headerlink" title="4ã€Daoå±‚"></a>4ã€Daoå±‚</h3><p>ç”¨æˆ·è¡¨SysUserDao</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="symbol">SysUserDao</span> <span class="symbol">extends</span> <span class="symbol">JpaRepository</span>&lt;<span class="symbol">SysUser</span>, <span class="symbol">Integer</span>&gt; &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨æˆ·è§’è‰²å¯¹ç…§è¡¨SysUserRoleDao</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="symbol">SysUserRoleDao</span> <span class="symbol">extends</span> <span class="symbol">JpaRepository</span>&lt;<span class="symbol">SysUserRole</span>, <span class="symbol">Integer</span>&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5ã€Controllerå±‚"><a href="#5ã€Controllerå±‚" class="headerlink" title="5ã€Controllerå±‚"></a>5ã€Controllerå±‚</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">&quot;/user&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysUserDao sysUserDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysUserRoleDao sysUserRoleDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”¨æˆ·è¡¨sys_userï¼Œç”¨æˆ·è§’è‰²å¯¹ç…§è¡¨sys_user_roleã€‚æ•°æ®åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//å‘é€getè¯·æ±‚è¿›è¡Œæ•°æ®æ·»åŠ ï¼š127.0.0.1:8081/user/init</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/init&quot;</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">initData</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®æ—¶é—´æˆ³ç”ŸæˆuserId</span></span><br><span class="line">            <span class="built_in">String</span> userId = <span class="built_in">String</span>.valueOf(System.currentTimeMillis());</span><br><span class="line">            <span class="comment">// newå‡ºç”¨æˆ·è¡¨å’Œç”¨æˆ·è§’è‰²è¡¨çš„å¯¹è±¡</span></span><br><span class="line">            SysUser sysUser = <span class="keyword">new</span> SysUser();</span><br><span class="line">            SysUserRole sysUserRole = <span class="keyword">new</span> SysUserRole();</span><br><span class="line">            <span class="comment">// æ–°å¢ç”¨æˆ·è¡¨</span></span><br><span class="line">            sysUser.setUserId(userId);</span><br><span class="line">            sysUser.setUserName(<span class="string">&quot;username_num&quot;</span> + i);</span><br><span class="line">            sysUser.setPassWord(<span class="string">&quot;password_num&quot;</span> + i);</span><br><span class="line">            sysUser.setEmail(<span class="string">&quot;email_num&quot;</span> + i + <span class="string">&quot;@qq.com&quot;</span>);</span><br><span class="line">            sysUser.setSalt(i + <span class="string">&quot;&quot;</span>);</span><br><span class="line">            sysUser.setRegTime(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">            sysUserDao.save(sysUser);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æš‚æ—¶è§„å®šå°äº3çš„ï¼Œè§’è‰²ä¸º1ï¼Œæ–°å»ºç”¨æˆ·è§’è‰²è¡¨</span></span><br><span class="line">            <span class="keyword">if</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                sysUserRole.setId(i);</span><br><span class="line">                sysUserRole.setUserId(userId);</span><br><span class="line">                sysUserRole.setRoleId(<span class="number">1</span>);</span><br><span class="line">                sysUserRoleDao.save(sysUserRole);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// å¤§äº3çš„ï¼Œè§’è‰²ä¸º2</span></span><br><span class="line">                sysUserRole.setId(i);</span><br><span class="line">                sysUserRole.setUserId(userId);</span><br><span class="line">                sysUserRole.setRoleId(<span class="number">2</span>);</span><br><span class="line">                sysUserRoleDao.save(sysUserRole);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;init data success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€getè¯·æ±‚ï¼š127.0.0.1:8081/user/delete/1562486017644</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/delete/&#123;userId&#125;&quot;</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">deleteUser</span>(<span class="params"><span class="meta">@PathVariable</span>(<span class="string">&quot;userId&quot;</span>) <span class="built_in">String</span> userId</span>)</span> &#123;</span><br><span class="line">        sysUserDao.deleteByUserId(userId);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;delete success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å…¨éƒ¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€getè¯·æ±‚ï¼š127.0.0.1:8081/user/list</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/list&quot;</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="keyword">public</span> List&lt;SysUser&gt; <span class="function"><span class="title">getUsers</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sysUserDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€getè¯·æ±‚ï¼š127.0.0.1:8081/user/info/1562486017644</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/info/&#123;userId&#125;&quot;</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="keyword">public</span> Optional&lt;SysUser&gt; <span class="function"><span class="title">getUserById</span>(<span class="params"><span class="meta">@PathVariable</span>(<span class="string">&quot;userId&quot;</span>) <span class="built_in">String</span> userId</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sysUserDao.findByUserId(userId);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€postè¯·æ±‚ï¼š127.0.0.1:8081/user/update</span></span><br><span class="line">    <span class="comment">// å‘é€æŠ¥æ–‡ä½“å¦‚ä¸‹</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     &#123;</span></span><br><span class="line"><span class="comment">        &quot;userId&quot;:&quot;1562486017551&quot;,</span></span><br><span class="line"><span class="comment">        &quot;passWord&quot;: &quot;231231231212312&quot;,</span></span><br><span class="line"><span class="comment">        &quot;userName&quot;:&quot;Tom&quot;,</span></span><br><span class="line"><span class="comment">        &quot;email&quot;: &quot;1111111@qq.com&quot;</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/update&quot;</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">updateAccount</span>(<span class="params"><span class="meta">@RequestBody</span> HashMap&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; map</span>)</span> &#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®Idæ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        sysUserDao.updateOne(</span><br><span class="line">                map.get(<span class="string">&quot;email&quot;</span>),</span><br><span class="line">                map.get(<span class="string">&quot;userName&quot;</span>),</span><br><span class="line">                map.get(<span class="string">&quot;passWord&quot;</span>),</span><br><span class="line">                map.get(<span class="string">&quot;userId&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;update success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…³è”æŸ¥è¯¢ç”¨æˆ·çš„è§’è‰²ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€postè¯·æ±‚ï¼š127.0.0.1:8081/user/getUserRole</span></span><br><span class="line">    <span class="comment">// å‘é€æŠ¥æ–‡ä½“å¦‚ä¸‹</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">      &#123;</span></span><br><span class="line"><span class="comment">         &quot;userId&quot;:&quot;1562486017629&quot;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/getUserRole&quot;</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="keyword">public</span> List&lt;SysUserInfo&gt; <span class="function"><span class="title">getUserRole</span>(<span class="params"><span class="meta">@RequestBody</span> HashMap&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; map</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sysUserDao.findUserRole(map.get(<span class="string">&quot;userId&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®éä¸»é”®usernameæ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// å‘é€postè¯·æ±‚ï¼š127.0.0.1:8081/user/getUserByUserName</span></span><br><span class="line">    <span class="comment">// å‘é€æŠ¥æ–‡ä½“å¦‚ä¸‹</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        &quot;userName&quot;:&quot;username&quot;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping</span>(value = <span class="string">&quot;/getUserByUserName&quot;</span>, method = RequestMethod.POST)</span><br><span class="line">    <span class="keyword">public</span> List&lt;SysUser&gt; <span class="function"><span class="title">getUserByUserName</span>(<span class="params"><span class="meta">@RequestBody</span> HashMap&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt; map</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sysUserDao.findUserName(map.get(<span class="string">&quot;userName&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç æœ‰ç‚¹å¤šï¼Œåªæ˜¯æˆ‘å†™çš„ä¾‹å­å¤šäº†ç‚¹</p><h3 id="6ã€è¡¥å……Dao"><a href="#6ã€è¡¥å……Dao" class="headerlink" title="6ã€è¡¥å……Dao"></a>6ã€è¡¥å……Dao</h3><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> SysUserDao <span class="keyword">extends</span> JpaRepository&lt;SysUser, Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdåˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">&quot;delete u from sys_user u where u.user_id = ?1&quot;</span>, nativeQuery = <span class="literal">true</span>)</span><br><span class="line">    <span class="meta">@Modifying</span></span><br><span class="line">    <span class="built_in">void</span> deleteByUserId(<span class="built_in">String</span> userId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®UserIdæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">userId</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">&quot;select u.* from sys_user u where u.user_id = ?1&quot;</span>, nativeQuery = <span class="literal">true</span>)</span><br><span class="line">    Optional&lt;SysUser&gt; findByUserId(<span class="built_in">String</span> userId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®Idæ›´æ–°ç”¨æˆ·ç›¸å…³ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * nativeQuery = true æ·»åŠ è¯¥å±æ€§ç­‰äºtrueåˆ™æ˜¯åŸç”ŸSQLè¯­å¥æŸ¥è¯¢ï¼Œä¸æ·»åŠ åˆ™æ˜¯HQLè¯­å¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">&quot;update  sys_user set email=?1, user_name=?2, pass_word=?3 where user_id=?4&quot;</span>, nativeQuery = <span class="literal">true</span>)</span><br><span class="line">    <span class="meta">@Modifying</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">void</span> updateOne(<span class="built_in">String</span> email, <span class="built_in">String</span> userName, <span class="built_in">String</span> passWord, <span class="built_in">String</span> userId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢ç”¨æˆ·è§’è‰²</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param <span class="variable">userId</span></span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">&quot;SELECT &quot;</span> +</span><br><span class="line">            <span class="string">&quot;t.user_id AS userId, &quot;</span> +</span><br><span class="line">            <span class="string">&quot;t.user_name AS userName, &quot;</span> +</span><br><span class="line">            <span class="string">&quot;t.email AS email, &quot;</span> +</span><br><span class="line">            <span class="string">&quot;t.pass_word AS passWord, &quot;</span> +</span><br><span class="line">            <span class="string">&quot;r.role_id AS roleId &quot;</span> +</span><br><span class="line">            <span class="string">&quot;FROM sys_user t LEFT JOIN sys_user_role r &quot;</span> +</span><br><span class="line">            <span class="string">&quot;ON r.user_id = t.user_id &quot;</span> +</span><br><span class="line">            <span class="string">&quot;WHERE t.user_id = ?1&quot;</span>, nativeQuery = <span class="literal">true</span>)</span><br><span class="line">    List&lt;SysUserInfo&gt; findUserRole(<span class="built_in">String</span> userId);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®usernameæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Query</span>(value = <span class="string">&quot;select u.* from sys_user u where u.user_name like CONCAT(&#x27;%&#x27;,?1,&#x27;%&#x27;)&quot;</span>, nativeQuery = <span class="literal">true</span>)</span><br><span class="line">    List&lt;SysUser&gt; findUserName(<span class="built_in">String</span> nickName);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„åœ¨<code>findUserRole</code>æ–¹æ³•ï¼Œæ˜¯è”è¡¨æŸ¥è¯¢ï¼Œå…¶ç»“æœé›†åœ¨<code>SysUserInfo</code>ä¸­</p><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> interface SysUserInfo &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">getUserId</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">getUserName</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">getEmail</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">String</span> <span class="title">getPassWord</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getRoleId</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒã€æµ‹è¯•"><a href="#äºŒã€æµ‹è¯•" class="headerlink" title="äºŒã€æµ‹è¯•"></a>äºŒã€æµ‹è¯•</h2><p>å¯åŠ¨é¡¹ç›®ä¹‹å‰ï¼Œå°†<code>spring.jpa.hibernate.ddl-auto</code>æ”¹ä¸º<code>create</code>ã€‚å¯åŠ¨å®Œæˆä¹‹åæ”¹ä¸ºupdateæˆ–è€…noneã€‚</p><p>ä¼šç”Ÿæˆä¸¤å¼ è¡¨sys_userç”¨æˆ·è¡¨ï¼Œsys_user_roleç”¨æˆ·è§’è‰²å¯¹åº”è¡¨</p><p>ç„¶åé€šè¿‡controlleré‡Œçš„ä¸€ä¸ªæ¥å£initï¼Œå‘é€getè¯·æ±‚</p><p>ç”Ÿæˆä¸€äº›æ•°æ®ã€‚</p><p>ä¹‹åå¯ä»¥è¿›è¡Œå…·ä½“çš„æ•°æ®åº“æ¥å£æ“ä½œå•¦ã€‚</p><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæ•²ä»£ç ä¹Ÿé‡åˆ°ä¸å°‘å‘ï¼Œæ„Ÿè§‰Jpaè¿˜è¡Œï¼Œç¡®å®æ¯”Mybatiså¿«äº†ä¸å°‘ï¼Œä¸éœ€è¦å»ºç«‹mapper.xmlæ–‡ä»¶ã€‚</p><p>å¯æ˜¯åœ¨é¡¹ç›®ä¸­ä¸å¯èƒ½éƒ½æ˜¯ä¸€äº›ç®€å•çš„æŸ¥è¯¢SQLå‘€ï¼Œè‚¯å®šä¼šé‡åˆ°è®¸å¤šå¤æ‚çš„SQLï¼Œå¦‚æœç”¨Jpaçš„è¯ï¼Œæ„Ÿè§‰å¹¶ä¸æ˜¯é‚£ä¹ˆå¥½ç”¨ã€‚å½“ç„¶æˆ‘è¿˜æ²¡æœ‰æ·±å…¥å»å­¦ä¹ å®ƒã€‚è‚¯å®šæœ‰è®¸å¤šæˆ‘ä¸å¤ªæ˜ç™½çš„æŠ€æœ¯ã€‚è‚¯å®šå¯ä»¥è§£å†³ä¸å¤æ‚SQLã€‚</p><p>æˆ‘åœ¨ç½‘ä¸Šä¹Ÿæœç´¢äº†ï¼Œæœ‰äº›äººä¼šå»ºè®®å°†Jpaå’ŒMybatisç»“åˆä½¿ç”¨ã€‚æˆ‘ä¹Ÿæ„Ÿè§‰è¿™ç‚¹å­ä¸é”™ã€‚åç»­ä¼šç»§ç»­ç ”ç©¶</p><h2 id="å››ã€æºç "><a href="#å››ã€æºç " class="headerlink" title="å››ã€æºç "></a>å››ã€æºç </h2><p>githubæºç åœ°å€ï¼š<a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-18-jpa02">Spring Boot2(ä¹)ï¼šæ•´åˆJpaçš„åŸºæœ¬ä½¿ç”¨</a></p><p>To be continuedâ€¦</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(å…«)ï¼šæ€§æ„Ÿbannerï¼Œåœ¨çº¿å‘ç‰Œ</title>
      <link href="2019/07/07/2019-07-07-banner/"/>
      <url>2019/07/07/2019-07-07-banner/</url>
      
        <content type="html"><![CDATA[<p>emmmï¼Œæ²¡æœ‰å•¥å‰è¨€</p><p>ç©è¿‡SpringBootçš„éƒ½çŸ¥é“ï¼ŒSpringBootå¯åŠ¨çš„æ—¶å€™ï¼Œé»˜è®¤ä¼šåœ¨æ§åˆ¶å°æ‰“å°SpringBootå­—æ ·å’Œå½“å‰ç‰ˆæœ¬ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/2529107887.png" alt="æ­£å¸¸banner"></p><p>å¯æ˜¯è„‘æ´å¥‡å¤§çš„ç¨‹åºå‘˜æ€ä¹ˆå¯èƒ½å°±è¿™ä¹ˆæ‹˜æ³¥äºæ­£å¸¸bannerå‘¢ï¼Ÿ</p><p>æ€ä¹ˆéªšæ€ä¹ˆæ¥æ˜¯å§~</p><p>å…·ä½“è¯´æ˜ç”¨æ³•ï¼Œæˆ‘å°±ä¸ä¸€ä¸€ä¸¾ä¾‹äº†ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šè®¾ç½®bannerçš„æ–¹æ¡ˆã€‚</p><p>æˆ‘ä¸€èˆ¬æ˜¯ç›´æ¥åœ¨<code>resource</code>æ–‡ä»¶å¤¹ä¸‹é¢æ–°å¢æ–‡ä»¶ï¼š<code>banner.txt</code></p><p>å°±å¯ä»¥è¾¾åˆ°ä½ æƒ³è¦çš„æ•ˆæœã€‚</p><p>å…·ä½“å›¾æ¡ˆç”Ÿæˆå™¨åœ¨è¿™é‡Œï¼š</p><ul><li><a href="http://patorjk.com/software/taag">http://patorjk.com/software/taag</a></li><li><a href="http://www.network-science.de/ascii/">http://www.network-science.de/ascii/</a></li><li><a href="http://www.degraeve.com/img2txt.php">http://www.degraeve.com/img2txt.php</a></li></ul><p>è¿™éƒ½ä¸å¤Ÿé‚£ä¸ªã€‚ã€‚å¥½äº†ï¼Œä¸å¤šBB</p><p>æˆ‘æŠŠæˆ‘è‡ªç”¨çš„ç»™å¤§å®¶åˆ†äº«</p><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">***********************************************************</span><br><span class="line">*</span><br><span class="line">* ä¸ªäººåšå®¢ï¼šhttps://niaobulashi.com</span><br><span class="line">* å¾®ä¿¡å…¬ä¼—å·ï¼šé¸Ÿä¸æ‹‰è¯—</span><br><span class="line">*</span><br><span class="line">***********************************************************</span><br><span class="line">           _.._        ,------------------------.</span><br><span class="line">        ,&#x27;      `.    ( å¯åŠ¨æˆåŠŸï¼å¼€å¯å­¦ä¹ ä¹‹æ—…ï¼   )</span><br><span class="line">       /  __) __` \    `-,----------------------&#x27;</span><br><span class="line">      (  (`-`(-&#x27;)  ) _.-&#x27;</span><br><span class="line">      /)  \  = /  (</span><br><span class="line">     /&#x27;    |--&#x27; .  \</span><br><span class="line">    (  ,---|  `-.)__`</span><br><span class="line">     )(  `-.,--&#x27;   _`-.</span><br><span class="line">    &#x27;/,&#x27;          (  Uu&quot;,</span><br><span class="line">     (ã€‚       ,    `/,-&#x27; )</span><br><span class="line">     `.__,  : `ã€‚&#x27;/  /`--&#x27;</span><br><span class="line">       |     `--&#x27;  |</span><br><span class="line">       `   `-._   /</span><br><span class="line">        \        (</span><br><span class="line">        /\ .      \. </span><br><span class="line">       / |` \     ,-\</span><br><span class="line">      /  \| .)   /   \</span><br><span class="line">     ( ,&#x27;|\    ,&#x27;     :</span><br><span class="line">     | \,`.`--&quot;/      &#125;</span><br><span class="line">     `,&#x27;    \  |,&#x27;    /</span><br><span class="line">    / &quot;-._   `-/      |</span><br><span class="line">    &quot;-.   &quot;-.,&#x27;|     ;</span><br><span class="line">   /        _/[&quot;---&#x27;&quot;&quot;]</span><br><span class="line">  :        /  |&quot;-     &#x27;</span><br><span class="line">  &#x27;           |      /</span><br><span class="line">  |           `      |</span><br></pre></td></tr></table></figure><p>ç”¨æ³•ï¼š</p><p>1ã€å°†ä¸Šæ–¹å†…å®¹æ”¾åœ¨æ–‡ä»¶<code>banner.txt</code></p><p>2ã€å°†æ–‡ä»¶<code>banner.txt</code>æ–‡ä»¶å­˜æ”¾åœ¨resourceç›®å½•ä¸‹</p><p>ç„¶åå¯åŠ¨ï¼Œ æ•ˆæœå°±æ˜¯è¿™æ ·</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/3595450165.png" alt="éæ­£å¸¸banner"></p><p>ç„¶åå°±å¯ä»¥æ„‰å¿«çš„æ•²ä»£ç å•¦~~~</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(ä¸ƒ)ï¼šè¿‡æ»¤å™¨æ‹¦æˆªå™¨çš„ä½¿ç”¨</title>
      <link href="2019/07/06/2019-07-06-filter-interceptor/"/>
      <url>2019/07/06/2019-07-06-filter-interceptor/</url>
      
        <content type="html"><![CDATA[<p>è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨ä¸¤è€…éƒ½å…·æœ‰AOPçš„åˆ‡é¢æ€æƒ³ï¼Œå…³äºaopåˆ‡é¢ï¼Œå¯ä»¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç« ã€‚è¿‡æ»¤å™¨filterå’Œæ‹¦æˆªå™¨interceptoréƒ½å±äºé¢å‘åˆ‡é¢ç¼–ç¨‹çš„å…·ä½“å®ç°ã€‚</p><h2 id="ä¸€ã€è¿‡æ»¤å™¨"><a href="#ä¸€ã€è¿‡æ»¤å™¨" class="headerlink" title="ä¸€ã€è¿‡æ»¤å™¨"></a>ä¸€ã€è¿‡æ»¤å™¨</h2><h3 id="è¿‡æ»¤å™¨å·¥ä½œåŸç†"><a href="#è¿‡æ»¤å™¨å·¥ä½œåŸç†" class="headerlink" title="è¿‡æ»¤å™¨å·¥ä½œåŸç†"></a>è¿‡æ»¤å™¨å·¥ä½œåŸç†</h3><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/1012433218.png" alt="1"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œå½“æµè§ˆå™¨å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨æ—¶ï¼Œå…ˆæ‰§è¡Œè¿‡æ»¤å™¨ï¼Œç„¶åæ‰è®¿é—®Webèµ„æºã€‚æœåŠ¡å™¨å“åº”Responseï¼Œä»Webèµ„æºæŠµè¾¾æµè§ˆå™¨ä¹‹å‰ï¼Œä¹Ÿä¼šé€”å¾„è¿‡æ»¤å™¨ã€‚</p><p>è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªå®ç°javax.servlet.Filteræ¥å£çš„Javaç±»ã€‚javax.servlet.Filteræ¥å£å®šä¹‰äº†ä¸‰ä¸ªæ–¹æ³•</p><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th>æè¿°</th></tr></thead><tbody><tr><td>public void init(FilterConfig filterConfig)</td><td>web åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œweb æœåŠ¡å™¨å°†åˆ›å»ºFilter çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å…¶initæ–¹æ³•ï¼Œè¯»å–web.xmlé…ç½®ï¼Œå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–åŠŸèƒ½ï¼Œä»è€Œä¸ºåç»­çš„ç”¨æˆ·è¯·æ±‚ä½œå¥½æ‹¦æˆªçš„å‡†å¤‡å·¥ä½œï¼ˆfilterå¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œinitæ–¹æ³•ä¹Ÿåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚å¼€å‘äººå‘˜é€šè¿‡initæ–¹æ³•çš„å‚æ•°ï¼Œå¯è·å¾—ä»£è¡¨å½“å‰filteré…ç½®ä¿¡æ¯çš„FilterConfigå¯¹è±¡ã€‚</td></tr><tr><td>public void doFilter (ServletRequest, ServletResponse, FilterChain)</td><td>è¯¥æ–¹æ³•å®Œæˆå®é™…çš„è¿‡æ»¤æ“ä½œï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚æ–¹æ³•ä¸è¿‡æ»¤å™¨è®¾ç½®åŒ¹é…çš„URLæ—¶ï¼ŒServletå®¹å™¨å°†å…ˆè°ƒç”¨è¿‡æ»¤å™¨çš„doFilteræ–¹æ³•ã€‚FilterChainç”¨æˆ·è®¿é—®åç»­è¿‡æ»¤å™¨ã€‚</td></tr><tr><td>public void destroy()</td><td>Servletå®¹å™¨åœ¨é”€æ¯è¿‡æ»¤å™¨å®ä¾‹å‰è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­é‡Šæ”¾Servletè¿‡æ»¤å™¨å ç”¨çš„èµ„æºã€‚</td></tr></tbody></table><p>SpringBootæ‘’å¼ƒäº†ç¹ççš„xmlé…ç½®çš„åŒæ—¶ï¼Œæç¤ºäº†å‡ ç§æ³¨å†Œç»„ä»¶ï¼šServletRegistrationBeanï¼Œ<br>FilterRegistrationBeanï¼ŒServletListenerRegistrationBeanï¼ŒDelegatingFilterProxyRegistrationBeanï¼Œç”¨äºæ³¨å†Œè‡ªå¯¹åº”çš„ç»„ä»¶ï¼Œå¦‚è¿‡æ»¤å™¨ï¼Œç›‘å¬å™¨ç­‰ã€‚</p><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><h4 id="1ã€æ·»åŠ mavenä¾èµ–"><a href="#1ã€æ·»åŠ mavenä¾èµ–" class="headerlink" title="1ã€æ·»åŠ mavenä¾èµ–"></a>1ã€æ·»åŠ mavenä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--web--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--devtoolsçƒ­éƒ¨ç½²--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2ã€æ·»åŠ æ‹¦æˆªå™¨"><a href="#2ã€æ·»åŠ æ‹¦æˆªå™¨" class="headerlink" title="2ã€æ·»åŠ æ‹¦æˆªå™¨"></a>2ã€æ·»åŠ æ‹¦æˆªå™¨</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RemoteIpFilter <span class="title">remoteIpFilter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RemoteIpFilter();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œç¬¬ä¸‰æ–¹è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment">     * åŠŸèƒ½ä¸spring mvcä¸­é€šè¿‡é…ç½®web.xmlç›¸åŒ</span></span><br><span class="line"><span class="comment">     * å¯ä»¥æ·»åŠ è¿‡æ»¤å™¨é”æ‹¦æˆªçš„ URLï¼Œæ‹¦æˆªæ›´åŠ ç²¾å‡†çµæ´»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FilterRegistrationBean <span class="title">testFilterRegistration</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean registration = <span class="keyword">new</span> FilterRegistrationBean();</span><br><span class="line">        registration.setFilter(<span class="keyword">new</span> MyFilter());</span><br><span class="line">        <span class="comment">// è¿‡æ»¤åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰èµ„æº,å½“å‰åº”ç”¨ç¨‹åºæ ¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬å¤šçº§å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ³¨æ„è¿™é‡Œ*å‰æœ‰â€œ/â€</span></span><br><span class="line">        registration.addUrlPatterns(<span class="string">&quot;/*&quot;</span>);</span><br><span class="line">        registration.addInitParameter(<span class="string">&quot;paramName&quot;</span>, <span class="string">&quot;paramValue&quot;</span>);</span><br><span class="line">        registration.setName(<span class="string">&quot;MyFilter&quot;</span>);</span><br><span class="line">        <span class="comment">// è¿‡æ»¤å™¨é¡ºåº</span></span><br><span class="line">        registration.setOrder(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> registration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰è¿‡æ»¤å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;init&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">            HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line">            System.out.println(<span class="string">&quot;this is MyFilter,url :&quot;</span> + request.getRequestURI());</span><br><span class="line">            filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;destroy&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3ã€controllerå±‚"><a href="#3ã€controllerå±‚" class="headerlink" title="3ã€controllerå±‚"></a>3ã€controllerå±‚</h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">&quot;/filter&quot;</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">testFilter</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;filter is ok&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4ã€æµ‹è¯•"><a href="#4ã€æµ‹è¯•" class="headerlink" title="4ã€æµ‹è¯•"></a>4ã€æµ‹è¯•</h4><p>é€šè¿‡å‘é€postè¯·æ±‚ï¼š127.0.0.1:8081/filter</p><p>æŸ¥çœ‹æ—¥å¿—å¯ä»¥çœ‹åˆ°è¿‡æ»¤å™¨å·²ç»å¼€å§‹å·¥ä½œäº†ã€‚<img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/3298742304.png" alt="æµ‹è¯•æˆªå›¾Filter"></p><h2 id="äºŒã€æ‹¦æˆªå™¨"><a href="#äºŒã€æ‹¦æˆªå™¨" class="headerlink" title="äºŒã€æ‹¦æˆªå™¨"></a>äºŒã€æ‹¦æˆªå™¨</h2><h3 id="æ‹¦æˆªå™¨æ¦‚å¿µ"><a href="#æ‹¦æˆªå™¨æ¦‚å¿µ" class="headerlink" title="æ‹¦æˆªå™¨æ¦‚å¿µ"></a>æ‹¦æˆªå™¨æ¦‚å¿µ</h3><p>ä¸åŒäºè¿‡æ»¤å™¨ï¼Œå…·ä½“åŒºåˆ«æˆ‘ä»¬ä¸‹é¢å†å°†ï¼Œå…ˆè®²ä¸€è®²æ‹¦æˆªå™¨å®ç°çš„æœºåˆ¶ã€‚</p><p>åœ¨AOPï¼ˆAspect-Oriented Programmingï¼‰ä¸­ç”¨äºåœ¨æŸä¸ªæ–¹æ³•æˆ–å­—æ®µè¢«è®¿é—®ä¹‹å‰ï¼Œè¿›è¡Œæ‹¦æˆªï¼Œç„¶ååœ¨ä¹‹å‰æˆ–ä¹‹ååŠ ä¸ŠæŸäº›æ“ä½œã€‚æ‹¦æˆªæ˜¯AOPçš„ä¸€ç§å®ç°ç­–ç•¥ã€‚</p><h3 id="æ‹¦æˆªå™¨ä½œç”¨"><a href="#æ‹¦æˆªå™¨ä½œç”¨" class="headerlink" title="æ‹¦æˆªå™¨ä½œç”¨"></a>æ‹¦æˆªå™¨ä½œç”¨</h3><p>æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼ŸAOPé¢å‘åˆ‡é¢æœ‰ä»€ä¹ˆä½œç”¨ï¼Œé‚£ä¹ˆæ‹¦æˆªå™¨å°±æœ‰ä»€ä¹ˆä½œç”¨ã€‚</p><ul><li>æ—¥å¿—è®°å½•ï¼šè®°å½•è¯·æ±‚ä¿¡æ¯çš„æ—¥å¿—ï¼Œä»¥ä¾¿è¿›è¡Œä¿¡æ¯ç›‘æ§ã€ä¿¡æ¯ç»Ÿè®¡ã€è®¡ç®—PVâ€¦</li><li>æƒé™æ£€æŸ¥ï¼šè®¤è¯æˆ–è€…æˆæƒç­‰æ£€æŸ¥</li><li>æ€§èƒ½ç›‘æ§ï¼šé€šè¿‡æ‹¦æˆªå™¨åœ¨è¿›å…¥å¤„ç†å™¨ä¹‹å‰è®°å½•å¼€å§‹æ—¶é—´ï¼Œå¤„ç†å®Œæˆåè®°å½•ç»“æŸæ—¶é—´ï¼Œå¾—åˆ°è¯·æ±‚å¤„ç†æ—¶é—´ã€‚</li><li>é€šç”¨è¡Œä¸ºï¼šè¯»å–cookieå¾—åˆ°ç”¨æˆ·ä¿¡æ¯å¹¶å°†ç”¨æˆ·å¯¹è±¡æ”¾å…¥è¯·æ±‚å¤´ä¸­ï¼Œä»è€Œæ–¹ä¾¿åç»­æµç¨‹ä½¿ç”¨ã€‚</li></ul><h3 id="æ‹¦æˆªå™¨å®ç°"><a href="#æ‹¦æˆªå™¨å®ç°" class="headerlink" title="æ‹¦æˆªå™¨å®ç°"></a>æ‹¦æˆªå™¨å®ç°</h3><p>æ‹¦æˆªå™¨é›†æˆæ¥å£<code>HandlerInterceptor</code>ï¼Œå®ç°æ‹¦æˆªï¼Œæ¥å£æ–¹æ³•æœ‰ä¸‹é¢ä¸‰ç§ï¼š</p><ol><li><p><code>preHandler(HttpServletRequest request, HttpServletResponse response, Object handler)</code><br> æ–¹æ³•å°†åœ¨<strong>è¯·æ±‚å¤„ç†ä¹‹å‰</strong>è¿›è¡Œè°ƒç”¨ã€‚SpringMVCä¸­çš„<code>Interceptor</code>åŒFilterä¸€æ ·éƒ½æ˜¯<strong>é“¾å¼è°ƒç”¨</strong>ã€‚æ¯ä¸ªInterceptorçš„è°ƒç”¨ä¼šä¾æ®å®ƒçš„å£°æ˜é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œè€Œä¸”æœ€å…ˆæ‰§è¡Œçš„éƒ½æ˜¯Interceptorä¸­çš„preHandleæ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›å‰ç½®åˆå§‹åŒ–æ“ä½œæˆ–è€…æ˜¯å¯¹å½“å‰è¯·æ±‚çš„ä¸€ä¸ªé¢„å¤„ç†ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›åˆ¤æ–­æ¥å†³å®šè¯·æ±‚æ˜¯å¦è¦ç»§ç»­è¿›è¡Œä¸‹å»ã€‚è¯¥æ–¹æ³•çš„è¿”å›å€¼æ˜¯å¸ƒå°”å€¼Boolean ç±»å‹çš„ï¼Œå½“å®ƒè¿”å›ä¸ºfalseæ—¶ï¼Œè¡¨ç¤ºè¯·æ±‚ç»“æŸï¼Œåç»­çš„Interceptorå’ŒControlleréƒ½ä¸ä¼šå†æ‰§è¡Œï¼›å½“è¿”å›å€¼ä¸ºtrueæ—¶å°±ä¼šç»§ç»­è°ƒç”¨ä¸‹ä¸€ä¸ªInterceptor çš„preHandle æ–¹æ³•ï¼Œå¦‚æœå·²ç»æ˜¯æœ€åä¸€ä¸ªInterceptor çš„æ—¶å€™å°±ä¼šæ˜¯è°ƒç”¨å½“å‰è¯·æ±‚çš„Controller æ–¹æ³•ã€‚</p></li><li><p><code>postHandler(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</code><br> åœ¨å½“å‰<strong>è¯·æ±‚è¿›è¡Œå¤„ç†ä¹‹å</strong>ï¼Œä¹Ÿå°±æ˜¯Controller æ–¹æ³•è°ƒç”¨ä¹‹åæ‰§è¡Œï¼Œä½†æ˜¯å®ƒä¼šåœ¨DispatcherServlet è¿›è¡Œè§†å›¾è¿”å›æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å¯¹Controller å¤„ç†ä¹‹åçš„ModelAndView å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p></li><li><p><code>afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handle, Exception ex)</code><br> è¯¥æ–¹æ³•ä¹Ÿæ˜¯éœ€è¦å½“å‰å¯¹åº”çš„Interceptorçš„preHandleæ–¹æ³•çš„è¿”å›å€¼ä¸ºtrueæ—¶æ‰ä¼šæ‰§è¡Œã€‚é¡¾åæ€ä¹‰ï¼Œè¯¥æ–¹æ³•å°†åœ¨æ•´ä¸ªè¯·æ±‚ç»“æŸä¹‹åï¼Œä¹Ÿå°±æ˜¯åœ¨DispatcherServlet <strong>æ¸²æŸ“äº†å¯¹åº”çš„è§†å›¾ä¹‹åæ‰§è¡Œ</strong>ã€‚è¿™ä¸ªæ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºè¿›è¡Œèµ„æºæ¸…ç†å·¥ä½œçš„ã€‚</p></li></ol><p>æ€»ç»“ä¸€ç‚¹å°±æ˜¯ï¼š</p><p>preHandleæ˜¯è¯·æ±‚æ‰§è¡Œå‰æ‰§è¡Œ</p><p>postHandleæ˜¯è¯·æ±‚ç»“æŸæ‰§è¡Œ</p><p>afterCompletionæ˜¯è§†å›¾æ¸²æŸ“å®Œæˆåæ‰§è¡Œ</p><h3 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><h4 id="1ã€æ·»åŠ Mavenä¾èµ–"><a href="#1ã€æ·»åŠ Mavenä¾èµ–" class="headerlink" title="1ã€æ·»åŠ Mavenä¾èµ–"></a>1ã€æ·»åŠ Mavenä¾èµ–</h4><p>å’Œè¿‡æ»¤å™¨ä¸€æ ·</p><h4 id="2ã€æ·»åŠ æ‹¦æˆªå™¨ç±»"><a href="#2ã€æ·»åŠ æ‹¦æˆªå™¨ç±»" class="headerlink" title="2ã€æ·»åŠ æ‹¦æˆªå™¨ç±»"></a>2ã€æ·»åŠ æ‹¦æˆªå™¨ç±»</h4><p>å…¶ä¸­<code>LogInterceptor</code>å®ç°<code>HandlerInterceptor</code>æ¥å£çš„ä¸‰ä¸ªæ–¹æ³•ï¼ŒåŒæ—¶éœ€è¦<code>preHandle</code>è¿”å›trueï¼Œè¯¥æ–¹æ³•é€šå¸¸ç”¨äºæ¸…ç†èµ„æºç­‰å·¥ä½œã€‚</p><p>ä¸»æ–¹æ³•ç»§æ‰¿<code>WebMvcConfigurer</code></p><p>æ³¨æ„ä¸ç”¨ç”¨<code>WebMvcConfigurerAdapter</code>ï¼Œè¯¥æ–¹æ³•å·²ç»è¢«å®˜æ–¹æ ‡æ³¨è¿‡æ—¶äº†ï¼Œåœ¨java8æ˜¯é»˜è®¤å®ç°çš„ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ˜¯<code>WebMvcConfigurer</code>è¿›è¡Œé™æ€èµ„æºçš„é…ç½®ã€‚</p><p>é…ç½®çš„ä¸»è¦æœ‰ä¸¤é¡¹ï¼šä¸€ä¸ªæ˜¯åˆ¶å®šæ‹¦æˆªå™¨ï¼Œç¬¬äºŒä¸ªæ˜¯æŒ‡å®šæ‹¦æˆªçš„URL</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">@Slf4j</span><br><span class="line">@<span class="keyword">Configuration</span></span><br><span class="line"><span class="built_in">public</span> <span class="keyword">class</span> InterceptorConfig implements WebMvcConfigurer &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‹¦æˆªå™¨æ³¨å†Œç±»</span></span><br><span class="line"><span class="comment">     * @param registry</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @Override</span><br><span class="line">    <span class="built_in">public</span> <span class="type">void</span> addInterceptors(InterceptorRegistry registry) &#123;</span><br><span class="line">        registry.addInterceptor(<span class="built_in">new</span> LogInterceptor()).addPathPatterns(&quot;/**&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®šä¹‰æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">public</span> <span class="keyword">class</span> LogInterceptor implements HandlerInterceptor &#123;</span><br><span class="line">        long start = <span class="keyword">System</span>.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è¯·æ±‚æ‰§è¡Œå‰æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        @Override</span><br><span class="line">        <span class="built_in">public</span> <span class="type">boolean</span> preHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, <span class="keyword">Object</span> o) throws <span class="keyword">Exception</span> &#123;</span><br><span class="line">            <span class="keyword">log</span>.<span class="keyword">info</span>(&quot;preHandle&quot;);</span><br><span class="line">            start = <span class="keyword">System</span>.currentTimeMillis();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è¯·æ±‚ç»“æŸæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        @Override</span><br><span class="line">        <span class="built_in">public</span> <span class="type">void</span> postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, <span class="keyword">Object</span> o, ModelAndView modelAndView) throws <span class="keyword">Exception</span> &#123;</span><br><span class="line">            <span class="keyword">log</span>.<span class="keyword">info</span>(&quot;Interceptor cost=&quot;+(<span class="keyword">System</span>.currentTimeMillis()-<span class="keyword">start</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * è§†å›¾æ¸²æŸ“å®Œæˆåæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        @Override</span><br><span class="line">        <span class="built_in">public</span> <span class="type">void</span> afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, <span class="keyword">Object</span> o, <span class="keyword">Exception</span> e) throws <span class="keyword">Exception</span> &#123;</span><br><span class="line">            <span class="keyword">log</span>.<span class="keyword">info</span>(&quot;afterCompletion&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3ã€controllerå±‚-1"><a href="#3ã€controllerå±‚-1" class="headerlink" title="3ã€controllerå±‚"></a>3ã€controllerå±‚</h4><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(<span class="string">&quot;/interceptor&quot;</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">String</span> <span class="function"><span class="title">home</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;interceptor is ok&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4ã€æµ‹è¯•-1"><a href="#4ã€æµ‹è¯•-1" class="headerlink" title="4ã€æµ‹è¯•"></a>4ã€æµ‹è¯•</h4><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡æ‹¦æˆªå™¨å®ç°äº†åŒæ ·çš„åŠŸèƒ½ã€‚ä¸è¿‡è¿™é‡Œè¿˜è¦è¯´æ˜ä¸€ç‚¹çš„æ˜¯ï¼Œå…¶å®è¿™ä¸ªå®ç°æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºpreHandleå’ŒpostHandleæ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä¸å¾—ä¸è®¾ç½®ä¸€ä¸ªå…±äº«å˜é‡startæ¥å­˜å‚¨å¼€å§‹å€¼ï¼Œä½†æ˜¯è¿™æ ·å°±ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•æ¥è§£å†³ï¼Œæ¯”å¦‚é€šè¿‡ThreadLocalå°±å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å®ç°ã€‚ä¸è¿‡é€šè¿‡è¿™ä¸€ç‚¹æˆ‘ä»¬å…¶å®å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶æ‹¦æˆªå™¨åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ä¼˜äºè¿‡æ»¤å™¨ï¼Œä½†æ˜¯åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œè¿‡æ»¤å™¨æ¯”æ‹¦æˆªå™¨å®ç°èµ·æ¥æ›´ç®€å•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/1217141912.png" alt="æµ‹è¯•æˆªå›¾Interceptor"></p><h2 id="ä¸‰ã€è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«"><a href="#ä¸‰ã€è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«" class="headerlink" title="ä¸‰ã€è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«"></a>ä¸‰ã€è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨çš„åŒºåˆ«</h2><p>Springçš„æ‹¦æˆªå™¨ä¸Servletçš„Filteræœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œæ¯”å¦‚äºŒè€…éƒ½æ˜¯AOPç¼–ç¨‹æ€æƒ³çš„ä½“ç°ï¼Œéƒ½èƒ½å®ç°æƒé™æ£€æŸ¥ã€æ—¥å¿—è®°å½•ç­‰ã€‚</p><p>ä¸åŒçš„æ˜¯:</p><ul><li>ä½¿ç”¨èŒƒå›´ä¸åŒï¼šFilteræ˜¯Servletè§„èŒƒè§„å®šçš„ï¼Œåªèƒ½ç”¨äºWebç¨‹åºä¸­ã€‚è€Œæ‹¦æˆªå™¨æ—¢å¯ä»¥ç”¨äºWebç¨‹åºï¼Œä¹Ÿå¯ä»¥ç”¨äºApplicationã€Swingç¨‹åºä¸­ã€‚</li><li>è§„èŒƒä¸åŒ: Filteræ˜¯åœ¨Servletè§„èŒƒä¸­å®šä¹‰çš„ï¼Œæ˜¯Servletå®¹å™¨æ”¯æŒçš„ã€‚è€Œæ‹¦æˆªå™¨æ˜¯åœ¨Springå®¹å™¨å†…çš„ï¼Œæ˜¯Springæ¡†æ¶æ”¯æŒçš„ã€‚</li><li>ä½¿ç”¨çš„èµ„æºä¸åŒï¼šåŒå…¶ä»–çš„ä»£ç å—ä¸€æ ·ï¼Œæ‹¦æˆªå™¨ä¹Ÿæ˜¯ä¸€ä¸ªSpringçš„ç»„ä»¶ï¼Œå½’Springç®¡ç†ï¼Œé…ç½®åœ¨Springæ–‡ä»¶ä¸­ï¼Œå› æ­¤èƒ½ä½¿ç”¨Springé‡Œçš„ä»»ä½•èµ„æºã€å¯¹è±¡ï¼Œä¾‹å¦‚Serviceå¯¹è±¡ã€æ•°æ®æºã€äº‹åŠ¡ç®¡ç†ç­‰ï¼Œé€šè¿‡loCæ³¨å…¥åˆ°æ‹¦æˆªå™¨å³å¯:è€ŒFilteråˆ™ä¸èƒ½ã€‚</li><li>æ·±åº¦ä¸åŒï¼šFilteråœ¨åªåœ¨Servletå‰åèµ·ä½œç”¨ã€‚è€Œæ‹¦æˆªå™¨èƒ½å¤Ÿæ·±å…¥åˆ°æ–¹æ³•å‰åã€å¼‚å¸¸æŠ›å‡ºå‰åç­‰ï¼Œå› æ­¤æ‹¦æˆªå™¨çš„ä½¿ç”¨å…·æœ‰æ›´å¤§çš„å¼¹æ€§ã€‚æ‰€ä»¥åœ¨Springæ„æ¶çš„ç¨‹åºä¸­ï¼Œè¦ä¼˜å…ˆä½¿ç”¨æ‹¦æˆªå™¨ã€‚</li></ul><h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>æ³¨æ„ï¼šè¿‡æ»¤å™¨çš„è§¦å‘æ—¶æœºæ˜¯å®¹å™¨åï¼Œservletä¹‹å‰ï¼Œæ‰€ä»¥è¿‡æ»¤å™¨çš„doFilter(ServletRequest request, ServletResponse response, FilterChain chain)çš„å…¥å‚æ˜¯ServletRequestï¼Œè€Œä¸æ˜¯HttpServletRequestï¼Œå› ä¸ºè¿‡æ»¤å™¨æ˜¯åœ¨HttpServletä¹‹å‰ã€‚ä¸‹é¢è¿™ä¸ªå›¾ï¼Œå¯ä»¥è®©ä½ å¯¹Filterå’ŒInterceptorçš„æ‰§è¡Œæ—¶æœºæœ‰æ›´åŠ ç›´è§‚çš„è®¤è¯†ã€‚<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/880490333.png" alt="è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨å…³ç³»å›¾"><br>åªæœ‰ç»è¿‡DispatcherServlet çš„è¯·æ±‚ï¼Œæ‰ä¼šèµ°æ‹¦æˆªå™¨é“¾ï¼Œè‡ªå®šä¹‰çš„Servletè¯·æ±‚æ˜¯ä¸ä¼šè¢«æ‹¦æˆªçš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è‡ªå®šä¹‰çš„Servletåœ°å€ã€‚</p><p>è¿‡æ»¤å™¨ä¾èµ–äºServletå®¹å™¨ï¼Œè€ŒInterceptoråˆ™ä¸ºSpringMVCçš„ä¸€éƒ¨åˆ†ã€‚è¿‡æ»¤å™¨èƒ½å¤Ÿæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œè€ŒInterceptoråªèƒ½æ‹¦æˆªControllerçš„è¯·æ±‚ï¼Œæ‰€ä»¥ä»è¦†ç›–èŒƒå›´æ¥çœ‹ï¼ŒFilteråº”ç”¨æ›´å¹¿ä¸€äº›ã€‚ä½†æ˜¯åœ¨Springé€æ¸ä¸€ç»ŸJavaæ¡†æ¶ã€å‰åç«¯åˆ†ç¦»è¶Šæ¼”è¶Šçƒˆï¼Œå®é™…ä¸Šå¤§éƒ¨åˆ†çš„åº”ç”¨åœºæ™¯ï¼Œæ‹¦æˆªå™¨éƒ½å¯ä»¥æ»¡è¶³äº†ã€‚</p><h2 id="äº”ã€æºç "><a href="#äº”ã€æºç " class="headerlink" title="äº”ã€æºç "></a>äº”ã€æºç </h2><p><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-16-filter">SpringBoot-è¿‡æ»¤å™¨spring-boot-16-filter</a></p><p><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-17-interceptor">SpringBoot-æ‹¦æˆªå™¨spring-boot-17-interceptor</a></p><h2 id="å…­ã€å‚è€ƒ"><a href="#å…­ã€å‚è€ƒ" class="headerlink" title="å…­ã€å‚è€ƒ"></a>å…­ã€å‚è€ƒ</h2><p><a href="https://juejin.im/post/5c6901206fb9a049af6dcdcf">SpringBootå®ç°è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨ä¸åˆ‡ç‰‡</a><br><a href="https://www.cnblogs.com/paddix/p/8365558.html">Spring Bootå®æˆ˜ï¼šæ‹¦æˆªå™¨ä¸è¿‡æ»¤å™¨</a><br><a href="https://www.cnblogs.com/jeffwongishandsome/p/spring-boot-use-filter-and-interceptor-to-implement-an-easy-auth-system.html">Spring Bootä½¿ç”¨è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨åˆ†åˆ«å®ç°RESTæ¥å£ç®€æ˜“å®‰å…¨è®¤è¯</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(å…­)ï¼šä½¿ç”¨Spring Bootæ•´åˆAOPé¢å‘åˆ‡é¢ç¼–ç¨‹</title>
      <link href="2019/07/04/2019-07-04-aop/"/>
      <url>2019/07/04/2019-07-04-aop/</url>
      
        <content type="html"><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œspringæœ€æ ¸å¿ƒçš„ä¸¤ä¸ªåŠŸèƒ½æ˜¯aopå’Œiocï¼Œå³é¢å‘åˆ‡é¢å’Œæ§åˆ¶åè½¬ã€‚æœ¬æ–‡ä¼šè®²ä¸€è®²SpringBootå¦‚ä½•ä½¿ç”¨AOPå®ç°é¢å‘åˆ‡é¢çš„è¿‡ç¨‹åŸç†ã€‚</p><h2 id="ä¸€ã€ä½•ä¸ºaop"><a href="#ä¸€ã€ä½•ä¸ºaop" class="headerlink" title="ä¸€ã€ä½•ä¸ºaop"></a>ä¸€ã€ä½•ä¸ºaop</h2><p>â€‹    aopå…¨ç§°<code>Aspect Oriented Programming</code>ï¼Œé¢å‘åˆ‡é¢ï¼ŒAOPä¸»è¦å®ç°çš„ç›®çš„æ˜¯é’ˆå¯¹ä¸šåŠ¡å¤„ç†è¿‡ç¨‹ä¸­çš„åˆ‡é¢è¿›è¡Œæå–ï¼Œå®ƒæ‰€é¢å¯¹çš„æ˜¯å¤„ç†è¿‡ç¨‹ä¸­çš„æŸä¸ªæ­¥éª¤æˆ–é˜¶æ®µï¼Œä»¥è·å¾—é€»è¾‘è¿‡ç¨‹ä¸­å„éƒ¨åˆ†ä¹‹é—´ä½è€¦åˆæ€§çš„éš”ç¦»æ•ˆæœã€‚å…¶ä¸è®¾è®¡æ¨¡å¼å®Œæˆçš„ä»»åŠ¡å·®ä¸å¤šï¼Œæ˜¯æä¾›å¦ä¸€ç§è§’åº¦æ¥æ€è€ƒç¨‹åºçš„ç»“æ„ï¼Œæ¥å¼¥è¡¥é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸è¶³ã€‚</p><p>ã€€ã€€é€šä¿—ç‚¹è®²å°±æ˜¯æä¾›ä¸€ä¸ªä¸ºä¸€ä¸ªä¸šåŠ¡å®ç°æä¾›åˆ‡é¢æ³¨å…¥çš„æœºåˆ¶ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œåœ¨ä¸šåŠ¡è¿è¡Œä¸­å°†å®šä¹‰å¥½çš„åˆ‡é¢é€šè¿‡åˆ‡å…¥ç‚¹ç»‘å®šåˆ°ä¸šåŠ¡ä¸­ï¼Œä»¥å®ç°å°†ä¸€äº›ç‰¹æ®Šçš„é€»è¾‘ç»‘å®šåˆ°æ­¤ä¸šåŠ¡ä¸­ã€‚</p><p>ã€€ã€€ä¸¾ä¸ªæ —å­ï¼Œé¡¹ç›®ä¸­æœ‰è®°å½•æ“ä½œæ—¥å¿—çš„éœ€æ±‚ã€æˆ–è€…æµç¨‹å˜æ›´æ˜¯è®°å½•å˜æ›´å±¥å†ï¼Œæ— éå°±æ˜¯æ’è¡¨æ“ä½œï¼Œå¾ˆç®€å•çš„ä¸€ä¸ªsaveæ“ä½œï¼Œéƒ½æ˜¯ä¸€äº›è®°å½•æ—¥å¿—æˆ–è€…å…¶ä»–è¾…åŠ©æ€§çš„ä»£ç ã€‚ä¸€éåˆä¸€éçš„é‡å†™å’Œè°ƒç”¨ã€‚ä¸ä»…æµªè´¹äº†æ—¶é—´ï¼Œåˆå°†é¡¹ç›®å˜å¾—æ›´åŠ çš„å†—ä½™ï¼Œå®åœ¨å¾—ä¸å¿å¤±ã€‚</p><p>ã€€ã€€æ‰€ä»¥å°±éœ€è¦é¢å‘åˆ‡é¢aopå°±å‡ºåœºäº†ã€‚</p><h2 id="äºŒã€aopç›¸å…³åè¯"><a href="#äºŒã€aopç›¸å…³åè¯" class="headerlink" title="äºŒã€aopç›¸å…³åè¯"></a>äºŒã€aopç›¸å…³åè¯</h2><p>â€‹    è¦ç†è§£SpringBootæ•´åˆaopçš„å®ç°ï¼Œå°±å¿…é¡»å…ˆå¯¹é¢å‘åˆ‡é¢å®ç°çš„ä¸€äº›aopçš„åç§°æœ‰æ‰€äº†è§£ï¼Œä¸ç„¶ä¹Ÿæ˜¯äº‘é‡Œé›¾é‡Œã€‚</p><ul><li><p><strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong>ï¼šä¸€ä¸ªå…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ã€‚ä»¥æ³¨è§£@Aspectçš„å½¢å¼æ”¾åœ¨ç±»ä¸Šæ–¹ï¼Œå£°æ˜ä¸€ä¸ªåˆ‡é¢ã€‚</p></li><li><p><strong>è¿æ¥ç‚¹ï¼ˆJoinpointï¼‰</strong>ï¼šåœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­æŸä¸ªç‰¹å®šçš„ç‚¹ï¼Œæ¯”å¦‚æŸæ–¹æ³•è°ƒç”¨çš„æ—¶å€™æˆ–è€…å¤„ç†å¼‚å¸¸çš„æ—¶å€™éƒ½å¯ä»¥æ˜¯è¿æ¥ç‚¹ã€‚</p></li><li><p><strong>é€šçŸ¥ï¼ˆAdviceï¼‰</strong>ï¼šé€šçŸ¥å¢å¼ºï¼Œéœ€è¦å®Œæˆçš„å·¥ä½œå«åšé€šçŸ¥ï¼Œå°±æ˜¯ä½ å†™çš„ä¸šåŠ¡é€»è¾‘ä¸­éœ€è¦æ¯”å¦‚äº‹åŠ¡ã€æ—¥å¿—ç­‰å…ˆå®šä¹‰å¥½ï¼Œç„¶åéœ€è¦çš„åœ°æ–¹å†å»ç”¨ã€‚</p><p>ä¸»è¦åŒ…æ‹¬5ä¸ªæ³¨è§£ï¼šBeforeï¼ŒAfterï¼ŒAfterReturningï¼ŒAfterThrowingï¼ŒAroundã€‚</p><p>@Beforeï¼šåœ¨åˆ‡ç‚¹æ–¹æ³•ä¹‹å‰æ‰§è¡Œã€‚</p><p>@Afterï¼šåœ¨åˆ‡ç‚¹æ–¹æ³•ä¹‹åæ‰§è¡Œ</p><p>@AfterReturningï¼šåˆ‡ç‚¹æ–¹æ³•è¿”å›åæ‰§è¡Œ</p><p>@AfterThrowingï¼šåˆ‡ç‚¹æ–¹æ³•æŠ›å¼‚å¸¸æ‰§è¡Œ</p><p>@Aroundï¼šå±äºç¯ç»•å¢å¼ºï¼Œèƒ½æ§åˆ¶åˆ‡ç‚¹æ‰§è¡Œå‰ï¼Œæ‰§è¡Œåï¼Œç”¨è¿™ä¸ªæ³¨è§£åï¼Œç¨‹åºæŠ›å¼‚å¸¸ï¼Œä¼šå½±å“@AfterThrowingè¿™ä¸ªæ³¨è§£</p></li><li><p><strong>åˆ‡ç‚¹ï¼ˆPointcutï¼‰</strong>ï¼šå…¶å®å°±æ˜¯<strong>ç­›é€‰å‡ºçš„è¿æ¥ç‚¹</strong>ï¼ŒåŒ¹é…è¿æ¥ç‚¹çš„æ–­è¨€ï¼Œä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯è¿æ¥ç‚¹ï¼Œä½†åˆä¸å…¨éœ€è¦ï¼Œ<strong>ä¼šç­›é€‰å‡ºæŸäº›ä½œä¸ºè¿æ¥ç‚¹åšä¸ºåˆ‡ç‚¹</strong>ã€‚å¦‚æœè¯´é€šçŸ¥å®šä¹‰äº†åˆ‡é¢çš„åŠ¨ä½œæˆ–è€…æ‰§è¡Œæ—¶æœºçš„è¯ï¼Œåˆ‡ç‚¹åˆ™å®šä¹‰äº†æ‰§è¡Œçš„åœ°ç‚¹ã€‚åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å¦‚ä½•å’Œè¿æ¥ç‚¹åŒ¹é…æ˜¯AOPçš„æ ¸å¿ƒï¼šSpringç¼ºçœä½¿ç”¨AspectJåˆ‡å…¥ç‚¹è¯­æ³•ã€‚</p></li><li><p><strong>å¼•å…¥ï¼ˆIntroductionï¼‰</strong>ï¼šåœ¨ä¸æ”¹å˜ä¸€ä¸ªç°æœ‰ç±»ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºè¯¥ç±»æ·»åŠ å±æ€§å’Œæ–¹æ³•,å¯ä»¥åœ¨æ— éœ€ä¿®æ”¹ç°æœ‰ç±»çš„å‰æä¸‹ï¼Œè®©å®ƒä»¬å…·æœ‰æ–°çš„è¡Œä¸ºå’ŒçŠ¶æ€ã€‚å…¶å®å°±æ˜¯æŠŠåˆ‡é¢ï¼ˆä¹Ÿå°±æ˜¯æ–°æ–¹æ³•å±æ€§ï¼šé€šçŸ¥å®šä¹‰çš„ï¼‰ç”¨åˆ°ç›®æ ‡ç±»ä¸­å»ã€‚</p></li><li><p><strong>ç›®æ ‡å¯¹è±¡ï¼ˆTarget Objectï¼‰</strong>ï¼šè¢«ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ‡é¢æ‰€é€šçŸ¥çš„å¯¹è±¡ã€‚ä¹Ÿè¢«ç§°åšè¢«é€šçŸ¥ï¼ˆadvicedï¼‰å¯¹è±¡ã€‚æ—¢ç„¶Spring AOPæ˜¯é€šè¿‡è¿è¡Œæ—¶ä»£ç†å®ç°çš„ï¼Œè¿™ä¸ªå¯¹è±¡æ°¸è¿œæ˜¯ä¸€ä¸ªè¢«ä»£ç†ï¼ˆproxiedï¼‰å¯¹è±¡ã€‚</p></li><li><p><strong>AOPä»£ç†ï¼ˆAOP Proxyï¼‰</strong>ï¼šAOPæ¡†æ¶åˆ›å»ºçš„å¯¹è±¡ï¼Œç”¨æ¥å®ç°åˆ‡é¢å¥‘çº¦ï¼ˆä¾‹å¦‚é€šçŸ¥æ–¹æ³•æ‰§è¡Œç­‰ç­‰ï¼‰ã€‚åœ¨Springä¸­ï¼ŒAOPä»£ç†å¯ä»¥æ˜¯JDKåŠ¨æ€ä»£ç†æˆ–è€…CGLIBä»£ç†ã€‚</p></li><li><p><strong>ç»‡å…¥ï¼ˆWeavingï¼‰</strong>ï¼šæŠŠåˆ‡é¢è¿æ¥åˆ°å…¶å®ƒçš„åº”ç”¨ç¨‹åºç±»å‹æˆ–è€…å¯¹è±¡ä¸Šï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè¢«é€šçŸ¥çš„å¯¹è±¡ã€‚è¿™äº›å¯ä»¥åœ¨ç¼–è¯‘æ—¶ï¼ˆä¾‹å¦‚ä½¿ç”¨AspectJç¼–è¯‘å™¨ï¼‰ï¼Œç±»åŠ è½½æ—¶å’Œè¿è¡Œæ—¶å®Œæˆã€‚Springå’Œå…¶ä»–çº¯Java AOPæ¡†æ¶ä¸€æ ·ï¼Œåœ¨è¿è¡Œæ—¶å®Œæˆç»‡å…¥ã€‚</p></li></ul><p>â€‹       å…¶ä¸­é‡è¦çš„åè¯æœ‰ï¼š<strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong>ï¼Œ<strong>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰</strong></p><h2 id="ä¸‰ã€ä»£ç å®ç°"><a href="#ä¸‰ã€ä»£ç å®ç°" class="headerlink" title="ä¸‰ã€ä»£ç å®ç°"></a>ä¸‰ã€ä»£ç å®ç°</h2><p>ä»¥å¤„ç†ä¸šåŠ¡é€»è¾‘æ—¥å¿—ä¸ºä¾‹ï¼Œæ–°å¢æ—¥å¿—å¤„ç†çš„é¢å‘åˆ‡é¢å¤„ç†ã€‚</p><h3 id="1-æ·»åŠ mavenä¾èµ–"><a href="#1-æ·»åŠ mavenä¾èµ–" class="headerlink" title="1.æ·»åŠ mavenä¾èµ–"></a>1.æ·»åŠ mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¼•å…¥AOPä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-æ·»åŠ ç³»ç»Ÿæ—¥å¿—æ³¨è§£"><a href="#2-æ·»åŠ ç³»ç»Ÿæ—¥å¿—æ³¨è§£" class="headerlink" title="2.æ·»åŠ ç³»ç»Ÿæ—¥å¿—æ³¨è§£"></a>2.æ·»åŠ ç³»ç»Ÿæ—¥å¿—æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SysLog &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ·»åŠ ç³»ç»Ÿæ—¥å¿—å®ä½“ç±»"><a href="#3-æ·»åŠ ç³»ç»Ÿæ—¥å¿—å®ä½“ç±»" class="headerlink" title="3.æ·»åŠ ç³»ç»Ÿæ—¥å¿—å®ä½“ç±»"></a>3.æ·»åŠ ç³»ç»Ÿæ—¥å¿—å®ä½“ç±»</h3><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysLogEntity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> className;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> methodName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> params;</span><br><span class="line">    <span class="keyword">private</span> Long exeuTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> remark;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> createDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-æ–°å¢Serviceé€»è¾‘å¤„ç†å±‚"><a href="#4-æ–°å¢Serviceé€»è¾‘å¤„ç†å±‚" class="headerlink" title="4.æ–°å¢Serviceé€»è¾‘å¤„ç†å±‚"></a>4.æ–°å¢Serviceé€»è¾‘å¤„ç†å±‚</h3><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Slf4j</span></span><br><span class="line"><span class="variable">@Service</span></span><br><span class="line">public class SysLogService &#123;</span><br><span class="line">    <span class="selector-tag">public</span> <span class="selector-tag">boolean</span> <span class="selector-tag">save</span>(SysLogEntity sysLogEntity)&#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œå°±ä¸åšå…·ä½“å®ç°äº†</span></span><br><span class="line">        <span class="selector-tag">log</span><span class="selector-class">.info</span>(sysLogEntity.getParams());</span><br><span class="line">        <span class="selector-tag">return</span> <span class="selector-tag">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤„ç”¨äº†@Slf4jæ—¥å¿—æ³¨è§£</p><p>ç›¸å½“äºprivate  final Logger logger = LoggerFactory.getLogger(XXX.class);</p><p>ç®€åŒ–äº†ä»£ç ï¼Œæ€ä¹ˆç®€åŒ–æ€ä¹ˆæ¥~</p><p>è¿™é‡Œä¸»è¦æ˜¯ç ”ç©¶aopçš„æ€ä¹ˆå®ç°çš„ï¼Œå°±ä¸å…·ä½“å†™Serviceå±‚çš„ä»£ç äº†ã€‚</p><h3 id="5-Controllerå±‚"><a href="#5-Controllerå±‚" class="headerlink" title="5.Controllerå±‚"></a>5.Controllerå±‚</h3><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(<span class="meta-string">&quot;/aop&quot;</span>)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AopController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@SysLog(<span class="meta-string">&quot;æµ‹è¯•&quot;</span>)</span></span><br><span class="line">    <span class="meta">@GetMapping(<span class="meta-string">&quot;/test&quot;</span>)</span></span><br><span class="line">    <span class="keyword">public</span> String test(<span class="meta">@RequestParam(<span class="meta-string">&quot;name&quot;</span>)</span> String name, <span class="meta">@RequestParam(<span class="meta-string">&quot;age&quot;</span>)</span> int age)&#123;</span><br><span class="line">        <span class="keyword">return</span> name + <span class="string">&quot;, &quot;</span> + age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-åˆ‡é¢å¤„ç†"><a href="#6-åˆ‡é¢å¤„ç†" class="headerlink" title="6.åˆ‡é¢å¤„ç†"></a>6.åˆ‡é¢å¤„ç†</h3><p>æ¥å’¯æ¥å’¯ï¼Œå…³é”®å¤„ç†æ¥å’¯ï¼Œå®¢å®˜ä¸‹é¢çš„ä»£ç </p><p>é¦–å…ˆåœ¨ç±»ä¸Šæ–¹å£°æ˜</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Aspect</span> <span class="comment">//ä½¿ç”¨@Aspect</span></span><br><span class="line"><span class="variable">@Component</span></span><br></pre></td></tr></table></figure><p>è°ƒç”¨ServiceæœåŠ¡</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> SysLogService sysLogService;</span><br></pre></td></tr></table></figure><p>æ·»åŠ åˆ‡ç‚¹è¡¨è¾¾å¼@Pointcut</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ³¨è§£çš„å½¢å¼</span></span><br><span class="line"><span class="comment"> * å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡åˆ‡ç‚¹è¡¨è¾¾å¼ç›´æ¥æŒ‡å®šéœ€è¦æ‹¦æˆªçš„package,éœ€è¦æ‹¦æˆªçš„class ä»¥åŠ method</span></span><br><span class="line"><span class="comment"> * åˆ‡ç‚¹è¡¨è¾¾å¼:   execution(...)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Pointcut(&quot;@annotation(com.niaobulashi.anno.SysLog)&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logPointCut</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç¯ç»•é€šçŸ¥@Around</p><figure class="highlight processing"><table><tr><td class="code"><pre><span class="line">@Around(<span class="string">&quot;logPointCut()&quot;</span>)</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">Object</span> around(ProceedingJoinPoint <span class="built_in">point</span>) <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        <span class="keyword">long</span> beginTime = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">Object</span> result = <span class="built_in">point</span>.proceed();</span><br><span class="line">        <span class="keyword">long</span> time = System.currentTimeMillis() - beginTime;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å®ç°ä¿å­˜æ—¥å¿—é€»è¾‘</span></span><br><span class="line">            saveLog(<span class="built_in">point</span>, time);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å®ç°ä¿å­˜æ—¥å¿—é€»è¾‘saveLog</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> void save<span class="constructor">Log(ProceedingJoinPoint <span class="params">joinPoint</span>, <span class="params">long</span> <span class="params">time</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–æ–¹æ³•çš„å…³é”®ä¿¡æ¯ï¼Œç±»ï¼ŒåŒ…</span></span><br><span class="line">  MethodSignature signature = (MethodSignature) joinPoint.get<span class="constructor">Signature()</span>;</span><br><span class="line">  Method <span class="keyword">method</span> = signature.get<span class="constructor">Method()</span>;</span><br><span class="line">  SysLogEntity sysLogEntity = <span class="keyword">new</span> <span class="constructor">SysLogEntity()</span>;</span><br><span class="line">  sysLogEntity.set<span class="constructor">ExeuTime(<span class="params">time</span>)</span>;</span><br><span class="line">  SimpleDateFormat dateFormat = <span class="keyword">new</span> <span class="constructor">SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>)</span>;</span><br><span class="line">  sysLogEntity.set<span class="constructor">CreateDate(<span class="params">dateFormat</span>.<span class="params">format</span>(<span class="params">new</span> Date()</span>));</span><br><span class="line">  SysLog sysLog = <span class="keyword">method</span>.get<span class="constructor">Annotation(SysLog.<span class="params">class</span>)</span>;</span><br><span class="line">  <span class="keyword">if</span>(sysLog != null) &#123;</span><br><span class="line">    <span class="comment">//æ³¨è§£ä¸Šçš„æè¿°</span></span><br><span class="line">    sysLogEntity.set<span class="constructor">Remark(<span class="params">sysLog</span>.<span class="params">value</span>()</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//è¯·æ±‚çš„ ç±»åã€æ–¹æ³•å</span></span><br><span class="line">  String className = joinPoint.get<span class="constructor">Target()</span>.get<span class="constructor">Class()</span>.get<span class="constructor">Name()</span>;</span><br><span class="line">  String methodName = signature.get<span class="constructor">Name()</span>;</span><br><span class="line">  sysLogEntity.set<span class="constructor">ClassName(<span class="params">className</span>)</span>;</span><br><span class="line">  sysLogEntity.set<span class="constructor">MethodName(<span class="params">methodName</span>)</span>;</span><br><span class="line">  <span class="comment">//è¯·æ±‚çš„å‚æ•°</span></span><br><span class="line">  Object<span class="literal">[]</span> args = joinPoint.get<span class="constructor">Args()</span>;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    List&lt;String&gt; <span class="built_in">list</span> = <span class="keyword">new</span> ArrayList&lt;String&gt;<span class="literal">()</span>;</span><br><span class="line">    <span class="keyword">for</span> (Object o : args) &#123;</span><br><span class="line">      <span class="built_in">list</span>.add(o.<span class="keyword">to</span><span class="constructor">String()</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    sysLogEntity.set<span class="constructor">Params(<span class="params">list</span>.<span class="params">toString</span>()</span>);</span><br><span class="line">  &#125; catch (Exception e)&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  sysLogService.save(sysLogEntity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MethodSignatureä¸»è¦å®ç°çš„æ˜¯è¿”å›å€¼ç±»ï¼Œæ–¹æ³•åå’Œå½¢å¼å‚æ•°</p><h2 id="å››ã€æµ‹è¯•"><a href="#å››ã€æµ‹è¯•" class="headerlink" title="å››ã€æµ‹è¯•"></a>å››ã€æµ‹è¯•</h2><p>é€šè¿‡å‘é€getè¯·æ±‚ï¼š127.0.0.1:8081/aop/test?name=Tom&amp;age=18</p><p>åŒæ—¶ä»¥debugæ¨¡å¼è¿è¡Œé¡¹ç›®ï¼Œæ‰“ç‚¹æŸ¥çœ‹å‚æ•°</p><p><img src="https://niaobulashi.com/usr/uploads/2019/07/1956644558.png"></p><p>å¯ä»¥çœ‹åˆ°MethodSignatureä¸­çš„å‚æ•°</p><p>ä»¥åŠsysLogEntityèµ‹å€¼çš„å„ä¸ªå‚æ•°ã€‚</p><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>1ã€æ¨ªåˆ‡å…³æ³¨ç‚¹<br>å¯¹å“ªäº›æ–¹æ³•è¿›è¡Œæ‹¦æˆªï¼Œæ‹¦æˆªåæ€ä¹ˆå¤„ç†ï¼Œè¿™äº›å…³æ³¨ç‚¹ç§°ä¹‹ä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹</p><p>2ã€åˆ‡é¢ï¼ˆaspectï¼‰-&gt;ï¼ˆé€šçŸ¥+åˆ‡ç‚¹ï¼‰<br>ç±»æ˜¯å¯¹ç‰©ä½“ç‰¹å¾çš„æŠ½è±¡ï¼Œåˆ‡é¢å°±æ˜¯å¯¹æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æŠ½è±¡ã€‚<br>é€šçŸ¥+åˆ‡ç‚¹<br>æ„æ€å°±æ˜¯æ‰€æœ‰è¦è¢«åº”ç”¨åˆ°å¢å¼ºï¼ˆadviceï¼‰ä»£ç çš„åœ°æ–¹ã€‚(åŒ…æ‹¬æ–¹æ³•çš„æ–¹ä½ä¿¡æ¯)</p><p>3ã€è¿æ¥ç‚¹ï¼ˆjoinpointï¼‰-&gt;ï¼ˆè¢«æ‹¦æˆªçš„æ–¹æ³•ï¼‰<br>è¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼Œå› ä¸ºSpringåªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ï¼Œæ‰€ä»¥åœ¨Springä¸­è¿æ¥ç‚¹æŒ‡çš„å°±æ˜¯è¢«æ‹¦æˆªçš„æ–¹æ³•ï¼Œå®é™…ä¸Šè¿æ¥ç‚¹è¿˜å¯ä»¥æ˜¯å­—æ®µæˆ–è€…æ„é€ å™¨</p><p>4ã€åˆ‡å…¥ç‚¹ï¼ˆpointcutï¼‰-&gt;ï¼ˆæè¿°æ‹¦æˆªé‚£äº›æ–¹æ³•çš„éƒ¨åˆ†ï¼‰<br>å¯¹è¿æ¥ç‚¹è¿›è¡Œæ‹¦æˆªçš„å®šä¹‰</p><p>5ã€é€šçŸ¥ï¼ˆadviceï¼‰-&gt;ï¼ˆæ‹¦æˆªåæ‰§è¡Œè‡ªå·±ä¸šåŠ¡é€»è¾‘çš„é‚£äº›éƒ¨åˆ†ï¼‰<br>æ‰€è°“é€šçŸ¥æŒ‡çš„å°±æ˜¯æŒ‡æ‹¦æˆªåˆ°è¿æ¥ç‚¹ä¹‹åè¦æ‰§è¡Œçš„ä»£ç ï¼Œé€šçŸ¥åˆ†ä¸ºå‰ç½®ã€åç½®ã€å¼‚å¸¸ã€æœ€ç»ˆã€ç¯ç»•é€šçŸ¥äº”ç±»<br>è¿™ç©æ„ä¹Ÿå« å¢å¼º </p><p>åœ¨é€»è¾‘å±‚æ¬¡ä¸ŠåŒ…æ‹¬äº†æˆ‘ä»¬æŠ½å–çš„å…¬å…±é€»è¾‘å’Œæ–¹ä½ä¿¡æ¯ã€‚å› ä¸ºSpringåªèƒ½æ–¹æ³•çº§åˆ«çš„åº”ç”¨AOP,ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è§çš„before,after,after-returning,after-throwing,aroundäº”ç§ï¼Œæ„æ€å°±æ˜¯åœ¨æ–¹æ³•è°ƒç”¨å‰åï¼Œå¼‚å¸¸æ—¶å€™æ‰§è¡Œæˆ‘è¿™æ®µå…¬å…±é€»è¾‘å‘—ã€‚</p><h2 id="æ¨èé˜…è¯»"><a href="#æ¨èé˜…è¯»" class="headerlink" title="æ¨èé˜…è¯»"></a>æ¨èé˜…è¯»</h2><p><a href="https://www.cnblogs.com/lic309/p/4079194.html">ã€spring-bootã€‘spring aop é¢å‘åˆ‡é¢ç¼–ç¨‹åˆæ¥è§¦</a></p><p><a href="http://blog.didispace.com/springbootaoplog/">Spring Bootä¸­ä½¿ç”¨AOPç»Ÿä¸€å¤„ç†Webè¯·æ±‚æ—¥å¿—</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(äº”)ï¼šä½¿ç”¨Spring Bootç»“åˆThymeleafæ¨¡æ¿å¼•æ“ä½¿ç”¨æ€»ç»“</title>
      <link href="2019/07/03/2019-07-03-thymeleaf/"/>
      <url>2019/07/03/2019-07-03-thymeleaf/</url>
      
        <content type="html"><![CDATA[<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸ç”¨çš„æ¨¡æ¿å¼•æ“æœ‰JSPã€Velocityã€Freemarkerã€Thymeleaf ã€‚</p><p>SpringBootæ¨èçš„ Thymeleaf â€“ è¯­æ³•æ›´ç®€å•ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ï¼›</p><p>Thymeleafæ˜¯ä¸€ç§Java XML/XHTML/HTML5æ¨¡æ¿å¼•æ“ï¼Œå¯ä»¥åœ¨Webå’ŒéWebç¯å¢ƒä¸­ä½¿ç”¨ã€‚<br>å®ƒæ›´é€‚åˆåœ¨åŸºäºMVCçš„Webåº”ç”¨ç¨‹åºçš„è§†å›¾å±‚æä¾›XHTML/HTML5ï¼Œä½†å³ä½¿åœ¨è„±æœºç¯å¢ƒä¸­ï¼Œå®ƒä¹Ÿå¯ä»¥å¤„ç†ä»»ä½•XMLæ–‡ä»¶ã€‚å®ƒæä¾›äº†å®Œæ•´çš„Spring Frameworké›†æˆã€‚</p><h2 id="ä¸€ã€-æ ‡å‡†è¡¨è¾¾å¼è¯­æ³•"><a href="#ä¸€ã€-æ ‡å‡†è¡¨è¾¾å¼è¯­æ³•" class="headerlink" title="ä¸€ã€ æ ‡å‡†è¡¨è¾¾å¼è¯­æ³•"></a>ä¸€ã€ æ ‡å‡†è¡¨è¾¾å¼è¯­æ³•</h2><p>å®ƒä»¬åˆ†ä¸ºå››ç±»ï¼š</p><ul><li>1.å˜é‡è¡¨è¾¾å¼</li><li>2.é€‰æ‹©æˆ–æ˜Ÿå·è¡¨è¾¾å¼</li><li>3.æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼</li><li>4.URL è¡¨è¾¾å¼</li></ul><h3 id="å˜é‡è¡¨è¾¾å¼"><a href="#å˜é‡è¡¨è¾¾å¼" class="headerlink" title="å˜é‡è¡¨è¾¾å¼"></a>å˜é‡è¡¨è¾¾å¼</h3><p>å˜é‡è¡¨è¾¾å¼å³ OGNL è¡¨è¾¾å¼æˆ– Spring EL è¡¨è¾¾å¼(åœ¨ Spring æœ¯è¯­ä¸­ä¹Ÿå« model attributes)ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š<br><code>$&#123;session.user.name&#125;</code></p><p>å®ƒä»¬å°†ä»¥HTMLæ ‡ç­¾çš„ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºï¼š</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;span th:<span class="attribute">text</span>=<span class="string">&quot;<span class="variable">$&#123;book.author.name&#125;</span>&quot;</span>&gt;  </span><br><span class="line">&lt;li th:<span class="attribute">each</span>=<span class="string">&quot;book : <span class="variable">$&#123;books&#125;</span>&quot;</span>&gt;  </span><br></pre></td></tr></table></figure><h3 id="é€‰æ‹©-æ˜Ÿå·-è¡¨è¾¾å¼"><a href="#é€‰æ‹©-æ˜Ÿå·-è¡¨è¾¾å¼" class="headerlink" title="é€‰æ‹©(æ˜Ÿå·)è¡¨è¾¾å¼"></a>é€‰æ‹©(æ˜Ÿå·)è¡¨è¾¾å¼</h3><p>é€‰æ‹©è¡¨è¾¾å¼å¾ˆåƒå˜é‡è¡¨è¾¾å¼ï¼Œä¸è¿‡å®ƒä»¬ç”¨ä¸€ä¸ªé¢„å…ˆé€‰æ‹©çš„å¯¹è±¡æ¥ä»£æ›¿ä¸Šä¸‹æ–‡å˜é‡å®¹å™¨(map)æ¥æ‰§è¡Œï¼Œå¦‚ä¸‹ï¼š<br><code>*&#123;customer.name&#125;</code></p><p>è¢«æŒ‡å®šçš„ object ç”± th:object å±æ€§å®šä¹‰ï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;book&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  ...  </span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;title&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">span</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  ...  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span></span><br></pre></td></tr></table></figure><h3 id="æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼"><a href="#æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼" class="headerlink" title="æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼"></a>æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼</h3><p>æ–‡å­—å›½é™…åŒ–è¡¨è¾¾å¼å…è®¸æˆ‘ä»¬ä»ä¸€ä¸ªå¤–éƒ¨æ–‡ä»¶è·å–åŒºåŸŸæ–‡å­—ä¿¡æ¯(.properties)ï¼Œç”¨ Key ç´¢å¼• Valueï¼Œè¿˜å¯ä»¥æä¾›ä¸€ç»„å‚æ•°(å¯é€‰).</p><figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta">#&#123;main.title&#125;  </span></span><br><span class="line"><span class="meta">#&#123;message.entrycreated($&#123;entryId&#125;)&#125;  </span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­æ‰¾åˆ°è¿™æ ·çš„è¡¨è¾¾å¼ä»£ç ï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  ...  </span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:text</span>=<span class="string">&quot;#</span></span></span><span class="template-variable">&#123;header.address.city&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:text</span>=<span class="string">&quot;#</span></span></span><span class="template-variable">&#123;header.address.country&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">th</span>&gt;</span>  </span></span><br><span class="line"><span class="xml">  ...  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span>  </span></span><br></pre></td></tr></table></figure><h3 id="URL-è¡¨è¾¾å¼"><a href="#URL-è¡¨è¾¾å¼" class="headerlink" title="URL è¡¨è¾¾å¼"></a>URL è¡¨è¾¾å¼</h3><p>URL è¡¨è¾¾å¼æŒ‡çš„æ˜¯æŠŠä¸€ä¸ªæœ‰ç”¨çš„ä¸Šä¸‹æ–‡æˆ–å›è¯ä¿¡æ¯æ·»åŠ åˆ° URLï¼Œè¿™ä¸ªè¿‡ç¨‹ç»å¸¸è¢«å«åš URL é‡å†™ã€‚<br><code>@&#123;/order/list&#125;</code></p><p>URLè¿˜å¯ä»¥è®¾ç½®å‚æ•°ï¼š<br><code>@&#123;/order/details(id=$&#123;orderId&#125;)&#125;</code></p><p>ç›¸å¯¹è·¯å¾„ï¼š<br><code>@&#123;../documents/report&#125;</code></p><p>è®©æˆ‘ä»¬çœ‹è¿™äº›è¡¨è¾¾å¼ï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">createOrder</span>&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>  </span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;main.html&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">main</span>&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="å˜é‡è¡¨è¾¾å¼å’Œæ˜Ÿå·è¡¨è¾¾æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"><a href="#å˜é‡è¡¨è¾¾å¼å’Œæ˜Ÿå·è¡¨è¾¾æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ" class="headerlink" title="å˜é‡è¡¨è¾¾å¼å’Œæ˜Ÿå·è¡¨è¾¾æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"></a>å˜é‡è¡¨è¾¾å¼å’Œæ˜Ÿå·è¡¨è¾¾æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ</h3><p>å¦‚æœä¸è€ƒè™‘ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹ï¼Œä¸¤è€…æ²¡æœ‰åŒºåˆ«ï¼›æ˜Ÿå·è¯­æ³•è¯„ä¼°åœ¨é€‰å®šå¯¹è±¡ä¸Šè¡¨è¾¾ï¼Œè€Œä¸æ˜¯æ•´ä¸ªä¸Šä¸‹æ–‡<br>ä»€ä¹ˆæ˜¯é€‰å®šå¯¹è±¡ï¼Ÿå°±æ˜¯çˆ¶æ ‡ç­¾çš„å€¼ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;firstName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;lastName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;nationality&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å®Œå…¨ç­‰ä»·äºï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user.firstName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user.lastName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user.nationality&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œç¾å…ƒç¬¦å·å’Œæ˜Ÿå·è¯­æ³•å¯ä»¥æ··åˆä½¿ç”¨ï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;firstName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;session.user.lastName&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*</span></span></span><span class="template-variable">&#123;nationality&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="è¡¨è¾¾å¼æ”¯æŒçš„è¯­æ³•"><a href="#è¡¨è¾¾å¼æ”¯æŒçš„è¯­æ³•" class="headerlink" title="è¡¨è¾¾å¼æ”¯æŒçš„è¯­æ³•"></a>è¡¨è¾¾å¼æ”¯æŒçš„è¯­æ³•</h3><h4 id="å­—é¢ï¼ˆLiteralsï¼‰"><a href="#å­—é¢ï¼ˆLiteralsï¼‰" class="headerlink" title="å­—é¢ï¼ˆLiteralsï¼‰"></a>å­—é¢ï¼ˆLiteralsï¼‰</h4><ul><li>æ–‡æœ¬æ–‡å­—ï¼ˆText literalsï¼‰: <code>&#39;one text&#39;, &#39;Another one!&#39;,â€¦</code></li><li>æ•°å­—æ–‡æœ¬ï¼ˆNumber literalsï¼‰: <code>0, 34, 3.0, 12.3,â€¦</code></li><li>å¸ƒå°”æ–‡æœ¬ï¼ˆBoolean literalsï¼‰:<code>true, false</code></li><li>ç©ºï¼ˆNull literalï¼‰:<code>null</code></li><li>æ–‡å­—æ ‡è®°ï¼ˆLiteral tokensï¼‰:<code>one, sometext, main,â€¦</code></li></ul><h4 id="æ–‡æœ¬æ“ä½œï¼ˆText-operationsï¼‰"><a href="#æ–‡æœ¬æ“ä½œï¼ˆText-operationsï¼‰" class="headerlink" title="æ–‡æœ¬æ“ä½œï¼ˆText operationsï¼‰"></a>æ–‡æœ¬æ“ä½œï¼ˆText operationsï¼‰</h4><ul><li>å­—ç¬¦ä¸²è¿æ¥(String concatenation):<code>+</code></li><li>æ–‡æœ¬æ›¿æ¢ï¼ˆLiteral substitutionsï¼‰:<code>|The name is $&#123;name&#125;|</code></li></ul><h4 id="ç®—æœ¯è¿ç®—ï¼ˆArithmetic-operationsï¼‰"><a href="#ç®—æœ¯è¿ç®—ï¼ˆArithmetic-operationsï¼‰" class="headerlink" title="ç®—æœ¯è¿ç®—ï¼ˆArithmetic operationsï¼‰"></a>ç®—æœ¯è¿ç®—ï¼ˆArithmetic operationsï¼‰</h4><ul><li>äºŒå…ƒè¿ç®—ç¬¦ï¼ˆBinary operatorsï¼‰:<code>+, -, *, /, %</code></li><li>å‡å·ï¼ˆå•ç›®è¿ç®—ç¬¦ï¼‰Minus sign (unary operator):<code>-</code></li></ul><h4 id="å¸ƒå°”æ“ä½œï¼ˆBoolean-operationsï¼‰"><a href="#å¸ƒå°”æ“ä½œï¼ˆBoolean-operationsï¼‰" class="headerlink" title="å¸ƒå°”æ“ä½œï¼ˆBoolean operationsï¼‰"></a>å¸ƒå°”æ“ä½œï¼ˆBoolean operationsï¼‰</h4><ul><li>äºŒå…ƒè¿ç®—ç¬¦ï¼ˆBinary operatorsï¼‰:<code>and, or</code></li><li>å¸ƒå°”å¦å®šï¼ˆä¸€å…ƒè¿ç®—ç¬¦ï¼‰Boolean negation (unary operator):<code>!, not</code></li></ul><h4 id="æ¯”è¾ƒå’Œç­‰ä»·-Comparisons-and-equality"><a href="#æ¯”è¾ƒå’Œç­‰ä»·-Comparisons-and-equality" class="headerlink" title="æ¯”è¾ƒå’Œç­‰ä»·(Comparisons and equality)"></a>æ¯”è¾ƒå’Œç­‰ä»·(Comparisons and equality)</h4><ul><li>æ¯”è¾ƒï¼ˆComparatorsï¼‰:<code>&gt;, &lt;, &gt;=, &lt;= (gt, lt, ge, le)</code></li><li>ç­‰å€¼è¿ç®—ç¬¦ï¼ˆEquality operatorsï¼‰:<code>==, != (eq, ne)</code></li></ul><h4 id="æ¡ä»¶è¿ç®—ç¬¦ï¼ˆConditional-operatorsï¼‰"><a href="#æ¡ä»¶è¿ç®—ç¬¦ï¼ˆConditional-operatorsï¼‰" class="headerlink" title="æ¡ä»¶è¿ç®—ç¬¦ï¼ˆConditional operatorsï¼‰"></a>æ¡ä»¶è¿ç®—ç¬¦ï¼ˆConditional operatorsï¼‰</h4><ul><li>If-then:<code>(if) ? (then)</code></li><li>If-then-else:<code>(if) ? (then) : (else)</code></li><li>Default: (value) ?:<code>(defaultvalue)</code></li></ul><p>æ‰€æœ‰è¿™äº›ç‰¹å¾å¯ä»¥è¢«ç»„åˆå¹¶åµŒå¥—ï¼š</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="symbol">&#x27;User</span> <span class="keyword">is</span> <span class="keyword">of</span> <span class="keyword">type</span> <span class="type">&#x27; </span>+ ($&#123;user.isAdmin()&#125; ? <span class="symbol">&#x27;Administrator</span>&#x27; : ($&#123;<span class="type">user.type</span>&#125; ?: <span class="symbol">&#x27;Unknown</span>&#x27;))</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å¸¸ç”¨çš„thæ ‡ç­¾"><a href="#äºŒã€å¸¸ç”¨çš„thæ ‡ç­¾" class="headerlink" title="äºŒã€å¸¸ç”¨çš„thæ ‡ç­¾"></a>äºŒã€å¸¸ç”¨çš„thæ ‡ç­¾</h2><p>å®˜æ–¹æ–‡æ¡£è¯¦ç»†çš„ä¸€æ‰¹ï¼š<br><a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html">https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a></p><table><thead><tr><th align="left">å…³é”®å­—</th><th align="left">åŠŸèƒ½ä»‹ç»</th><th align="left">æ¡ˆä¾‹</th></tr></thead><tbody><tr><td align="left">th:id</td><td align="left">æ›¿æ¢id</td><td align="left"><code>&lt;input th:id=&quot;&#39;xxx&#39; + $&#123;collect.id&#125;&quot;/&gt;</code></td></tr><tr><td align="left">th:text</td><td align="left">æ–‡æœ¬æ›¿æ¢</td><td align="left"><code>&lt;p th:text=&quot;$&#123;collect.description&#125;&quot;&gt;description&lt;/p&gt;</code></td></tr><tr><td align="left">th:utext</td><td align="left">æ”¯æŒhtmlçš„æ–‡æœ¬æ›¿æ¢</td><td align="left"><code>&lt;p th:utext=&quot;$&#123;htmlcontent&#125;&quot;&gt;conten&lt;/p&gt;</code></td></tr><tr><td align="left">th:object</td><td align="left">æ›¿æ¢å¯¹è±¡</td><td align="left"><code>&lt;div th:object=&quot;$&#123;session.user&#125;&quot;&gt; </code></td></tr><tr><td align="left">th:value</td><td align="left">å±æ€§èµ‹å€¼</td><td align="left"><code>&lt;input th:value=&quot;$&#123;user.name&#125;&quot; /&gt; </code></td></tr><tr><td align="left">th:with</td><td align="left">å˜é‡èµ‹å€¼è¿ç®—</td><td align="left"><code>&lt;div th:with=&quot;isEven=$&#123;prodStat.count&#125;%2==0&quot;&gt;&lt;/div&gt; </code></td></tr><tr><td align="left">th:style</td><td align="left">è®¾ç½®æ ·å¼</td><td align="left"><code>th:style=&quot;&#39;display:&#39; + @&#123;($&#123;sitrue&#125; ? &#39;none&#39; : &#39;inline-block&#39;)&#125; + &#39;&#39;&quot; </code></td></tr><tr><td align="left">th:onclick</td><td align="left">ç‚¹å‡»äº‹ä»¶</td><td align="left"><code>th:onclick=&quot;&#39;getCollect()&#39;&quot; </code></td></tr><tr><td align="left">th:each</td><td align="left">å±æ€§èµ‹å€¼</td><td align="left"><code>tr th:each=&quot;user,userStat:$&#123;users&#125;&quot;&gt; </code></td></tr><tr><td align="left">th:if</td><td align="left">åˆ¤æ–­æ¡ä»¶</td><td align="left"><code>&lt;a th:if=&quot;$&#123;userId == collect.userId&#125;&quot; &gt;</code></td></tr><tr><td align="left">th:unless</td><td align="left">å’Œth:ifåˆ¤æ–­ç›¸å</td><td align="left"><code>&lt;a th:href=&quot;@&#123;/login&#125;&quot; th:unless=$&#123;session.user != null&#125;&gt;Login&lt;/a&gt;</code></td></tr><tr><td align="left">th:href</td><td align="left">é“¾æ¥åœ°å€</td><td align="left"><code>&lt;a th:href=&quot;@&#123;/login&#125;&quot; th:unless=$&#123;session.user != null&#125;&gt;Login&lt;/a&gt; /&gt; </code></td></tr><tr><td align="left">th:switch</td><td align="left">å¤šè·¯é€‰æ‹© é…åˆth:case ä½¿ç”¨</td><td align="left"><code>&lt;div th:switch=&quot;$&#123;user.role&#125;&quot;&gt; </code></td></tr><tr><td align="left">th:case</td><td align="left">th:switchçš„ä¸€ä¸ªåˆ†æ”¯</td><td align="left"><code>&lt;p th:case=&quot;&#39;admin&#39;&quot;&gt;User is an administrator&lt;/p&gt;</code></td></tr><tr><td align="left">th:fragment</td><td align="left">å¸ƒå±€æ ‡ç­¾ï¼Œå®šä¹‰ä¸€ä¸ªä»£ç ç‰‡æ®µï¼Œæ–¹ä¾¿å…¶å®ƒåœ°æ–¹å¼•ç”¨</td><td align="left"><code>&lt;div th:fragment=&quot;alert&quot;&gt;</code></td></tr><tr><td align="left">th:include</td><td align="left">å¸ƒå±€æ ‡ç­¾ï¼Œæ›¿æ¢å†…å®¹åˆ°å¼•å…¥çš„æ–‡ä»¶</td><td align="left"><code>&lt;head th:include=&quot;layout :: htmlhead&quot; th:with=&quot;title=&#39;xx&#39;&quot;&gt;&lt;/head&gt; /&gt; </code></td></tr><tr><td align="left">th:replace</td><td align="left">å¸ƒå±€æ ‡ç­¾ï¼Œæ›¿æ¢æ•´ä¸ªæ ‡ç­¾åˆ°å¼•å…¥çš„æ–‡ä»¶</td><td align="left"><code>&lt;div th:replace=&quot;fragments/header :: title&quot;&gt;&lt;/div&gt; </code></td></tr><tr><td align="left">th:selected</td><td align="left">selectedé€‰æ‹©æ¡† é€‰ä¸­</td><td align="left"><code>th:selected=&quot;($&#123;xxx.id&#125; == $&#123;configObj.dd&#125;)&quot;</code></td></tr><tr><td align="left">th:src</td><td align="left">å›¾ç‰‡ç±»åœ°å€å¼•å…¥</td><td align="left"><code>&lt;img class=&quot;img-responsive&quot; alt=&quot;App Logo&quot; th:src=&quot;@&#123;/img/logo.png&#125;&quot; /&gt; </code></td></tr><tr><td align="left">th:inline</td><td align="left">å®šä¹‰jsè„šæœ¬å¯ä»¥ä½¿ç”¨å˜é‡</td><td align="left"><code>&lt;script type=&quot;text/javascript&quot; th:inline=&quot;javascript&quot;&gt;</code></td></tr><tr><td align="left">th:action</td><td align="left">è¡¨å•æäº¤çš„åœ°å€</td><td align="left"><code>&lt;form action=&quot;subscribe.html&quot; th:action=&quot;@&#123;/subscribe&#125;&quot;&gt;</code></td></tr><tr><td align="left">th:remove</td><td align="left">åˆ é™¤æŸä¸ªå±æ€§</td><td align="left"><code>&lt;tr th:remove=&quot;all&quot;&gt; 1.all:åˆ é™¤åŒ…å«æ ‡ç­¾å’Œæ‰€æœ‰çš„å­©å­ã€‚2.body:ä¸åŒ…å«æ ‡è®°åˆ é™¤,ä½†åˆ é™¤å…¶æ‰€æœ‰çš„å­©å­ã€‚3.tag:åŒ…å«æ ‡è®°çš„åˆ é™¤,ä½†ä¸åˆ é™¤å®ƒçš„å­©å­ã€‚4.all-but-first:åˆ é™¤æ‰€æœ‰åŒ…å«æ ‡ç­¾çš„å­©å­,é™¤äº†ç¬¬ä¸€ä¸ªã€‚5.none:ä»€ä¹ˆä¹Ÿä¸åšã€‚è¿™ä¸ªå€¼æ˜¯æœ‰ç”¨çš„åŠ¨æ€è¯„ä¼°ã€‚</code></td></tr><tr><td align="left">th:attr</td><td align="left">è®¾ç½®æ ‡ç­¾å±æ€§ï¼Œå¤šä¸ªå±æ€§å¯ä»¥ç”¨é€—å·åˆ†éš”</td><td align="left">æ¯”å¦‚<code>th:attr=&quot;src=@&#123;/image/aa.jpg&#125;,title=#&#123;logo&#125;&quot;</code>ï¼Œæ­¤æ ‡ç­¾ä¸å¤ªä¼˜é›…ï¼Œä¸€èˆ¬ç”¨çš„æ¯”è¾ƒå°‘ã€‚</td></tr></tbody></table><p>è¿˜æœ‰éå¸¸å¤šçš„æ ‡ç­¾ï¼Œè¿™é‡Œåªåˆ—å‡ºæœ€å¸¸ç”¨çš„å‡ ä¸ª,ç”±äºä¸€ä¸ªæ ‡ç­¾å†…å¯ä»¥åŒ…å«å¤šä¸ªth:xå±æ€§ï¼Œå…¶ç”Ÿæ•ˆçš„ä¼˜å…ˆçº§é¡ºåºä¸º:<code>include,each,if/unless/switch/case,with,attr/attrprepend/attrappend,value/href,src ,etc,text/utext,fragment,removeã€‚ </code></p><h2 id="ä¸‰ã€è¡¨è¾¾å¼"><a href="#ä¸‰ã€è¡¨è¾¾å¼" class="headerlink" title="ä¸‰ã€è¡¨è¾¾å¼"></a>ä¸‰ã€è¡¨è¾¾å¼</h2><p><strong>ç®€å•è¡¨è¾¾å¼</strong></p><ul><li>å˜é‡è¡¨è¾¾å¼ï¼š${â€¦}</li><li>é€‰æ‹©å˜é‡è¡¨è¾¾å¼ï¼š*{â€¦}</li><li>æ¶ˆæ¯è¡¨è¾¾å¼ï¼š#{â€¦}</li><li>é“¾æ¥è¡¨è¾¾å¼ï¼š@{â€¦}</li><li>ç‰‡æ®µè¡¨è¾¾ï¼š~{â€¦}</li></ul><p><strong>æ•°æ®çš„ç±»å‹</strong></p><ul><li>æ–‡å­—ï¼šâ€™one textâ€™, â€˜Another one!â€™,â€¦</li><li>æ•°å­—æ–‡å­—ï¼š0, 34, 3.0, 12.3,â€¦</li><li>å¸ƒå°”æ–‡å­—ï¼štrue, false</li><li>NULLæ–‡å­—ï¼šnull</li><li>æ–‡å­—æ ‡è®°ï¼šone, sometext, main,â€¦</li></ul><p><strong>æ–‡æœ¬æ“ä½œ</strong></p><ul><li>å­—ç¬¦ä¸²æ‹¼æ¥ï¼š+</li><li>å­—é¢æ›¿æ¢ï¼š|The name is ${name}|</li></ul><p><strong>ç®—æœ¯è¿ç®—</strong></p><ul><li>äºŒè¿›åˆ¶è¿ç®—ç¬¦ï¼š+, -, *, /, %</li><li>å‡å·(ä¸€å…ƒè¿ç®—ç¬¦)ï¼š-</li></ul><p><strong>å¸ƒå°”è¿ç®—</strong></p><ul><li>äºŒè¿›åˆ¶è¿ç®—ç¬¦ï¼šand, or</li><li>å¸ƒå°”å¦å®š(ä¸€å…ƒè¿ç®—ç¬¦)ï¼š!, false</li></ul><p><strong>æ¡ä»¶è¿ç®—ç¬¦</strong></p><ul><li>æ¯”è¾ƒå€¼ï¼š&gt;, &lt;, &gt;=, &lt;=</li><li>ç›¸ç­‰åˆ¤æ–­ï¼š ==, !=</li></ul><p><strong>æ¡ä»¶åˆ¤æ–­</strong></p><ul><li>(if) ? (then)</li><li>(if) ? (then) : (else)</li><li>ä¸‰å…ƒï¼š(value) ? value : defaultvalue</li></ul><h2 id="å››ã€è¡¨è¾¾å¼å¯¹è±¡"><a href="#å››ã€è¡¨è¾¾å¼å¯¹è±¡" class="headerlink" title="å››ã€è¡¨è¾¾å¼å¯¹è±¡"></a>å››ã€è¡¨è¾¾å¼å¯¹è±¡</h2><p>è¡¨è¾¾å¼é‡Œé¢çš„å¯¹è±¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¤„ç†è¦å±•ç¤ºçš„å†…å®¹ï¼Œæ¯”å¦‚è¡¨è¾¾å¼çš„å·¥å…·ç±»dateså¯ä»¥æ ¼å¼åŒ–æ—¶é—´ï¼Œè¿™äº›å†…ç½®ç±»çš„ç†Ÿç»ƒä½¿ç”¨ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨Thymeleafçš„æ•ˆç‡æé«˜å¾ˆå¤šã€‚</p><ul><li>#ctx: æ“ä½œå½“å‰ä¸Šä¸‹æ–‡.</li><li>#vars: æ“ä½œä¸Šä¸‹æ–‡å˜é‡.</li><li>#request: (ä»…é€‚ç”¨äºWebé¡¹ç›®) HttpServletRequestå¯¹è±¡.</li><li>#response: (ä»…é€‚ç”¨äºWebé¡¹ç›®) HttpServletResponse å¯¹è±¡.</li><li>#session: (ä»…é€‚ç”¨äºWebé¡¹ç›®) HttpSession å¯¹è±¡.</li><li>#servletContext: (ä»…é€‚ç”¨äºWebé¡¹ç›®) ServletContext å¯¹è±¡.</li></ul><p>è¡¨è¾¾å¼å®ç”¨å·¥å…·ç±»ï¼š</p><ul><li>#execInfo: æ“ä½œæ¨¡æ¿çš„å·¥å…·ç±»ï¼ŒåŒ…å«äº†ä¸€äº›æ¨¡æ¿ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š${ #execInfo.templateName }</li><li>#uris: urlå¤„ç†çš„å·¥å…·</li><li>#conversions: methods for executing the configured <em>conversion service</em> (if any).</li><li>#dates: æ–¹æ³•æ¥æºäº java.util.Date å¯¹è±¡ï¼Œç”¨äºå¤„ç†æ—¶é—´ï¼Œæ¯”å¦‚ï¼šæ ¼å¼åŒ–.</li><li>#calendars: ç±»ä¼¼äº #dates, ä½†æ˜¯æ¥è‡ªäº java.util.Calendar å¯¹è±¡.</li><li>#numbers: ç”¨äºæ ¼å¼åŒ–æ•°å­—.</li><li>#strings: methods for String objects: contains, startsWith, prepending/appending, etc.</li><li>#objects: æ™®é€šçš„objectå¯¹è±¡æ–¹æ³•.</li><li>#bools: åˆ¤æ–­boolç±»å‹çš„å·¥å…·.</li><li>#arrays: æ•°ç»„æ“ä½œå·¥å…·.</li><li>#lists: åˆ—è¡¨æ“ä½œæ•°æ®.</li><li>#sets: Setæ“ä½œå·¥å…·.</li><li>#maps: Mapæ“ä½œå·¥å…·.</li><li>#aggregates: æ“ä½œæ•°ç»„æˆ–é›†åˆçš„å·¥å…·.</li></ul><h2 id="äº”ã€å‡ ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•"><a href="#äº”ã€å‡ ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="äº”ã€å‡ ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•"></a>äº”ã€å‡ ç§å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•</h2><h3 id="1ã€èµ‹å€¼ã€å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#1ã€èµ‹å€¼ã€å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="1ã€èµ‹å€¼ã€å­—ç¬¦ä¸²æ‹¼æ¥"></a>1ã€èµ‹å€¼ã€å­—ç¬¦ä¸²æ‹¼æ¥</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;p  th:<span class="attribute">text</span>=<span class="string">&quot;<span class="variable">$&#123;collect.description&#125;</span>&quot;</span>&gt;description&lt;/p&gt;</span><br><span class="line">&lt;span th:<span class="attribute">text</span>=<span class="string">&quot;&#x27;Welcome to our application, &#x27; + <span class="variable">$&#123;user.name&#125;</span> + &#x27;!&#x27;&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²æ‹¼æ¥è¿˜æœ‰å¦å¤–ä¸€ç§ç®€æ´çš„å†™æ³•</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;span th:<span class="attribute">text</span>=<span class="string">&quot;|Welcome to our application, <span class="variable">$&#123;user.name&#125;</span>!|&quot;</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="2ã€æ¡ä»¶åˆ¤æ–­-If-Unless"><a href="#2ã€æ¡ä»¶åˆ¤æ–­-If-Unless" class="headerlink" title="2ã€æ¡ä»¶åˆ¤æ–­ If/Unless"></a>2ã€æ¡ä»¶åˆ¤æ–­ If/Unless</h3><p>Thymeleafä¸­ä½¿ç”¨th:ifå’Œth:unlesså±æ€§è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ<code>&lt;a&gt;</code>æ ‡ç­¾åªæœ‰åœ¨<code>th:if</code>ä¸­æ¡ä»¶æˆç«‹æ—¶æ‰æ˜¾ç¤ºï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:if</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;myself==&#x27;yes&#x27;&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span> &gt;</span> <span class="tag">&lt;/<span class="name">i</span>&gt;</span> <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:unless</span>=<span class="string">$</span></span></span><span class="template-variable">&#123;session.user != null&#125;</span><span class="xml"><span class="tag"> <span class="attr">th:href</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">login</span>&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span> &gt;</span>Login<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>th:unless</code> äº <code>th:if</code> æ°å¥½ç›¸åï¼Œåªæœ‰è¡¨è¾¾å¼ä¸­çš„æ¡ä»¶ä¸æˆç«‹ï¼Œæ‰ä¼šæ˜¾ç¤ºå…¶å†…å®¹ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>(if) ? (then) : (else)</code>è¿™ç§è¯­æ³•æ¥åˆ¤æ–­æ˜¾ç¤ºçš„å†…å®¹</p><h3 id="3ã€for-å¾ªç¯"><a href="#3ã€for-å¾ªç¯" class="headerlink" title="3ã€for å¾ªç¯"></a>3ã€for å¾ªç¯</h3><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">tr</span>  <span class="attr">th:each</span>=<span class="string">&quot;collect,iterStat : $</span></span></span><span class="template-variable">&#123;collects&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span> </span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;row&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;collect.id&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">td</span> &gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;collect.webLogo&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;collect.url&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Mark<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;collect.title&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>Otto<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;collect.description&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>@mdo<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$</span></span></span><span class="template-variable">&#123;terStat.index&#125;</span><span class="xml"><span class="tag"><span class="string">&quot;</span>&gt;</span>index<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>iterStatç§°ä½œçŠ¶æ€å˜é‡ï¼Œå±æ€§æœ‰ï¼š</p><ul><li>index:å½“å‰è¿­ä»£å¯¹è±¡çš„ indexï¼ˆä»0å¼€å§‹è®¡ç®—ï¼‰</li><li>count: å½“å‰è¿­ä»£å¯¹è±¡çš„ index(ä»1å¼€å§‹è®¡ç®—)</li><li>size:è¢«è¿­ä»£å¯¹è±¡çš„å¤§å°</li><li>current:å½“å‰è¿­ä»£å˜é‡</li><li>even/odd:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯å¶æ•°/å¥‡æ•°ï¼ˆä»0å¼€å§‹è®¡ç®—ï¼‰</li><li>first:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ª</li><li>last:å¸ƒå°”å€¼ï¼Œå½“å‰å¾ªç¯æ˜¯å¦æ˜¯æœ€åä¸€ä¸ª</li></ul><h3 id="4ã€URL"><a href="#4ã€URL" class="headerlink" title="4ã€URL"></a>4ã€URL</h3><p>URL åœ¨ Web åº”ç”¨æ¨¡æ¿ä¸­å æ®ç€ååˆ†é‡è¦çš„åœ°ä½ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ Thymeleaf å¯¹äº URL çš„å¤„ç†æ˜¯é€šè¿‡è¯­æ³• <code>@&#123;...&#125;</code>æ¥å¤„ç†çš„ã€‚ å¦‚æœéœ€è¦ Thymeleaf å¯¹ URL è¿›è¡Œæ¸²æŸ“ï¼Œé‚£ä¹ˆåŠ¡å¿…ä½¿ç”¨ <code>th:href</code>ï¼Œ<code>th:src</code> ç­‰å±æ€§ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Will produce &#x27;http://localhost:8080/standard/unread&#x27; (plus rewriting) --&gt;</span></span></span><br><span class="line"><span class="xml"> <span class="tag">&lt;<span class="name">a</span>  <span class="attr">th:href</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">standard</span>/&#123;type&#125;</span><span class="xml"><span class="tag"><span class="string">(type=$</span></span></span><span class="template-variable">&#123;type&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125;&quot;</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Will produce &#x27;/gtvg/order/3/details&#x27; (plus rewriting) --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;details.html&quot;</span> <span class="attr">th:href</span>=<span class="string">&quot;@</span></span></span><span class="template-tag">&#123;/<span class="name">order</span>/&#123;orderId&#125;</span><span class="xml"><span class="tag"><span class="string">/details(orderId=$</span></span></span><span class="template-variable">&#123;o.id&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125;&quot;</span>&gt;</span>view<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è®¾ç½®èƒŒæ™¯</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:style</span>=<span class="string">&quot;&#x27;background:url(&#x27; + @</span></span></span><span class="template-tag">&#123;/&lt;<span class="name">path-to-image</span>&gt;&#125;</span><span class="xml"><span class="tag"><span class="string"> + &#x27;);&#x27;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ ¹æ®å±æ€§å€¼æ”¹å˜èƒŒæ™¯</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;media-object resource-card-image&quot;</span>  <span class="attr">th:style</span>=<span class="string">&quot;&#x27;background:url(&#x27; + @</span></span></span><span class="template-variable">&#123;($&#123;collect.webLogo&#125;</span><span class="xml"><span class="tag"><span class="string">==&#x27;&#x27; ? &#x27;img/favicon.png&#x27; : $</span></span></span><span class="template-variable">&#123;collect.webLogo&#125;</span><span class="xml"><span class="tag"><span class="string">)&#125; + &#x27;)&#x27;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>å‡ ç‚¹è¯´æ˜ï¼š</p><ul><li>ä¸Šä¾‹ä¸­ URL æœ€åçš„<code>(orderId=$&#123;o.id&#125;) </code>è¡¨ç¤ºå°†æ‹¬å·å†…çš„å†…å®¹ä½œä¸º URL å‚æ•°å¤„ç†ï¼Œè¯¥è¯­æ³•é¿å…ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§</li><li><code>@&#123;...&#125;</code>è¡¨è¾¾å¼ä¸­å¯ä»¥é€šè¿‡<code>&#123;orderId&#125;</code>è®¿é—® Context ä¸­çš„ orderId å˜é‡</li><li><code>@&#123;/order&#125;</code>æ˜¯ Context ç›¸å…³çš„ç›¸å¯¹è·¯å¾„ï¼Œåœ¨æ¸²æŸ“æ—¶ä¼šè‡ªåŠ¨æ·»åŠ ä¸Šå½“å‰ Web åº”ç”¨çš„ Context åå­—ï¼Œå‡è®¾ context åå­—ä¸º appï¼Œé‚£ä¹ˆç»“æœåº”è¯¥æ˜¯ <code>/app/order</code></li></ul><h3 id="5ã€å†…è”-js"><a href="#5ã€å†…è”-js" class="headerlink" title="5ã€å†…è” js"></a>5ã€å†…è” js</h3><p>å†…è”æ–‡æœ¬ï¼š[[â€¦]] å†…è”æ–‡æœ¬çš„è¡¨ç¤ºæ–¹å¼ï¼Œä½¿ç”¨æ—¶ï¼Œå¿…é¡»å…ˆç”¨<code>th:inline=&quot;text/javascript/none&quot;</code>æ¿€æ´»ï¼Œ<code>th:inline</code>å¯ä»¥åœ¨çˆ¶çº§æ ‡ç­¾å†…ä½¿ç”¨ï¼Œç”šè‡³ä½œä¸º body çš„æ ‡ç­¾ã€‚å†…è”æ–‡æœ¬å°½ç®¡æ¯”<code>th:text</code>çš„ä»£ç å°‘ï¼Œä¸åˆ©äºåŸå‹æ˜¾ç¤ºã€‚</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">th:inline</span>=<span class="string">&quot;javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">/*&lt;![CDATA[*/</span></span></span><br><span class="line">...</span><br><span class="line"><span class="javascript"><span class="keyword">var</span> username = <span class="comment">/*[[$&#123;sesion.user.name&#125;]]*/</span> <span class="string">&#x27;Sebastian&#x27;</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> size = <span class="comment">/*[[$&#123;size&#125;]]*/</span> <span class="number">0</span>;</span></span><br><span class="line">...</span><br><span class="line"><span class="javascript"><span class="comment">/*]]&gt;*/</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js é™„åŠ ä»£ç ï¼š</p><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*[+</span></span><br><span class="line"><span class="comment">var msg = &#x27;This is a working application&#x27;;</span></span><br><span class="line"><span class="comment">+]*/</span></span><br></pre></td></tr></table></figure><p>js ç§»é™¤ä»£ç ï¼š</p><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*[- */</span></span><br><span class="line"><span class="keyword">var</span> msg = <span class="string">&#x27;This is a non-working template&#x27;</span>;</span><br><span class="line"><span class="comment">/* -]*/</span></span><br></pre></td></tr></table></figure><h3 id="6ã€å†…åµŒå˜é‡"><a href="#6ã€å†…åµŒå˜é‡" class="headerlink" title="6ã€å†…åµŒå˜é‡"></a>6ã€å†…åµŒå˜é‡</h3><p>ä¸ºäº†æ¨¡æ¿æ›´åŠ æ˜“ç”¨ï¼ŒThymeleaf è¿˜æä¾›äº†ä¸€ç³»åˆ— Utility å¯¹è±¡ï¼ˆå†…ç½®äº Context ä¸­ï¼‰ï¼Œå¯ä»¥é€šè¿‡ # ç›´æ¥è®¿é—®ï¼š</p><ul><li>dates ï¼š <em>java.util.Dateçš„åŠŸèƒ½æ–¹æ³•ç±»ã€‚</em></li><li>calendars : <em>ç±»ä¼¼#datesï¼Œé¢å‘java.util.Calendar</em></li><li>numbers : <em>æ ¼å¼åŒ–æ•°å­—çš„åŠŸèƒ½æ–¹æ³•ç±»</em></li><li>strings : <em>å­—ç¬¦ä¸²å¯¹è±¡çš„åŠŸèƒ½ç±»ï¼Œcontains,startWiths,prepending/appendingç­‰ç­‰ã€‚</em></li><li>objects: <em>å¯¹objectsçš„åŠŸèƒ½ç±»æ“ä½œã€‚</em></li><li>bools: <em>å¯¹å¸ƒå°”å€¼æ±‚å€¼çš„åŠŸèƒ½æ–¹æ³•ã€‚</em></li><li>arraysï¼š<em>å¯¹æ•°ç»„çš„åŠŸèƒ½ç±»æ–¹æ³•ã€‚</em></li><li>lists: <em>å¯¹listsåŠŸèƒ½ç±»æ–¹æ³•</em></li><li>sets</li><li>maps<br>â€¦</li></ul><p>ä¸‹é¢ç”¨ä¸€æ®µä»£ç æ¥ä¸¾ä¾‹ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><h4 id="dates"><a href="#dates" class="headerlink" title="dates"></a>dates</h4><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Format date with the specified pattern</span></span><br><span class="line"><span class="comment"> * Also works with arrays, lists or sets</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.format</span>(date, <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;</span>)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.arrayFormat</span>(datesArray, <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;</span>)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.listFormat</span>(datesList, <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;</span>)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.setFormat</span>(datesSet, <span class="string">&#x27;dd/MMM/yyyy HH:mm&#x27;</span>)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Create a date (java.util.Date) object for the current date and time</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.createNow</span>()&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Create a date (java.util.Date) object for the current date (time set to 00:00)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#dates</span><span class="selector-class">.createToday</span>()&#125;</span><br></pre></td></tr></table></figure><h4 id="strings"><a href="#strings" class="headerlink" title="strings"></a>strings</h4><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Check whether a String is empty (or null). Performs a trim() operation before check</span></span><br><span class="line"><span class="comment"> * Also works with arrays, lists or sets</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.isEmpty</span>(name)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.arrayIsEmpty</span>(nameArr)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.listIsEmpty</span>(nameList)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.setIsEmpty</span>(nameSet)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Check whether a String starts or ends with a fragment</span></span><br><span class="line"><span class="comment"> * Also works with arrays, lists or sets</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.startsWith</span>(name,<span class="string">&#x27;Don&#x27;</span>)&#125;                  <span class="comment">// also array*, list* and set*</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.endsWith</span>(name,endingFragment)&#125;           <span class="comment">// also array*, list* and set*</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Compute length</span></span><br><span class="line"><span class="comment"> * Also works with arrays, lists or sets</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.length</span>(str)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Null-safe comparison and concatenation</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.equals</span>(str)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.equalsIgnoreCase</span>(str)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.concat</span>(str)&#125;</span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.concatReplaceNulls</span>(str)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Random</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">$&#123;<span class="selector-id">#strings</span><span class="selector-class">.randomAlphanumeric</span>(count)&#125;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€ä½¿ç”¨åŸºæœ¬æ­¥éª¤"><a href="#å…­ã€ä½¿ç”¨åŸºæœ¬æ­¥éª¤" class="headerlink" title="å…­ã€ä½¿ç”¨åŸºæœ¬æ­¥éª¤"></a>å…­ã€ä½¿ç”¨åŸºæœ¬æ­¥éª¤</h2><p>æˆ‘è®¤ä¸ºå¯ä»¥å¤§è‡´åˆ†ä¸ºå››æ­¥ï¼š</p><ol><li>pom.xml æ·»åŠ  Thymeleaf æ¨¡æ¿å¼•æ“ã€‚</li><li>application.yml é…ç½® Thymeleaf ä¿¡æ¯ã€‚</li><li>åˆ›å»ºcontrollerç±»ï¼Œç¼–å†™ä»£ç ã€‚</li><li>åˆ›å»ºæ¨¡æ¿ï¼Œç¼–å†™htmlä»£ç ã€‚</li></ol><h4 id="1-pom-xml-æ·»åŠ ä¾èµ–"><a href="#1-pom-xml-æ·»åŠ ä¾èµ–" class="headerlink" title="1. pom.xml æ·»åŠ ä¾èµ–"></a>1. pom.xml æ·»åŠ ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-properties-é…ç½®-Thymeleaf-ä¿¡æ¯"><a href="#2-properties-é…ç½®-Thymeleaf-ä¿¡æ¯" class="headerlink" title="2. .properties é…ç½® Thymeleaf ä¿¡æ¯"></a>2. .properties é…ç½® Thymeleaf ä¿¡æ¯</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="comment"># æ˜¯å¦å¯ç”¨</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿ç¼–ç </span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿æ¨¡å¼</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿å­˜æ”¾è·¯å¾„</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates/</span></span><br><span class="line">    <span class="comment"># æ¨¡æ¿åç¼€</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="comment"># å¯ç”¨ç¼“å­˜ï¼Œå»ºè®®ç”Ÿäº§å¼€å¯</span></span><br><span class="line">    <span class="attr">cache:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># æ ¡éªŒæ¨¡æ¿æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="attr">check-template-location:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Content-typeå€¼</span></span><br><span class="line">    <span class="attr">servlet:</span></span><br><span class="line">      <span class="attr">content-type:</span> <span class="string">text/html</span></span><br><span class="line">  <span class="comment"># åŠ é…ç½®é™æ€èµ„æº</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">static-locations:</span> <span class="string">classpath:/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-åˆ›å»ºcontrollerç±»ï¼Œç¼–å†™ä»£ç "><a href="#3-åˆ›å»ºcontrollerç±»ï¼Œç¼–å†™ä»£ç " class="headerlink" title="3. åˆ›å»ºcontrollerç±»ï¼Œç¼–å†™ä»£ç "></a>3. åˆ›å»ºcontrollerç±»ï¼Œç¼–å†™ä»£ç </h4><figure class="highlight processing"><table><tr><td class="code"><pre><span class="line">@RequestMapping(<span class="string">&quot;/me&quot;</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">String</span> kownMe(Map&lt;<span class="keyword">String</span>,<span class="keyword">Object</span>&gt; <span class="built_in">map</span>) &#123;</span><br><span class="line">    List&lt;<span class="keyword">String</span>&gt; list = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">    list.<span class="built_in">add</span>(<span class="string">&quot;é¸Ÿä¸æ‹‰è¯—ï¼šä¸€ä¸ªæ­£åœ¨åŠªåŠ›Codingçš„æœªæ¥æ¶æ„å¸ˆ&quot;</span>);</span><br><span class="line">    list.<span class="built_in">add</span>(<span class="string">&quot;è®°å½•èœé¸Ÿçš„æˆé•¿&quot;</span>);</span><br><span class="line">    list.<span class="built_in">add</span>(<span class="string">&quot;ä¸ªäººåšå®¢ï¼šhttps://niaobulashi.com&quot;</span>);</span><br><span class="line">    list.<span class="built_in">add</span>(<span class="string">&quot;githubåšå®¢ï¼šhttps://niaobulashi.github.io&quot;</span>);</span><br><span class="line">    <span class="built_in">map</span>.put(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;Yoyoyoyoyo&quot;</span>);</span><br><span class="line">    <span class="built_in">map</span>.put(<span class="string">&quot;images&quot;</span>, <span class="string">&quot;Yoyoyoyoyo&quot;</span>);</span><br><span class="line">    <span class="built_in">map</span>.put(<span class="string">&quot;lists&quot;</span>, list);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;me&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿”å›çš„â€meâ€³æ˜¯æˆ‘HTMLæ–‡ä»¶ me.htmlçš„åç§°å“¦</p><h4 id="4-åˆ›å»º-page1-html-ã€‚ç¼–å†™htmlä»£ç "><a href="#4-åˆ›å»º-page1-html-ã€‚ç¼–å†™htmlä»£ç " class="headerlink" title="4. åˆ›å»º page1.html ã€‚ç¼–å†™htmlä»£ç "></a>4. åˆ›å»º page1.html ã€‚ç¼–å†™htmlä»£ç </h4><p>åªè¦æŠŠå†™å¥½çš„HTMLé¡µé¢æ”¾åœ¨ classpath:/templates/ ä¸‹ï¼Œthymeleafå°±èƒ½è‡ªåŠ¨æ¸²æŸ“ã€‚</p><p>æ³¨æ„å¯¼å…¥ï¼š</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;html <span class="attribute">lang</span>=<span class="string">&quot;en&quot;</span> xmlns:<span class="attribute">th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>å¦åˆ™æ²¡æç¤ºå“¦~</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=UTF-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¸Ÿä¸æ‹‰è¯—<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;static/layui/css/layui.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;layui-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>templatesç¤ºä¾‹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- th:text=&quot;&quot; å°†h2çš„æ–‡æœ¬å€¼è§†ä¸ºæŒ‡å®šå‚æ•° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;msg&#125;&quot;</span>&gt;</span>è¿™æ˜¯h2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldset</span> <span class="attr">class</span>=<span class="string">&quot;layui-elem-field layui-field-title&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 20px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">legend</span>&gt;</span>å¾ªç¯<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span> <span class="attr">class</span>=<span class="string">&quot;layui-table&quot;</span> <span class="attr">lay-skin</span>=<span class="string">&quot;line&quot;</span>  &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">col</span> <span class="attr">width</span>=<span class="string">&quot;350&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>NAME<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- thå¾ªç¯éå†ä¼ æ¥çš„å‚æ•° --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;str : $&#123;lists&#125;&quot;</span> &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;str&#125;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">th:src</span>=<span class="string">&quot;$&#123;images&#125;&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€å‚è€ƒ"><a href="#ä¸ƒã€å‚è€ƒ" class="headerlink" title="ä¸ƒã€å‚è€ƒ"></a>ä¸ƒã€å‚è€ƒ</h2><p><a href="http://www.ityouknow.com/springboot/2016/05/01/spring-boot-thymeleaf.html">Thymeleaf ä½¿ç”¨è¯¦è§£</a></p><p><a href="https://lzyz.fun/thymeleaf/">SpringBootä¸­çš„Thymeleaf æ¨¡æ¿å¼•æ“</a></p><p><a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html">Thymeleafå®˜æ–¹æ–‡æ¡£</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(å››)ï¼šä½¿ç”¨Spring Bootå¤šæ•°æ®æºå®ç°è¿‡ç¨‹</title>
      <link href="2019/07/01/2019-07-01-mybatis-mutls/"/>
      <url>2019/07/01/2019-07-01-mybatis-mutls/</url>
      
        <content type="html"><![CDATA[<p>å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸å¯èƒ½åªæœ‰ä¸€ä¸ªåº“ï¼Œæ‰€ä»¥å°±æœ‰äº†åˆ†åº“åˆ†è¡¨ï¼Œå¤šæ•°æ®æºçš„å‡ºç°ã€‚å®ç°äº†è¯»å†™åˆ†ç¦»ï¼Œä¸»åº“è´Ÿè´£å¢æ”¹åˆ ï¼Œä»åº“è´Ÿè´£æŸ¥è¯¢ã€‚è¿™ç¯‡æ–‡ç« å°†å®ç°Spring Bootå¦‚ä½•å®ç°å¤šæ•°æ®æºï¼ŒåŠ¨æ€æ•°æ®æºåˆ‡æ¢ï¼Œè¯»å†™åˆ†ç¦»ç­‰æ“ä½œã€‚</p><h2 id="ä¸€ã€ä»£ç éƒ¨ç½²"><a href="#ä¸€ã€ä»£ç éƒ¨ç½²" class="headerlink" title="ä¸€ã€ä»£ç éƒ¨ç½²"></a>ä¸€ã€ä»£ç éƒ¨ç½²</h2><p>å¿«é€Ÿæ–°å»ºé¡¹ç›®spring-booté¡¹ç›®</p><h3 id="1ã€æ·»åŠ mavenä¾èµ–"><a href="#1ã€æ·»åŠ mavenä¾èµ–" class="headerlink" title="1ã€æ·»åŠ mavenä¾èµ–"></a>1ã€æ·»åŠ mavenä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2ã€applicationé…ç½®å¤šæ•°æ®æºè¯»å–é…ç½®"><a href="#2ã€applicationé…ç½®å¤šæ•°æ®æºè¯»å–é…ç½®" class="headerlink" title="2ã€applicationé…ç½®å¤šæ•°æ®æºè¯»å–é…ç½®"></a>2ã€applicationé…ç½®å¤šæ•°æ®æºè¯»å–é…ç½®</h3><p>å’Œä¹‹å‰æ•™ç¨‹ä¸€æ ·ï¼Œé¦–å…ˆé…ç½®application.yml</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŒ‡å®šé…ç½®æ–‡ä»¶ä¸ºtest</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®Mybatis</span></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># å¼€å¯é©¼å³°å‘½åè½¬æ¢ï¼Œå¦‚ï¼šTable(create_time) -&gt; Entity(createTime)ã€‚ä¸éœ€è¦æˆ‘ä»¬å…³å¿ƒæ€ä¹ˆè¿›è¡Œå­—æ®µåŒ¹é…ï¼Œmybatisä¼šè‡ªåŠ¨è¯†åˆ«`å¤§å†™å­—æ¯ä¸ä¸‹åˆ’çº¿`</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°SQLæ—¥å¿—</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="string">com.niaobulashi.mapper.*:</span> <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ‰“å°SQLæ—¥å¿—è¿™å—ï¼Œå› ä¸ºæ˜¯å¤šæ•°æ®æºï¼Œåœ¨mapperåŒ…ä¸‹é¢åŒºåˆ†ä¸åŒçš„æ•°æ®åº“æ¥æºxmlæ–‡ä»¶ï¼Œæ‰€ä»¥ç”¨*è¡¨ç¤ºã€‚</p><p>é…ç½®application-test.ymlå¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="comment">#ä¸»åº“</span></span><br><span class="line">    <span class="attr">master:</span></span><br><span class="line">      <span class="attr">jdbc-url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="comment">#ä»åº“</span></span><br><span class="line">    <span class="attr">slave:</span></span><br><span class="line">      <span class="attr">jdbc-url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/test2?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br></pre></td></tr></table></figure><p>ä»spring.datasourceèŠ‚ç‚¹å¼€å§‹ï¼ŒåŒºåˆ†ä¸»åº“masterï¼Œä»åº“slaveã€‚ä¸»åº“è¿æ¥çš„æ•°æ®åº“ä¸ºtestï¼Œä»åº“è¿æ¥çš„æ•°æ®åº“ä¸ºtest2ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»Spring Boot2å¼€å§‹ï¼Œåœ¨é…ç½®å¤šæ•°æ®æºæ—¶æœ‰äº›é…ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œç½‘ä¸Šè®¸å¤šæ•™ç¨‹ä½¿ç”¨çš„æ˜¯<code>spring.datasource.url</code>ã€‚ä¼šå‡ºç°<code>jdbcUrl is required with driverClassName.</code>çš„é—®é¢˜ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šé…ç½®å¤šæ•°æ®æºæ—¶ï¼Œå°†<code>spring.datasource.url</code>é…ç½®æ”¹ä¸º<code>spring.datasource.jdbc-url</code></p><h3 id="3ã€æ·»åŠ ä¸»åº“é…ç½®ä¿¡æ¯"><a href="#3ã€æ·»åŠ ä¸»åº“é…ç½®ä¿¡æ¯" class="headerlink" title="3ã€æ·»åŠ ä¸»åº“é…ç½®ä¿¡æ¯"></a>3ã€æ·»åŠ ä¸»åº“é…ç½®ä¿¡æ¯</h3><p>ä¾æ®çŸ¥ååšä¸»ï¼šçº¯æ´çš„å¾®ç¬‘ï¼Œå†™çš„åšæ–‡æˆ‘ä»¬æ¥åˆ†æä¸€æ³¢</p><p>é¦–å…ˆçœ‹ä¸»åº“é…ç½®çš„ä»£ç ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(basePackages = <span class="meta-string">&quot;com.niaobulashi.mapper.master&quot;</span>, sqlSessionTemplateRef = <span class="meta-string">&quot;masterSqlSessionTemplate&quot;</span>)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceMasterConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜¯application-test.ymlä¸­çš„spring.datasource.masteré…ç½®ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = <span class="meta-string">&quot;masterDataSource&quot;</span>)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = <span class="meta-string">&quot;spring.datasource.master&quot;</span>)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="keyword">public</span> DataSource masterDataSource() &#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°SqlSessionFactoryBeanä¸­</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dataSource    æ•°æ®åº“è¿æ¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = <span class="meta-string">&quot;masterSqlSessionFactory&quot;</span>)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactory masterSqlSessionFactory(<span class="meta">@Qualifier(<span class="meta-string">&quot;masterDataSource&quot;</span>)</span> DataSource dataSource) throws Exception &#123;</span><br><span class="line">        SqlSessionFactoryBean bean = new SqlSessionFactoryBean();</span><br><span class="line">        bean.setDataSource(dataSource);</span><br><span class="line">        bean.setMapperLocations(new PathMatchingResourcePatternResolver().getResources(<span class="string">&quot;classpath:mapper/master/*.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> bean.getObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äº‹åŠ¡ç®¡ç†å™¨ï¼Œåœ¨å®ä¾‹åŒ–æ—¶æ³¨å…¥ä¸»åº“master</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dataSource</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = <span class="meta-string">&quot;masterTransactionManager&quot;</span>)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="keyword">public</span> DataSourceTransactionManager masterTransactionManager(<span class="meta">@Qualifier(<span class="meta-string">&quot;masterDataSource&quot;</span>)</span> DataSource dataSource) &#123;</span><br><span class="line">        <span class="keyword">return</span> new DataSourceTransactionManager(dataSource);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * SqlSessionTemplateå…·æœ‰çº¿ç¨‹å®‰å…¨æ€§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sqlSessionFactory</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = <span class="meta-string">&quot;masterSqlSessionTemplate&quot;</span>)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionTemplate masterSqlSessionTemplate(<span class="meta">@Qualifier(<span class="meta-string">&quot;masterSqlSessionFactory&quot;</span>)</span> SqlSessionFactory sqlSessionFactory) throws Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> new SqlSessionTemplate(sqlSessionFactory);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é—®é¢˜</strong>ï¼šçœ‹è¿™å—<code>masterSqlSessionFactory</code>ï¼Œ<code>SqlSessionFactoryBean</code>åªè·å–äº†<code>spring.datasource.master</code>æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰è·å–å¤šæ•°æ®åº“çš„é…ç½®ä¿¡æ¯<code>mybatis.configuration</code>å¯¼è‡´æˆ‘ä»¬éœ€è¦é…ç½®é©¼å³°å‘½åè§„åˆ™ï¼Œé…ç½®ä¿¡æ¯å¹¶æ²¡æœ‰æ³¨å…¥åˆ°<code>SqlSessionFactoryBean</code>ã€‚è¿™æ ·å°±å¯¼è‡´åœ¨æŸ¥è¯¢æ˜¯ï¼Œé‡åˆ°ä¸‹åˆ’çº¿æ— æ³•è§£æç›¸åº”å­—æ®µuser_idï¼Œdept_idï¼Œcreate_time</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis-mutli-04-01.png"></p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis-mutli-04-02.png"></p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šåœ¨é…ç½®ä¸­æ·»åŠ Configuration</p><p>åŒæ—¶ï¼Œå°†é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°SqlSessionFactoryBean</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°SqlSessionFactoryBeanä¸­</span></span><br><span class="line"><span class="comment"> * @param dataSource    æ•°æ®åº“è¿æ¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> * @throws Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">@<span class="constructor">Bean(<span class="params">name</span> = <span class="string">&quot;slaveSqlSessionFactory&quot;</span>)</span></span><br><span class="line">public SqlSessionFactory slave<span class="constructor">SqlSessionFactory(@Qualifier(<span class="string">&quot;slaveDataSource&quot;</span>)</span> DataSource dataSource) throws Exception &#123;</span><br><span class="line">    SqlSessionFactoryBean bean = <span class="keyword">new</span> <span class="constructor">SqlSessionFactoryBean()</span>;</span><br><span class="line">    <span class="comment">// ä½¿é…ç½®ä¿¡æ¯åŠ è½½åˆ°ç±»ä¸­ï¼Œå†æ³¨å…¥åˆ°SqlSessionFactoryBean</span></span><br><span class="line">    org.apache.ibatis.session.Configuration configuration = <span class="keyword">new</span> org.apache.ibatis.session.<span class="constructor">Configuration()</span>;</span><br><span class="line">    configuration.set<span class="constructor">MapUnderscoreToCamelCase(<span class="params">true</span>)</span>;</span><br><span class="line">    bean.set<span class="constructor">Configuration(<span class="params">configuration</span>)</span>;</span><br><span class="line">    bean.set<span class="constructor">DataSource(<span class="params">dataSource</span>)</span>;</span><br><span class="line">    bean.set<span class="constructor">MapperLocations(<span class="params">new</span> PathMatchingResourcePatternResolver()</span>.get<span class="constructor">Resources(<span class="string">&quot;classpath:mapper/slave/*.xml&quot;</span>)</span>);</span><br><span class="line">    return bean.get<span class="constructor">Object()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4ã€æ·»åŠ ä»åº“é…ç½®ä¿¡æ¯"><a href="#4ã€æ·»åŠ ä»åº“é…ç½®ä¿¡æ¯" class="headerlink" title="4ã€æ·»åŠ ä»åº“é…ç½®ä¿¡æ¯"></a>4ã€æ·»åŠ ä»åº“é…ç½®ä¿¡æ¯</h3><p>å’Œæ·»åŠ ä¸»åº“é…ç½®ä¿¡æ¯ä¸€æ ·ï¼Œåªä¸è¿‡ä¸åŒçš„æ˜¯ï¼Œä¸éœ€è¦æ·»åŠ <code>@Primary</code>é¦–é€‰æ³¨è§£</p><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(basePackages = &quot;com.niaobulashi.mapper.slave&quot;, sqlSessionTemplateRef = &quot;slaveSqlSessionTemplate&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceSlaveConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ˜¯application-test.ymlä¸­çš„spring.datasource.masteré…ç½®ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = &quot;slaveDataSource&quot;)</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;spring.datasource.slave&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">slaveDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceBuilder.create().build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†é…ç½®ä¿¡æ¯æ³¨å…¥åˆ°SqlSessionFactoryBeanä¸­</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dataSource    æ•°æ®åº“è¿æ¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = &quot;slaveSqlSessionFactory&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SqlSessionFactory <span class="title">slaveSqlSessionFactory</span><span class="params">(<span class="meta">@Qualifier(&quot;slaveDataSource&quot;)</span> DataSource dataSource)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SqlSessionFactoryBean bean = <span class="keyword">new</span> SqlSessionFactoryBean();</span><br><span class="line">        <span class="comment">// ä½¿é…ç½®ä¿¡æ¯åŠ è½½åˆ°ç±»ä¸­ï¼Œå†æ³¨å…¥åˆ°SqlSessionFactoryBean</span></span><br><span class="line">        org.apache.ibatis.session.Configuration configuration = <span class="keyword">new</span> org.apache.ibatis.session.Configuration();</span><br><span class="line">        configuration.setMapUnderscoreToCamelCase(<span class="keyword">true</span>);</span><br><span class="line">        bean.setConfiguration(configuration);</span><br><span class="line">        bean.setDataSource(dataSource);</span><br><span class="line">        bean.setMapperLocations(<span class="keyword">new</span> PathMatchingResourcePatternResolver().getResources(<span class="string">&quot;classpath:mapper/slave/*.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> bean.getObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äº‹åŠ¡ç®¡ç†å™¨ï¼Œåœ¨å®ä¾‹åŒ–æ—¶æ³¨å…¥ä¸»åº“master</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dataSource</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = &quot;slaveTransactionManager&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">slaveTransactionManager</span><span class="params">(<span class="meta">@Qualifier(&quot;slaveDataSource&quot;)</span> DataSource dataSource)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DataSourceTransactionManager(dataSource);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * SqlSessionTemplateå…·æœ‰çº¿ç¨‹å®‰å…¨æ€§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sqlSessionFactory</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean(name = &quot;slaveSqlSessionTemplate&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SqlSessionTemplate <span class="title">slaveSqlSessionTemplate</span><span class="params">(<span class="meta">@Qualifier(&quot;slaveSqlSessionFactory&quot;)</span> SqlSessionFactory sqlSessionFactory)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SqlSessionTemplate(sqlSessionFactory);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5ã€æ‰©å±•é…ç½®æ–¹æ³•ä¼šæŠ¥é”™"><a href="#5ã€æ‰©å±•é…ç½®æ–¹æ³•ä¼šæŠ¥é”™" class="headerlink" title="5ã€æ‰©å±•é…ç½®æ–¹æ³•ä¼šæŠ¥é”™"></a>5ã€æ‰©å±•é…ç½®æ–¹æ³•ä¼šæŠ¥é”™</h3><p>åœ¨ç½‘ä¸Šè¿˜çœ‹åˆ°è¿™æ ·ä¸€ç§é…ç½®ï¼Œå•ç‹¬é€šè¿‡@ConfigurationPropertiesæ³¨è§£é…ç½®Mybatisçš„é…ç½®ä¿¡æ¯å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯•application.ymlä¸­çš„mybatis.configurationé…ç½®ç”Ÿæ•ˆï¼Œå¦‚æœä¸ä¸»åŠ¨é…ç½®ï¼Œç”±äº<span class="doctag">@Order</span>é…ç½®é¡ºåºä¸åŒï¼Œè®²å¯¼è‡´é…ç½®ä¸èƒ½åŠæ—¶ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment"> * ä½¿é…ç½®ä¿¡æ¯åŠ è½½åˆ°ç±»ä¸­ï¼Œå†æ³¨å…¥åˆ°SqlSessionFactoryBean</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mybatis.configuration&quot;)</span></span><br><span class="line"><span class="keyword">public</span> org.apache.ibatis.session.<span class="function">Configuration <span class="title">configuration</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> org.apache.ibatis.session.Configuration();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>prefix</code>ï¼Œåœ¨ä¸»åº“å’Œä»åº“ä¸­çš„idæ˜¯ä¸€æ ·çš„ï¼Œå¿…é¡»ä¿æŒä¸åŒï¼Œå¦åˆ™ideaå°±ä¼šæç¤ºæŠ¥é”™<code>Duplicate prefix</code></p><p>å¯¼è‡´åªæœ‰ä¸»åº“å¯ä»¥æ‰§è¡ŒMybatisçš„é…ç½®ï¼Œä»åº“æ— æ•ˆã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Bean(name = &quot;masterSqlSessionFactory&quot;)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SqlSessionFactory <span class="title">masterSqlSessionFactory</span><span class="params">(<span class="meta">@Qualifier(&quot;masterDataSource&quot;)</span> DataSource dataSource, org.apache.ibatis.session.Configuration configuration)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SqlSessionFactoryBean bean = <span class="keyword">new</span> SqlSessionFactoryBean();</span><br><span class="line">        <span class="comment">// ä½¿é…ç½®ä¿¡æ¯åŠ è½½åˆ°ç±»ä¸­ï¼Œå†æ³¨å…¥åˆ°SqlSessionFactoryBean</span></span><br><span class="line">        bean.setConfiguration(configuration);</span><br><span class="line">        bean.setDataSource(dataSource);</span><br><span class="line">        bean.setMapperLocations(<span class="keyword">new</span> PathMatchingResourcePatternResolver().getResources(<span class="string">&quot;classpath:mapper/master/*.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> bean.getObject();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™å—éªŒè¯åªæœ‰ä¸»åº“æœ‰æ•ˆï¼Œä»åº“çš„é©¼å³°æ–¹æ³•è§£ææ— æ•ˆã€‚åç»­å†æ¥ç ”ç©¶ä¸‹ã€‚ã€‚ã€‚</p><h3 id="6ã€æ•°æ®å±‚ä»£ç "><a href="#6ã€æ•°æ®å±‚ä»£ç " class="headerlink" title="6ã€æ•°æ®å±‚ä»£ç "></a>6ã€æ•°æ®å±‚ä»£ç </h3><p>ä»£ç ç»“æ„å¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis-mutli-04-03.png"></p><p>å…¶ä¸­SysUserMasterDaoä»£ç </p><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">SysUserMasterDao</span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * @param userId  ç”¨æˆ·ID</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="function">List&lt;SysUserEntity&gt; <span class="title">queryUserInfo</span>(<span class="params">Long userId</span>)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="function">List&lt;SysUserEntity&gt; <span class="title">queryUserAll</span>(<span class="params"></span>)</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®userIdæ›´æ–°ç”¨æˆ·çš„é‚®ç®±å’Œæ‰‹æœºå·</span></span><br><span class="line"><span class="comment"> * @return</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="function"><span class="built_in">int</span> <span class="title">updateUserInfo</span>(<span class="params">SysUserEntity user</span>)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€resourceä¸‹æ•°æ®æ‰§è¡Œè¯­å¥"><a href="#7ã€resourceä¸‹æ•°æ®æ‰§è¡Œè¯­å¥" class="headerlink" title="7ã€resourceä¸‹æ•°æ®æ‰§è¡Œè¯­å¥"></a>7ã€resourceä¸‹æ•°æ®æ‰§è¡Œè¯­å¥</h3><p>SysCodeMasterDao.xml</p><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;mapper namespace=<span class="string">&quot;com.niaobulashi.mapper.master.SysUserMasterDao&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;queryUserAll&quot;</span> resultType=<span class="string">&quot;com.niaobulashi.entity.SysUserEntity&quot;</span>&gt;</span><br><span class="line">        SELECT</span><br><span class="line">            ur.*</span><br><span class="line">        FROM</span><br><span class="line">            sys_user ur</span><br><span class="line">        WHERE</span><br><span class="line">            <span class="number">1</span> = <span class="number">1</span></span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æ ¹æ®ç”¨æˆ·userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;queryUserInfo&quot;</span> resultType=<span class="string">&quot;com.niaobulashi.entity.SysUserEntity&quot;</span>&gt;</span><br><span class="line">        SELECT</span><br><span class="line">            ur.*</span><br><span class="line">        FROM</span><br><span class="line">            sys_user ur</span><br><span class="line">        WHERE</span><br><span class="line">            <span class="number">1</span> = <span class="number">1</span></span><br><span class="line">          AND ur.user_id = #&#123;userId&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- æ ¹æ®UserIdï¼Œæ›´æ–°é‚®ç®±å’Œæ‰‹æœºå· --&gt;</span><br><span class="line">    &lt;update id=<span class="string">&quot;updateUserInfo&quot;</span> parameterType=<span class="string">&quot;com.niaobulashi.entity.SysUserEntity&quot;</span>&gt;</span><br><span class="line">        UPDATE sys_user u</span><br><span class="line">        &lt;set&gt;</span><br><span class="line">            &lt;<span class="keyword">if</span> test=<span class="string">&quot;email != null&quot;</span>&gt;</span><br><span class="line">                u.email = #&#123;email&#125;,</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">            &lt;<span class="keyword">if</span> test=<span class="string">&quot;mobile != null&quot;</span>&gt;</span><br><span class="line">                u.mobile = #&#123;mobile&#125;,</span><br><span class="line">            &lt;/if&gt;</span><br><span class="line">        &lt;/set&gt;</span><br><span class="line">        WHERE</span><br><span class="line">        u.user_id = #&#123;userId&#125;</span><br><span class="line">    &lt;/update&gt;</span><br><span class="line"></span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure><p>8ã€Controllerå±‚æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysUserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysUserMasterDao sysUserMasterDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysUserSlaveDao sysUserSlaveDao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯Master</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getUserMasterAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUserMaster</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢ä¸»åº“&quot;</span>);</span><br><span class="line">        List&lt;SysUserEntity&gt; userList = sysUserMasterDao.queryUserAll();</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯Slave</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getUserSlaveAll&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUserSlave</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢ä»åº“&quot;</span>);</span><br><span class="line">        List&lt;SysUserEntity&gt; userList = sysUserSlaveDao.queryUserAll();</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯Master</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getUserMasterById&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUserMasterById</span><span class="params">(<span class="meta">@RequestParam(value = &quot;userId&quot;, required = false)</span> Long userId)</span> </span>&#123;</span><br><span class="line">        List&lt;SysUserEntity&gt; userList = sysUserMasterDao.queryUserInfo(userId);</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯Slave</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/getUserSlaveById&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUserSlaveById</span><span class="params">(<span class="meta">@RequestParam(value = &quot;userId&quot;, required = false)</span> Long userId)</span> </span>&#123;</span><br><span class="line">        List&lt;SysUserEntity&gt; userList = sysUserSlaveDao.queryUserInfo(userId);</span><br><span class="line">        <span class="keyword">return</span> userList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒã€å‘é€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ¥å£"><a href="#äºŒã€å‘é€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ¥å£" class="headerlink" title="äºŒã€å‘é€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ¥å£"></a>äºŒã€å‘é€æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·æ¥å£</h3><p>ä¸»åº“ï¼š<a href="http://localhost:8080/getUserMasterAll">http://localhost:8080/getUserMasterAll</a></p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis-mutli-04-04.png"></p><p>ä»åº“ï¼š<a href="http://localhost:8080/getUserSlaveAll">http://localhost:8080/getUserSlaveAll</a></p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis-mutli-04-05.png"></p><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>1ã€é€šè¿‡å¤šæ•°æ®æºæ–¹å¼å®ç°æ•°æ®åº“å±‚é¢çš„è¯»å†™åˆ†ç¦»</p><p>2ã€å¤šæ•°æ®æºé“¾æ¥æ•°æ®åº“æ˜¯ï¼Œä½¿ç”¨spring.datasource.jdbc-url</p><p>3ã€å¤šæ•°æ®æºçš„mybatis.configurationé…ç½®æ³¨æ„éœ€è¦æ‰‹åŠ¨æ³¨å…¥SqlSessionFactory</p><h2 id="ç¤ºä¾‹ä»£ç -github"><a href="#ç¤ºä¾‹ä»£ç -github" class="headerlink" title="ç¤ºä¾‹ä»£ç -github"></a><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-13-multi-mybatis"><strong>ç¤ºä¾‹ä»£ç -github</strong></a></h2>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBootï¼Œ Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(ä¸‰)ï¼šä½¿ç”¨Spring Boot2é›†æˆRedisç¼“å­˜</title>
      <link href="2019/06/30/2019-06-30-spring-boot-redis/"/>
      <url>2019/06/30/2019-06-30-spring-boot-redis/</url>
      
        <content type="html"><![CDATA[<p>å‰é¢ä¸€èŠ‚æ€»ç»“äº†<a href="https://niaobulashi.github.io/springboot/2019/06/28/mybatis-2levelcache.html">SpringBootå®ç°Mybatisçš„ç¼“å­˜æœºåˆ¶</a>ï¼Œä½†æ˜¯å®é™…é¡¹ç›®ä¸­å¾ˆå°‘ç”¨åˆ°Mybatisçš„äºŒçº§ç¼“å­˜æœºåˆ¶ï¼Œåè€Œç”¨åˆ°æ¯”è¾ƒå¤šçš„æ˜¯ç¬¬ä¸‰æ–¹ç¼“å­˜<a href="https://redis.io/">Redis</a>ã€‚</p><p><strong>Redis</strong>æ˜¯ä¸€ä¸ªä½¿ç”¨ANSI Cç¼–å†™çš„å¼€æºã€æ”¯æŒç½‘ç»œã€åŸºäºå†…å­˜ã€å¯é€‰æŒä¹…æ€§çš„é”®å€¼å¯¹å­˜å‚¨æ•°æ®åº“ã€‚</p><h2 id="ä¸€ã€å®‰è£…å¯åŠ¨Redis"><a href="#ä¸€ã€å®‰è£…å¯åŠ¨Redis" class="headerlink" title="ä¸€ã€å®‰è£…å¯åŠ¨Redis"></a>ä¸€ã€å®‰è£…å¯åŠ¨Redis</h2><p>å®‰è£…Redisçš„å°±ä¸è®²å¤ªå¤šäº†ï¼Œç›´æ¥å»<a href="https://github.com/microsoftarchive/redis/releases/tag/win-3.2.100">å®˜æ–¹ä¸‹è½½redis</a>ï¼Œä¸‹è½½<a href="https://github.com/microsoftarchive/redis/releases/download/win-3.2.100/Redis-x64-3.2.100.zip">Redis-x64-3.2.100.zip</a>ï¼Œcmdï¼Œåœ¨redisç›®å½•ä¸‹è¾“å…¥ï¼šredis-server.exe redis.windows.confå¯åŠ¨å³å¯</p><p>å¦å¤–å¯ä»¥é€šè¿‡Redisæ¡Œé¢å®¢æˆ·ç«¯å¯è§†åŒ–è¿æ¥å·¥å…·æ“ä½œï¼š<a href="https://redisdesktop.com/">redisdesktop</a></p><h2 id="äºŒã€ä»£ç éƒ¨ç½²"><a href="#äºŒã€ä»£ç éƒ¨ç½²" class="headerlink" title="äºŒã€ä»£ç éƒ¨ç½²"></a>äºŒã€ä»£ç éƒ¨ç½²</h2><p>å¿«é€Ÿå»ºç«‹Spring Booté¡¹ç›®</p><h3 id="æ·»åŠ redisä¾èµ–"><a href="#æ·»åŠ redisä¾èµ–" class="headerlink" title="æ·»åŠ redisä¾èµ–"></a>æ·»åŠ redisä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="application-ymlé…ç½®"><a href="#application-ymlé…ç½®" class="headerlink" title="application.ymlé…ç½®"></a>application.ymlé…ç½®</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">password:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">jedis:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">        <span class="attr">max-active:</span> <span class="number">1000</span>  <span class="comment"># è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span></span><br><span class="line">        <span class="attr">max-wait:</span> <span class="string">-1ms</span>  <span class="comment"># è¿æ¥æ± æœ€å¤§é˜»å¡ç­‰å¾…æ—¶é—´ï¼ˆä½¿ç”¨è´Ÿå€¼è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ï¼‰</span></span><br><span class="line">        <span class="attr">max-idle:</span> <span class="number">10</span>  <span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å¤§ç©ºé—²è¿æ¥</span></span><br><span class="line">        <span class="attr">min-idle:</span> <span class="number">5</span> <span class="comment"># è¿æ¥æ± ä¸­çš„æœ€å°ç©ºé—²è¿æ¥</span></span><br></pre></td></tr></table></figure><h3 id="RedisConfigé…ç½®ç±»"><a href="#RedisConfigé…ç½®ç±»" class="headerlink" title="RedisConfigé…ç½®ç±»"></a>RedisConfigé…ç½®ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisConnectionFactory factory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    RedisTemplate&lt;String, Object&gt; redisTemplate = <span class="keyword">new</span> RedisTemplate&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ›´æ”¹åœ¨redisé‡Œé¢æŸ¥çœ‹keyç¼–ç é—®é¢˜</span></span><br><span class="line">    redisTemplate.setKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">    redisTemplate.setHashKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">    redisTemplate.setHashValueSerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">    redisTemplate.setValueSerializer(<span class="keyword">new</span> JdkSerializationRedisSerializer());</span><br><span class="line">    redisTemplate.setConnectionFactory(factory);</span><br><span class="line">    <span class="keyword">return</span> redisTemplate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RedisUtilså·¥å…·ç±»"><a href="#RedisUtilså·¥å…·ç±»" class="headerlink" title="RedisUtilså·¥å…·ç±»"></a>RedisUtilså·¥å…·ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"><span class="comment">// ç®€å•çš„K-Væ“ä½œ</span></span><br><span class="line"><span class="meta">@Resource(name=&quot;redisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> ValueOperations&lt;String, String&gt; valueOperations;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é’ˆå¯¹Mapç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="meta">@Resource(name=&quot;redisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> HashOperations&lt;String, String, Object&gt; hashOperations;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é’ˆå¯¹Listç±»å‹çš„æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="meta">@Resource(name=&quot;redisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> ListOperations&lt;String, Object&gt; listOperations;</span><br><span class="line"></span><br><span class="line"><span class="comment">// setç±»å‹æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="meta">@Resource(name=&quot;redisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> SetOperations&lt;String, Object&gt; setOperations;</span><br><span class="line"></span><br><span class="line"><span class="comment">// zsetç±»å‹æ•°æ®æ“ä½œ</span></span><br><span class="line"><span class="meta">@Resource(name=&quot;redisTemplate&quot;)</span></span><br><span class="line"><span class="keyword">private</span> ZSetOperations&lt;String, Object&gt; zSetOperations;</span><br></pre></td></tr></table></figure><h3 id="å®ä½“ç±»SysCodeEntity"><a href="#å®ä½“ç±»SysCodeEntity" class="headerlink" title="å®ä½“ç±»SysCodeEntity"></a>å®ä½“ç±»SysCodeEntity</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysCodeEntity</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ†ç±»ç¼–ç </span></span><br><span class="line">    <span class="keyword">private</span> String kindCode;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ†ç±»åç§°</span></span><br><span class="line">    <span class="keyword">private</span> String kindName;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// CODEç¼–ç </span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">  ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ServiceImplå®ç°ç±»"><a href="#ServiceImplå®ç°ç±»" class="headerlink" title="ServiceImplå®ç°ç±»"></a>ServiceImplå®ç°ç±»</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰æ•°å­—å­—å…¸</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;SysCodeEntity&gt; <span class="title">queryCodeAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    logger.info(<span class="string">&quot;å…ˆä»ç¼“å­˜ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰åˆ™å»æ•°æ®è¿›è¡ŒæŸ¥è¯¢&quot;</span>);</span><br><span class="line">    List&lt;SysCodeEntity&gt; codeList = (List&lt;SysCodeEntity&gt;)redisTemplate.opsForList().leftPop(<span class="string">&quot;codeList&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (codeList == <span class="keyword">null</span>) &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;è¯´æ˜ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œåˆ™åˆ°æ•°æ®åº“ä¸­æŸ¥è¯¢&quot;</span>);</span><br><span class="line">        codeList = sysCodeDao.queryCodeAll();</span><br><span class="line"></span><br><span class="line">        logger.info(<span class="string">&quot;å°†æ•°æ®åº“è·å–çš„æ•°æ®å­˜å…¥ç¼“å­˜&quot;</span>);</span><br><span class="line">        redisTemplate.opsForList().leftPush(<span class="string">&quot;codeList&quot;</span>, codeList);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;åˆ™è¯´æ˜ç¼“å­˜ä¸­å­˜åœ¨ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­è·å–æ•°æ®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    logger.info(<span class="string">&quot;codeList=&quot;</span> + codeList);</span><br><span class="line">    <span class="keyword">return</span> codeList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­å…·ä½“è§£é‡Šå·²ç»åœ¨æ³¨é‡Šä¸­ä½“ç°ï¼Œé€šè¿‡opsForListçš„leftPopå’ŒleftPushå­˜å…¥å’Œè·å–Redisç¼“å­˜çš„æ•°æ®ã€‚</p><h3 id="Controllerå±‚å®ç°"><a href="#Controllerå±‚å®ç°" class="headerlink" title="Controllerå±‚å®ç°"></a>Controllerå±‚å®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰æ•°å­—å­—å…¸</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getAll&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;SysCodeEntity&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Long startTime = System.currentTimeMillis(); <span class="comment">//å¼€å§‹æ—¶é—´</span></span><br><span class="line">    List&lt;SysCodeEntity&gt; codeList = sysCodeService.queryCodeAll();</span><br><span class="line">    Long endTime = System.currentTimeMillis(); <span class="comment">//ç»“æŸæ—¶é—´</span></span><br><span class="line">    System.out.println(<span class="string">&quot;æŸ¥è¯¢æ•°æ®åº“--å…±è€—æ—¶ï¼š&quot;</span> + (endTime - startTime) + <span class="string">&quot;æ¯«ç§’&quot;</span>); <span class="comment">//1007æ¯«ç§’</span></span><br><span class="line">    <span class="keyword">return</span> codeList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Postmanè¿›è¡Œæµ‹è¯•"><a href="#Postmanè¿›è¡Œæµ‹è¯•" class="headerlink" title="Postmanè¿›è¡Œæµ‹è¯•"></a>Postmanè¿›è¡Œæµ‹è¯•</h3><figure class="highlight perl"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//l</span>ocalhost:<span class="number">8080</span>/getAll</span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—ä¿¡æ¯"><a href="#æ—¥å¿—ä¿¡æ¯" class="headerlink" title="æ—¥å¿—ä¿¡æ¯"></a>æ—¥å¿—ä¿¡æ¯</h3><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/springboot_03_01.png"></p><h2 id="ä¸‰ã€æ€»ç»“å’Œæ‰©å±•"><a href="#ä¸‰ã€æ€»ç»“å’Œæ‰©å±•" class="headerlink" title="ä¸‰ã€æ€»ç»“å’Œæ‰©å±•"></a>ä¸‰ã€æ€»ç»“å’Œæ‰©å±•</h2><p>1ã€Redisæ”¯æŒï¼šå­—ç¬¦ä¸²Stringã€å“ˆå¸ŒHashã€åˆ—è¡¨Listã€é›†åˆSetã€æœ‰åºé›†åˆSorted Setã€å‘å¸ƒè®¢é˜…Pub/Subã€äº‹åŠ¡Transactionsï¼Œ7ç§æ•°æ®ç±»å‹</p><p>2ã€Rediså®ç”¨åœºæ™¯ï¼šç¼“å­˜ç³»ç»Ÿã€è®¡æ•°å™¨ã€æ¶ˆæ¯åˆ—é˜Ÿç³»ç»Ÿã€æ’è¡Œç‰ˆåŠç›¸å…³é—®é¢˜ã€ç¤¾äº¤ç½‘ç»œã€æŒ‰ç…§ç”¨æˆ·æŠ•ç¥¨å’Œæ—¶é—´æ’åºã€è¿‡æœŸé¡¹ç›®å¤„ç†ã€å®æ—¶ç³»ç»Ÿ</p><p>3ã€Redisçš„é«˜çº§åŠŸèƒ½ï¼šæ…¢æŸ¥è¯¢ï¼ˆå†…éƒ¨æ‰§è¡Œæ—¶é—´è¶…è¿‡æŸä¸ªæŒ‡å®šçš„æ—¶é™æŸ¥è¯¢ï¼‰ã€PipeLineç®¡é“ï¼ˆé™ä½å®¢æˆ·ç«¯ä¸redisé€šä¿¡æ¬¡æ•°ï¼Œé€‚ç”¨äºæ‰¹å¤„ç†ï¼‰ã€BitMapä½å›¾ï¼ˆé’ˆå¯¹å¤§æ•°æ®é‡è®¾è®¡ï¼‰ã€HyperLogLogï¼ˆæå°ç©ºé—´å®Œæˆç‹¬ç«‹æ•°æ®ç»Ÿè®¡ï¼‰ã€å‘å¸ƒè®¢é˜…ã€æ¶ˆæ¯é˜Ÿåˆ—ã€GEOåœ°ç†ä½ç½®å­˜å‚¨</p><p>4ã€RedisæŒä¹…åŒ–ï¼š</p><p>â€‹    å¿«ç…§RDBï¼ˆä½¿ç”¨<a href="https://zh.wikipedia.org/w/index.php?title=%E5%BF%AB%E7%85%A7&action=edit&redlink=1">å¿«ç…§</a>ï¼Œä¸€ç§åŠæŒä¹…è€ç”¨æ¨¡å¼ã€‚ä¸æ—¶çš„å°†æ•°æ®é›†ä»¥å¼‚æ­¥æ–¹å¼ä»å†…å­˜ä»¥RDBæ ¼å¼å†™å…¥ç¡¬ç›˜ï¼‰</p><p>â€‹    æ—¥å¿—AOFï¼ˆ1.1ç‰ˆæœ¬å¼€å§‹ä½¿ç”¨æ›´å®‰å…¨çš„AOFæ ¼å¼æ›¿ä»£ï¼Œä¸€ç§åªèƒ½è¿½åŠ çš„æ—¥å¿—ç±»å‹ã€‚å°†æ•°æ®é›†ä¿®æ”¹æ“ä½œè®°å½•èµ·æ¥ã€‚Redisèƒ½å¤Ÿåœ¨åå°å¯¹åªå¯è¿½åŠ çš„è®°å½•ä½œä¿®æ”¹æ¥é¿å…æ— é™å¢é•¿çš„æ—¥å¿—ï¼‰</p><p>5ã€Redisåˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼šä¸»ä»å¤åˆ¶ã€é›†ç¾¤â€¦</p><h2 id="ç¤ºä¾‹ä»£ç -github"><a href="#ç¤ºä¾‹ä»£ç -github" class="headerlink" title="ç¤ºä¾‹ä»£ç -github"></a><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-12-mybatis-redis"><strong>ç¤ºä¾‹ä»£ç -github</strong></a></h2><p>åæœŸæŒç»­æ¢ç´¢RedisæŠ€æœ¯ To be continuedâ€¦</p><p>æ¨èé˜…è¯»ï¼š<a href="https://gitbook.cn/gitchat/column/5a55d8e232c7126d8482f5d2"><strong>Redis å…¥é—¨åˆ°åˆ†å¸ƒå¼å®è·µ</strong></a></p><hr>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(äºŒ)ï¼šä½¿ç”¨Spring Boot2é›†æˆMybatisç¼“å­˜æœºåˆ¶</title>
      <link href="2019/06/28/2019-06-28-mybatis-2levelcache/"/>
      <url>2019/06/28/2019-06-28-mybatis-2levelcache/</url>
      
        <content type="html"><![CDATA[<p>å­¦ä¹ SpringBooté›†æˆMybatisçš„ç¬¬äºŒç« ï¼Œäº†è§£åˆ°Mybatisè‡ªå¸¦çš„ç¼“å­˜æœºåˆ¶ï¼Œåœ¨éƒ¨ç½²çš„æ—¶å€™è¸©è¿‡äº†ä¸€äº›å‘ã€‚åœ¨æ­¤è®°å½•å’Œåˆ†äº«ä¸€ä¸‹Mybatisçš„ç¼“å­˜ä½œç”¨ã€‚</p><p> æœ¬æ–‡ç« çš„æºç å†æ–‡ç« æœ«å°¾</p><h2 id="ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜"><a href="#ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜" class="headerlink" title="ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜"></a>ä»€ä¹ˆæ˜¯æŸ¥è¯¢ç¼“å­˜</h2><p>MyBatisæœ‰ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ã€‚è®°å½•å¯ä»¥çœ‹ä¸‹è¿™ç¯‡åšæ–‡ï¼š</p><h3 id="ä¸€çº§ç¼“å­˜"><a href="#ä¸€çº§ç¼“å­˜" class="headerlink" title="ä¸€çº§ç¼“å­˜"></a>ä¸€çº§ç¼“å­˜</h3><p>é¦–å…ˆçœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯ä¸€çº§ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜æ˜¯æŒ‡SqlSessionã€‚ä¸€çº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªSqlSessionã€‚Mybatisé»˜è®¤å¼€å¯ä¸€çº§ç¼“å­˜ã€‚</p><p>åœ¨åŒä¸€ä¸ªSqlSessionä¸­ï¼Œæ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢SQLï¼Œç¬¬ä¸€æ¬¡ä¼šå»æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å†™åˆ°ç¼“å­˜ä¸­ï¼›ç¬¬äºŒæ¬¡ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚å½“æ‰§è¡ŒSQLæŸ¥è¯¢å‰åå‘ç”Ÿå¢åˆ æ”¹æ“ä½œæ—¶ï¼Œåˆ™SqlSessionçš„ç¼“å­˜æ¸…ç©ºã€‚</p><p>å…·ä½“å¯ä»¥çœ‹è¿™æ®µä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLocalCacheScope</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.openSession(<span class="keyword">true</span>); </span><br><span class="line">        SqlSession sqlSession2 = factory.openSession(<span class="keyword">true</span>); </span><br><span class="line"></span><br><span class="line">        StudentMapper studentMapper = sqlSession1.getMapper(StudentMapper.class);</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.getMapper(StudentMapper.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.getStudentById(<span class="number">1</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.getStudentById(<span class="number">1</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;studentMapper2æ›´æ–°äº†&quot;</span> + studentMapper2.updateStudentName(<span class="string">&quot;å°å²‘&quot;</span>,<span class="number">1</span>) + <span class="string">&quot;ä¸ªå­¦ç”Ÿçš„æ•°æ®&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.getStudentById(<span class="number">1</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.getStudentById(<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼€å¯ä¸¤ä¸ªsqlSession</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/f480ac76.jpg"></p><p>ä»æ‰“å°æ—¥å¿—å¯ä»¥çœ‹å‡ºï¼Œå‰é¢ä¸¤ä¸ªè¯´æ˜sqlSession1çš„ä¼šè¯ç¼“å­˜ç”Ÿæ•ˆäº†ï¼Œç¬¬ä¸‰ä¸ªå¯¹sqlSession2ä¼šè¯æ‰§è¡Œäº†æ›´æ–°æ“ä½œï¼Œè¿™æ—¶å€™æ•°æ®åº“å‘ç”Ÿæ•°æ®å˜åŒ–ï¼ŒsqlSession2è¢«æ¸…ç©ºã€‚å¯æ˜¯åœ¨æ‰§è¡Œç¬¬å››ä¸ªæŸ¥è¯¢æ˜¯ï¼Œæ˜¯æŸ¥è¯¢çš„sqlSession1ä¼šè¯ï¼Œç”±äºsqlSession1æ²¡æœ‰è¢«æ¸…ç©ºï¼Œæ‰€ä»¥è¿˜æ˜¯æŸ¥è¯¢çš„ç¼“å­˜çš„æ•°æ®ï¼Œæ˜¯æ•°æ®æ›´æ–°ä¹‹å‰çš„ï¼ŒæŸ¥è¯¢çš„æ˜¯è„æ•°æ®ï¼Œä¸€çº§ç¼“å­˜sqlSessionæ˜¯ä¸å…±äº«çš„ã€‚è¯æ˜äº†ä¸€çº§ç¼“å­˜åªæ˜¯åœ¨æ•°æ®åº“ä¼šè¯å†…éƒ¨å…±äº«çš„ã€‚</p><h3 id="äºŒçº§ç¼“å­˜"><a href="#äºŒçº§ç¼“å­˜" class="headerlink" title="äºŒçº§ç¼“å­˜"></a>äºŒçº§ç¼“å­˜</h3><p>Mybatisçš„äºŒçº§ç¼“å­˜æ˜¯æŒ‡mapperæ˜ å°„æ–‡ä»¶ã€‚äºŒçº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯åŒä¸€ä¸ªnamespaceä¸‹çš„mapperæ˜ å°„æ–‡ä»¶å†…å®¹ï¼Œ<strong>å¤šä¸ªSqlSessionå…±äº«</strong>ï¼ŒMybatiséœ€è¦æ‰‹åŠ¨è®¾ç½®äºŒçº§ç¼“å­˜ã€‚</p><p>åœ¨åŒä¸€ä¸ªnamespaceä¸‹çš„mapperæ–‡ä»¶ä¸­ï¼Œæ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢SQLï¼Œç¬¬ä¸€æ¬¡ä¼šæŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶å†™é“ç¼“å­˜ä¸­ï¼›ç¬¬äºŒæ¬¡zç›´æ¥ä»ç¼“å­˜ä¸­è·å–ã€‚å½“æ‰§è¡ŒSQLæŸ¥è¯¢å‰åå‘ç”Ÿå¢åˆ æ”¹æ“ä½œæ—¶ï¼Œåˆ™äºŒçº§ç¼“å­˜æ¸…ç©ºã€‚</p><p>ä¸Šé¢è¯´åˆ°äºŒçº§ç¼“å­˜å¯ä»¥å…±äº«å¤šä¸ªSqlSessionã€‚å¯ä»¥è§£å†³ä¸åŒSqlSessionå›è¯ä¸­æŸ¥è¯¢åˆ°è„æ•°æ®çš„é—®é¢˜äº†ã€‚</p><h2 id="SpringBootæ•´åˆMybatiså¼€å¯äºŒçº§ç¼“å­˜"><a href="#SpringBootæ•´åˆMybatiså¼€å¯äºŒçº§ç¼“å­˜" class="headerlink" title="SpringBootæ•´åˆMybatiså¼€å¯äºŒçº§ç¼“å­˜"></a>SpringBootæ•´åˆMybatiså¼€å¯äºŒçº§ç¼“å­˜</h2><p>é¦–å…ˆï¼ŒMybatisé»˜è®¤æ˜¯å¼€å¯ä¸€çº§ç¼“å­˜çš„ï¼Œå³åŒä¸€ä¸ªSqlSessionæ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šå»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œæ²¡æœ‰æ•°æ®çš„è¯ï¼Œå†å»æ•°æ®åº“è·å–æ•°æ®ã€‚<strong>ä½†æ˜¯ï¼Œæ•´åˆåˆ°SpringBootä¸­åï¼Œä¸€çº§ç¼“å­˜å°±ä¼šè¢«å…³é—­</strong>ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§åŸå› å‘¢ï¼Œå¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ï¼š</p><p>å¥½äº†ï¼Œç°åœ¨æ¥åˆ›å»ºé¡¹ç›®ï¼Œå¯ä»¥æ ¹æ®å‰ä¸€ç¯‡æ–‡ç« æ¥åˆ›å»ºé¡¹ç›®ï¼Œåœ¨è¿™åŸºç¡€ä¸Šä¿®æ”¹</p><h3 id="pom-xmlæ–°å¢mybatisç¼“å­˜åŒ…caches"><a href="#pom-xmlæ–°å¢mybatisç¼“å­˜åŒ…caches" class="headerlink" title="pom.xmlæ–°å¢mybatisç¼“å­˜åŒ…caches"></a>pom.xmlæ–°å¢mybatisç¼“å­˜åŒ…caches</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="SysUserDao-xmlæ·»åŠ å¼€å¯MybatisäºŒçº§ç¼“å­˜"><a href="#SysUserDao-xmlæ·»åŠ å¼€å¯MybatisäºŒçº§ç¼“å­˜" class="headerlink" title="SysUserDao.xmlæ·»åŠ å¼€å¯MybatisäºŒçº§ç¼“å­˜"></a>SysUserDao.xmlæ·»åŠ å¼€å¯MybatisäºŒçº§ç¼“å­˜</h3><p>åŠ ä¸Šè¿™ä¸ªæ ‡ç­¾ï¼ŒäºŒçº§ç¼“å­˜å°±ä¼šå¼€å¯ï¼Œä»–çš„é»˜è®¤å±æ€§å¦‚ä¸‹</p><ul><li><p>æ˜ å°„è¯­å¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰ select è¯­å¥å°†ä¼šè¢«ç¼“å­˜ã€‚</p></li><li><p>æ˜ å°„è¯­å¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰ insert,update å’Œ delete è¯­å¥ä¼šåˆ·æ–°ç¼“å­˜ã€‚</p></li><li><p>ç¼“å­˜ä¼šä½¿ç”¨ Least Recently Used(LRU,æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„)ç®—æ³•æ¥æ”¶å›ã€‚</p></li><li><p>æ ¹æ®æ—¶é—´è¡¨(æ¯”å¦‚ no Flush Interval,æ²¡æœ‰åˆ·æ–°é—´éš”), ç¼“å­˜ä¸ä¼šä»¥ä»»ä½•æ—¶é—´é¡ºåºæ¥åˆ·æ–°ã€‚</p></li><li><p>ç¼“å­˜ä¼šå­˜å‚¨åˆ—è¡¨é›†åˆæˆ–å¯¹è±¡(æ— è®ºæŸ¥è¯¢æ–¹æ³•è¿”å›ä»€ä¹ˆ)çš„ 1024 ä¸ªå¼•ç”¨ã€‚</p></li><li><p>ç¼“å­˜ä¼šè¢«è§†ä¸ºæ˜¯ read/write(å¯è¯»/å¯å†™)çš„ç¼“å­˜,æ„å‘³ç€å¯¹è±¡æ£€ç´¢ä¸æ˜¯å…±äº«çš„,è€Œä¸”å¯ä»¥å®‰å…¨åœ°è¢«è°ƒç”¨è€…ä¿®æ”¹,è€Œä¸å¹²æ‰°å…¶ä»–è°ƒç”¨è€…æˆ–çº¿ç¨‹æ‰€åšçš„æ½œåœ¨ä¿®æ”¹ã€‚</p><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p></li></ul><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;cache</span><br><span class="line">  <span class="attribute">eviction</span>=<span class="string">&quot;FIFO&quot;</span></span><br><span class="line">  <span class="attribute">flushInterval</span>=<span class="string">&quot;60000&quot;</span></span><br><span class="line">  <span class="attribute">size</span>=<span class="string">&quot;512&quot;</span></span><br><span class="line">  <span class="attribute">readOnly</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><p>   è¿™ä¸ªæ›´é«˜çº§çš„é…ç½®åˆ›å»ºäº†ä¸€ä¸ª FIFO ç¼“å­˜,å¹¶æ¯éš” 60 ç§’åˆ·æ–°,å­˜æ•°ç»“æœå¯¹è±¡æˆ–åˆ—è¡¨çš„ 512 ä¸ªå¼•ç”¨,è€Œä¸”è¿”å›çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯åªè¯»çš„,å› æ­¤åœ¨ä¸åŒçº¿ç¨‹ä¸­çš„è°ƒç”¨è€…ä¹‹é—´ä¿®æ”¹å®ƒä»¬ä¼š å¯¼è‡´å†²çªã€‚</p><p>â€‹        å¯ç”¨çš„æ”¶å›ç­–ç•¥æœ‰:</p><ul><li>LRU â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„:ç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚</li><li>FIFO â€“ å…ˆè¿›å…ˆå‡º:æŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li><li>SOFT â€“ è½¯å¼•ç”¨:ç§»é™¤åŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li><li>WEAK â€“ å¼±å¼•ç”¨:æ›´ç§¯æåœ°ç§»é™¤åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™çš„å¯¹è±¡ã€‚</li></ul><p>é»˜è®¤çš„æ˜¯ LRUã€‚</p><p>  flushInterval(åˆ·æ–°é—´éš”)å¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„çš„æ­£æ•´æ•°,è€Œä¸”å®ƒä»¬ä»£è¡¨ä¸€ä¸ªåˆç†çš„æ¯«ç§’ å½¢å¼çš„æ—¶é—´æ®µã€‚é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®,ä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”,ç¼“å­˜ä»…ä»…è°ƒç”¨è¯­å¥æ—¶åˆ·æ–°ã€‚</p><p>â€‹        size(å¼•ç”¨æ•°ç›®)å¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„æ­£æ•´æ•°,è¦è®°ä½ä½ ç¼“å­˜çš„å¯¹è±¡æ•°ç›®å’Œä½ è¿è¡Œç¯å¢ƒçš„ å¯ç”¨å†…å­˜èµ„æºæ•°ç›®ã€‚é»˜è®¤å€¼æ˜¯ 1024ã€‚</p><p>â€‹        readOnly(åªè¯»)å±æ€§å¯ä»¥è¢«è®¾ç½®ä¸º true æˆ– falseã€‚åªè¯»çš„ç¼“å­˜ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“ å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™æä¾›äº†å¾ˆé‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ã€‚å¯è¯»å†™çš„ç¼“å­˜ ä¼šè¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´(é€šè¿‡åºåˆ—åŒ–) ã€‚è¿™ä¼šæ…¢ä¸€äº›,ä½†æ˜¯å®‰å…¨,å› æ­¤é»˜è®¤æ˜¯ falseã€‚</p><h2 id="æµ‹è¯•éªŒè¯"><a href="#æµ‹è¯•éªŒè¯" class="headerlink" title="æµ‹è¯•éªŒè¯"></a>æµ‹è¯•éªŒè¯</h2><p>ç¼–å†™Controlleræ¥å£</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getAll&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;SysUserEntity&gt; userList = sysUserService.queryUserAll();</span><br><span class="line">    <span class="keyword">return</span> userList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/getUser&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> List&lt;SysUserEntity&gt; <span class="title">getUser</span><span class="params">(<span class="meta">@RequestParam(value = &quot;userId&quot;, required = false)</span> Long userId)</span> </span>&#123;</span><br><span class="line">    List&lt;SysUserEntity&gt; userList = sysUserService.queryUserInfo(userId);</span><br><span class="line">    <span class="keyword">return</span> userList;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> user</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/updateUser&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(<span class="meta">@RequestBody</span> SysUserEntity user)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sysUserService.updateUserInfo(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡postmanå‘é€æ¥å£è¯·æ±‚è¿›è¡Œæµ‹è¯•ï¼š</p><ul><li><p>1ã€å‘é€æŸ¥è¯¢ç”¨æˆ·å…¨éƒ¨ä¿¡æ¯ï¼š<a href="http://localhost:8080/getAll">http://localhost:8080/getAll</a></p></li><li><p>2ã€æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼š<a href="http://localhost:8080/getUser?userId=1">http://localhost:8080/getUser?userId=1</a></p></li><li><p>3ã€æ›´æ–°ç”¨æˆ·ä¿¡æ¯<a href="http://localhost:8080/updateUser">http://localhost:8080/updateUser</a></p><p>æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ¥å£å‘é€æŠ¥æ–‡:</p></li></ul><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;userId&quot;</span>:<span class="number">5</span>,</span><br><span class="line">  <span class="attr">&quot;email&quot;</span>:<span class="string">&quot;12321321&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;mobile&quot;</span>:<span class="string">&quot;11111111111213&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡å‘é€1æ¥å£è¯·æ±‚ï¼Œå¯¹æ•°æ®åº“è¿›è¡Œäº†æŸ¥è¯¢</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis_02_01.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒæ¬¡å’Œç¬¬ä¸‰æ¬¡æŸ¥è¯¢æ²¡æœ‰æŸ¥è¯¢æ•°æ®åº“çš„SQLæ‰“å°ï¼Œè€Œæ˜¯å»æ•°æ®åº“è·å–æ•°æ®</p><p>æ­¤æ—¶å‘é€3æ¥å£ï¼Œè¿›è¡Œæ›´æ–°æ“ä½œï¼Œåœ¨å‘é€1æ¥å£ï¼ŒæŸ¥è¯¢æ”¹ç”¨æˆ·çš„æ•°æ®</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/image01@main/picture/mybatis_02_02.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“æ‰§è¡Œæ•°æ®åº“æ›´æ–°æ“ä½œåï¼Œå†è¿›è¡ŒæŸ¥è¯¢ï¼Œæ­¤æ—¶ç¼“å­˜å·²ç»æ¸…ç©ºï¼Œéœ€è¦ä»æ•°æ®åº“ä¸­é‡æ–°æŸ¥è¯¢è·å–ã€‚</p><p>è¿™å°±æ¼”ç¤ºäº†SpringBootæ•´åˆMybatisçš„ç¼“å­˜æœºåˆ¶æµ‹è¯•ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1ã€ç¼“å­˜çš„å¯¹è±¡å¿…é¡»å®ç°åºåˆ—åŒ–ã€‚å› ä¸ºäºŒçº§ç¼“å­˜çš„æ•°æ®ä¸ä¸€å®šéƒ½æ˜¯å­˜å‚¨åˆ°å†…å­˜ä¸­ï¼Œå®ƒçš„å­˜å‚¨ä»‹è´¨å¤šç§å¤šæ ·ï¼Œæ‰€ä»¥éœ€è¦ç»™ç¼“å­˜çš„å¯¹è±¡æ‰§è¡Œåºåˆ—åŒ–ï¼Œæ‰å¯ä»¥ç¡®ä¿è·å–æ— è¯¯ã€‚</p><p>2ã€Mybatisçš„äºŒçº§ç¼“å­˜ç›¸æ¯”äºä¸€çº§ç¼“å­˜æ¥è¯´ï¼Œå®ç°äº†SqlSessionä¹‹é—´çš„ç¼“å­˜æ•°æ®çš„å…±äº«ï¼Œåšåˆ°namespaceçº§åˆ«ï¼Œç²’åº¦æ›´ç»†</p><p>3ã€åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç”±äºé»˜è®¤çš„MyBatis Cacheå®ç°éƒ½æ˜¯åŸºäºæœ¬åœ°çš„ï¼Œåˆ†å¸ƒå¼ç¯å¢ƒä¸‹å¿…ç„¶ä¼šå‡ºç°è¯»å–åˆ°è„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨é›†ä¸­å¼ç¼“å­˜å°†MyBatisçš„Cacheæ¥å£å®ç°ï¼Œæœ‰ä¸€å®šçš„å¼€å‘æˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨Redisã€Memcachedç­‰åˆ†å¸ƒå¼ç¼“å­˜å¯èƒ½æˆæœ¬æ›´ä½ï¼Œå®‰å…¨æ€§ä¹Ÿæ›´é«˜ã€‚</p><p>ä¸è¿‡å»ºè®®Mybatisçš„ç¼“å­˜ç‰¹æ€§å†ç”Ÿäº§ç¯å¢ƒä¸‹è¿›è¡Œå…³é—­ï¼Œå•çº¯ä½œä¸ºä¸€ä¸ª<a href="https://www.cnblogs.com/wisdo/p/4279091.html">ORMæ¡†æ¶</a>ä½¿ç”¨å¯èƒ½æ›´åŠ åˆé€‚ã€‚</p><p>ä¸‹ç¯‡æ–‡ç« è®¡åˆ’å†™SpringBootæ•´åˆMybatisï¼Œä½¿ç”¨Rediså®ç°ç¼“å­˜åŸºæœ¬é…ç½®ã€‚</p><p><strong><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-11-mybatis-cache">ç¤ºä¾‹ä»£ç -github</a></strong></p><hr>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Mybatis </tag>
            
            <tag> Cache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2ç‰ˆçš„æƒé™ç®¡ç†ç³»ç»Ÿ</title>
      <link href="2019/06/28/2019-06-28-myproject-niaobulashi/"/>
      <url>2019/06/28/2019-06-28-myproject-niaobulashi/</url>
      
        <content type="html"><![CDATA[<p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/niaobulashi/niaobulashi">https://github.com/niaobulashi/niaobulashi</a></p><p>springbootå­¦ä¹ åœ°å€ï¼š<a href="http://www.ityouknow.com/spring-boot.html">http://www.ityouknow.com/spring-boot.html</a></p><p>shiroå­¦ä¹ åœ°å€ï¼š<a href="https://jinnianshilongnian.iteye.com/blog/2018398">https://jinnianshilongnian.iteye.com/blog/2018398</a></p><p>åœ¨çº¿æ¼”ç¤ºåœ°å€ï¼š<a href="http://manage.niaobulashi.com/">http://manage.niaobulashi.com</a></p><p>ç™»å½•åå’Œå¯†ç ï¼šniaobulashi/niaobulashi</p><h2 id="é¡¹ç›®è¯´æ˜"><a href="#é¡¹ç›®è¯´æ˜" class="headerlink" title="é¡¹ç›®è¯´æ˜"></a><strong>é¡¹ç›®è¯´æ˜</strong></h2><ul><li>é‡‡ç”¨SpringBootã€MyBatisã€Shiroæ¡†æ¶ï¼Œå¼€å‘çš„ä¸€å¥—æƒé™ç³»ç»Ÿï¼Œæä½é—¨æ§›ï¼Œæ‹¿æ¥å³ç”¨ã€‚è®¾è®¡ä¹‹åˆï¼Œå°±éå¸¸æ³¨é‡å®‰å…¨æ€§ï¼Œä¸ºä¼ä¸šç³»ç»Ÿä¿é©¾æŠ¤èˆªï¼Œè®©ä¸€åˆ‡éƒ½å˜å¾—å¦‚æ­¤ç®€å•ã€‚</li><li>æä¾›äº†ä»£ç ç”Ÿæˆå™¨ï¼Œåªéœ€ç¼–å†™30%å·¦å³ä»£ç ï¼Œå…¶ä½™çš„ä»£ç äº¤ç»™ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆï¼Œå¯å¿«é€Ÿå®Œæˆå¼€å‘ä»»åŠ¡</li><li>æ”¯æŒMySQLã€Oracleã€SQL Serverã€PostgreSQLç­‰ä¸»æµæ•°æ®åº“</li></ul><h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a><strong>é¡¹ç›®ç»“æ„</strong></h2><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">niaobulashi</span><br><span class="line">â”œâ”€niaobulashi-<span class="keyword">admin</span>      ç®¡ç†åå°</span><br><span class="line">â”‚    â”œâ”€db  æ•°æ®åº“<span class="keyword">SQL</span>è„šæœ¬</span><br><span class="line">â”‚    â”‚ </span><br><span class="line">â”‚    â”œâ”€modules  æ¨¡å—</span><br><span class="line">â”‚    â”‚    â”œâ”€job å®šæ—¶ä»»åŠ¡</span><br><span class="line">â”‚    â”‚    â”œâ”€oss æ–‡ä»¶å­˜å‚¨</span><br><span class="line">â”‚    â”‚    â””â”€sys ç³»ç»Ÿç®¡ç†(æ ¸å¿ƒ)</span><br><span class="line">â”‚    â”‚ </span><br><span class="line">â”‚    â””â”€resources </span><br><span class="line">â”‚        â”œâ”€mapper   MyBatisæ–‡ä»¶</span><br><span class="line">â”‚        â”œâ”€statics  é™æ€èµ„æº</span><br><span class="line">â”‚        â”œâ”€<span class="keyword">template</span> ç³»ç»Ÿé¡µé¢</span><br><span class="line">â”‚        â”‚    â”œâ”€modules      æ¨¡å—é¡µé¢</span><br><span class="line">â”‚        â”‚    â”œâ”€<span class="keyword">index</span>.html   AdminLTEä¸»é¢˜é£æ ¼ï¼ˆé»˜è®¤ä¸»é¢˜ï¼‰</span><br><span class="line">â”‚        â”‚    â””â”€index1.html  ä¸»é¢˜é£æ ¼</span><br><span class="line">â”‚        â””â”€application.yml   å…¨å±€é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€niaobulashi-api        APIæœåŠ¡</span><br><span class="line">â”œâ”€niaobulashi-common     å…¬å…±æ¨¡å—</span><br><span class="line">â”œâ”€niaobulashi-dynamic-datasource     å¤šæ•°æ®æº</span><br><span class="line">â”œâ”€niaobulashi-generator  ä»£ç ç”Ÿæˆå™¨</span><br><span class="line">â”‚             â””â”€resources </span><br><span class="line">â”‚                   â”œâ”€mapper   MyBatisæ–‡ä»¶</span><br><span class="line">â”‚                   â”œâ”€<span class="keyword">template</span> ä»£ç ç”Ÿæˆå™¨æ¨¡æ¿ï¼ˆå¯å¢åŠ æˆ–ä¿®æ”¹ç›¸åº”æ¨¡æ¿ï¼‰</span><br><span class="line">â”‚                   â”œâ”€application.yml    å…¨å±€é…ç½®æ–‡ä»¶</span><br><span class="line">â”‚                   â””â”€generator.properties   ä»£ç ç”Ÿæˆå™¨ï¼Œé…ç½®æ–‡ä»¶</span><br><span class="line">â”‚</span><br></pre></td></tr></table></figure><h2 id="é¡¹ç›®æ¨¡å—"><a href="#é¡¹ç›®æ¨¡å—" class="headerlink" title="é¡¹ç›®æ¨¡å—"></a><strong>é¡¹ç›®æ¨¡å—</strong></h2><ul><li>niaobulashi-commonä¸ºå…¬å…±æ¨¡å—ï¼Œå…¶ä»–æ¨¡å—ä»¥jaråŒ…çš„å½¢å¼å¼•å…¥è¿›å»ï¼Œä¸»è¦æä¾›äº›å·¥å…·ç±»ï¼Œä»¥åŠrenren-adminã€renren-apiæ¨¡å—å…¬å…±çš„entityã€mapperã€daoã€serviceæœåŠ¡ï¼Œé˜²æ­¢ä¸€ä¸ªåŠŸèƒ½é‡å¤å¤šæ¬¡ç¼–å†™ä»£ç ã€‚</li><li>niaobulashi-adminä¸ºåå°æ¨¡å—ï¼Œä¹Ÿæ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œç”¨æ¥å¼€å‘åå°ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥æ‰“åŒ…æˆjarï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œæˆ–è€…æ‰“åŒ…æˆwarï¼Œæ”¾åˆ°Tomcat8.5+å®¹å™¨é‡Œè¿è¡Œã€‚</li><li>niaobulashi-apiä¸ºæ¥å£æ¨¡å—ï¼Œä¸»è¦æ˜¯ç®€åŒ–APPå¼€å‘ï¼Œå¦‚ï¼šä¸ºå¾®ä¿¡å°ç¨‹åºã€IOSã€Androidæä¾›æ¥å£ï¼Œæ‹¥æœ‰ä¸€å¥—å•ç‹¬çš„ç”¨æˆ·ä½“ç³»ï¼Œæ²¡æœ‰ä¸renren-adminç”¨æˆ·è¡¨å…±ç”¨ï¼Œå› ä¸ºrenren-adminç”¨æˆ·è¡¨é‡Œå­˜æ”¾çš„æ˜¯ä¼ä¸šå†…éƒ¨äººå‘˜è´¦å·ï¼Œå…·æœ‰åå°ç®¡ç†å‘˜æƒé™ï¼Œå¯ä»¥ç™»å½•åå°ç®¡ç†ç³»ç»Ÿï¼Œè€Œrenren-apiç”¨æˆ·è¡¨é‡Œå­˜æ”¾çš„æ˜¯æˆ‘ä»¬çš„çœŸå®ç”¨æˆ·ï¼Œä¸å…·å¤‡ç™»å½•åå°ç®¡ç†ç³»ç»Ÿçš„æƒé™ã€‚renren-apiä¸»è¦æ˜¯å®ç°äº†ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ¥å£æƒé™è®¤è¯ã€è·å–ç™»å½•ç”¨æˆ·ç­‰åŠŸèƒ½ï¼Œä¸ºAPPæ¥å£çš„å®‰å…¨è°ƒç”¨ï¼Œæä¾›ä¸€å¥—ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œä»è€Œç®€åŒ–APPæ¥å£å¼€å‘ã€‚</li><li>niaobulashi-generatorä¸ºä»£ç ç”Ÿæˆå™¨æ¨¡å—ï¼Œåªéœ€åœ¨MySQLæ•°æ®åº“é‡Œï¼Œåˆ›å»ºå¥½è¡¨ç»“æ„ï¼Œå°±å¯ä»¥ç”Ÿæˆæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ã€æŸ¥è¯¢ã€å¯¼å‡ºç­‰æ“ä½œçš„ä»£ç ï¼ŒåŒ…æ‹¬entityã€mapperã€daoã€serviceã€controllerã€é¡µé¢ç­‰æ‰€æœ‰ä»£ç ï¼Œé¡¹ç›®å¼€å‘ç¥å™¨ã€‚å¯ä»¥ä½œä¸ºå•ç‹¬çš„é¡¹ç›®è¿è¡Œï¼Œæˆ‘å·²ç»å°†è¿™éƒ¨åˆ†çš„æ¨¡å—ç§»æ¤åˆ°äº†niaobulashi-admin</li></ul><h2 id="æŠ€æœ¯é€‰å‹"><a href="#æŠ€æœ¯é€‰å‹" class="headerlink" title="æŠ€æœ¯é€‰å‹"></a><strong>æŠ€æœ¯é€‰å‹</strong></h2><p>æ ¸å¿ƒæ¡†æ¶ï¼šSpring Boot 2.1<br>å®‰å…¨æ¡†æ¶ï¼šApache Shiro 1.4<br>è§†å›¾æ¡†æ¶ï¼šSpring MVC 5.0<br>æŒä¹…å±‚æ¡†æ¶ï¼šMyBatis 3.5<br>å®šæ—¶å™¨ï¼šQuartz 2.3<br>æ•°æ®åº“è¿æ¥æ± ï¼šDruid 1.1<br>æ—¥å¿—ç®¡ç†ï¼šSLF4J 1.7ã€Log4j<br>é¡µé¢äº¤äº’ï¼šVue2.x</p><h2 id="è½¯ä»¶éœ€æ±‚"><a href="#è½¯ä»¶éœ€æ±‚" class="headerlink" title="è½¯ä»¶éœ€æ±‚"></a><strong>è½¯ä»¶éœ€æ±‚</strong></h2><ul><li>JDK12</li><li>MySQL5.5+</li><li>Maven3.0+</li></ul><h2 id="æœ¬åœ°éƒ¨ç½²"><a href="#æœ¬åœ°éƒ¨ç½²" class="headerlink" title="æœ¬åœ°éƒ¨ç½²"></a><strong>æœ¬åœ°éƒ¨ç½²</strong></h2><ul><li>ideaé€šè¿‡ï¼š<a href="https://github.com/niaobulashi/niaobulashi">https://github.com/niaobulashi/niaobulashi</a>  è¿›è¡Œcloneåˆ°æœ¬åœ°</li><li>åœ¨é¡¹ç›®ç›®å½•ï¼šresources/dbæ‰¾åˆ°æ•°æ®åº“æ–‡ä»¶ï¼Œéƒ¨ç½²åˆ°æœ¬åœ°</li><li>ä¿®æ”¹é…ç½®æ–‡ä»¶application-test.ymlï¼Œæ•°æ®åº“æ”¹ä¸ºæœ¬åœ°çš„ç”¨æˆ·åå’Œå¯†ç </li><li>ç›´æ¥å¯åŠ¨ï¼Œè®¿é—®ï¼šlocalhost:8080</li><li>ç™»å½•åå’Œå¯†ç ï¼šadmin/admin</li></ul><h2 id="Linuxéƒ¨ç½²"><a href="#Linuxéƒ¨ç½²" class="headerlink" title="Linuxéƒ¨ç½²"></a><strong>Linuxéƒ¨ç½²</strong></h2><ul><li>æ‰“åŒ…æˆjarï¼Œåœ¨ä¸»é¡¹ç›®niaobulashiä¸Šè¿›è¡Œæ‰“åŒ…ï¼Œmvn clean install</li><li>ä¼šç”Ÿæˆç›¸åº”é¡¹ç›®çš„jaråŒ…ï¼Œæ”¾åœ¨Linuxç›®æ ‡ç›®å½•ä¸‹ï¼Œæ‰§è¡Œjava -jar åŒ…å</li></ul><h2 id="è¿è¡Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"><a href="#è¿è¡Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜" class="headerlink" title="è¿è¡Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜"></a><strong>è¿è¡Œå¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜</strong></h2><ul><li>å¯åŠ¨å¯èƒ½æŠ¥é”™ï¼Œmysqlä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œå¯èƒ½æ‰¾ä¸åˆ°è¡¨ï¼Œè§£å†³æ–¹æ¡ˆï¼šmysqlä¸åŒºåˆ†å¤§å°å†™</li><li>æ²¡æœ‰/tmp/spring.logç›®å½•æƒé™ï¼Œè§£å†³æ–¹æ¡ˆï¼šåœ¨rootç”¨æˆ·ä¸‹ï¼Œæ·»åŠ å†™æƒé™sudo chmod 777 spring.log</li><li>ç™»é™†é¡µé¢çš„éªŒè¯ç æ˜¾ç¤ºä¹±ç ï¼ŒåŸå› ï¼šlinuxæ²¡æœ‰å®‰è£…å­—ä½“ï¼Œè§£å†³æ–¹æ¡ˆï¼šlinuxå®‰è£…å­—ä½“</li></ul><h2 id="æ ¹æ®é¡¹ç›®ä¿¡æ¯æˆªå›¾"><a href="#æ ¹æ®é¡¹ç›®ä¿¡æ¯æˆªå›¾" class="headerlink" title="æ ¹æ®é¡¹ç›®ä¿¡æ¯æˆªå›¾"></a><strong>æ ¹æ®é¡¹ç›®ä¿¡æ¯æˆªå›¾</strong></h2><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153400635-1101498470.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153421792-613530570.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153453457-2123784717.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153604556-1621950822.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153515427-507006984.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img2018.cnblogs.com/blog/1438593/201906/1438593-20190616153724452-154266737.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>psï¼šæ—¥æŠ¥ç®¡ç†æ¨¡å—æ²¡æœ‰å®é™…åŠŸèƒ½ï¼Œåªæ˜¯ä¸ªèœå•è€Œå·²ï¼ŒåæœŸè¿›è¡Œç»´æŠ¤</p><hr>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>èŠèŠMyBatisç¼“å­˜æœºåˆ¶</title>
      <link href="2019/06/27/2019-06-27-mybatis-cache/"/>
      <url>2019/06/27/2019-06-27-mybatis-cache/</url>
      
        <content type="html"><![CDATA[<p>MyBatisæ˜¯å¸¸è§çš„Javaæ•°æ®åº“è®¿é—®å±‚æ¡†æ¶ã€‚åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œå¼€å‘äººå‘˜å¤šæ•°æƒ…å†µä¸‹æ˜¯ä½¿ç”¨MyBatisçš„é»˜è®¤ç¼“å­˜é…ç½®ï¼Œä½†æ˜¯MyBatisç¼“å­˜æœºåˆ¶æœ‰ä¸€äº›ä¸è¶³ä¹‹å¤„ï¼Œåœ¨ä½¿ç”¨ä¸­å®¹æ˜“å¼•èµ·è„æ•°æ®ï¼Œå½¢æˆä¸€äº›æ½œåœ¨çš„éšæ‚£ã€‚ä¸ªäººåœ¨ä¸šåŠ¡å¼€å‘ä¸­ä¹Ÿå¤„ç†è¿‡ä¸€äº›ç”±äºMyBatisç¼“å­˜å¼•å‘çš„å¼€å‘é—®é¢˜ï¼Œå¸¦ç€ä¸ªäººçš„å…´è¶£ï¼Œå¸Œæœ›ä»åº”ç”¨åŠæºç çš„è§’åº¦ä¸ºè¯»è€…æ¢³ç†MyBatisç¼“å­˜æœºåˆ¶ã€‚å®˜æ–¹è¯´æ˜ï¼š<code>MyBatis Spring-Boot-Starter will help you use MyBatis with Spring Boot</code><br>å…¶å®å°±æ˜¯ Mybatis çœ‹ Spring Boot è¿™ä¹ˆç«çƒ­ä¹Ÿå¼€å‘å‡ºä¸€å¥—è§£å†³æ–¹æ¡ˆæ¥å‡‘å‡‘çƒ­é—¹ï¼Œä½†è¿™ä¸€å‡‘ç¡®å®è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œä½¿ç”¨èµ·æ¥ç¡®å®é¡ºç•…äº†è®¸å¤šã€‚<code>mybatis-spring-boot-starter</code>ä¸»è¦æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ä½¿ç”¨æ³¨è§£è§£å†³ä¸€åˆ‡é—®é¢˜ï¼Œä¸€ç§æ˜¯ç®€åŒ–åçš„è€ä¼ ç»Ÿã€‚</p><p>æœ¬æ¬¡åˆ†æä¸­æ¶‰åŠåˆ°çš„ä»£ç å’Œæ•°æ®åº“è¡¨å‡æ”¾åœ¨GitHubä¸Šï¼Œåœ°å€ï¼š <a href="https://github.com/kailuncen/mybatis-cache-demo">mybatis-cache-demo</a> </p><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><p>æœ¬æ–‡æŒ‰ç…§ä»¥ä¸‹é¡ºåºå±•å¼€ã€‚</p><ul><li>ä¸€çº§ç¼“å­˜ä»‹ç»åŠç›¸å…³é…ç½®ã€‚</li><li>ä¸€çº§ç¼“å­˜å·¥ä½œæµç¨‹åŠæºç åˆ†æã€‚</li><li>ä¸€çº§ç¼“å­˜æ€»ç»“ã€‚</li><li>äºŒçº§ç¼“å­˜ä»‹ç»åŠç›¸å…³é…ç½®ã€‚</li><li>äºŒçº§ç¼“å­˜æºç åˆ†æã€‚</li><li>äºŒçº§ç¼“å­˜æ€»ç»“ã€‚</li><li>å…¨æ–‡æ€»ç»“ã€‚</li></ul><h2 id="ä¸€çº§ç¼“å­˜"><a href="#ä¸€çº§ç¼“å­˜" class="headerlink" title="ä¸€çº§ç¼“å­˜"></a>ä¸€çº§ç¼“å­˜</h2><h3 id="ä¸€çº§ç¼“å­˜ä»‹ç»"><a href="#ä¸€çº§ç¼“å­˜ä»‹ç»" class="headerlink" title="ä¸€çº§ç¼“å­˜ä»‹ç»"></a>ä¸€çº§ç¼“å­˜ä»‹ç»</h3><p>åœ¨åº”ç”¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½åœ¨ä¸€æ¬¡æ•°æ®åº“ä¼šè¯ä¸­ï¼Œæ‰§è¡Œå¤šæ¬¡æŸ¥è¯¢æ¡ä»¶å®Œå…¨ç›¸åŒçš„SQLï¼ŒMyBatisæä¾›äº†ä¸€çº§ç¼“å­˜çš„æ–¹æ¡ˆä¼˜åŒ–è¿™éƒ¨åˆ†åœºæ™¯ï¼Œå¦‚æœæ˜¯ç›¸åŒçš„SQLè¯­å¥ï¼Œä¼šä¼˜å…ˆå‘½ä¸­ä¸€çº§ç¼“å­˜ï¼Œé¿å…ç›´æ¥å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ï¼Œæé«˜æ€§èƒ½ã€‚å…·ä½“æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/6e38df6a.jpg" alt="img"></p><p>æ¯ä¸ªSqlSessionä¸­æŒæœ‰äº†Executorï¼Œæ¯ä¸ªExecutorä¸­æœ‰ä¸€ä¸ªLocalCacheã€‚å½“ç”¨æˆ·å‘èµ·æŸ¥è¯¢æ—¶ï¼ŒMyBatisæ ¹æ®å½“å‰æ‰§è¡Œçš„è¯­å¥ç”Ÿæˆ<code>MappedStatement</code>ï¼Œåœ¨Local Cacheè¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœç¼“å­˜å‘½ä¸­çš„è¯ï¼Œç›´æ¥è¿”å›ç»“æœç»™ç”¨æˆ·ï¼Œå¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­çš„è¯ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œç»“æœå†™å…¥<code>Local Cache</code>ï¼Œæœ€åè¿”å›ç»“æœç»™ç”¨æˆ·ã€‚å…·ä½“å®ç°ç±»çš„ç±»å…³ç³»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/d76ec5fe.jpg" alt="img"></p><h3 id="ä¸€çº§ç¼“å­˜é…ç½®"><a href="#ä¸€çº§ç¼“å­˜é…ç½®" class="headerlink" title="ä¸€çº§ç¼“å­˜é…ç½®"></a>ä¸€çº§ç¼“å­˜é…ç½®</h3><p>æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨MyBatisä¸€çº§ç¼“å­˜ã€‚å¼€å‘è€…åªéœ€åœ¨MyBatisçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ å¦‚ä¸‹è¯­å¥ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¸€çº§ç¼“å­˜ã€‚å…±æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œ<code>SESSION</code>æˆ–è€…<code>STATEMENT</code>ï¼Œé»˜è®¤æ˜¯<code>SESSION</code>çº§åˆ«ï¼Œå³åœ¨ä¸€ä¸ªMyBatisä¼šè¯ä¸­æ‰§è¡Œçš„æ‰€æœ‰è¯­å¥ï¼Œéƒ½ä¼šå…±äº«è¿™ä¸€ä¸ªç¼“å­˜ã€‚ä¸€ç§æ˜¯<code>STATEMENT</code>çº§åˆ«ï¼Œå¯ä»¥ç†è§£ä¸ºç¼“å­˜åªå¯¹å½“å‰æ‰§è¡Œçš„è¿™ä¸€ä¸ª<code>Statement</code>æœ‰æ•ˆã€‚</p><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;setting <span class="attribute">name</span>=<span class="string">&quot;localCacheScope&quot;</span> <span class="attribute">value</span>=<span class="string">&quot;SESSION&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h3 id="ä¸€çº§ç¼“å­˜å®éªŒ"><a href="#ä¸€çº§ç¼“å­˜å®éªŒ" class="headerlink" title="ä¸€çº§ç¼“å­˜å®éªŒ"></a>ä¸€çº§ç¼“å­˜å®éªŒ</h3><p>æ¥ä¸‹æ¥é€šè¿‡å®éªŒï¼Œäº†è§£MyBatisä¸€çº§ç¼“å­˜çš„æ•ˆæœï¼Œæ¯ä¸ªå•å…ƒæµ‹è¯•åéƒ½è¯·æ¢å¤è¢«ä¿®æ”¹çš„æ•°æ®ã€‚</p><p>é¦–å…ˆæ˜¯åˆ›å»ºç¤ºä¾‹è¡¨studentï¼Œåˆ›å»ºå¯¹åº”çš„POJOç±»å’Œå¢æ”¹çš„æ–¹æ³•ï¼Œå…·ä½“å¯ä»¥åœ¨entityåŒ…å’ŒmapperåŒ…ä¸­æŸ¥çœ‹ã€‚</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) unsigned <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` tinyint(<span class="number">3</span>) unsigned <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8_bin;</span><br></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸‹å®éªŒä¸­ï¼Œidä¸º1çš„å­¦ç”Ÿåç§°æ˜¯å‡¯ä¼¦ã€‚</p><h4 id="å®éªŒ1"><a href="#å®éªŒ1" class="headerlink" title="å®éªŒ1"></a>å®éªŒ1</h4><p>å¼€å¯ä¸€çº§ç¼“å­˜ï¼ŒèŒƒå›´ä¸ºä¼šè¯çº§åˆ«ï¼Œè°ƒç”¨ä¸‰æ¬¡<code>getStudentById</code>ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public void get<span class="constructor">StudentById()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; <span class="comment">// è‡ªåŠ¨æäº¤äº‹åŠ¡</span></span><br><span class="line">        StudentMapper studentMapper = sqlSession.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/9e996384.jpg" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡çœŸæ­£æŸ¥è¯¢äº†æ•°æ®åº“ï¼Œåç»­çš„æŸ¥è¯¢ä½¿ç”¨äº†ä¸€çº§ç¼“å­˜ã€‚</p><h4 id="å®éªŒ2"><a href="#å®éªŒ2" class="headerlink" title="å®éªŒ2"></a>å®éªŒ2</h4><p>å¢åŠ äº†å¯¹æ•°æ®åº“çš„ä¿®æ”¹æ“ä½œï¼ŒéªŒè¯åœ¨ä¸€æ¬¡æ•°æ®åº“ä¼šè¯ä¸­ï¼Œå¦‚æœå¯¹æ•°æ®åº“å‘ç”Ÿäº†ä¿®æ”¹æ“ä½œï¼Œä¸€çº§ç¼“å­˜æ˜¯å¦ä¼šå¤±æ•ˆã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void add<span class="constructor">Student()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; <span class="comment">// è‡ªåŠ¨æäº¤äº‹åŠ¡</span></span><br><span class="line">        StudentMapper studentMapper = sqlSession.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;å¢åŠ äº†&quot;</span> + studentMapper.add<span class="constructor">Student(<span class="params">buildStudent</span>()</span>) + <span class="string">&quot;ä¸ªå­¦ç”Ÿ&quot;</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        sqlSession.close<span class="literal">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/fb6a78e0.jpg" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¿®æ”¹æ“ä½œåæ‰§è¡Œçš„ç›¸åŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢äº†æ•°æ®åº“ï¼Œ<strong>ä¸€çº§ç¼“å­˜å¤±æ•ˆ</strong>ã€‚</p><h4 id="å®éªŒ3"><a href="#å®éªŒ3" class="headerlink" title="å®éªŒ3"></a>å®éªŒ3</h4><p>å¼€å¯ä¸¤ä¸ª<code>SqlSession</code>ï¼Œåœ¨<code>sqlSession1</code>ä¸­æŸ¥è¯¢æ•°æ®ï¼Œä½¿ä¸€çº§ç¼“å­˜ç”Ÿæ•ˆï¼Œåœ¨<code>sqlSession2</code>ä¸­æ›´æ–°æ•°æ®åº“ï¼ŒéªŒè¯ä¸€çº§ç¼“å­˜åªåœ¨æ•°æ®åº“ä¼šè¯å†…éƒ¨å…±äº«ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void test<span class="constructor">LocalCacheScope()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession2 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line"></span><br><span class="line">        StudentMapper studentMapper = sqlSession1.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2æ›´æ–°äº†&quot;</span> + studentMapper2.update<span class="constructor">StudentName(<span class="string">&quot;å°å²‘&quot;</span>,1)</span> + <span class="string">&quot;ä¸ªå­¦ç”Ÿçš„æ•°æ®&quot;</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/f480ac76.jpg" alt="img"></p><p><code>sqlSession2</code>æ›´æ–°äº†idä¸º1çš„å­¦ç”Ÿçš„å§“åï¼Œä»å‡¯ä¼¦æ”¹ä¸ºäº†å°å²‘ï¼Œä½†session1ä¹‹åçš„æŸ¥è¯¢ä¸­ï¼Œidä¸º1çš„å­¦ç”Ÿçš„åå­—è¿˜æ˜¯å‡¯ä¼¦ï¼Œå‡ºç°äº†è„æ•°æ®ï¼Œä¹Ÿè¯æ˜äº†ä¹‹å‰çš„è®¾æƒ³ï¼Œä¸€çº§ç¼“å­˜åªåœ¨æ•°æ®åº“ä¼šè¯å†…éƒ¨å…±äº«ã€‚</p><h3 id="ä¸€çº§ç¼“å­˜å·¥ä½œæµç¨‹-amp-æºç åˆ†æ"><a href="#ä¸€çº§ç¼“å­˜å·¥ä½œæµç¨‹-amp-æºç åˆ†æ" class="headerlink" title="ä¸€çº§ç¼“å­˜å·¥ä½œæµç¨‹&amp;æºç åˆ†æ"></a>ä¸€çº§ç¼“å­˜å·¥ä½œæµç¨‹&amp;æºç åˆ†æ</h3><p>é‚£ä¹ˆï¼Œä¸€çº§ç¼“å­˜çš„å·¥ä½œæµç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿæˆ‘ä»¬ä»æºç å±‚é¢æ¥å­¦ä¹ ä¸€ä¸‹ã€‚</p><h4 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h4><p>ä¸€çº§ç¼“å­˜æ‰§è¡Œçš„æ—¶åºå›¾ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/bb851700.png" alt="img"></p><h4 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h4><p>æ¥ä¸‹æ¥å°†å¯¹MyBatisæŸ¥è¯¢ç›¸å…³çš„æ ¸å¿ƒç±»å’Œä¸€çº§ç¼“å­˜çš„æºç è¿›è¡Œèµ°è¯»ã€‚è¿™å¯¹åé¢å­¦ä¹ äºŒçº§ç¼“å­˜ä¹Ÿæœ‰å¸®åŠ©ã€‚</p><p><strong>SqlSession</strong>ï¼š å¯¹å¤–æä¾›äº†ç”¨æˆ·å’Œæ•°æ®åº“ä¹‹é—´äº¤äº’éœ€è¦çš„æ‰€æœ‰æ–¹æ³•ï¼Œéšè—äº†åº•å±‚çš„ç»†èŠ‚ã€‚é»˜è®¤å®ç°ç±»æ˜¯<code>DefaultSqlSession</code>ã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/ba96bc7f.jpg" alt="img"></p><p><strong>Executor</strong>ï¼š <code>SqlSession</code>å‘ç”¨æˆ·æä¾›æ“ä½œæ•°æ®åº“çš„æ–¹æ³•ï¼Œä½†å’Œæ•°æ®åº“æ“ä½œæœ‰å…³çš„èŒè´£éƒ½ä¼šå§”æ‰˜ç»™Executorã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/ef5e0eb3.jpg" alt="img"></p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒExecutoræœ‰è‹¥å¹²ä¸ªå®ç°ç±»ï¼Œä¸ºExecutorèµ‹äºˆäº†ä¸åŒçš„èƒ½åŠ›ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ç±»åï¼Œè‡ªè¡Œå­¦ä¹ æ¯ä¸ªç±»çš„åŸºæœ¬ä½œç”¨ã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/83326eb3.jpg" alt="img"></p><p>åœ¨ä¸€çº§ç¼“å­˜çš„æºç åˆ†æä¸­ï¼Œä¸»è¦å­¦ä¹ <code>BaseExecutor</code>çš„å†…éƒ¨å®ç°ã€‚</p><p><strong>BaseExecutor</strong>ï¼š <code>BaseExecutor</code>æ˜¯ä¸€ä¸ªå®ç°äº†Executoræ¥å£çš„æŠ½è±¡ç±»ï¼Œå®šä¹‰è‹¥å¹²æŠ½è±¡æ–¹æ³•ï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒæŠŠå…·ä½“çš„æ“ä½œå§”æ‰˜ç»™å­ç±»è¿›è¡Œæ‰§è¡Œã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">protected abstract <span class="built_in">int</span> <span class="keyword">do</span><span class="constructor">Update(MappedStatement <span class="params">ms</span>, Object <span class="params">parameter</span>)</span> throws SQLException;</span><br><span class="line">protected abstract List&lt;BatchResult&gt; <span class="keyword">do</span><span class="constructor">FlushStatements(<span class="params">boolean</span> <span class="params">isRollback</span>)</span> throws SQLException;</span><br><span class="line">protected abstract &lt;E&gt; List&lt;E&gt; <span class="keyword">do</span><span class="constructor">Query(MappedStatement <span class="params">ms</span>, Object <span class="params">parameter</span>, RowBounds <span class="params">rowBounds</span>, ResultHandler <span class="params">resultHandler</span>, BoundSql <span class="params">boundSql</span>)</span> throws SQLException;</span><br><span class="line">protected abstract &lt;E&gt; Cursor&lt;E&gt; <span class="keyword">do</span><span class="constructor">QueryCursor(MappedStatement <span class="params">ms</span>, Object <span class="params">parameter</span>, RowBounds <span class="params">rowBounds</span>, BoundSql <span class="params">boundSql</span>)</span> throws SQLException;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸€çº§ç¼“å­˜çš„ä»‹ç»ä¸­æåˆ°å¯¹<code>Local Cache</code>çš„æŸ¥è¯¢å’Œå†™å…¥æ˜¯åœ¨<code>Executor</code>å†…éƒ¨å®Œæˆçš„ã€‚åœ¨é˜…è¯»<code>BaseExecutor</code>çš„ä»£ç åå‘ç°<code>Local Cache</code>æ˜¯<code>BaseExecutor</code>å†…éƒ¨çš„ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºã€‚</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="symbol">BaseExecutor</span> <span class="symbol">implements</span> <span class="symbol">Executor</span> &#123;</span><br><span class="line"><span class="keyword">protected</span> ConcurrentLinkedQueue&lt;DeferredLoad&gt; deferredLoads;</span><br><span class="line"><span class="keyword">protected</span> PerpetualCache localCache;</span><br></pre></td></tr></table></figure><p><strong>Cache</strong>ï¼š MyBatisä¸­çš„Cacheæ¥å£ï¼Œæä¾›äº†å’Œç¼“å­˜ç›¸å…³çš„æœ€åŸºæœ¬çš„æ“ä½œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/793031d0.jpg" alt="img"></p><p>æœ‰è‹¥å¹²ä¸ªå®ç°ç±»ï¼Œä½¿ç”¨è£…é¥°å™¨æ¨¡å¼äº’ç›¸ç»„è£…ï¼Œæä¾›ä¸°å¯Œçš„æ“æ§ç¼“å­˜çš„èƒ½åŠ›ï¼Œéƒ¨åˆ†å®ç°ç±»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/cdb21712.jpg" alt="img"></p><p><code>BaseExecutor</code>æˆå‘˜å˜é‡ä¹‹ä¸€çš„<code>PerpetualCache</code>ï¼Œæ˜¯å¯¹Cacheæ¥å£æœ€åŸºæœ¬çš„å®ç°ï¼Œå…¶å®ç°éå¸¸ç®€å•ï¼Œå†…éƒ¨æŒæœ‰HashMapï¼Œå¯¹ä¸€çº§ç¼“å­˜çš„æ“ä½œå®åˆ™æ˜¯å¯¹HashMapçš„æ“ä½œã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PerpetualCache</span> <span class="keyword">implements</span> <span class="title">Cache</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> id;</span><br><span class="line">  <span class="keyword">private</span> Map&lt;<span class="keyword">Object</span>, <span class="keyword">Object</span>&gt; cache = <span class="keyword">new</span> HashMap&lt;<span class="keyword">Object</span>, <span class="keyword">Object</span>&gt;();</span><br></pre></td></tr></table></figure><p>åœ¨é˜…è¯»ç›¸å…³æ ¸å¿ƒç±»ä»£ç åï¼Œä»æºä»£ç å±‚é¢å¯¹ä¸€çº§ç¼“å­˜å·¥ä½œä¸­æ¶‰åŠåˆ°çš„ç›¸å…³ä»£ç ï¼Œå‡ºäºç¯‡å¹…çš„è€ƒè™‘ï¼Œå¯¹æºç åšé€‚å½“åˆ å‡ï¼Œè¯»è€…æœ‹å‹å¯ä»¥ç»“åˆæœ¬æ–‡ï¼Œåç»­è¿›è¡Œæ›´è¯¦ç»†çš„å­¦ä¹ ã€‚</p><p>ä¸ºæ‰§è¡Œå’Œæ•°æ®åº“çš„äº¤äº’ï¼Œé¦–å…ˆéœ€è¦åˆå§‹åŒ–<code>SqlSession</code>ï¼Œé€šè¿‡<code>DefaultSqlSessionFactory</code>å¼€å¯<code>SqlSession</code>ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> SqlSession <span class="keyword">open</span><span class="constructor">SessionFromDataSource(ExecutorType <span class="params">execType</span>, TransactionIsolationLevel <span class="params">level</span>, <span class="params">boolean</span> <span class="params">autoCommit</span>)</span> &#123;</span><br><span class="line">    ............</span><br><span class="line">    final Executor executor = configuration.<span class="keyword">new</span><span class="constructor">Executor(<span class="params">tx</span>, <span class="params">execType</span>)</span>;     </span><br><span class="line">    return <span class="keyword">new</span> <span class="constructor">DefaultSqlSession(<span class="params">configuration</span>, <span class="params">executor</span>, <span class="params">autoCommit</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åˆå§‹åŒ–<code>SqlSesion</code>æ—¶ï¼Œä¼šä½¿ç”¨<code>Configuration</code>ç±»åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„<code>Executor</code>ï¼Œä½œä¸º<code>DefaultSqlSession</code>æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œåˆ›å»ºExecutorä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public Executor <span class="keyword">new</span><span class="constructor">Executor(Transaction <span class="params">transaction</span>, ExecutorType <span class="params">executorType</span>)</span> &#123;</span><br><span class="line">    executorType = executorType<span class="operator"> == </span>null ? defaultExecutorType : executorType;</span><br><span class="line">    executorType = executorType<span class="operator"> == </span>null ? ExecutorType.SIMPLE : executorType;</span><br><span class="line">    Executor executor;</span><br><span class="line">    <span class="keyword">if</span> (ExecutorType.BATCH<span class="operator"> == </span>executorType) &#123;</span><br><span class="line">      executor = <span class="keyword">new</span> <span class="constructor">BatchExecutor(<span class="params">this</span>, <span class="params">transaction</span>)</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ExecutorType.REUSE<span class="operator"> == </span>executorType) &#123;</span><br><span class="line">      executor = <span class="keyword">new</span> <span class="constructor">ReuseExecutor(<span class="params">this</span>, <span class="params">transaction</span>)</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      executor = <span class="keyword">new</span> <span class="constructor">SimpleExecutor(<span class="params">this</span>, <span class="params">transaction</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°¤å…¶å¯ä»¥æ³¨æ„è¿™é‡Œï¼Œå¦‚æœäºŒçº§ç¼“å­˜å¼€å…³å¼€å¯çš„è¯ï¼Œæ˜¯ä½¿ç”¨CahingExecutorè£…é¥°BaseExecutorçš„å­ç±»</span></span><br><span class="line">    <span class="keyword">if</span> (cacheEnabled) &#123;</span><br><span class="line">      executor = <span class="keyword">new</span> <span class="constructor">CachingExecutor(<span class="params">executor</span>)</span>;                      </span><br><span class="line">    &#125;</span><br><span class="line">    executor = (Executor) interceptorChain.plugin<span class="constructor">All(<span class="params">executor</span>)</span>;</span><br><span class="line">    return executor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>SqlSession</code>åˆ›å»ºå®Œæ¯•åï¼Œæ ¹æ®Statmentçš„ä¸åŒç±»å‹ï¼Œä¼šè¿›å…¥<code>SqlSession</code>çš„ä¸åŒæ–¹æ³•ä¸­ï¼Œå¦‚æœæ˜¯<code>Select</code>è¯­å¥çš„è¯ï¼Œæœ€åä¼šæ‰§è¡Œåˆ°<code>SqlSession</code>çš„<code>selectList</code>ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public &lt;E&gt; List&lt;E&gt; select<span class="constructor">List(String <span class="params">statement</span>, Object <span class="params">parameter</span>, RowBounds <span class="params">rowBounds</span>)</span> &#123;</span><br><span class="line">      MappedStatement ms = configuration.get<span class="constructor">MappedStatement(<span class="params">statement</span>)</span>;</span><br><span class="line">      return executor.query(ms, wrap<span class="constructor">Collection(<span class="params">parameter</span>)</span>, rowBounds, Executor.NO_RESULT_HANDLER);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>SqlSession</code>æŠŠå…·ä½“çš„æŸ¥è¯¢èŒè´£å§”æ‰˜ç»™äº†Executorã€‚å¦‚æœåªå¼€å¯äº†ä¸€çº§ç¼“å­˜çš„è¯ï¼Œé¦–å…ˆä¼šè¿›å…¥<code>BaseExecutor</code>çš„<code>query</code>æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public &lt;E&gt; List&lt;E&gt; query(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler) throws SQLException &#123;</span><br><span class="line">    BoundSql boundSql = ms.get<span class="constructor">BoundSql(<span class="params">parameter</span>)</span>;</span><br><span class="line">    CacheKey key = create<span class="constructor">CacheKey(<span class="params">ms</span>, <span class="params">parameter</span>, <span class="params">rowBounds</span>, <span class="params">boundSql</span>)</span>;</span><br><span class="line">    return query(ms, parameter, rowBounds, resultHandler, key, boundSql);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œä¼šå…ˆæ ¹æ®ä¼ å…¥çš„å‚æ•°ç”ŸæˆCacheKeyï¼Œè¿›å…¥è¯¥æ–¹æ³•æŸ¥çœ‹CacheKeyæ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">CacheKey cacheKey = <span class="built_in">new</span> CacheKey();</span><br><span class="line">cacheKey.<span class="keyword">update</span>(ms.getId());</span><br><span class="line">cacheKey.<span class="keyword">update</span>(rowBounds.getOffset());</span><br><span class="line">cacheKey.<span class="keyword">update</span>(rowBounds.getLimit());</span><br><span class="line">cacheKey.<span class="keyword">update</span>(boundSql.getSql());</span><br><span class="line">//åé¢æ˜¯<span class="keyword">update</span>äº†<span class="keyword">sql</span>ä¸­å¸¦çš„å‚æ•°</span><br><span class="line">cacheKey.<span class="keyword">update</span>(<span class="keyword">value</span>);</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°çš„ä»£ç ä¸­ï¼Œå°†<code>MappedStatement</code>çš„Idã€SQLçš„offsetã€SQLçš„limitã€SQLæœ¬èº«ä»¥åŠSQLä¸­çš„å‚æ•°ä¼ å…¥äº†CacheKeyè¿™ä¸ªç±»ï¼Œæœ€ç»ˆæ„æˆCacheKeyã€‚ä»¥ä¸‹æ˜¯è¿™ä¸ªç±»çš„å†…éƒ¨ç»“æ„ï¼š</p><figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">int</span> DEFAULT_MULTIPLYER = <span class="number">37</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">int</span> DEFAULT_HASHCODE = <span class="number">17</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> multiplier;</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> hashcode;</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">long</span> checksum;</span><br><span class="line"><span class="keyword">private</span> <span class="built_in">int</span> <span class="keyword">count</span>;</span><br><span class="line"><span class="keyword">private</span> List&lt;Object&gt; updateList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> CacheKey() &#123;</span><br><span class="line">    <span class="keyword">this</span>.hashcode = DEFAULT_HASHCODE;</span><br><span class="line">    <span class="keyword">this</span>.multiplier = DEFAULT_MULTIPLYER;</span><br><span class="line">    <span class="keyword">this</span>.<span class="keyword">count</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.updateList = <span class="keyword">new</span> ArrayList&lt;Object&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ˜¯æˆå‘˜å˜é‡å’Œæ„é€ å‡½æ•°ï¼Œæœ‰ä¸€ä¸ªåˆå§‹çš„<code>hachcode</code>å’Œä¹˜æ•°ï¼ŒåŒæ—¶ç»´æŠ¤äº†ä¸€ä¸ªå†…éƒ¨çš„<code>updatelist</code>ã€‚åœ¨<code>CacheKey</code>çš„<code>update</code>æ–¹æ³•ä¸­ï¼Œä¼šè¿›è¡Œä¸€ä¸ª<code>hashcode</code>å’Œ<code>checksum</code>çš„è®¡ç®—ï¼ŒåŒæ—¶æŠŠä¼ å…¥çš„å‚æ•°æ·»åŠ è¿›<code>updatelist</code>ä¸­ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="built_in">public</span> <span class="type">void</span> <span class="keyword">update</span>(<span class="keyword">Object</span> <span class="keyword">object</span>) &#123;</span><br><span class="line">    <span class="type">int</span> baseHashCode = <span class="keyword">object</span> == <span class="keyword">null</span> ? <span class="number">1</span> : ArrayUtil.hashCode(<span class="keyword">object</span>); </span><br><span class="line">    count++;</span><br><span class="line">    checksum += baseHashCode;</span><br><span class="line">    baseHashCode *= count;</span><br><span class="line">    hashcode = multiplier * hashcode + baseHashCode;</span><br><span class="line">    </span><br><span class="line">    updateList.<span class="keyword">add</span>(<span class="keyword">object</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ—¶é‡å†™äº†<code>CacheKey</code>çš„<code>equals</code>æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight processing"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line"><span class="keyword">public</span> <span class="built_in">boolean</span> equals(<span class="keyword">Object</span> object) &#123;</span><br><span class="line">    .............</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; updateList.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">      <span class="keyword">Object</span> thisObject = updateList.<span class="built_in">get</span>(i);</span><br><span class="line">      <span class="keyword">Object</span> thatObject = cacheKey.updateList.<span class="built_in">get</span>(i);</span><br><span class="line">      <span class="keyword">if</span> (!ArrayUtil.equals(thisObject, thatObject)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤å»hashcodeã€checksumå’Œcountçš„æ¯”è¾ƒå¤–ï¼Œåªè¦updatelistä¸­çš„å…ƒç´ ä¸€ä¸€å¯¹åº”ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºæ˜¯CacheKeyç›¸ç­‰ã€‚åªè¦ä¸¤æ¡SQLçš„ä¸‹åˆ—äº”ä¸ªå€¼ç›¸åŒï¼Œå³å¯ä»¥è®¤ä¸ºæ˜¯ç›¸åŒçš„SQLã€‚</p><blockquote><p>Statement Id + Offset + Limmit + Sql + Params</p></blockquote><p>BaseExecutorçš„queryæ–¹æ³•ç»§ç»­å¾€ä¸‹èµ°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="built_in">list</span> = resultHandler<span class="operator"> == </span>null ? (List&lt;E&gt;) localCache.get<span class="constructor">Object(<span class="params">key</span>)</span> : null;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">list</span> != null) &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªä¸»è¦æ˜¯å¤„ç†å­˜å‚¨è¿‡ç¨‹ç”¨çš„ã€‚</span></span><br><span class="line">    handle<span class="constructor">LocallyCachedOutputParameters(<span class="params">ms</span>, <span class="params">key</span>, <span class="params">parameter</span>, <span class="params">boundSql</span>)</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">list</span> = query<span class="constructor">FromDatabase(<span class="params">ms</span>, <span class="params">parameter</span>, <span class="params">rowBounds</span>, <span class="params">resultHandler</span>, <span class="params">key</span>, <span class="params">boundSql</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæŸ¥ä¸åˆ°çš„è¯ï¼Œå°±ä»æ•°æ®åº“æŸ¥ï¼Œåœ¨<code>queryFromDatabase</code>ä¸­ï¼Œä¼šå¯¹<code>localcache</code>è¿›è¡Œå†™å…¥ã€‚</p><p>åœ¨<code>query</code>æ–¹æ³•æ‰§è¡Œçš„æœ€åï¼Œä¼šåˆ¤æ–­ä¸€çº§ç¼“å­˜çº§åˆ«æ˜¯å¦æ˜¯<code>STATEMENT</code>çº§åˆ«ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå°±æ¸…ç©ºç¼“å­˜ï¼Œè¿™ä¹Ÿå°±æ˜¯<code>STATEMENT</code>çº§åˆ«çš„ä¸€çº§ç¼“å­˜æ— æ³•å…±äº«<code>localCache</code>çš„åŸå› ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">if</span> (configuration.getLocalCacheScope() == LocalCacheScope.STATEMENT) &#123;</span><br><span class="line">        <span class="selector-tag">clearLocalCache</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æºç åˆ†æçš„æœ€åï¼Œæˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯<code>insert/delete/update</code>æ–¹æ³•ï¼Œç¼“å­˜å°±ä¼šåˆ·æ–°çš„åŸå› ã€‚</p><p><code>SqlSession</code>çš„<code>insert</code>æ–¹æ³•å’Œ<code>delete</code>æ–¹æ³•ï¼Œéƒ½ä¼šç»Ÿä¸€èµ°<code>update</code>çš„æµç¨‹ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line"><span class="built_in">public</span> <span class="type">int</span> <span class="keyword">insert</span>(String <span class="keyword">statement</span>, <span class="keyword">Object</span> parameter) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">update</span>(<span class="keyword">statement</span>, parameter);</span><br><span class="line">  &#125;</span><br><span class="line">   @Override</span><br><span class="line">  <span class="built_in">public</span> <span class="type">int</span> <span class="keyword">delete</span>(String <span class="keyword">statement</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">update</span>(<span class="keyword">statement</span>, <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>update</code>æ–¹æ³•ä¹Ÿæ˜¯å§”æ‰˜ç»™äº†<code>Executor</code>æ‰§è¡Œã€‚<code>BaseExecutor</code>çš„æ‰§è¡Œæ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public <span class="built_in">int</span> update(MappedStatement ms, Object parameter) throws SQLException &#123;</span><br><span class="line">    <span class="module-access"><span class="module"><span class="identifier">ErrorContext</span>.</span></span>instance<span class="literal">()</span>.resource(ms.get<span class="constructor">Resource()</span>).activity(<span class="string">&quot;executing an update&quot;</span>).<span class="keyword">object</span>(ms.get<span class="constructor">Id()</span>);</span><br><span class="line">    <span class="keyword">if</span> (closed) &#123;</span><br><span class="line">      throw <span class="keyword">new</span> <span class="constructor">ExecutorException(<span class="string">&quot;Executor was closed.&quot;</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    clear<span class="constructor">LocalCache()</span>;</span><br><span class="line">    return <span class="keyword">do</span><span class="constructor">Update(<span class="params">ms</span>, <span class="params">parameter</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡æ‰§è¡Œ<code>update</code>å‰éƒ½ä¼šæ¸…ç©º<code>localCache</code>ã€‚</p><p>è‡³æ­¤ï¼Œä¸€çº§ç¼“å­˜çš„å·¥ä½œæµç¨‹è®²è§£ä»¥åŠæºç åˆ†æå®Œæ¯•ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol><li>MyBatisä¸€çº§ç¼“å­˜çš„ç”Ÿå‘½å‘¨æœŸå’ŒSqlSessionä¸€è‡´ã€‚</li><li>MyBatisä¸€çº§ç¼“å­˜å†…éƒ¨è®¾è®¡ç®€å•ï¼Œåªæ˜¯ä¸€ä¸ªæ²¡æœ‰å®¹é‡é™å®šçš„HashMapï¼Œåœ¨ç¼“å­˜çš„åŠŸèƒ½æ€§ä¸Šæœ‰æ‰€æ¬ ç¼ºã€‚</li><li>MyBatisçš„ä¸€çº§ç¼“å­˜æœ€å¤§èŒƒå›´æ˜¯SqlSessionå†…éƒ¨ï¼Œæœ‰å¤šä¸ªSqlSessionæˆ–è€…åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹ï¼Œæ•°æ®åº“å†™æ“ä½œä¼šå¼•èµ·è„æ•°æ®ï¼Œå»ºè®®è®¾å®šç¼“å­˜çº§åˆ«ä¸ºStatementã€‚</li></ol><h2 id="äºŒçº§ç¼“å­˜"><a href="#äºŒçº§ç¼“å­˜" class="headerlink" title="äºŒçº§ç¼“å­˜"></a>äºŒçº§ç¼“å­˜</h2><h3 id="äºŒçº§ç¼“å­˜ä»‹ç»"><a href="#äºŒçº§ç¼“å­˜ä»‹ç»" class="headerlink" title="äºŒçº§ç¼“å­˜ä»‹ç»"></a>äºŒçº§ç¼“å­˜ä»‹ç»</h3><p>åœ¨ä¸Šæ–‡ä¸­æåˆ°çš„ä¸€çº§ç¼“å­˜ä¸­ï¼Œå…¶æœ€å¤§çš„å…±äº«èŒƒå›´å°±æ˜¯ä¸€ä¸ªSqlSessionå†…éƒ¨ï¼Œå¦‚æœå¤šä¸ªSqlSessionä¹‹é—´éœ€è¦å…±äº«ç¼“å­˜ï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ°äºŒçº§ç¼“å­˜ã€‚å¼€å¯äºŒçº§ç¼“å­˜åï¼Œä¼šä½¿ç”¨CachingExecutorè£…é¥°Executorï¼Œè¿›å…¥ä¸€çº§ç¼“å­˜çš„æŸ¥è¯¢æµç¨‹å‰ï¼Œå…ˆåœ¨CachingExecutorè¿›è¡ŒäºŒçº§ç¼“å­˜çš„æŸ¥è¯¢ï¼Œå…·ä½“çš„å·¥ä½œæµç¨‹å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/28399eba.png" alt="img"></p><p>äºŒçº§ç¼“å­˜å¼€å¯åï¼ŒåŒä¸€ä¸ªnamespaceä¸‹çš„æ‰€æœ‰æ“ä½œè¯­å¥ï¼Œéƒ½å½±å“ç€åŒä¸€ä¸ªCacheï¼Œå³äºŒçº§ç¼“å­˜è¢«å¤šä¸ªSqlSessionå…±äº«ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„å˜é‡ã€‚</p><p>å½“å¼€å¯ç¼“å­˜åï¼Œæ•°æ®çš„æŸ¥è¯¢æ‰§è¡Œçš„æµç¨‹å°±æ˜¯ äºŒçº§ç¼“å­˜ -&gt; ä¸€çº§ç¼“å­˜ -&gt; æ•°æ®åº“ã€‚</p><h3 id="äºŒçº§ç¼“å­˜é…ç½®"><a href="#äºŒçº§ç¼“å­˜é…ç½®" class="headerlink" title="äºŒçº§ç¼“å­˜é…ç½®"></a>äºŒçº§ç¼“å­˜é…ç½®</h3><p>è¦æ­£ç¡®çš„ä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œéœ€å®Œæˆå¦‚ä¸‹é…ç½®çš„ã€‚</p><ol><li>åœ¨MyBatisçš„é…ç½®æ–‡ä»¶ä¸­å¼€å¯äºŒçº§ç¼“å­˜ã€‚</li></ol><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">&lt;setting <span class="attribute">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attribute">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><ol><li>åœ¨MyBatisçš„æ˜ å°„XMLä¸­é…ç½®cacheæˆ–è€… cache-ref ã€‚</li></ol><p>cacheæ ‡ç­¾ç”¨äºå£°æ˜è¿™ä¸ªnamespaceä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰é…ç½®ã€‚</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;cache/&gt;</span>   </span><br></pre></td></tr></table></figure><ul><li><code>type</code>ï¼šcacheä½¿ç”¨çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯<code>PerpetualCache</code>ï¼Œè¿™åœ¨ä¸€çº§ç¼“å­˜ä¸­æåˆ°è¿‡ã€‚</li><li><code>eviction</code>ï¼š å®šä¹‰å›æ”¶çš„ç­–ç•¥ï¼Œå¸¸è§çš„æœ‰FIFOï¼ŒLRUã€‚</li><li><code>flushInterval</code>ï¼š é…ç½®ä¸€å®šæ—¶é—´è‡ªåŠ¨åˆ·æ–°ç¼“å­˜ï¼Œå•ä½æ˜¯æ¯«ç§’ã€‚</li><li><code>size</code>ï¼š æœ€å¤šç¼“å­˜å¯¹è±¡çš„ä¸ªæ•°ã€‚</li><li><code>readOnly</code>ï¼š æ˜¯å¦åªè¯»ï¼Œè‹¥é…ç½®å¯è¯»å†™ï¼Œåˆ™éœ€è¦å¯¹åº”çš„å®ä½“ç±»èƒ½å¤Ÿåºåˆ—åŒ–ã€‚</li><li><code>blocking</code>ï¼š è‹¥ç¼“å­˜ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„keyï¼Œæ˜¯å¦ä¼šä¸€ç›´blockingï¼Œç›´åˆ°æœ‰å¯¹åº”çš„æ•°æ®è¿›å…¥ç¼“å­˜ã€‚</li></ul><p><code>cache-ref</code>ä»£è¡¨å¼•ç”¨åˆ«çš„å‘½åç©ºé—´çš„Cacheé…ç½®ï¼Œä¸¤ä¸ªå‘½åç©ºé—´çš„æ“ä½œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªCacheã€‚</p><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">&lt;cache-<span class="keyword">ref</span> <span class="keyword">namespace</span>=<span class="string">&quot;mapper.StudentMapper&quot;</span>/&gt;</span><br></pre></td></tr></table></figure><h3 id="äºŒçº§ç¼“å­˜å®éªŒ"><a href="#äºŒçº§ç¼“å­˜å®éªŒ" class="headerlink" title="äºŒçº§ç¼“å­˜å®éªŒ"></a>äºŒçº§ç¼“å­˜å®éªŒ</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡å®éªŒï¼Œäº†è§£MyBatisäºŒçº§ç¼“å­˜åœ¨ä½¿ç”¨ä¸Šçš„ä¸€äº›ç‰¹ç‚¹ã€‚</p><p>åœ¨æœ¬å®éªŒä¸­ï¼Œidä¸º1çš„å­¦ç”Ÿåç§°åˆå§‹åŒ–ä¸ºç‚¹ç‚¹ã€‚</p><h4 id="å®éªŒ1-1"><a href="#å®éªŒ1-1" class="headerlink" title="å®éªŒ1"></a>å®éªŒ1</h4><p>æµ‹è¯•äºŒçº§ç¼“å­˜æ•ˆæœï¼Œä¸æäº¤äº‹åŠ¡ï¼Œ<code>sqlSession1</code>æŸ¥è¯¢å®Œæ•°æ®åï¼Œ<code>sqlSession2</code>ç›¸åŒçš„æŸ¥è¯¢æ˜¯å¦ä¼šä»ç¼“å­˜ä¸­è·å–æ•°æ®ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void test<span class="constructor">CacheWithoutCommitOrClose()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession2 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        </span><br><span class="line">        StudentMapper studentMapper = sqlSession1.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/71e2bfdc.jpg" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“<code>sqlsession</code>æ²¡æœ‰è°ƒç”¨<code>commit()</code>æ–¹æ³•æ—¶ï¼ŒäºŒçº§ç¼“å­˜å¹¶æ²¡æœ‰èµ·åˆ°ä½œç”¨ã€‚</p><h4 id="å®éªŒ2-1"><a href="#å®éªŒ2-1" class="headerlink" title="å®éªŒ2"></a>å®éªŒ2</h4><p>æµ‹è¯•äºŒçº§ç¼“å­˜æ•ˆæœï¼Œå½“æäº¤äº‹åŠ¡æ—¶ï¼Œ<code>sqlSession1</code>æŸ¥è¯¢å®Œæ•°æ®åï¼Œ<code>sqlSession2</code>ç›¸åŒçš„æŸ¥è¯¢æ˜¯å¦ä¼šä»ç¼“å­˜ä¸­è·å–æ•°æ®ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void test<span class="constructor">CacheWithCommitOrClose()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession2 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        </span><br><span class="line">        StudentMapper studentMapper = sqlSession1.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        sqlSession1.commit<span class="literal">()</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/f366f34e.jpg" alt="img"></p><p>ä»å›¾ä¸Šå¯çŸ¥ï¼Œ<code>sqlsession2</code>çš„æŸ¥è¯¢ï¼Œä½¿ç”¨äº†ç¼“å­˜ï¼Œç¼“å­˜çš„å‘½ä¸­ç‡æ˜¯0.5ã€‚</p><h4 id="å®éªŒ3-1"><a href="#å®éªŒ3-1" class="headerlink" title="å®éªŒ3"></a>å®éªŒ3</h4><p>æµ‹è¯•<code>update</code>æ“ä½œæ˜¯å¦ä¼šåˆ·æ–°è¯¥<code>namespace</code>ä¸‹çš„äºŒçº§ç¼“å­˜ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void test<span class="constructor">CacheWithUpdate()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession2 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession3 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        </span><br><span class="line">        StudentMapper studentMapper = sqlSession1.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper3 = sqlSession3.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        sqlSession1.commit<span class="literal">()</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">        </span><br><span class="line">        studentMapper3.update<span class="constructor">StudentName(<span class="string">&quot;æ–¹æ–¹&quot;</span>,1)</span>;</span><br><span class="line">        sqlSession3.commit<span class="literal">()</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentById(1)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/3ad93c3a.jpg" alt="img"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>sqlSession3</code>æ›´æ–°æ•°æ®åº“ï¼Œå¹¶æäº¤äº‹åŠ¡åï¼Œ<code>sqlsession2</code>çš„<code>StudentMapper namespace</code>ä¸‹çš„æŸ¥è¯¢èµ°äº†æ•°æ®åº“ï¼Œæ²¡æœ‰èµ°Cacheã€‚</p><h4 id="å®éªŒ4"><a href="#å®éªŒ4" class="headerlink" title="å®éªŒ4"></a>å®éªŒ4</h4><p>éªŒè¯MyBatisçš„äºŒçº§ç¼“å­˜ä¸é€‚åº”ç”¨äºæ˜ å°„æ–‡ä»¶ä¸­å­˜åœ¨å¤šè¡¨æŸ¥è¯¢çš„æƒ…å†µã€‚</p><p>é€šå¸¸æˆ‘ä»¬ä¼šä¸ºæ¯ä¸ªå•è¡¨åˆ›å»ºå•ç‹¬çš„æ˜ å°„æ–‡ä»¶ï¼Œç”±äºMyBatisçš„äºŒçº§ç¼“å­˜æ˜¯åŸºäº<code>namespace</code>çš„ï¼Œå¤šè¡¨æŸ¥è¯¢è¯­å¥æ‰€åœ¨çš„<code>namspace</code>æ— æ³•æ„Ÿåº”åˆ°å…¶ä»–<code>namespace</code>ä¸­çš„è¯­å¥å¯¹å¤šè¡¨æŸ¥è¯¢ä¸­æ¶‰åŠçš„è¡¨è¿›è¡Œçš„ä¿®æ”¹ï¼Œå¼•å‘è„æ•°æ®é—®é¢˜ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void test<span class="constructor">CacheWithDiffererntNamespace()</span> throws Exception &#123;</span><br><span class="line">        SqlSession sqlSession1 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession2 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">        SqlSession sqlSession3 = factory.<span class="keyword">open</span><span class="constructor">Session(<span class="params">true</span>)</span>; </span><br><span class="line">    </span><br><span class="line">        StudentMapper studentMapper = sqlSession1.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        StudentMapper studentMapper2 = sqlSession2.get<span class="constructor">Mapper(StudentMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        ClassMapper classMapper = sqlSession3.get<span class="constructor">Mapper(ClassMapper.<span class="params">class</span>)</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapperè¯»å–æ•°æ®: &quot;</span> + studentMapper.get<span class="constructor">StudentByIdWithClassInfo(1)</span>);</span><br><span class="line">        sqlSession1.close<span class="literal">()</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentByIdWithClassInfo(1)</span>);</span><br><span class="line"></span><br><span class="line">        classMapper.update<span class="constructor">ClassName(<span class="string">&quot;ç‰¹è‰²ä¸€ç­&quot;</span>,1)</span>;</span><br><span class="line">        sqlSession3.commit<span class="literal">()</span>;</span><br><span class="line">        <span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(<span class="string">&quot;studentMapper2è¯»å–æ•°æ®: &quot;</span> + studentMapper2.get<span class="constructor">StudentByIdWithClassInfo(1)</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/5265ed97.jpg" alt="img"></p><p>åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸¤å¼ æ–°çš„è¡¨ï¼Œä¸€å¼ classï¼Œä¸€å¼ classroomã€‚classä¸­ä¿å­˜äº†ç­çº§çš„idå’Œç­çº§åï¼Œclassroomä¸­ä¿å­˜äº†ç­çº§idå’Œå­¦ç”Ÿidã€‚æˆ‘ä»¬åœ¨<code>StudentMapper</code>ä¸­å¢åŠ äº†ä¸€ä¸ªæŸ¥è¯¢æ–¹æ³•<code>getStudentByIdWithClassInfo</code>ï¼Œç”¨äºæŸ¥è¯¢å­¦ç”Ÿæ‰€åœ¨çš„ç­çº§ï¼Œæ¶‰åŠåˆ°å¤šè¡¨æŸ¥è¯¢ã€‚åœ¨<code>ClassMapper</code>ä¸­æ·»åŠ äº†<code>updateClassName</code>ï¼Œæ ¹æ®ç­çº§idæ›´æ–°ç­çº§åçš„æ“ä½œã€‚</p><p>å½“<code>sqlsession1</code>çš„<code>studentmapper</code>æŸ¥è¯¢æ•°æ®åï¼ŒäºŒçº§ç¼“å­˜ç”Ÿæ•ˆã€‚ä¿å­˜åœ¨StudentMapperçš„namespaceä¸‹çš„cacheä¸­ã€‚å½“<code>sqlSession3</code>çš„<code>classMapper</code>çš„<code>updateClassName</code>æ–¹æ³•å¯¹classè¡¨è¿›è¡Œæ›´æ–°æ—¶ï¼Œ<code>updateClassName</code>ä¸å±äº<code>StudentMapper</code>çš„<code>namespace</code>ï¼Œæ‰€ä»¥<code>StudentMapper</code>ä¸‹çš„cacheæ²¡æœ‰æ„Ÿåº”åˆ°å˜åŒ–ï¼Œæ²¡æœ‰åˆ·æ–°ç¼“å­˜ã€‚å½“<code>StudentMapper</code>ä¸­åŒæ ·çš„æŸ¥è¯¢å†æ¬¡å‘èµ·æ—¶ï¼Œä»ç¼“å­˜ä¸­è¯»å–äº†è„æ•°æ®ã€‚</p><h4 id="å®éªŒ5"><a href="#å®éªŒ5" class="headerlink" title="å®éªŒ5"></a>å®éªŒ5</h4><p>ä¸ºäº†è§£å†³å®éªŒ4çš„é—®é¢˜å‘¢ï¼Œå¯ä»¥ä½¿ç”¨Cache refï¼Œè®©<code>ClassMapper</code>å¼•ç”¨<code>StudenMapper</code>å‘½åç©ºé—´ï¼Œè¿™æ ·ä¸¤ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”çš„SQLæ“ä½œéƒ½ä½¿ç”¨çš„æ˜¯åŒä¸€å—ç¼“å­˜äº†ã€‚</p><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/a2e4c2d8.jpg" alt="img"></p><p>ä¸è¿‡è¿™æ ·åšçš„åæœæ˜¯ï¼Œç¼“å­˜çš„ç²’åº¦å˜ç²—äº†ï¼Œå¤šä¸ª<code>Mapper namespace</code>ä¸‹çš„æ‰€æœ‰æ“ä½œéƒ½ä¼šå¯¹ç¼“å­˜ä½¿ç”¨é€ æˆå½±å“ã€‚</p><h3 id="äºŒçº§ç¼“å­˜æºç åˆ†æ"><a href="#äºŒçº§ç¼“å­˜æºç åˆ†æ" class="headerlink" title="äºŒçº§ç¼“å­˜æºç åˆ†æ"></a>äºŒçº§ç¼“å­˜æºç åˆ†æ</h3><p>MyBatisäºŒçº§ç¼“å­˜çš„å·¥ä½œæµç¨‹å’Œå‰æ–‡æåˆ°çš„ä¸€çº§ç¼“å­˜ç±»ä¼¼ï¼Œåªæ˜¯åœ¨ä¸€çº§ç¼“å­˜å¤„ç†å‰ï¼Œç”¨<code>CachingExecutor</code>è£…é¥°äº†<code>BaseExecutor</code>çš„å­ç±»ï¼Œåœ¨å§”æ‰˜å…·ä½“èŒè´£ç»™<code>delegate</code>ä¹‹å‰ï¼Œå®ç°äº†äºŒçº§ç¼“å­˜çš„æŸ¥è¯¢å’Œå†™å…¥åŠŸèƒ½ï¼Œå…·ä½“ç±»å…³ç³»å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/090216b1.jpg" alt="img"></p><h4 id="æºç åˆ†æ-1"><a href="#æºç åˆ†æ-1" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h4><p>æºç åˆ†æä»<code>CachingExecutor</code>çš„<code>query</code>æ–¹æ³•å±•å¼€ï¼Œæºä»£ç èµ°è¯»è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹è¾ƒå¤šï¼Œä¸èƒ½ä¸€ä¸€è¯¦ç»†è®²è§£ï¼Œè¯»è€…æœ‹å‹å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢ç›¸å…³èµ„æ–™æ¥å­¦ä¹ ã€‚</p><p><code>CachingExecutor</code>çš„<code>query</code>æ–¹æ³•ï¼Œé¦–å…ˆä¼šä»<code>MappedStatement</code>ä¸­è·å¾—åœ¨é…ç½®åˆå§‹åŒ–æ—¶èµ‹äºˆçš„Cacheã€‚</p><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Cache</span> <span class="keyword">cache</span> = ms.getCache();</span><br></pre></td></tr></table></figure><p>æœ¬è´¨ä¸Šæ˜¯è£…é¥°å™¨æ¨¡å¼çš„ä½¿ç”¨ï¼Œå…·ä½“çš„è£…é¥°é“¾æ˜¯ï¼š</p><blockquote><p>SynchronizedCache -&gt; LoggingCache -&gt; SerializedCache -&gt; LruCache -&gt; PerpetualCacheã€‚</p></blockquote><p><img src="https://awps-assets.meituan.net/mit-x/blog-images-bundle-2018a/1f5233b2.jpg" alt="img"></p><p>ä»¥ä¸‹æ˜¯å…·ä½“è¿™äº›Cacheå®ç°ç±»çš„ä»‹ç»ï¼Œä»–ä»¬çš„ç»„åˆä¸ºCacheèµ‹äºˆäº†ä¸åŒçš„èƒ½åŠ›ã€‚</p><ul><li><code>SynchronizedCache</code>ï¼šåŒæ­¥Cacheï¼Œå®ç°æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨synchronizedä¿®é¥°æ–¹æ³•ã€‚</li><li><code>LoggingCache</code>ï¼šæ—¥å¿—åŠŸèƒ½ï¼Œè£…é¥°ç±»ï¼Œç”¨äºè®°å½•ç¼“å­˜çš„å‘½ä¸­ç‡ï¼Œå¦‚æœå¼€å¯äº†DEBUGæ¨¡å¼ï¼Œåˆ™ä¼šè¾“å‡ºå‘½ä¸­ç‡æ—¥å¿—ã€‚</li><li><code>SerializedCache</code>ï¼šåºåˆ—åŒ–åŠŸèƒ½ï¼Œå°†å€¼åºåˆ—åŒ–åå­˜åˆ°ç¼“å­˜ä¸­ã€‚è¯¥åŠŸèƒ½ç”¨äºç¼“å­˜è¿”å›ä¸€ä»½å®ä¾‹çš„Copyï¼Œç”¨äºä¿å­˜çº¿ç¨‹å®‰å…¨ã€‚</li><li><code>LruCache</code>ï¼šé‡‡ç”¨äº†Lruç®—æ³•çš„Cacheå®ç°ï¼Œç§»é™¤æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„Key/Valueã€‚</li><li><code>PerpetualCache</code>ï¼š ä½œä¸ºä¸ºæœ€åŸºç¡€çš„ç¼“å­˜ç±»ï¼Œåº•å±‚å®ç°æ¯”è¾ƒç®€å•ï¼Œç›´æ¥ä½¿ç”¨äº†HashMapã€‚</li></ul><p>ç„¶åæ˜¯åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ·æ–°ç¼“å­˜ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">flush<span class="constructor">CacheIfRequired(<span class="params">ms</span>)</span>;</span><br></pre></td></tr></table></figure><p>åœ¨é»˜è®¤çš„è®¾ç½®ä¸­<code>SELECT</code>è¯­å¥ä¸ä¼šåˆ·æ–°ç¼“å­˜ï¼Œ<code>insert/update/delte</code>ä¼šåˆ·æ–°ç¼“å­˜ã€‚è¿›å…¥è¯¥æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="literal">void</span> flushCacheIfRequired(MappedStatement ms) &#123;</span><br><span class="line">    <span class="keyword">Cache</span> <span class="keyword">cache</span> = ms.getCache();</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">cache</span> != <span class="built_in">null</span> &amp;&amp; ms.isFlushCacheRequired()) &#123;      </span><br><span class="line">      tcm.clear(<span class="keyword">cache</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MyBatisçš„<code>CachingExecutor</code>æŒæœ‰äº†<code>TransactionalCacheManager</code>ï¼Œå³ä¸Šè¿°ä»£ç ä¸­çš„tcmã€‚</p><p><code>TransactionalCacheManager</code>ä¸­æŒæœ‰äº†ä¸€ä¸ªMapï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">Map</span>&lt;<span class="keyword">Cache</span>, TransactionalCache&gt; transactionalCaches = <span class="literal">new</span> HashMap&lt;<span class="keyword">Cache</span>, TransactionalCache&gt;();</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªMapä¿å­˜äº†Cacheå’Œç”¨<code>TransactionalCache</code>åŒ…è£…åçš„Cacheçš„æ˜ å°„å…³ç³»ã€‚</p><p><code>TransactionalCache</code>å®ç°äº†Cacheæ¥å£ï¼Œ<code>CachingExecutor</code>ä¼šé»˜è®¤ä½¿ç”¨ä»–åŒ…è£…åˆå§‹ç”Ÿæˆçš„Cacheï¼Œä½œç”¨æ˜¯å¦‚æœäº‹åŠ¡æäº¤ï¼Œå¯¹ç¼“å­˜çš„æ“ä½œæ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœäº‹åŠ¡å›æ»šæˆ–è€…ä¸æäº¤äº‹åŠ¡ï¼Œåˆ™ä¸å¯¹ç¼“å­˜äº§ç”Ÿå½±å“ã€‚</p><p>åœ¨<code>TransactionalCache</code>çš„clearï¼Œæœ‰ä»¥ä¸‹ä¸¤å¥ã€‚æ¸…ç©ºäº†éœ€è¦åœ¨æäº¤æ—¶åŠ å…¥ç¼“å­˜çš„åˆ—è¡¨ï¼ŒåŒæ—¶è®¾å®šæäº¤æ—¶æ¸…ç©ºç¼“å­˜ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">clear</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  clearOnCommit = <span class="literal">true</span>;</span><br><span class="line">  entriesToAddOnCommit.clear();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>CachingExecutor</code>ç»§ç»­å¾€ä¸‹èµ°ï¼Œ<code>ensureNoOutParams</code>ä¸»è¦æ˜¯ç”¨æ¥å¤„ç†å­˜å‚¨è¿‡ç¨‹çš„ï¼Œæš‚æ—¶ä¸ç”¨è€ƒè™‘ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (ms.is<span class="constructor">UseCache()</span><span class="operator"> &amp;&amp; </span>resultHandler<span class="operator"> == </span>null) &#123;</span><br><span class="line">  ensure<span class="constructor">NoOutParams(<span class="params">ms</span>, <span class="params">parameterObject</span>, <span class="params">boundSql</span>)</span>;</span><br></pre></td></tr></table></figure><p>ä¹‹åä¼šå°è¯•ä»tcmä¸­è·å–ç¼“å­˜çš„åˆ—è¡¨ã€‚</p><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="built_in">List</span><span class="operator">&lt;</span><span class="built_in">E</span><span class="operator">&gt;</span> <span class="variable">list</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="built_in">List</span><span class="operator">&lt;</span><span class="built_in">E</span><span class="operator">&gt;</span><span class="punctuation">)</span> <span class="variable">tcm</span><span class="operator">.</span><span class="variable">getObject</span><span class="punctuation">(</span><span class="variable">cache</span><span class="operator">,</span> <span class="variable">key</span><span class="punctuation">)</span><span class="operator">;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>getObject</code>æ–¹æ³•ä¸­ï¼Œä¼šæŠŠè·å–å€¼çš„èŒè´£ä¸€è·¯ä¼ é€’ï¼Œæœ€ç»ˆåˆ°<code>PerpetualCache</code>ã€‚å¦‚æœæ²¡æœ‰æŸ¥åˆ°ï¼Œä¼šæŠŠkeyåŠ å…¥Missé›†åˆï¼Œè¿™ä¸ªä¸»è¦æ˜¯ä¸ºäº†ç»Ÿè®¡å‘½ä¸­ç‡ã€‚</p><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">Object <span class="built_in">object</span> = <span class="built_in">delegate</span>.getObject(key);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">object</span> == <span class="literal">null</span>) &#123;</span><br><span class="line">  entriesMissedInCache.<span class="keyword">add</span>(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>CachingExecutor</code>ç»§ç»­å¾€ä¸‹èµ°ï¼Œå¦‚æœæŸ¥è¯¢åˆ°æ•°æ®ï¼Œåˆ™è°ƒç”¨<code>tcm.putObject</code>æ–¹æ³•ï¼Œå¾€ç¼“å­˜ä¸­æ”¾å…¥å€¼ã€‚</p><figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">if (<span class="type">list</span> == null) &#123;</span><br><span class="line">  <span class="type">list</span> = delegate.&lt;E&gt; query(ms, parameterObject, rowBounds, resultHandler, <span class="type">key</span>, boundSql);</span><br><span class="line">  tcm.putObject(cache, <span class="type">key</span>, <span class="type">list</span>); <span class="comment">// issue #578 and #116</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>tcmçš„<code>put</code>æ–¹æ³•ä¹Ÿä¸æ˜¯ç›´æ¥æ“ä½œç¼“å­˜ï¼Œåªæ˜¯åœ¨æŠŠè¿™æ¬¡çš„æ•°æ®å’Œkeyæ”¾å…¥å¾…æäº¤çš„Mapä¸­ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">putObject</span>(<span class="params"><span class="built_in">Object</span> key, <span class="built_in">Object</span> <span class="built_in">object</span></span>)</span> &#123;</span><br><span class="line">    entriesToAddOnCommit.put(key, <span class="built_in">object</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä»¥ä¸Šçš„ä»£ç åˆ†æä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç™½ï¼Œå¦‚æœä¸è°ƒç”¨<code>commit</code>æ–¹æ³•çš„è¯ï¼Œç”±äº<code>TranscationalCache</code>çš„ä½œç”¨ï¼Œå¹¶ä¸ä¼šå¯¹äºŒçº§ç¼“å­˜é€ æˆç›´æ¥çš„å½±å“ã€‚å› æ­¤æˆ‘ä»¬çœ‹çœ‹<code>Sqlsession</code>çš„<code>commit</code>æ–¹æ³•ä¸­åšäº†ä»€ä¹ˆã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">commit</span>(<span class="params"><span class="built_in">boolean</span> force</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      executor.commit(isCommitOrRollbackRequired(force));</span><br></pre></td></tr></table></figure><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†CachingExecutorï¼Œé¦–å…ˆä¼šè¿›å…¥CachingExecutorå®ç°çš„commitæ–¹æ³•ã€‚</p><figure class="highlight aspectj"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">commit</span><span class="params">(<span class="keyword">boolean</span> required)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    delegate.commit(required);</span><br><span class="line">    tcm.commit();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼šæŠŠå…·ä½“commitçš„èŒè´£å§”æ‰˜ç»™åŒ…è£…çš„<code>Executor</code>ã€‚ä¸»è¦æ˜¯çœ‹ä¸‹<code>tcm.commit()</code>ï¼Œtcmæœ€ç»ˆåˆä¼šè°ƒç”¨åˆ°<code>TrancationalCache</code>ã€‚</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">void</span> <span class="selector-tag">commit</span>() &#123;</span><br><span class="line">    <span class="selector-tag">if</span> (clearOnCommit) &#123;</span><br><span class="line">      <span class="selector-tag">delegate</span><span class="selector-class">.clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">flushPendingEntries</span>();</span><br><span class="line">    <span class="selector-tag">reset</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œçš„<code>clearOnCommit</code>å°±æƒ³èµ·åˆšæ‰<code>TrancationalCache</code>çš„<code>clear</code>æ–¹æ³•è®¾ç½®çš„æ ‡å¿—ä½ï¼ŒçœŸæ­£çš„æ¸…ç†Cacheæ˜¯æ”¾åˆ°è¿™é‡Œæ¥è¿›è¡Œçš„ã€‚å…·ä½“æ¸…ç†çš„èŒè´£å§”æ‰˜ç»™äº†åŒ…è£…çš„Cacheç±»ã€‚ä¹‹åè¿›å…¥<code>flushPendingEntries</code>æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight lasso"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="literal">void</span> flushPendingEntries() &#123;</span><br><span class="line">    for (<span class="built_in">Map</span>.Entry&lt;Object, Object&gt; entry : entriesToAddOnCommit.entrySet()) &#123;</span><br><span class="line">      delegate.putObject(entry.getKey(), entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="params">...</span><span class="params">...</span><span class="params">...</span><span class="params">...</span><span class="params">...</span>.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨<code>flushPending</code>Entriesä¸­ï¼Œå°†å¾…æäº¤çš„Mapè¿›è¡Œå¾ªç¯å¤„ç†ï¼Œå§”æ‰˜ç»™åŒ…è£…çš„Cacheç±»ï¼Œè¿›è¡Œ<code>putObject</code>çš„æ“ä½œã€‚</p><p>åç»­çš„æŸ¥è¯¢æ“ä½œä¼šé‡å¤æ‰§è¡Œè¿™å¥—æµç¨‹ã€‚å¦‚æœæ˜¯<code>insert|update|delete</code>çš„è¯ï¼Œä¼šç»Ÿä¸€è¿›å…¥<code>CachingExecutor</code>çš„<code>update</code>æ–¹æ³•ï¼Œå…¶ä¸­è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> void flush<span class="constructor">CacheIfRequired(MappedStatement <span class="params">ms</span>)</span> </span><br></pre></td></tr></table></figure><p>åœ¨äºŒçº§ç¼“å­˜æ‰§è¡Œæµç¨‹åå°±ä¼šè¿›å…¥ä¸€çº§ç¼“å­˜çš„æ‰§è¡Œæµç¨‹ï¼Œå› æ­¤ä¸å†èµ˜è¿°ã€‚</p><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol><li>MyBatisçš„äºŒçº§ç¼“å­˜ç›¸å¯¹äºä¸€çº§ç¼“å­˜æ¥è¯´ï¼Œå®ç°äº†<code>SqlSession</code>ä¹‹é—´ç¼“å­˜æ•°æ®çš„å…±äº«ï¼ŒåŒæ—¶ç²’åº¦æ›´åŠ çš„ç»†ï¼Œèƒ½å¤Ÿåˆ°<code>namespace</code>çº§åˆ«ï¼Œé€šè¿‡Cacheæ¥å£å®ç°ç±»ä¸åŒçš„ç»„åˆï¼Œå¯¹Cacheçš„å¯æ§æ€§ä¹Ÿæ›´å¼ºã€‚</li><li>MyBatisåœ¨å¤šè¡¨æŸ¥è¯¢æ—¶ï¼Œæå¤§å¯èƒ½ä¼šå‡ºç°è„æ•°æ®ï¼Œæœ‰è®¾è®¡ä¸Šçš„ç¼ºé™·ï¼Œå®‰å…¨ä½¿ç”¨äºŒçº§ç¼“å­˜çš„æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ã€‚</li><li>åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œç”±äºé»˜è®¤çš„MyBatis Cacheå®ç°éƒ½æ˜¯åŸºäºæœ¬åœ°çš„ï¼Œåˆ†å¸ƒå¼ç¯å¢ƒä¸‹å¿…ç„¶ä¼šå‡ºç°è¯»å–åˆ°è„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨é›†ä¸­å¼ç¼“å­˜å°†MyBatisçš„Cacheæ¥å£å®ç°ï¼Œæœ‰ä¸€å®šçš„å¼€å‘æˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨Redisã€Memcachedç­‰åˆ†å¸ƒå¼ç¼“å­˜å¯èƒ½æˆæœ¬æ›´ä½ï¼Œå®‰å…¨æ€§ä¹Ÿæ›´é«˜ã€‚</li></ol><h2 id="å…¨æ–‡æ€»ç»“"><a href="#å…¨æ–‡æ€»ç»“" class="headerlink" title="å…¨æ–‡æ€»ç»“"></a>å…¨æ–‡æ€»ç»“</h2><p>æœ¬æ–‡å¯¹ä»‹ç»äº†MyBatisä¸€äºŒçº§ç¼“å­˜çš„åŸºæœ¬æ¦‚å¿µï¼Œå¹¶ä»åº”ç”¨åŠæºç çš„è§’åº¦å¯¹MyBatisçš„ç¼“å­˜æœºåˆ¶è¿›è¡Œäº†åˆ†æã€‚æœ€åå¯¹MyBatisç¼“å­˜æœºåˆ¶åšäº†ä¸€å®šçš„æ€»ç»“ï¼Œä¸ªäººå»ºè®®MyBatisç¼“å­˜ç‰¹æ€§åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œå…³é—­ï¼Œå•çº¯ä½œä¸ºä¸€ä¸ªORMæ¡†æ¶ä½¿ç”¨å¯èƒ½æ›´ä¸ºåˆé€‚ã€‚</p><hr>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Mybatis </tag>
            
            <tag> Cache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot2(ä¸€)ï¼šä½¿ç”¨Spring Boot2é›†æˆMybatisåŸºç¡€æ­å»º</title>
      <link href="2019/06/26/2019-06-26-mybatis-hello/"/>
      <url>2019/06/26/2019-06-26-mybatis-hello/</url>
      
        <content type="html"><![CDATA[<p>Mybatis åˆæœŸä½¿ç”¨æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å„ç§é…ç½®æ–‡ä»¶ã€å®ä½“ç±»ã€Dao å±‚æ˜ å°„å…³è”ã€è¿˜æœ‰ä¸€å¤§æ¨å…¶å®ƒé…ç½®ã€‚<code>mybatis-spring-boot-starter</code> å°±æ˜¯ Spring Boot+ Mybatis å¯ä»¥å®Œå…¨æ³¨è§£ä¸ç”¨é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç®€å•é…ç½®è½»æ¾ä¸Šæ‰‹ã€‚</p><h2 id="mybatis-spring-boot-starter"><a href="#mybatis-spring-boot-starter" class="headerlink" title="mybatis-spring-boot-starter"></a>mybatis-spring-boot-starter</h2><p>å®˜æ–¹è¯´æ˜ï¼š<code>MyBatis Spring-Boot-Starter will help you use MyBatis with Spring Boot</code><br>å…¶å®å°±æ˜¯ Mybatis çœ‹ Spring Boot è¿™ä¹ˆç«çƒ­ä¹Ÿå¼€å‘å‡ºä¸€å¥—è§£å†³æ–¹æ¡ˆæ¥å‡‘å‡‘çƒ­é—¹ï¼Œä½†è¿™ä¸€å‡‘ç¡®å®è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œä½¿ç”¨èµ·æ¥ç¡®å®é¡ºç•…äº†è®¸å¤šã€‚<code>mybatis-spring-boot-starter</code>ä¸»è¦æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ä½¿ç”¨æ³¨è§£è§£å†³ä¸€åˆ‡é—®é¢˜ï¼Œä¸€ç§æ˜¯ç®€åŒ–åçš„è€ä¼ ç»Ÿã€‚</p><p>å½“ç„¶ä»»ä½•æ¨¡å¼éƒ½éœ€è¦é¦–å…ˆå¼•å…¥<code>mybatis-spring-boot-starter</code>çš„ Pom æ–‡ä»¶ï¼Œç°åœ¨æœ€æ–°ç‰ˆæœ¬æ˜¯ 2.0.1</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯XMLæç®€æ¨¡å¼ï¼Œå¯èƒ½æ˜¯ç”±äºä¹‹å‰ç”¨çš„hibernateç”¨ä¹ æƒ¯äº†</p><h2 id="æç®€-xml-ç‰ˆæœ¬"><a href="#æç®€-xml-ç‰ˆæœ¬" class="headerlink" title="æç®€ xml ç‰ˆæœ¬"></a>æç®€ xml ç‰ˆæœ¬</h2><p>æç®€ xml ç‰ˆæœ¬ä¿æŒæ˜ å°„æ–‡ä»¶çš„è€ä¼ ç»Ÿï¼Œæ¥å£å±‚åªéœ€è¦å®šä¹‰ç©ºæ–¹æ³•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®æ–¹æ³•ååœ¨æ˜ å°„æ–‡ä»¶ä¸­æ‰¾å¯¹åº”çš„ Sql .</p><h3 id="1-æ·»åŠ ç›¸å…³-Maven-æ–‡ä»¶"><a href="#1-æ·»åŠ ç›¸å…³-Maven-æ–‡ä»¶" class="headerlink" title="1 æ·»åŠ ç›¸å…³ Maven æ–‡ä»¶"></a>1 æ·»åŠ ç›¸å…³ Maven æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´çš„ Pom åŒ…è¿™é‡Œå°±ä¸è´´äº†ï¼Œå¤§å®¶ç›´æ¥çœ‹æºç </p><h3 id="2ã€application-ymlç›¸å…³é…ç½®"><a href="#2ã€application-ymlç›¸å…³é…ç½®" class="headerlink" title="2ã€application.ymlç›¸å…³é…ç½®"></a>2ã€<code>application.yml</code>ç›¸å…³é…ç½®</h3><p>æ¨èä½¿ç”¨<code>application.yml</code>è¿›è¡Œé…ç½®ï¼Œå…¶å®ä½¿ç”¨<code>application.yml</code>æˆ–è€…<code>application.properties</code>éƒ½æ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œ<code>application.yml</code>æœ€ç»ˆæ˜¯è½¬æ¢ä¸º<code>application.properties</code>è¿›è¡Œç”Ÿæ•ˆçš„ï¼Œåªä¸è¿‡<code>application.yml</code>è§†è§‰æ•ˆæœçœ‹èµ·æ¥æ›´åŠ æ˜äº†ã€‚æ–°å»ºé¡¹ç›®é»˜è®¤ä¸º<code>application.properties</code>ï¼Œç›´æ¥æ”¹ä¸º<code>application.yml</code>ï¼Œå¦å¤–æ–°å¢ä¸€ä¸ª<code>application-test.yml</code>ç”¨æˆ·ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ç”¨ã€‚</p><p><code>application.yml</code>é…ç½®ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment">#æŒ‡å®šé…ç½®æ–‡ä»¶ä¸ºtest</span></span><br><span class="line"><span class="attr">spring</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">profiles</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">active</span>: <span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#é…ç½®Mybatis</span></span><br><span class="line"><span class="attr">mybatis</span>:<span class="string"></span></span><br><span class="line">  <span class="meta">type-aliases-package</span>: <span class="string">com.niaobulashi.entity</span></span><br><span class="line">  <span class="meta">mapper-locations</span>: <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration</span>:<span class="string"></span></span><br><span class="line"><span class="comment">    # å¼€å¯é©¼å³°å‘½åè½¬æ¢ï¼Œå¦‚ï¼šTable(create_time) -&gt; Entity(createTime)ã€‚ä¸éœ€è¦æˆ‘ä»¬å…³å¿ƒæ€ä¹ˆè¿›è¡Œå­—æ®µåŒ¹é…ï¼Œmybatisä¼šè‡ªåŠ¨è¯†åˆ«`å¤§å†™å­—æ¯ä¸ä¸‹åˆ’çº¿`</span></span><br><span class="line">    <span class="meta">map-underscore-to-camel-case</span>: <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰“å°SQLæ—¥å¿—</span></span><br><span class="line"><span class="attr">logging</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">level</span>:<span class="string"></span></span><br><span class="line">    <span class="meta">com.niaobulashi.dao</span>: <span class="string">DEBUG</span></span><br></pre></td></tr></table></figure><p><code>application-test.yml</code>é…ç½®ï¼š</p><figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">spring</span>:<span class="string"></span></span><br><span class="line">  <span class="attr">datasource</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">url</span>: <span class="string">jdbc:mysql://127.0.0.1:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true</span></span><br><span class="line">    <span class="attr">username</span>: <span class="string">root</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">root</span></span><br><span class="line">    <span class="meta">driver-class-name</span>: <span class="string">com.mysql.cj.jdbc.Driver</span></span><br></pre></td></tr></table></figure><p>Spring Boot ä¼šè‡ªåŠ¨åŠ è½½ <code>spring.datasource.*</code> ç›¸å…³é…ç½®ï¼Œæ•°æ®æºå°±ä¼šè‡ªåŠ¨æ³¨å…¥åˆ° sqlSessionFactory ä¸­ï¼ŒsqlSessionFactory ä¼šè‡ªåŠ¨æ³¨å…¥åˆ° Mapper ä¸­ï¼Œå¯¹äº†ï¼Œä½ ä¸€åˆ‡éƒ½ä¸ç”¨ç®¡äº†ï¼Œç›´æ¥æ‹¿èµ·æ¥ä½¿ç”¨å°±è¡Œäº†ã€‚</p><p>åœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ å¯¹ mapper åŒ…æ‰«æ<code>@MapperScan</code></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.niaobulashi.dao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MybatisApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥åœ¨ Mapper ç±»ä¸Šé¢æ·»åŠ æ³¨è§£<code>@Mapper</code>ï¼Œå»ºè®®ä½¿ç”¨ä¸Šé¢é‚£ç§ï¼Œä¸ç„¶æ¯ä¸ª mapper åŠ ä¸ªæ³¨è§£ä¹ŸæŒºéº»çƒ¦çš„</p><h3 id="3ã€æ·»åŠ -User-çš„å®ä¾‹"><a href="#3ã€æ·»åŠ -User-çš„å®ä¾‹" class="headerlink" title="3ã€æ·»åŠ  User çš„å®ä¾‹"></a>3ã€æ·»åŠ  User çš„å®ä¾‹</h3><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysUserEntity</span> <span class="keyword"><span class="keyword">implements</span> <span class="type">Serializable</span></span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> final long serialVersionUID = <span class="number">1</span>L;</span><br><span class="line">  <span class="comment">//ç”¨æˆ·ID</span></span><br><span class="line">  <span class="keyword">private</span> Long userId;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ç”¨æˆ·å</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> username;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å¯†ç </span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> password;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ç›</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> salt;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é‚®ç®±</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> email;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ‰‹æœºå·</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">String</span> mobile;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//çŠ¶æ€  0ï¼šç¦ç”¨   1ï¼šæ­£å¸¸</span></span><br><span class="line">  <span class="keyword">private</span> Integer status;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//åˆ›å»ºæ—¶é—´</span></span><br><span class="line">  <span class="keyword">private</span> Date createTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4ã€æ·»åŠ -User-çš„æ˜ å°„æ–‡ä»¶"><a href="#4ã€æ·»åŠ -User-çš„æ˜ å°„æ–‡ä»¶" class="headerlink" title="4ã€æ·»åŠ  User çš„æ˜ å°„æ–‡ä»¶"></a>4ã€æ·»åŠ  User çš„æ˜ å°„æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.niaobulashi.dao.SysUserDao&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æŸ¥è¯¢ç”¨æˆ·çš„æ‰€æœ‰èœå•ID--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;queryUserInfo&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.niaobulashi.entity.SysUserEntity&quot;</span>&gt;</span></span><br><span class="line">        SELECT</span><br><span class="line">            ur.*</span><br><span class="line">        FROM</span><br><span class="line">            sys_user ur</span><br><span class="line">        WHERE</span><br><span class="line">            1 = 1</span><br><span class="line">          AND ur.user_id = #&#123;userId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶å®å°±æ˜¯æŠŠä¸Šä¸ªç‰ˆæœ¬ä¸­ Mapper çš„ Sql æ¬åˆ°äº†è¿™é‡Œçš„ xml ä¸­äº†</p><h3 id="5ã€ç¼–å†™-Mapper-å±‚çš„ä»£ç "><a href="#5ã€ç¼–å†™-Mapper-å±‚çš„ä»£ç " class="headerlink" title="5ã€ç¼–å†™ Mapper å±‚çš„ä»£ç "></a>5ã€ç¼–å†™ Mapper å±‚çš„ä»£ç </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">SysUserDao</span> </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ®userIdæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> userId  ç”¨æˆ·ID</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="function">List&lt;SysUserEntity&gt; <span class="title">queryUserInfo</span><span class="params">(Long userId)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6ã€ç¼–å†™Serviceå±‚çš„ä»£ç "><a href="#6ã€ç¼–å†™Serviceå±‚çš„ä»£ç " class="headerlink" title="6ã€ç¼–å†™Serviceå±‚çš„ä»£ç "></a>6ã€ç¼–å†™Serviceå±‚çš„ä»£ç </h3><p><code>SysUserService</code>æ¥å£ç±»ï¼š</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="symbol">SysUserService</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç”¨æˆ·çš„æ‰€æœ‰èœå•ID</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  List&lt;SysUserEntity&gt; queryUserInfo(Long userId);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>SysUserServiceImpl</code>å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;sysUserService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SysUserServiceImpl</span>  <span class="keyword">implements</span> <span class="title">SysUserService</span> </span>&#123;</span><br><span class="line">  <span class="meta">@Resource</span></span><br><span class="line">  <span class="keyword">private</span> SysUserDao sysUserDao;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŸ¥è¯¢ç”¨æˆ·çš„æ‰€æœ‰èœå•ID</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> userId</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;SysUserEntity&gt; <span class="title">queryUserInfo</span><span class="params">(Long userId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sysUserDao.queryUserInfo(userId);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7ã€æµ‹è¯•"><a href="#7ã€æµ‹è¯•" class="headerlink" title="7ã€æµ‹è¯•"></a>7ã€æµ‹è¯•</h3><p>ç»è¿‡ä¸Šé¢5ä¸ªæ­¥éª¤å°±å¯ä»¥å®ŒæˆåŸºæœ¬çš„æ¥å£å¼€å‘ï¼Œçœå»äº†Controllerå±‚çš„å¼€å‘</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MabatisTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> Logger logger = LoggerFactory.getLogger(MabatisTest.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SysUserService sysUserService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">queryUserInfo</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SysUserEntity userEntity = <span class="keyword">new</span> SysUserEntity();</span><br><span class="line">        userEntity.setUserId(<span class="number">1L</span>);</span><br><span class="line">        List&lt;SysUserEntity&gt; list = sysUserService.queryUserInfo(userEntity.getUserId());</span><br><span class="line">        logger.info(<span class="string">&quot;list:&quot;</span> + list);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>SpringBootå’ŒMybatisè¿™å¯¹CPï¼Œå®Œç¾</p><p><strong><a href="https://github.com/niaobulashi/spring-boot-learning/tree/master/spring-boot-10-mybatis-hello">ç¤ºä¾‹ä»£ç -github</a></strong></p><hr>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019è¥¿å®‰è‰è“éŸ³ä¹èŠ‚-å‘¨å…­è¿™ä¹ˆè¿‡</title>
      <link href="2019/06/21/2019-06-21-Strawberry-Music-Festival/"/>
      <url>2019/06/21/2019-06-21-Strawberry-Music-Festival/</url>
      
        <content type="html"><![CDATA[<p>è¿˜è®°å¾—3å¹´å‰åœ¨æ­¦æ±‰çš„æ—¶å€™ï¼Œå»çš„æ­¦æ±‰çš„è‰è“éŸ³ä¹èŠ‚ã€‚<br>ä»Šå¹´åˆšå¥½åœ¨è¥¿å®‰ä¹Ÿä¸¾åŠäº†è‰è“éŸ³ä¹èŠ‚ï¼Œä¸æ¯«æ²¡æœ‰çŠ¹è±«ã€‚</p><p>å†²é¸­</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/2_1618541847271.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/3_1618541847272.jpg"/></td>    </tr></table><p>ä¸¾åŠåœºåœ°åœ¨è¥¿å®‰çš„å¤§æ˜å®«å›½å®¶é—å€å…¬å›­ï¼Œå…¬å›­ç›¸å½“ä¹‹å¤§ï¼Œä¸¾åŠè¿™ç§éŸ³ä¹èŠ‚ç›¸å½“åˆé€‚ä¸è¿‡äº†<br>ç°åœºå®‰å…¨æªæ–½ä¹Ÿç›¸å½“åˆ°ä½ï¼Œä¿å®‰ï¼Œæ¶ˆé˜²ï¼Œè­¦å¯Ÿéƒ½å°±ä½äº†ã€‚ç»™ä½ ä»¬ç‚¹èµï¼<br>å¯ä»¥è¯´ç°åœºå¬éŸ³ä¹å’Œå¹³æ—¶è¿˜æ˜¯å¾ˆä¸ä¸€æ ·çš„</p><p>emmmï¼Œæ‚„å’ªå’ªçš„æ‹äº†è¿™å¼ ï¼Œå¤ªå¯çˆ±äº†å§ ::aru:clap:: </p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/4_1618541847273.jpg" alt="è¥¿å®‰è‰è“éŸ³ä¹èŠ‚3"></p><p>å½“çƒ­é—¨æ­Œæ‰‹è¦å‡ºåœºçš„æ—¶å€™ï¼Œç°åœºå¼‚å¸¸çš„æ‹¥æŒ¤ï¼Œè¿›ä¹Ÿè¿›ä¸å»ï¼Œå‡ºä¹Ÿä¸å¥½å‡ºï¼Œå¾ˆå°´å°¬ã€‚<br>ä¸€ä¸ªæ­Œæ‰‹å”±å®Œåï¼Œä¸­é—´å¤§æ¦‚è¦ç­‰åŠä¸ªå¤šå°æ—¶ã€‚äºæ˜¯å°±å‚»å‘¼å‘¼çš„ç«™åœ¨é‚£é‡Œç­‰ä¸Šé‚£ä¹ˆä¹…ï¼Œè€Œä¸”éƒ½æ˜¯ç«™åœ¨é‚£é‡Œç­‰ï¼Œå¤©æ°”æ¸©åº¦ç•¥é«˜ï¼Œçƒ­å•Š<br>ç­‰åˆ°æ­Œæ‰‹å‡ºæ¥ä¹‹åï¼Œå…¨åœºå°–å«å£°ï¼Œå•Šï¼Œç»ˆäºç­‰åˆ°äº†ï¼Œä½ å¯æ€»ç®—æ˜¯å‡ºæ¥äº†</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/5_1618541847274.jpg"/></td>    </tr></table><p>å¼€å¿ƒçš„å‘¨å…­<br>å¸Œæœ›æ¯å¹´éƒ½å¯ä»¥å»ä¸€è¶Ÿè‰è“éŸ³ä¹èŠ‚<br>ä¸ç®¡å·¥ä½œæœ‰å¤šå¿™ï¼Œè¯·å‡ä¹Ÿå¾—å» ::aru:cheer:: </p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«¯åˆæœŸé—´æŠŠå©šçº±ç…§ç»™æ‹äº†</title>
      <link href="2019/05/15/2019-05-15-wedding-photos/"/>
      <url>2019/05/15/2019-05-15-wedding-photos/</url>
      
        <content type="html"><![CDATA[<p>å°±åœ¨2019å¹´çš„ç«¯åˆé‚£å¤©</p><p>æˆ‘ä¿©åœ¨è¥¿å®‰æŠŠå©šçº±ç…§æ‹äº†</p><p>ä»å¤§ä¸€ä¸‹å­¦æœŸè®¤è¯†ä½ ï¼Œåˆ°ç°åœ¨ï¼Œç®—ä¸‹æ¥æœ‰7å¹´äº†</p><p>ä¸€è·¯ä¸‹æ¥æŒºä¸å®¹æ˜“çš„ï¼Œéå¸¸çæƒœ</p><p>æ—¶é—´è¿‡å¾—å¤ªå¿«äº†ï¼Œå¾ˆå¤šäº‹æƒ…æ¥ä¸åŠå†™ä¸‹æ¥ï¼Œæ—¶é—´å°±è¿‡å»äº†</p><p>æˆ‘å¼€ç©ç¬‘è¯´æˆ‘è€äº†è‚¯å®šå¾—è€å¹´ç—´å‘†ï¼Œè®¸å¤šäº‹æƒ…è¿˜å¾—é ä½ æ¥ç»†ç»†å™è¯´</p><p>æ‹ç…§æ‹äº†ä¸€å¤©ï¼Œæ—©ä¸Š5ç‚¹åŠèµ·åºŠï¼Œ7ç‚¹åŠå¼€å§‹åŒ–å¦†æ‹ç…§ï¼Œæ‹åˆ°æ™šä¸Š8ç‚¹ã€‚ä¹Ÿç®—å®Œæˆäº†ä¸€ä»¶å¤§äº‹</p><p>äººç”Ÿæœ‰è®¸è®¸å¤šå¤šé‡å¤§äº‹æƒ…éœ€è¦ç»å†</p><p>å©šå§»åªæœ‰ä¸€æ¬¡ï¼Œæˆ‘å–œæ¬¢ç»™ä½ æœ€å¥½çš„ä¸€æ¬¡</p><p>æ˜¨å¤©æ•ˆæœç…§ç‰‡å‡ºæ¥äº†å‡ å¼ ï¼Œå‡ºæ¥ä¹‹åç¬¬ä¸€æ—¶é—´å‘äº†æœ‹å‹åœˆ</p><p>å¾ˆæ„Ÿè°¢æœ‹å‹ä»¬çš„ç¥ç¦</p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/910517079.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190614171601.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/743410673.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190614171609.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/966374007.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190614171621.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/3487850163.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190614171614.jpg"></p><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/244475427.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190614171626.jpg"></p><p>ä¸ªäººå¾ˆå–œæ¬¢æœ€åä¸€å¼ å“ˆå“ˆå“ˆå“ˆ</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Love </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´æ¸…æ˜èŠ‚å¹¿å·ä¹‹æ—…(å¤šå›¾é¢„è­¦)</title>
      <link href="2019/05/09/2019-05-09-qingming-to-guangzhou/"/>
      <url>2019/05/09/2019-05-09-qingming-to-guangzhou/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ¥æ¸…æ˜èŠ‚å›æ¥ï¼Œå°±æ¥å†™çš„ï¼Œå¯æ˜¯å‘¢emmmmï¼Œå¯èƒ½æœ‰ç‚¹æ‡’å§ã€‚ä¸€ç›´æ²¡æœ‰é™ä¸‹å¿ƒæ¥å¥½å¥½å†™ç‚¹äº†</p></blockquote><h2 id="å‡ºå‘"><a href="#å‡ºå‘" class="headerlink" title="å‡ºå‘~"></a>å‡ºå‘~</h2><h2 id="å®¿èˆåˆ°æœºåœº"><a href="#å®¿èˆåˆ°æœºåœº" class="headerlink" title="å®¿èˆåˆ°æœºåœº"></a>å®¿èˆåˆ°æœºåœº</h2><p>è¥¿å®‰å¸‚åŒºæ²¡æœ‰æœºåœºï¼Œåªæœ‰å’¸é˜³æœ‰ä¸ªå’¸é˜³æœºåœºã€‚å»æœºåœºä¹Ÿæ²¡æœ‰åœ°é“ï¼Œåªæœ‰æœºåœºå¤§å·´ï¼Œä»è¿™è¾¹åæœºåœºå¤§å·´è¿‡å»è¦1ä¸ªå°æ—¶ã€‚æ‰€ä»¥å¦‚æœæ˜¯9ç‚¹çš„é£æœºï¼Œä»å®¿èˆå»å¤§å·´éª‘å•è½¦è¦10åˆ†é’Ÿï¼Œå¤§å·´å¤§çº¦25åˆ†é’Ÿä¸€è¶Ÿã€‚ã€‚è¿™ä¸æ•¢ä¿è¯ä¸€å»å°±æœ‰å¤§å·´å¯ä»¥èµ° ::aru:sweat:: å¤§å·´å‡ºå‘å»æœºåœºè¿˜æœ‰1ä¸ªå°æ—¶ï¼Œåˆ°æœºåœºäº†ä¹Ÿè‡³å°‘éœ€è¦ä¿è¯æœ‰ä¸€ä¸ªå°æ—¶ï¼Œé£æœºæå‰30åˆ†é’Ÿæ£€ç¥¨ã€‚æ‰€æœ‰ï¼Œå»ä¸€è¶Ÿå¹¿å·ï¼Œç¡®å®å¾ˆç´¯çš„(Â´à®‡çš¿à®‡ï½€)</p><p>å¤§çº¦4ç‚¹åŠä»å®¿èˆå‡ºå‘ï¼Œåˆ·ä¸ªæ‘©æ‹œï¼Œä¸€è·¯ç‹‚å¥”åˆ°å¤§å·´ç«™ç‚¹å¤„ã€‚</p><p>ä¸€è·¯ç‹‚å¥”å¹¶ä¸”ä¸å¿˜æ‹ç…§ </p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/2_1618542511504.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/3_1618542511505.jpg"/></td>    </tr></table><p>ä¸Šé£æœºäº†ï¼Œåº§ä½ä¸Šæ–¹çªç„¶æ‘‡ä¸‹äº†å°å±å¹•ï¼Œå¯ä»¥çœ‹åˆ°èˆªç­é£è¡Œçš„èˆªçº¿ï¼šè¥¿å®‰åˆ°å¹¿å·</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/4_1618542511506.jpg" alt="è¥¿å®‰åˆ°å¹¿å·çš„èˆªçº¿"></p><p>å›°äº†ï¼Œå…ˆç¡ä¸€è§‰ã€‚ã€‚</p><p>ä¸€è§‰é†’æ¥ï¼Œä¹Ÿå°±åˆ°äº†ï¼Œä¸­é€”è½¬äº†å¤šå°‘è¶Ÿè½¦ä¹Ÿå°±ä¸å¤šè¯´äº† ::aru:blood2::  ::aru:blood:: </p><h2 id="å¹¿å·ä¹‹è¡Œ"><a href="#å¹¿å·ä¹‹è¡Œ" class="headerlink" title="å¹¿å·ä¹‹è¡Œ"></a>å¹¿å·ä¹‹è¡Œ</h2><h4 id="ç¬¬ä¸€å¤©"><a href="#ç¬¬ä¸€å¤©" class="headerlink" title="ç¬¬ä¸€å¤©"></a>ç¬¬ä¸€å¤©</h4><p>ä»æ—©ä¸Š4ç‚¹åŠå¤šå‡ºé—¨ï¼Œå¤§æ¦‚æ˜¯ä¸‹åˆ3ç‚¹å¤šåˆ°çš„å¹¿å·ç›®çš„åœ°ï¼Œç»ˆäºåˆ°å•¦</p><p>ç¬¬ä¸€å¤©ä¹Ÿæ²¡æœ‰å‡ºè¿œé—¨ç©ï¼Œå°±åœ¨æ—è¾¹çš„ä¸‡ç§‘å¹¿åœºé™„ä»¶æºœè¾¾æºœè¾¾ã€‚å¹¿å·ç©ºæ°”ä»€ä¹ˆçš„æ¯”è¥¿å®‰å¥½å¤šäº†</p><p>å…ˆè®©æˆ‘çŒ›å¸å‡ å£ç©ºæ°” ::huaji:huaji01:: </p><p>ä¸€èµ·æ•£æ•£æ­¥ï¼Œçœ‹äº†çœ‹ä¸‡ç§‘å¹¿åœºä¸Šä¸¾åŠçš„å¤è£…æ‹æ‘„æ´»åŠ¨ã€‚å’±ä¿©éƒ½åœ¨è¿œå¤„çœ‹çš„ï¼Œæ‹ç…§æœ‰ç‚¹æ¨¡ç³Š</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/5_1618542511507.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/6_1618542511508.jpg"/></td>    </tr></table><p>å•†åœºé‡Œé¢å¼„äº†ä¸ªå¤§å”é›†å¸‚ï¼Œå·®ç‚¹ä»¥ä¸ºæˆ‘åˆåˆ°è¥¿å®‰äº† ::huaji:huaji03:: ï¼Œä»¥ä¸ºè¥¿å®‰æœ‰ä¸ªå¤§å”ä¸å¤œåŸï¼Œå¤§å”è¥¿å¸‚ï¼Œå¤§å”å·´æ‹‰å·´æ‹‰ä»€ä¹ˆçš„</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/7_1618542511509.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/8_1618542511510.jpg"/></td>    </tr></table><h4 id="ç¬¬äºŒå¤©"><a href="#ç¬¬äºŒå¤©" class="headerlink" title="ç¬¬äºŒå¤©"></a>ç¬¬äºŒå¤©</h4><p>æˆ‘ä»¬è®¡åˆ’äº†ç¬¬äºŒå¤©å»<a href="https://baike.baidu.com/item/%E4%B8%9C%E8%8E%9E%E8%A7%82%E9%9F%B3%E5%B1%B1%E6%A3%AE%E6%9E%97%E5%85%AC%E5%9B%AD/1466637">è§‚éŸ³å±±</a>çˆ¬å±±ï¼Œè¿‡å»è¦åšåŠ¨è½¦è¿‡å»ï¼Œåªè¦10å—é’±çš„åŠ¨è½¦ç¥¨ï¼Œå¯æ˜¯æ—¶é—´ä¸è¿™ä¹ˆå¯†é›†ï¼Œå¤ªæ™šäº†ç‚¹ã€‚<br>äºæ˜¯æˆ‘ä»¬æ‰“æ»´æ»´è¿‡å»çš„ï¼Œå¤§æ¦‚60è½¯å¦¹å¸å§ã€‚<br>å¹¿å·çš„è€æ¿éƒ½æ˜¯é“ä»” é“å¥³çš„å«ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œè¿˜è¯·å¤§å£°çš„å«å‡ºæ¥ ::huaji:huaji06:: </p><p>åˆ°äº†è§‚éŸ³å±±æ™¯ç‚¹é—¨å£ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œäººè¿˜æ˜¯æœ‰ç‚¹ç‚¹å¤šçš„ã€‚ã€‚ä¹°ä¸¤å¼ ç¥¨ï¼Œå‡ºå‘å’¯</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/9_1618542511511.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/10_1618542511512.jpg"/></td>    </tr></table><p>åˆšå¼€å§‹çˆ¬ èµ°æ¥¼æ¢¯ï¼ŒçœŸçš„ç´¯æ­»æˆ‘äº†ï¼Œæˆ‘ä¿©éƒ½å¾ˆç´¯ã€‚å¹³æ—¶ä¹Ÿæ²¡æœ‰é”»ç‚¼ï¼Œä¸€ä¸Šæ¥å°±è¦å¼€å§‹èµ°æ–œå¡ï¼Œçˆ¬æ¥¼æ¢¯ï¼Œçˆ¬äº†å¤§çº¦20åˆ†é’Ÿï¼Œä¸Šå¤´æœ‰ä¸€æ®µä¸­é€”ä¼‘æ¯åŒºï¼Œå¯ä»¥ç¨ç¨ç¼“å†²ä¸‹ã€‚è¿™ä¸€èº«è‚¥è†˜å¤ªä¸äº‰æ°”äº†ï¼Œå¾—ç¼“ç¼“ã€‚ ::huaji:huaji03:: </p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/11_1618542511513.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/12_1618542511514.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/13_1618542511515.jpg"/></td>    </tr></table><p>å› ä¸ºè¿™æ˜¯è§‚éŸ³å±±ï¼Œä½›å®¶åœ£åœ°ï¼Œä¸€è·¯ä¸Šæœ‰å¾ˆå¤šè­¦ä¸–åè¨€<br>å¤§å®¶ä¹Ÿå°±çœ‹ä¸€çœ‹</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/14_1618542511516.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/15_1618542511517.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/16_1618542511518.jpg"/></td>    </tr></table><p>è§‚éŸ³å±±è¿™æ™¯ç‚¹ç¡®å®ä¹Ÿè¿˜ä¸é”™ï¼Œè¯´æ˜¯çˆ¬å±±ï¼Œå…¶å®å°±æ˜¯ä¸€æ¡é©¬è·¯ç›˜æ—‹åœ¨å‡ åº§å±±ä¸Šï¼Œç›´åˆ°å±±é¡¶ã€‚å¾ˆé€‚åˆæˆ‘ãƒ¾(â‰§âˆ‡â‰¦*)ã‚</p><p>ä¸€è·¯ä¸Šä¹Ÿæœ‰å¾ˆå¤šèŠ±æ ·ï¼Œè£…æ‰®å¥½çœ‹çš„ï¼Œå¥½ç©çš„ï¼Œä¹Ÿéƒ½æœ‰ã€‚ä¸ä¼šè®©ä½ åœ¨çˆ¬å±±çš„è¿‡ç¨‹ä¸­è¿‡äºæ— èŠ</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/18_1618542511520.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/17_1618542511519.jpg"/></td>    </tr></table><p>èµ°äº†å¤§æ¦‚æœ‰2ä¸ªå¤šå°æ—¶ï¼Œç»ˆäºåˆ°äº†è§‚éŸ³è„šä¸‹å•¦ã€‚ã€‚é¢ã€‚ã€‚è¿˜åªæ˜¯è„šä¸‹ï¼ŒçœŸæ­£è¦ä¸Šå»ï¼Œè¿˜å¾—èµ°ä¸Š50åˆ†é’Ÿ</p><p>æˆ‘ä»¬åˆ°äº†è„šä¸‹çš„ä¸€å¤„äººå‘˜æ¯”è¾ƒé›†ä¸­çš„åœ°æ–¹ï¼Œè¿™é‡Œä¹Ÿæœ‰ä¸€å¤„æ ‡è®°æœ‰åçš„åœ°æ–¹ï¼šé€å­è§‚éŸ³</p><p>å¥½å¤šäººåœ¨è¿™é‡ŒæŒ‚ç¥ˆç¦çš„å°ç‰Œç‰Œï¼Œå¸Œæœ›èƒ½æœ‰ä¸ªå¥åº·çš„å®å® ::twemoji:bigsmile:: </p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/19_1618542511521.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/20_1618542511522.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/21_1618542511523.jpg"/></td>    </tr></table><p>å¥½äº†ï¼Œå’±ä»¬ä¹Ÿä¸æ˜¯æ¥æ±‚é€å­è§‚éŸ³çš„ ::aru:nose:: å“ˆå“ˆå“ˆå“ˆï¼Œè¿˜æ²¡åˆ°æ—¶å€™å‘¢</p><p>æˆ‘ä»¬ç»§ç»­å¼€å§‹æ”€ç™»ä¹‹è·¯ã€‚</p><p>ç©è¿‡QQé£è½¦ç”µè„‘ç‰ˆçš„åº”è¯¥éƒ½çŸ¥é“ï¼Œæœ‰ä¸€å¼ åœ°å›¾å«åšï¼šåä¸€åŸã€‚è¿™å¼ åœ°å›¾è·¯çº¿åƒæ‰‹æŒä¸€æ ·ï¼Œå„ç§90åº¦è½¬å¼¯å“ˆå“ˆå“ˆå“ˆ</p><p>è¿™é‡Œè§‚éŸ³è„šä¸‹çš„ç›˜æ—‹ä¹‹è·¯ï¼Œæ­£æ˜¯è¿™æ ·ï¼Œåæ‚”æ²¡æœ‰å¸¦ç›¸æœºè¿‡å»ï¼Œæ‹æ‘„æŠ€æœ¯æ¸£æ‹ä¸å‡ºé‚£ç§é™¡å³­çš„æ•ˆæœæ¥ï¼Œä¸è¿‡æ˜¯çœŸçš„é™¡å³­ã€‚å°å±å­©éƒ½åœ¨è·¯ä¸Šçˆ¬ï¼Œå¯¹ï¼Œæ˜¯çœŸçš„åœ¨çˆ¬!</p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/22_1618542511524.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/23_1618542511525.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/24_1618542511526.jpg"/></td>    </tr></table><p>ä¸€è·¯ä¸Šä¹Ÿæœ‰äº›æœ‰æ„æ€çš„ç”»é¢ï¼Œç¦èŠ¦å¨ƒï¼Œå°æ²™å¼¥ï¼ˆæˆ‘é‡è§å·®ä¸å¤šæœ‰7ã€8ä¸ªäº†ï¼‰ï¼Œåƒåœ¾æ¡¶ï¼ˆè«åå¥½ç¬‘çš„è¡¨æƒ…ï¼‰ï¿£ï¹ƒï¿£ ::aru:smile:: </p><table>    <tr>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/25_1618542511527.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/26_1618542511528.jpg"/></td>        <td><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/27_1618542511529.jpg"/></td>    </tr></table><p>åˆ°äº†ï¼Œåˆ°äº†ï¼Œç»ˆäºåˆ°é¡¶å³°äº†ï¼Œè§‚éŸ³å±±æœ¬å±±ï¼Œè§‚éŸ³æœ¬å°Š</p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/29_1618542511531.jpg" alt="ä½›é—¨åœ£åœ°"/><p>ç»ˆäºè§åˆ°äº†ï¼Œé›•åƒä¹‹å¤§ï¼Œä¸çŸ¥å…¶å‡ åƒé‡Œä¹Ÿï¼ï¼ï¼çœŸçš„å·¨å¤§</p><p>ä¸Šé¡¶æœ‰å¾ˆå¤šå•†åº—ï¼Œå–å¼€è¿‡å…‰çš„ä½›ç ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰æ•²å¹³å®‰é¼“ï¼Œçƒ§é¦™æ‹œä½›ã€‚</p><p>æˆ‘ä¿©æ‹œäº†æ‹œè¿™é‡Œçš„è´¢ç¥çˆ·ï¼Œä¸æ±‚å¤§å¯Œå¤§è´µï¼Œåªæ±‚å°åº·æ— å¿§ ::aru:shy::  ::aru:shy2:: </p><p>å•Šå•Šå•Šå•Šï¼Œè¦ä¸‹å±±å•¦</p><p>ä¹Ÿæ²¡æœ‰é€—ç•™å¤ªä¹…ï¼Œæˆ‘ä¿©å°±ä¸‹å±±å•¦ã€‚ä¸‹å±±æˆ‘å¯ä¸æƒ³å†èµ°ä¸‹å»äº†ï¼Œæˆ‘ä»¬å»ä¹˜åä¸‹å±±çš„è½¦ç«™ï¼Œå»ä¹°äº†ç¥¨ã€‚è¿™é‡Œäººæ˜¯çœŸæ»´å¤šå•Šï¼Œä¸‹å±±çš„é«˜å³°æœŸï¼Œåœ¨è¿™é‡Œç­‰äº†40å¤šåˆ†é’Ÿã€‚ã€‚</p><h4 id="ç¬¬ä¸‰å¤©"><a href="#ç¬¬ä¸‰å¤©" class="headerlink" title="ç¬¬ä¸‰å¤©"></a>ç¬¬ä¸‰å¤©</h4><p>ç¬¬ä¸‰å¤©ï¼Œè¦å›å»äº†ï¼Œä¸‰å¤©å‡çœŸçš„ä¸å¤Ÿç”¨å•Šï¼Œè¿‡å¾—å¤ªå¿«äº†8(Â´à®‡çš¿à®‡ï½€)</p><p>æˆ‘ä¹Ÿå°±ä¸poç…§ç‰‡äº†ã€‚ã€‚ä¸ç„¶å°±æ²¡æœ‰æµé‡äº† ::aru:shy:: </p><p>ä¸‹åˆ5ç‚¹ç§å‡ºå‘ï¼Œç°åœ¨ä¸è®°å¾—é‚£æ—¶å€™æ™šä¸Šå‡ ç‚¹çš„é£æœºäº†ã€‚åæ­£å›è¥¿å®‰å®¿èˆå·®ä¸å¤š1ç‚¹åŠã€‚ã€‚å¥½ç´¯å•Šå•Šå•Šå•Š ::aru:distressed:: </p><p>å¥½å¥½ä¼‘æ¯</p><p>æ™šå®‰</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç›¸å…³çŸ¥è¯†ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰</title>
      <link href="2019/04/26/2019-04-26-java-interview/"/>
      <url>2019/04/26/2019-04-26-java-interview/</url>
      
        <content type="html"><![CDATA[<h2 id="åŠ æ²¹å§ï¼Œéªšå¹´ï¼"><a href="#åŠ æ²¹å§ï¼Œéªšå¹´ï¼" class="headerlink" title="åŠ æ²¹å§ï¼Œéªšå¹´ï¼"></a>åŠ æ²¹å§ï¼Œéªšå¹´ï¼</h2><p>é¦–å…ˆç›´æ¥æ¥ä¸€ä¸ªgithubä¸Šstaræœ€å¤šçš„Javaç›¸å…³åŸºç¡€çŸ¥è¯†çš„å­¦ä¹ å¤§çº²ï¼Œè¶…çº§å…¨é¢ï¼Œé¿å…äº†å¯¼å‡ºæ‰¾èµ„æ–™çš„ç¹çã€‚ç›¸å½“nice!</p><p><a target="_blank" href="https://github.com/Snailclimb/JavaGuide">JavaGuide</a></p><p>å¯ä»¥è¯´ç›¸å½“æœ‰ç”¨äº†</p><p>å…¶ä»–çš„å†…å®¹æ˜¯ç›¸å…³çœ‹åˆ°çš„Javaç›¸å…³çŸ¥è¯†ï¼Œä¹Ÿæ˜¯ä¸‡èƒ½çš„ç½‘å‹çš„åšå®¢ï¼Œåœ¨è¿™é‡Œå¼•ç”¨å½’æ€»èµ·æ¥</p><h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><p><a target="_blank" href="https://www.cnblogs.com/shenliang123/archive/2011/10/27/2226903.html" >1.java intä¸integerçš„åŒºåˆ«</a></p><p><a target="_blank" href="http://www.cnblogs.com/shenliang123/archive/2012/04/16/2451996.html" >2.java è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</a></p><p><a target="_blank" href="http://www.cnblogs.com/shenliang123/archive/2012/04/16/2452156.html" >3.javaä¸­ == ä¸ equal çš„åŒºåˆ«</a></p><p><a target="_blank" href="https://www.cnblogs.com/shenliang123/archive/2011/10/26/2225535.html" >4.javaé›†åˆåº”ç”¨ç±»</a></p><p><a target="_blank" href="https://www.cnblogs.com/LittleHann/p/3690187.html" >5.Javaé›†åˆç±»: Setã€Listã€Mapã€Queueä½¿ç”¨åœºæ™¯æ¢³ç†</a></p><p><a target="_blank" href="https://www.cnblogs.com/gmq/archive/2013/05/30/3108849.html" >6.javaå®ç°ç®—æœ¯è¡¨è¾¾å¼æ±‚å€¼</a></p><p><a target="_blank" href="https://blog.csdn.net/javazejian/article/details/71860633" >7.æ·±å…¥ç†è§£Javaæ³¨è§£ç±»å‹(@Annotation)</a></p><p><a target="_blank" href="http://www.runoob.com/java/java-collections.html" >8.Java é›†åˆæ¡†æ¶</a></p><p><a target="_blank" href="https://blog.csdn.net/ccpat/article/details/44515335" >9.Java this å…³é”®å­—ç”¨æ³•</a></p><p><a target="_blank" href="https://blog.csdn.net/qq_32331073/article/details/80402979" >10.Javaè§£æ(è¯»å–)Jsonæ•°æ®</a></p><h2 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h2><p><a target="_blank" href="https://niaobulashi.com/tag/Spring-Boot/" >é¸Ÿä¸æ‹‰å±SpringBootç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="http://springboot.fun/" >Spring Boot ä¸­æ–‡ç´¢å¼•</a></p><p><a target="_blank" href="http://www.ityouknow.com/spring-boot.html" >çº¯æ´çš„å¾®ç¬‘SpringBootç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="http://blog.didispace.com/Spring-Boot%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/" >ç¨‹åºçŒ¿DDçš„SpringBootç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="https://www.fangzhipeng.com/spring-boot.html" >æ–¹å¿—æœ‹çš„SpringBootç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="https://www.dalaoyang.cn/tag/springboot/" >å¤§ä½¬æ¨çš„SpringBootç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="https://jinnianshilongnian.iteye.com/blog/2001040" >CacheæŠ½è±¡è¯¦è§£</a></p><p><a target="_blank" href="https://www.cnblogs.com/duanxz/p/7493276.html" >spring4.0ä¹‹äºŒï¼š@Configurationçš„ä½¿ç”¨</a></p><h2 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h2><p><a target="_blank" href="https://springcloud.cc/" >Spring Cloudå¾®æœåŠ¡æ¶æ„é›†å¤§æˆè€…ï¼Œäº‘è®¡ç®—æœ€ä½³ä¸šåŠ¡å®è·µã€‚</a></p><p><a target="_blank" href="http://springcloud.fun/" >Spring Cloud ä¸­æ–‡ç´¢å¼•</a></p><p><a target="_blank" href="http://www.ityouknow.com/spring-cloud.html" >çº¯æ´çš„å¾®ç¬‘SpringCloudç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="https://www.fangzhipeng.com/spring-cloud.html" >æ–¹å¿—æœ‹çš„åšå®¢SpringCloudç³»åˆ—æ–‡ç« </a></p><p><a target="_blank" href="http://blog.didispace.com/spring-cloud-learning/" >ç¨‹åºçŒ¿DDçš„Spring Cloud ä»å…¥é—¨åˆ°ç²¾é€š</a></p><p><a target="_blank" href="https://www.dalaoyang.cn/tag/springcloud/2" >dalaoyangåšå®¢SpringCloudç³»åˆ—æ–‡ç« </a></p><h2 id="æ¶ˆæ¯ä¸­é—´ä»¶RabbitMQ"><a href="#æ¶ˆæ¯ä¸­é—´ä»¶RabbitMQ" class="headerlink" title="æ¶ˆæ¯ä¸­é—´ä»¶RabbitMQ"></a>æ¶ˆæ¯ä¸­é—´ä»¶RabbitMQ</h2><p><a target="_blank" href="https://www.cnblogs.com/xingyunblog/p/9685359.html" >1.RabbitMQ å­¦ä¹ ä¸“æ </a></p><p><a target="_blank" href="https://www.jianshu.com/p/dae5bbed39b1" >2.RabbitMQå…¥é—¨æ•™ç¨‹ï¼ˆæ¦‚å¿µï¼Œåº”ç”¨åœºæ™¯ï¼Œå®‰è£…ï¼Œä½¿ç”¨ï¼‰</a></p><p><a target="_blank" href="https://www.zhihu.com/question/34243607" >3.æ¶ˆæ¯é˜Ÿåˆ—çš„ä½¿ç”¨åœºæ™¯æ˜¯æ€æ ·çš„ï¼Ÿ</a></p><h2 id="å®‰å…¨æ¡†æ¶Shiro"><a href="#å®‰å…¨æ¡†æ¶Shiro" class="headerlink" title="å®‰å…¨æ¡†æ¶Shiro"></a>å®‰å…¨æ¡†æ¶Shiro</h2><p><a target="_blank" href="https://jinnianshilongnian.iteye.com/blog/2018398" >è·Ÿæˆ‘å­¦Shiro</a></p><p><a target="_blank" href="https://www.cnblogs.com/learnhow/p/5694876.html" >30åˆ†é’Ÿå­¦ä¼šå¦‚ä½•ä½¿ç”¨Shiro</a></p><h2 id="å‰ç«¯æ¡†æ¶ï¼šVue"><a href="#å‰ç«¯æ¡†æ¶ï¼šVue" class="headerlink" title="å‰ç«¯æ¡†æ¶ï¼šVue"></a>å‰ç«¯æ¡†æ¶ï¼šVue</h2><p><a target="_blank" href="https://vuejs.bootcss.com/v2/guide" >1.Vue.jså®˜æ–¹å­¦ä¹ æ–‡æ¡£</a></p><p><a target="_blank" href="https://www.cnblogs.com/xumqfaith/p/7743387.html" >2.Vueä¸­çš„ ref å’Œ $refs</a></p><h2 id="é«˜å¹¶å‘åº”ç”¨"><a href="#é«˜å¹¶å‘åº”ç”¨" class="headerlink" title="é«˜å¹¶å‘åº”ç”¨"></a>é«˜å¹¶å‘åº”ç”¨</h2><p><a target="_blank" href="https://www.cnblogs.com/wangzhongqiu/category/959574.html" >é«˜å¹¶å‘è§£å†³æ–¹æ¡ˆ</a></p><h2 id="Javaå¹¶å‘çŸ¥è¯†å›¾è°±"><a href="#Javaå¹¶å‘çŸ¥è¯†å›¾è°±" class="headerlink" title="Javaå¹¶å‘çŸ¥è¯†å›¾è°±"></a>Javaå¹¶å‘çŸ¥è¯†å›¾è°±</h2><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/2550976952.jpg" alt="ç¬¬äºŒä¸“é¢˜-å¹¶å‘ç¼–ç¨‹ä¸“é¢˜.png"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oracleå¸¸ç”¨SQLè¯­å¥å·¥ä½œæ€»ç»“ï¼ˆæŒç»­æ›´æ–°ä¸­ï¼‰</title>
      <link href="2019/04/25/2019-04-25-oracle-sql/"/>
      <url>2019/04/25/2019-04-25-oracle-sql/</url>
      
        <content type="html"><![CDATA[<p>ä¸»è¦æ˜¯è®°å½•å·¥ä½œä¸­é‡åˆ°çš„ä¸€äº›å„ç§â€™å¸¸ç”¨â€™å’Œâ€™å˜æ€â€™çš„SQLè¯­å¥(à¹‘â€¢Ì€ã…â€¢Ìà¸…)</p><hr><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><h4 id="1-ç»Ÿè®¡æˆåŠŸå¤±è´¥æ€»æ•°"><a href="#1-ç»Ÿè®¡æˆåŠŸå¤±è´¥æ€»æ•°" class="headerlink" title="1.ç»Ÿè®¡æˆåŠŸå¤±è´¥æ€»æ•°"></a>1.ç»Ÿè®¡æˆåŠŸå¤±è´¥æ€»æ•°</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(æ­£ç¡®æ•°)<span class="operator">+</span><span class="built_in">sum</span>(é”™è¯¯æ•°) <span class="keyword">as</span> æ€»è®°å½•æ•°,<span class="built_in">sum</span>(æ­£ç¡®æ•°),<span class="built_in">sum</span>(é”™è¯¯æ•°)</span><br><span class="line"><span class="keyword">from</span> (</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">count</span>(<span class="number">1</span>) æ­£ç¡®æ•°,<span class="number">0</span> é”™è¯¯æ•°</span><br><span class="line">    <span class="keyword">from</span> tb</span><br><span class="line">    <span class="keyword">where</span> status<span class="operator">=</span><span class="number">1</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line">    <span class="keyword">select</span> <span class="number">0</span> æ­£ç¡®æ•°,<span class="built_in">count</span>(<span class="number">1</span>) é”™è¯¯æ•°</span><br><span class="line">    <span class="keyword">from</span> tb</span><br><span class="line">    <span class="keyword">where</span> status<span class="operator">=</span><span class="number">0</span>) a;</span><br></pre></td></tr></table></figure><h4 id="2-ç›¸åŒçš„idï¼Œå–æœ€æ–°ä¸€æ¡"><a href="#2-ç›¸åŒçš„idï¼Œå–æœ€æ–°ä¸€æ¡" class="headerlink" title="2.ç›¸åŒçš„idï¼Œå–æœ€æ–°ä¸€æ¡"></a>2.ç›¸åŒçš„idï¼Œå–æœ€æ–°ä¸€æ¡</h4><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">// ä¾‹å­</span><br><span class="line"><span class="keyword">select</span> *</span><br><span class="line">  <span class="keyword">from</span> (<span class="keyword">select</span> row_number() <span class="keyword">over</span>(<span class="keyword">partition</span> <span class="keyword">by</span> id <span class="keyword">order</span> <span class="keyword">by</span> <span class="type">time</span> <span class="keyword">desc</span>) rn, a.*</span><br><span class="line">           <span class="keyword">from</span> <span class="keyword">table</span> a)</span><br><span class="line"> <span class="keyword">where</span> rn = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">// å®é™…ä½¿ç”¨</span><br><span class="line"><span class="keyword">select</span> </span><br><span class="line">       <span class="keyword">temp</span>.c_notice_record_id <span class="keyword">as</span> &quot;noticeRecordId&quot;,</span><br><span class="line">       <span class="keyword">temp</span>.c_notice_task_id <span class="keyword">as</span> &quot;noticeTaskId&quot;,</span><br><span class="line">       <span class="keyword">temp</span>.c_receiver_id <span class="keyword">as</span> &quot;receiverId&quot;,</span><br><span class="line">       <span class="keyword">temp</span>.c_notice_result <span class="keyword">as</span> &quot;noticeResult&quot;,</span><br><span class="line">       <span class="keyword">temp</span>.create_time <span class="keyword">as</span> &quot;createTime&quot;</span><br><span class="line">  <span class="keyword">from</span> (<span class="keyword">select</span> t.c_notice_record_id,</span><br><span class="line">               t.c_notice_task_id,</span><br><span class="line">               t.c_receiver_id,</span><br><span class="line">               t.c_notice_result,</span><br><span class="line">               t.create_time,</span><br><span class="line">               row_number() <span class="keyword">OVER</span>(<span class="keyword">PARTITION</span> <span class="keyword">BY</span> t.c_receiver_id <span class="keyword">order</span> <span class="keyword">by</span> t.create_time <span class="keyword">desc</span>) <span class="keyword">as</span> row_flg</span><br><span class="line">          <span class="keyword">from</span> t_notice_record t) <span class="keyword">temp</span></span><br><span class="line"> <span class="keyword">where</span> <span class="keyword">temp</span>.row_flg = <span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="3-ç›¸åŒID-åˆå¹¶å­—æ®µï¼Œé¡µé¢æ¢è¡Œæ˜¾ç¤º"><a href="#3-ç›¸åŒID-åˆå¹¶å­—æ®µï¼Œé¡µé¢æ¢è¡Œæ˜¾ç¤º" class="headerlink" title="3.ç›¸åŒID åˆå¹¶å­—æ®µï¼Œé¡µé¢æ¢è¡Œæ˜¾ç¤º"></a>3.ç›¸åŒID åˆå¹¶å­—æ®µï¼Œé¡µé¢æ¢è¡Œæ˜¾ç¤º</h4><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t.project_code,</span><br><span class="line">       listagg(to_char(t.sqmx), <span class="string">&#x27;&lt;br&gt;&#x27;</span>) <span class="keyword">within</span> <span class="keyword">GROUP</span>(<span class="keyword">order</span> <span class="keyword">by</span> t.project_code) <span class="keyword">as</span> sqmx</span><br><span class="line">  <span class="keyword">from</span> (<span class="keyword">select</span> trrs.project_code,</span><br><span class="line">               trrs.reveal_rate <span class="keyword">as</span> sqmx</span><br><span class="line">          <span class="keyword">from</span> t_reveal_report_scheme trrs</span><br><span class="line">         <span class="keyword">where</span> <span class="number">1</span> = <span class="number">1</span></span><br><span class="line">           <span class="keyword">and</span> trrs.delete_flag = <span class="string">&#x27;0&#x27;</span>) t</span><br><span class="line"> <span class="keyword">group</span> <span class="keyword">by</span> t.project_code;</span><br></pre></td></tr></table></figure><p>å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://niaobulashi.com/usr/uploads/sina/5d1c5145642a1.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><h4 id="4-æ ¹æ®è¡¨table-bçš„nameå»é‡æŸ¥è¯¢çš„ç»“æœé›†æŸ¥è¯¢è¡¨table-a"><a href="#4-æ ¹æ®è¡¨table-bçš„nameå»é‡æŸ¥è¯¢çš„ç»“æœé›†æŸ¥è¯¢è¡¨table-a" class="headerlink" title="4.æ ¹æ®è¡¨table_bçš„nameå»é‡æŸ¥è¯¢çš„ç»“æœé›†æŸ¥è¯¢è¡¨table_a"></a>4.æ ¹æ®è¡¨table_bçš„nameå»é‡æŸ¥è¯¢çš„ç»“æœé›†æŸ¥è¯¢è¡¨table_a</h4><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.*</span><br><span class="line">  <span class="keyword">from</span> table_a a</span><br><span class="line"> <span class="keyword">where</span> a.name <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> tc.name</span><br><span class="line">                            <span class="keyword">from</span> table_b b</span><br><span class="line">                           <span class="keyword">where</span> b.delete_flag = <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">   <span class="keyword">and</span> a.delete_flag = <span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="5-ä½¿ç”¨BETWEEN-DATE-YMD"><a href="#5-ä½¿ç”¨BETWEEN-DATE-YMD" class="headerlink" title="5.ä½¿ç”¨BETWEEN_DATE_YMD"></a>5.ä½¿ç”¨BETWEEN_DATE_YMD</h4><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">Date<span class="literal">[]</span> betweenDate = <span class="keyword">new</span> Date<span class="literal">[<span class="number">2</span>]</span>;</span><br><span class="line">betweenDate<span class="literal">[<span class="number">0</span>]</span> = <span class="module-access"><span class="module"><span class="identifier">ToolUtil</span>.</span></span>formate<span class="constructor">Date(<span class="params">startDate</span>, <span class="string">&quot;yyyy-MM-dd&quot;</span>)</span>;</span><br><span class="line">betweenDate<span class="literal">[<span class="number">1</span>]</span> = <span class="module-access"><span class="module"><span class="identifier">ToolUtil</span>.</span></span>formate<span class="constructor">Date(<span class="params">endDate</span>, <span class="string">&quot;yyyy-MM-dd&quot;</span>)</span>;</span><br><span class="line">investWhereProp.add(<span class="keyword">new</span> <span class="constructor">ColumnBase(<span class="string">&quot;settlementDate&quot;</span>, <span class="params">betweenDate</span>, ColumnBase.BETWEEN_DATE_YMD)</span>);</span><br></pre></td></tr></table></figure><h4 id="6-æŸ¥è¯¢ä¸´æ—¶è¡¨SQL"><a href="#6-æŸ¥è¯¢ä¸´æ—¶è¡¨SQL" class="headerlink" title="6.æŸ¥è¯¢ä¸´æ—¶è¡¨SQL"></a>6.æŸ¥è¯¢ä¸´æ—¶è¡¨SQL</h4><figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TU.TABLESPACE_NAME                                    <span class="keyword">AS</span> <span class="string">&quot;TABLESPACE_NAME&quot;</span>,</span><br><span class="line">       TT.TOTAL - TU.USED                                    <span class="keyword">AS</span> <span class="string">&quot;FREE(G)&quot;</span>,</span><br><span class="line">       TT.TOTAL                                              <span class="keyword">AS</span> <span class="string">&quot;TOTAL(G)&quot;</span>,</span><br><span class="line">       <span class="built_in">ROUND</span>(NVL(TU.USED, <span class="number">0</span>) / TT.TOTAL * <span class="number">100</span>, <span class="number">3</span>)            <span class="keyword">AS</span> <span class="string">&quot;USED(%)&quot;</span>,</span><br><span class="line">       <span class="built_in">ROUND</span>(NVL(TT.TOTAL - TU.USED, <span class="number">0</span>) * <span class="number">100</span> / TT.TOTAL, <span class="number">3</span>) <span class="keyword">AS</span> <span class="string">&quot;FREE(%)&quot;</span></span><br><span class="line"><span class="keyword">FROM</span> (<span class="keyword">SELECT</span> TABLESPACE_NAME, </span><br><span class="line">              <span class="built_in">SUM</span>(BYTES_USED) / <span class="number">1024</span> / <span class="number">1024</span> / <span class="number">1024</span> USED</span><br><span class="line">       <span class="keyword">FROM</span> V$TEMP_SPACE_HEADER</span><br><span class="line">       <span class="keyword">GROUP</span> <span class="keyword">BY</span> TABLESPACE_NAME) TU ,</span><br><span class="line">     (<span class="keyword">SELECT</span> TABLESPACE_NAME,</span><br><span class="line">              <span class="built_in">SUM</span>(BYTES) / <span class="number">1024</span> / <span class="number">1024</span> / <span class="number">1024</span> <span class="keyword">AS</span> TOTAL</span><br><span class="line">       <span class="keyword">FROM</span> DBA_TEMP_FILES</span><br><span class="line">       <span class="keyword">GROUP</span> <span class="keyword">BY</span> TABLESPACE_NAME) TT</span><br><span class="line"><span class="keyword">WHERE</span> TU.TABLESPACE_NAME = TT.TABLESPACE_NAME;</span><br></pre></td></tr></table></figure><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><h4 id="1-Oracleä¸¤è¡¨å…³è”ï¼ˆjoinï¼‰æ›´æ–°å­—æ®µå€¼ä¸€å¼ è¡¨åˆ°å¦ä¸€å¼ è¡¨"><a href="#1-Oracleä¸¤è¡¨å…³è”ï¼ˆjoinï¼‰æ›´æ–°å­—æ®µå€¼ä¸€å¼ è¡¨åˆ°å¦ä¸€å¼ è¡¨" class="headerlink" title="1.Oracleä¸¤è¡¨å…³è”ï¼ˆjoinï¼‰æ›´æ–°å­—æ®µå€¼ä¸€å¼ è¡¨åˆ°å¦ä¸€å¼ è¡¨"></a>1.Oracleä¸¤è¡¨å…³è”ï¼ˆjoinï¼‰æ›´æ–°å­—æ®µå€¼ä¸€å¼ è¡¨åˆ°å¦ä¸€å¼ è¡¨</h4><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> (<span class="keyword">select</span> a.name aname, b.name bname </span><br><span class="line">       <span class="keyword">from</span> A a, B b <span class="keyword">where</span> a.id = b.id)</span><br><span class="line">   <span class="keyword">set</span> aname = bname;</span><br><span class="line">//æ³¨ï¼šä¸¤è¡¨å…³è”å±æ€§idå¿…é¡»ä¸º<span class="keyword">unique</span> <span class="keyword">index</span>æˆ–<span class="keyword">primary key</span></span><br></pre></td></tr></table></figure><h4 id="2-ä¸¤è¡¨å…³è”æ›´æ–°"><a href="#2-ä¸¤è¡¨å…³è”æ›´æ–°" class="headerlink" title="2.ä¸¤è¡¨å…³è”æ›´æ–°"></a>2.ä¸¤è¡¨å…³è”æ›´æ–°</h4><figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŸ¥è¯¢TAä¸­æ˜¯å¦æŒ‰å•ä½å‡€å€¼æˆäº¤ï¼Œ0-å¦ï¼Œæˆ–è€…ä¸ºç©º</span></span><br><span class="line"><span class="keyword">select</span> tf.c_tradebynetvalue, tpp.*</span><br><span class="line">  <span class="keyword">from</span> t_polling_product tpp</span><br><span class="line"> inner <span class="keyword">join</span> tfundinfo@HSTA tf</span><br><span class="line">    <span class="keyword">on</span> tpp.c_product_code = tf.c_fundcode</span><br><span class="line">   <span class="keyword">and</span> (tf.c_tradebynetvalue <span class="keyword">is</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">or</span> tf.c_tradebynetvalue = <span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">    <span class="keyword">where</span> tpp.c_polling_approve_status <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//æ›´æ–°</span></span><br><span class="line">update t_polling_product t</span><br><span class="line">   <span class="keyword">set</span> t.c_stock_type_level1 = <span class="string">&#x27;1&#x27;</span>, t.c_stock_type_level2 = <span class="string">&#x27;07&#x27;</span></span><br><span class="line"> <span class="function"><span class="keyword">where</span> <span class="title">exists</span> (<span class="params"><span class="keyword">select</span> <span class="number">1</span></span></span></span><br><span class="line"><span class="function"><span class="params">          <span class="keyword">from</span> tfundinfo@HSTA tf</span></span></span><br><span class="line"><span class="function"><span class="params">         <span class="keyword">where</span> tf.c_fundcode = t.c_product_code</span></span></span><br><span class="line"><span class="function"><span class="params">         <span class="keyword">and</span> (tf.c_tradebynetvalue <span class="keyword">is</span> <span class="literal">null</span> <span class="keyword">or</span> tf.c_tradebynetvalue = <span class="string">&#x27;0&#x27;</span></span>))</span></span><br><span class="line"><span class="function">   <span class="keyword">and</span> t.c_polling_approve_status <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span></span>;</span><br></pre></td></tr></table></figure><h4 id="3-Aè¡¨å…³è”Bè¡¨æ›´æ–°Açš„ä¸¤ä¸ªå­—æ®µ"><a href="#3-Aè¡¨å…³è”Bè¡¨æ›´æ–°Açš„ä¸¤ä¸ªå­—æ®µ" class="headerlink" title="3.Aè¡¨å…³è”Bè¡¨æ›´æ–°Açš„ä¸¤ä¸ªå­—æ®µ"></a>3.Aè¡¨å…³è”Bè¡¨æ›´æ–°Açš„ä¸¤ä¸ªå­—æ®µ</h4><figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">update A <span class="built_in">t1</span></span><br><span class="line">   set (<span class="built_in">t1</span>.name, <span class="built_in">t1</span>.phone, <span class="built_in">t1</span>.age) =</span><br><span class="line">       (select <span class="built_in">t2</span>.name, <span class="built_in">t2</span>.phone, <span class="built_in">t2</span>.age from <span class="keyword">B </span><span class="built_in">t2</span> where <span class="built_in">t2</span>.id = <span class="built_in">t1</span>.id)</span><br><span class="line"> where <span class="built_in">t1</span>.id in (select <span class="built_in">t2</span>.id from <span class="keyword">B </span><span class="built_in">t2</span> where <span class="built_in">t2</span>.id = <span class="built_in">t1</span>.id);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¤„ç†excelæ—¶é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠæ€»ç»“</title>
      <link href="2019/04/24/2019-04-24-java-excel/"/>
      <url>2019/04/24/2019-04-24-java-excel/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ€è¿‘çš„å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°éœ€è¦å¯¼å‡ºexcelï¼Œä»¥åŠå¯¼å…¥è§£æexcelçš„éœ€æ±‚<br>éœ€è¦å…ˆå¯¼å‡ºexcelï¼Œä¿®æ”¹ä¹‹åï¼Œå†ç”¨è¯¥excelå¯¼å…¥å¤„ç†</p></blockquote><hr><h2 id="poiæ— æ³•è§£æooxmlæ ¼å¼excel"><a href="#poiæ— æ³•è§£æooxmlæ ¼å¼excel" class="headerlink" title="poiæ— æ³•è§£æooxmlæ ¼å¼excel"></a>poiæ— æ³•è§£æooxmlæ ¼å¼excel</h2><p>é‡åˆ°äº†ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œpoiæ— æ³•è§£æooxmlæ ¼å¼çš„excelæ–‡ä»¶ï¼Œ<a href="https://poi.apache.org/">poi</a>æ˜¯apacheè§£æexcelæ–‡ä»¶ä»¥åŠç›¸å…³æ“ä½œçš„jaråŒ…ã€‚<br>å½“æ—¶å¹³å°å¯¼å‡ºçš„excelæ ¼å¼æ–‡ä»¶ï¼Œæ— æ³•å¯¼å…¥è§£æï¼Œæ€»æ˜¯æŠ¥é”™</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">java</span>.io.IOException: Invalid header signature; read <span class="number">0</span>x<span class="number">6576206</span>C<span class="number">6</span>D<span class="number">783</span>F<span class="number">3</span>C, expected <span class="number">0</span>xE<span class="number">11</span>AB<span class="number">1</span>A<span class="number">1</span>E<span class="number">011</span>CFD<span class="number">0</span> - Your file appears not to be a valid OLE<span class="number">2</span> document</span><br></pre></td></tr></table></figure><p>åœ¨ç½‘ä¸ŠæŸ¥é˜…èµ„æ–™å¥½ä¹…ï¼Œç»ˆäºæ‰¾åˆ°äº†ä¸€ä½åšå‹çš„æ–‡ç« </p><p><a href="https://www.fanyeong.com/2016/03/20/%E4%BD%BF%E7%94%A8apache-poi%E7%94%9F%E6%88%90word%E6%96%87%E6%A1%A3%E4%B8%8D%E8%83%BD%E8%A2%ABoffice%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/">ä½¿ç”¨apache-poiç”Ÿæˆwordæ–‡æ¡£ä¸èƒ½è¢«officeè¯»å–çš„é—®é¢˜</a></p><p>å¯æƒœç°åœ¨ä»–çš„ç½‘ç«™æ‰“ä¸å¼€äº† ::aru:crying:: ï¼Œè¿˜å¥½å½“æ—¶æœ‰è®°å½•é—®é¢˜æˆªå›¾</p><p><img src="https://niaobulashi.com/usr/uploads/sina/5d1c5144b6c4c.jpg" alt="åšå‹æè¿°çš„é—®é¢˜"></p><p>å¾ˆæ˜æ˜¾äº†ï¼špoiå¹¶ä¸æ”¯æŒooxmlæ ¼å¼çš„excelè§£æ</p><p>æ‰€ä»¥æ‰¾åˆ°ä¸€ä¸ªexcelå…¬å…±å¤„ç†é¡¹ç›®ï¼Œä¸ªäººè§‰å¾—å¾ˆæ–¹ä¾¿</p><p>githubï¼š<a href="https://github.com/niaobulashi/easy-excel">easy-excel</a><br>å…·ä½“é¡¹ç›®çš„æ“ä½œå·²æœ‰è¯´æ˜ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡º</p><p>è¯¥é¡¹ç›®å¯¼å‡ºçš„excelä¸ºofficeçš„xlsæ­£å¸¸æ ¼å¼ï¼Œå¯ä»¥æ»¡è¶³è¿™æ¬¡å¯¼å…¥çš„è§£æ ::aru:cheer:: </p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†åº“åˆ†è¡¨ï¼Ÿå¦‚ä½•åšåˆ°æ°¸ä¸è¿ç§»æ•°æ®å’Œé¿å…çƒ­ç‚¹ï¼Ÿï¼ˆè½¬ï¼‰</title>
      <link href="2019/04/23/2019-04-23-new-db/"/>
      <url>2019/04/23/2019-04-23-new-db/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>ä¸­å¤§å‹é¡¹ç›®ä¸­ï¼Œä¸€æ—¦é‡åˆ°æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œå°ä¼™ä¼´åº”è¯¥éƒ½çŸ¥é“å°±åº”è¯¥å¯¹æ•°æ®è¿›è¡Œæ‹†åˆ†äº†ã€‚æœ‰å‚ç›´å’Œæ°´å¹³ä¸¤ç§ã€‚<br>å‚ç›´æ‹†åˆ†æ¯”è¾ƒç®€å•ï¼Œä¹Ÿå°±æ˜¯æœ¬æ¥ä¸€ä¸ªæ•°æ®åº“ï¼Œæ•°æ®é‡å¤§ä¹‹åï¼Œä»ä¸šåŠ¡è§’åº¦è¿›è¡Œæ‹†åˆ†å¤šä¸ªåº“ã€‚å¦‚ä¸‹å›¾ï¼Œç‹¬ç«‹çš„æ‹†åˆ†å‡ºè®¢å•åº“å’Œç”¨æˆ·åº“ã€‚<br><img src="https://img-blog.csdnimg.cn/2019073010534092.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ°´å¹³æ‹†åˆ†çš„æ¦‚å¿µï¼Œæ˜¯åŒä¸€ä¸ªä¸šåŠ¡æ•°æ®é‡å¤§ä¹‹åï¼Œè¿›è¡Œæ°´å¹³æ‹†åˆ†ã€‚<br><img src="https://img-blog.csdnimg.cn/20190730105350113.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸Šå›¾ä¸­è®¢å•æ•°æ®è¾¾åˆ°äº†4000ä¸‡ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“mysqlå•è¡¨å­˜å‚¨é‡æ¨èæ˜¯ç™¾ä¸‡çº§ï¼Œå¦‚æœä¸è¿›è¡Œå¤„ç†ï¼Œmysqlå•è¡¨æ•°æ®å¤ªå¤§ï¼Œä¼šå¯¼è‡´æ€§èƒ½å˜æ…¢ã€‚ä½¿ç”¨æ–¹æ¡ˆå¯ä»¥å‚è€ƒæ•°æ®è¿›è¡Œæ°´å¹³æ‹†åˆ†ã€‚æŠŠ4000ä¸‡æ•°æ®æ‹†åˆ†4å¼ è¡¨æˆ–è€…æ›´å¤šã€‚å½“ç„¶ä¹Ÿå¯ä»¥åˆ†åº“ï¼Œå†åˆ†è¡¨ï¼›æŠŠå‹åŠ›ä»æ•°æ®åº“å±‚çº§åˆ†å¼€ã€‚</p><h2 id="äºŒã€åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ"><a href="#äºŒã€åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ" class="headerlink" title="äºŒã€åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ"></a>äºŒã€åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ</h2><p>åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆä¸­æœ‰å¸¸ç”¨çš„æ–¹æ¡ˆï¼Œhashå–æ¨¡å’ŒrangeèŒƒå›´æ–¹æ¡ˆï¼›åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆæœ€ä¸»è¦å°±æ˜¯è·¯ç”±ç®—æ³•ï¼ŒæŠŠè·¯ç”±çš„keyæŒ‰ç…§æŒ‡å®šçš„ç®—æ³•è¿›è¡Œè·¯ç”±å­˜æ”¾ã€‚ä¸‹è¾¹æ¥ä»‹ç»ä¸€ä¸‹ä¸¤ä¸ªæ–¹æ¡ˆçš„ç‰¹ç‚¹ã€‚</p><p><strong>1ã€hashå–æ¨¡æ–¹æ¡ˆ</strong></p><p><img src="https://img-blog.csdnimg.cn/20190730105610280.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨æˆ‘ä»¬è®¾è®¡ç³»ç»Ÿä¹‹å‰ï¼Œå¯ä»¥å…ˆé¢„ä¼°ä¸€ä¸‹å¤§æ¦‚è¿™å‡ å¹´çš„è®¢å•é‡ï¼Œå¦‚ï¼š4000ä¸‡ã€‚æ¯å¼ è¡¨æˆ‘ä»¬å¯ä»¥å®¹çº³1000ä¸‡ï¼Œä¹Ÿæˆ‘ä»¬å¯ä»¥è®¾è®¡4å¼ è¡¨è¿›è¡Œå­˜å‚¨ã€‚<br>é‚£å…·ä½“å¦‚ä½•è·¯ç”±å­˜å‚¨çš„å‘¢ï¼Ÿhashçš„æ–¹æ¡ˆå°±æ˜¯å¯¹æŒ‡å®šçš„è·¯ç”±keyï¼ˆå¦‚ï¼šidï¼‰å¯¹åˆ†è¡¨æ€»æ•°è¿›è¡Œå–æ¨¡ï¼Œä¸Šå›¾ä¸­ï¼Œid=12çš„è®¢å•ï¼Œå¯¹4è¿›è¡Œå–æ¨¡ï¼Œä¹Ÿå°±æ˜¯ä¼šå¾—åˆ°0ï¼Œé‚£æ­¤è®¢å•ä¼šæ”¾åˆ°0è¡¨ä¸­ã€‚id=13çš„è®¢å•ï¼Œå–æ¨¡å¾—åˆ°ä¸º1ï¼Œå°±ä¼šæ”¾åˆ°1è¡¨ä¸­ã€‚ä¸ºä»€ä¹ˆå¯¹4å–æ¨¡ï¼Œæ˜¯å› ä¸ºåˆ†è¡¨æ€»æ•°æ˜¯4ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p>è®¢å•æ•°æ®å¯ä»¥å‡åŒ€çš„æ”¾åˆ°é‚£4å¼ è¡¨ä¸­ï¼Œè¿™æ ·æ­¤è®¢å•è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±ä¸ä¼šæœ‰çƒ­ç‚¹é—®é¢˜ã€‚</p><p>çƒ­ç‚¹çš„å«ä¹‰ï¼šçƒ­ç‚¹çš„æ„æ€å°±æ˜¯å¯¹è®¢å•è¿›è¡Œæ“ä½œé›†ä¸­åˆ°1ä¸ªè¡¨ä¸­ï¼Œå…¶ä»–è¡¨çš„æ“ä½œå¾ˆå°‘ã€‚</p><p>è®¢å•æœ‰ä¸ªç‰¹ç‚¹å°±æ˜¯æ—¶é—´å±æ€§ï¼Œä¸€èˆ¬ç”¨æˆ·æ“ä½œè®¢å•æ•°æ®ï¼Œéƒ½ä¼šé›†ä¸­åˆ°è¿™æ®µæ—¶é—´äº§ç”Ÿçš„è®¢å•ã€‚å¦‚æœè¿™æ®µæ—¶é—´äº§ç”Ÿçš„è®¢å• éƒ½åœ¨åŒä¸€å¼ è®¢å•è¡¨ä¸­ï¼Œé‚£å°±ä¼šå½¢æˆçƒ­ç‚¹ï¼Œé‚£å¼ è¡¨çš„å‹åŠ›ä¼šæ¯”è¾ƒå¤§ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p>å°†æ¥çš„æ•°æ®è¿ç§»å’Œæ‰©å®¹ï¼Œä¼šå¾ˆéš¾ã€‚</p><p>å¦‚ï¼šä¸šåŠ¡å‘å±•å¾ˆå¥½ï¼Œè®¢å•é‡å¾ˆå¤§ï¼Œè¶…å‡ºäº†4000ä¸‡çš„é‡ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦å¢åŠ åˆ†è¡¨æ•°ã€‚å¦‚æœæˆ‘ä»¬å¢åŠ 4ä¸ªè¡¨<br><img src="https://img-blog.csdnimg.cn/20190730105626918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¸€æ—¦æˆ‘ä»¬å¢åŠ äº†åˆ†è¡¨çš„æ€»æ•°ï¼Œå–æ¨¡çš„åŸºæ•°å°±ä¼šå˜æˆ8ï¼Œä»¥å‰id=12çš„è®¢å•æŒ‰ç…§æ­¤æ–¹æ¡ˆå°±ä¼šåˆ°4è¡¨ä¸­æŸ¥è¯¢ï¼Œä½†ä¹‹å‰çš„æ­¤è®¢å•æ—¶åœ¨0è¡¨çš„ï¼Œè¿™æ ·å°±å¯¼è‡´äº†æ•°æ®æŸ¥ä¸åˆ°ã€‚å°±æ˜¯å› ä¸ºå–æ¨¡çš„åŸºæ•°äº§ç”Ÿäº†å˜åŒ–ã€‚</p><p>é‡åˆ°è¿™ä¸ªæƒ…å†µï¼Œæˆ‘ä»¬å°ä¼™ä¼´æƒ³åˆ°çš„æ–¹æ¡ˆå°±æ˜¯åšæ•°æ®è¿ç§»ï¼ŒæŠŠä¹‹å‰çš„4000ä¸‡æ•°æ®ï¼Œé‡æ–°åšä¸€ä¸ªhashæ–¹æ¡ˆï¼Œæ”¾åˆ°æ–°çš„è§„åˆ’åˆ†è¡¨ä¸­ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦åšæ•°æ®è¿ç§»ã€‚è¿™ä¸ªæ˜¯å¾ˆç—›è‹¦çš„äº‹æƒ…ã€‚æœ‰äº›å°å…¬å¸å¯ä»¥æ¥å—æ™šä¸Šåœæœºè¿ç§»ï¼Œä½†å¤§å…¬å¸æ˜¯ä¸å…è®¸åœæœºåšæ•°æ®è¿ç§»çš„ã€‚</p><p>å½“ç„¶åšæ•°æ®è¿ç§»å¯ä»¥ç»“åˆè‡ªå·±çš„å…¬å¸çš„ä¸šåŠ¡ï¼Œåšä¸€ä¸ªå·¥å…·è¿›è¡Œï¼Œä¸è¿‡ä¹Ÿå¸¦æ¥äº†å¾ˆå¤šå·¥ä½œé‡ï¼Œæ¯æ¬¡æ‰©å®¹éƒ½è¦åšæ•°æ®è¿ç§»</p><p>é‚£æœ‰æ²¡æœ‰ä¸éœ€è¦åšæ•°æ®è¿ç§»çš„æ–¹æ¡ˆå‘¢ï¼Œæˆ‘ä»¬çœ‹ä¸‹é¢çš„æ–¹æ¡ˆ</p><p><strong>2ã€rangeèŒƒå›´æ–¹æ¡ˆ</strong></p><p>rangeæ–¹æ¡ˆä¹Ÿå°±æ˜¯ä»¥èŒƒå›´è¿›è¡Œæ‹†åˆ†æ•°æ®ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190730105639290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>rangeæ–¹æ¡ˆæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯æŠŠä¸€å®šèŒƒå›´å†…çš„è®¢å•ï¼Œå­˜æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­ï¼›å¦‚ä¸Šå›¾id=12æ”¾åˆ°0è¡¨ä¸­ï¼Œid=1300ä¸‡çš„æ”¾åˆ°1è¡¨ä¸­ã€‚è®¾è®¡è¿™ä¸ªæ–¹æ¡ˆæ—¶å°±æ˜¯å‰æœŸæŠŠè¡¨çš„èŒƒå›´è®¾è®¡å¥½ã€‚é€šè¿‡idè¿›è¡Œè·¯ç”±å­˜æ”¾ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><p>æˆ‘ä»¬å°ä¼™ä¼´ä»¬æƒ³ä¸€ä¸‹ï¼Œæ­¤æ–¹æ¡ˆæ˜¯ä¸æ˜¯æœ‰åˆ©äºå°†æ¥çš„æ‰©å®¹ï¼Œä¸éœ€è¦åšæ•°æ®è¿ç§»ã€‚å³æ—¶å†å¢åŠ 4å¼ è¡¨ï¼Œä¹‹å‰çš„4å¼ è¡¨çš„èŒƒå›´ä¸éœ€è¦æ”¹å˜ï¼Œid=12çš„è¿˜æ˜¯åœ¨0è¡¨ï¼Œid=1300ä¸‡çš„è¿˜æ˜¯åœ¨1è¡¨ï¼Œæ–°å¢çš„4å¼ è¡¨ä»–ä»¬çš„èŒƒå›´è‚¯å®šæ˜¯ å¤§äº 4000ä¸‡ä¹‹åçš„èŒƒå›´åˆ’åˆ†çš„ã€‚</p><p><strong>ç¼ºç‚¹</strong></p><p>æœ‰çƒ­ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬æƒ³ä¸€ä¸‹ï¼Œå› ä¸ºidçš„å€¼ä¼šä¸€ç›´é€’å¢å˜å¤§ï¼Œé‚£è¿™æ®µæ—¶é—´çš„è®¢å•æ˜¯ä¸æ˜¯ä¼šä¸€ç›´åœ¨æŸä¸€å¼ è¡¨ä¸­ï¼Œå¦‚id=1000ä¸‡ ï½ id=2000ä¸‡ä¹‹é—´ï¼Œè¿™æ®µæ—¶é—´äº§ç”Ÿçš„è®¢å•æ˜¯ä¸æ˜¯éƒ½ä¼šé›†ä¸­åˆ°æ­¤å¼ è¡¨ä¸­ï¼Œè¿™ä¸ªå°±å¯¼è‡´1è¡¨è¿‡çƒ­ï¼Œå‹åŠ›è¿‡å¤§ï¼Œè€Œå…¶ä»–çš„è¡¨æ²¡æœ‰ä»€ä¹ˆå‹åŠ›ã€‚</p><p><strong>3ã€æ€»ç»“ï¼š</strong></p><p>hashå–æ¨¡æ–¹æ¡ˆï¼šæ²¡æœ‰çƒ­ç‚¹é—®é¢˜ï¼Œä½†æ‰©å®¹è¿ç§»æ•°æ®ç—›è‹¦</p><p>rangeæ–¹æ¡ˆï¼šä¸éœ€è¦è¿ç§»æ•°æ®ï¼Œä½†æœ‰çƒ­ç‚¹é—®é¢˜ã€‚</p><p>é‚£æœ‰ä»€ä¹ˆæ–¹æ¡ˆå¯ä»¥åšåˆ°ä¸¤è€…çš„ä¼˜ç‚¹ç»“åˆå‘¢ï¼Ÿï¼Œå³ä¸éœ€è¦è¿ç§»æ•°æ®ï¼Œåˆèƒ½è§£å†³æ•°æ®çƒ­ç‚¹çš„é—®é¢˜å‘¢ï¼Ÿ</p><p>å…¶å®è¿˜æœ‰ä¸€ä¸ªç°å®éœ€æ±‚ï¼Œèƒ½å¦æ ¹æ®æœåŠ¡å™¨çš„æ€§èƒ½ä»¥åŠå­˜å‚¨é«˜ä½ï¼Œé€‚å½“å‡åŒ€è°ƒæ•´å­˜å‚¨å‘¢ï¼Ÿ</p><p><img src="https://img-blog.csdnimg.cn/20190730105656363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="ä¸‰ã€æ–¹æ¡ˆæ€è·¯"><a href="#ä¸‰ã€æ–¹æ¡ˆæ€è·¯" class="headerlink" title="ä¸‰ã€æ–¹æ¡ˆæ€è·¯"></a>ä¸‰ã€æ–¹æ¡ˆæ€è·¯</h2><p>hashæ˜¯å¯ä»¥è§£å†³æ•°æ®å‡åŒ€çš„é—®é¢˜ï¼Œrangeå¯ä»¥è§£å†³æ•°æ®è¿ç§»é—®é¢˜ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä¸å¯ä»¥ä¸¤è€…ç›¸ç»“åˆå‘¢ï¼Ÿåˆ©ç”¨è¿™ä¸¤è€…çš„ç‰¹æ€§å‘¢ï¼Ÿ<br>æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹æ•°æ®çš„æ‰©å®¹ä»£è¡¨ç€ï¼Œè·¯ç”±keyï¼ˆå¦‚idï¼‰çš„å€¼å˜å¤§äº†ï¼Œè¿™ä¸ªæ˜¯ä¸€å®šçš„ï¼Œé‚£æˆ‘ä»¬å…ˆä¿è¯æ•°æ®å˜å¤§çš„æ—¶å€™ï¼Œé¦–å…ˆç”¨rangeæ–¹æ¡ˆè®©æ•°æ®è½åœ°åˆ°ä¸€ä¸ªèŒƒå›´é‡Œé¢ã€‚è¿™æ ·ä»¥åidå†å˜å¤§ï¼Œé‚£ä»¥å‰çš„æ•°æ®æ˜¯ä¸éœ€è¦è¿ç§»çš„ã€‚</p><p>ä½†åˆè¦è€ƒè™‘åˆ°æ•°æ®å‡åŒ€ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥åœ¨ä¸€å®šçš„èŒƒå›´å†…æ•°æ®å‡åŒ€çš„å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬æ¯æ¬¡çš„æ‰©å®¹è‚¯å®šä¼šäº‹å…ˆè®¾è®¡å¥½è¿™æ¬¡æ‰©å®¹çš„èŒƒå›´å¤§å°ï¼Œæˆ‘ä»¬åªè¦ä¿è¯è¿™æ¬¡çš„èŒƒå›´å†…çš„æ•°æ®å‡åŒ€æ˜¯ä¸æ˜¯å°±okäº†ã€‚<br><img src="https://img-blog.csdnimg.cn/20190730105729517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å››ã€æ–¹æ¡ˆè®¾è®¡"><a href="#å››ã€æ–¹æ¡ˆè®¾è®¡" class="headerlink" title="å››ã€æ–¹æ¡ˆè®¾è®¡"></a>å››ã€æ–¹æ¡ˆè®¾è®¡</h2><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªgroupç»„æ¦‚å¿µï¼Œè¿™ç»„é‡Œé¢åŒ…å«äº†ä¸€äº›åˆ†åº“ä»¥åŠåˆ†è¡¨ï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://img-blog.csdnimg.cn/2019073010575679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ä¸Šå›¾æœ‰å‡ ä¸ªå…³é”®ç‚¹ï¼š</strong><br>1ï¼‰id=0ï½4000ä¸‡è‚¯å®šè½åˆ°group01ç»„ä¸­</p><p>2ï¼‰group01ç»„æœ‰3ä¸ªDBï¼Œé‚£ä¸€ä¸ªidå¦‚ä½•è·¯ç”±åˆ°å“ªä¸ªDBï¼Ÿ</p><p>3ï¼‰æ ¹æ®hashå–æ¨¡å®šä½DBï¼Œé‚£æ¨¡æ•°ä¸ºå¤šå°‘ï¼Ÿæ¨¡æ•°è¦ä¸ºæ‰€æœ‰æ­¤groupç»„DBä¸­çš„è¡¨æ•°ï¼Œä¸Šå›¾æ€»è¡¨æ•°ä¸º10ã€‚ä¸ºä»€ä¹ˆè¦å»è¡¨çš„æ€»æ•°ï¼Ÿè€Œä¸æ˜¯DBæ€»æ•°3å‘¢ï¼Ÿ</p><p>4ï¼‰å¦‚id=12ï¼Œid%10=2ï¼›é‚£å€¼ä¸º2ï¼Œè½åˆ°å“ªä¸ªDBåº“å‘¢ï¼Ÿè¿™æ˜¯è®¾è®¡æ˜¯å‰æœŸè®¾å®šå¥½çš„ï¼Œé‚£æ€ä¹ˆè®¾å®šçš„å‘¢ï¼Ÿ</p><p>5ï¼‰ä¸€æ—¦è®¾è®¡å®šä½å“ªä¸ªDBåï¼Œå°±éœ€è¦ç¡®å®šè½åˆ°DBä¸­çš„å“ªå¼ è¡¨å‘¢ï¼Ÿ</p><p><img src="https://img-blog.csdnimg.cn/20190730105802673.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="äº”ã€æ ¸å¿ƒä¸»æµç¨‹"><a href="#äº”ã€æ ¸å¿ƒä¸»æµç¨‹" class="headerlink" title="äº”ã€æ ¸å¿ƒä¸»æµç¨‹"></a>äº”ã€æ ¸å¿ƒä¸»æµç¨‹</h2><p><img src="https://img-blog.csdnimg.cn/20190730105819287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æŒ‰ç…§ä¸Šé¢çš„æµç¨‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æ­¤è§„åˆ™ï¼Œå®šä½ä¸€ä¸ªidï¼Œæˆ‘ä»¬çœ‹çœ‹æœ‰æ²¡æœ‰é¿å…çƒ­ç‚¹é—®é¢˜ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼Œidåœ¨ã€0ï¼Œ1000ä¸‡ã€‘èŒƒå›´å†…çš„ï¼Œæ ¹æ®ä¸Šé¢çš„æµç¨‹è®¾è®¡ï¼Œ1000ä¸‡ä»¥å†…çš„idéƒ½å‡åŒ€çš„åˆ†é…åˆ°DB_0,DB_1,DB_2ä¸‰ä¸ªæ•°æ®åº“ä¸­çš„Table_0è¡¨ä¸­ï¼Œä¸ºä»€ä¹ˆå¯ä»¥å‡åŒ€ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨äº†hashçš„æ–¹æ¡ˆï¼Œå¯¹10è¿›è¡Œå–æ¨¡ã€‚</p><p>ä¸Šé¢æˆ‘ä»¬ä¹Ÿæäº†ç–‘é—®ï¼Œä¸ºä»€ä¹ˆå¯¹è¡¨çš„æ€»æ•°10å–æ¨¡ï¼Œè€Œä¸æ˜¯DBçš„æ€»æ•°3è¿›è¡Œå–æ¨¡ï¼Ÿæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸ºä»€ä¹ˆDB_0æ˜¯4å¼ è¡¨ï¼Œå…¶ä»–ä¸¤ä¸ªDB_1æ˜¯3å¼ è¡¨ï¼Ÿ</p><p>åœ¨æˆ‘ä»¬å®‰æ’æœåŠ¡å™¨æ—¶ï¼Œæœ‰äº›æœåŠ¡å™¨çš„æ€§èƒ½é«˜ï¼Œå­˜å‚¨é«˜ï¼Œå°±å¯ä»¥å®‰æ’å¤šå­˜æ”¾äº›æ•°æ®ï¼Œæœ‰äº›æ€§èƒ½ä½çš„å°±å°‘æ”¾ç‚¹æ•°æ®ã€‚å¦‚æœæˆ‘ä»¬å–æ¨¡æ˜¯æŒ‰ç…§DBæ€»æ•°3ï¼Œè¿›è¡Œå–æ¨¡ï¼Œé‚£å°±ä»£è¡¨ç€ã€0ï¼Œ4000ä¸‡ã€‘çš„æ•°æ®æ˜¯å¹³å‡åˆ†é…åˆ°3ä¸ªDBä¸­çš„ï¼Œé‚£å°±ä¸èƒ½å¤Ÿå®ç°æŒ‰ç…§æœåŠ¡å™¨èƒ½åŠ›é€‚å½“åˆ†é…äº†ã€‚</p><p><strong>æŒ‰ç…§Tableæ€»æ•°10å°±èƒ½å¤Ÿè¾¾åˆ°ï¼Œçœ‹å¦‚ä½•è¾¾åˆ°</strong></p><p><img src="https://img-blog.csdnimg.cn/20190730110356861.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¸Šå›¾ä¸­æˆ‘ä»¬å¯¹10è¿›è¡Œå–æ¨¡ï¼Œå¦‚æœå€¼ä¸ºã€0ï¼Œ1ï¼Œ2ï¼Œ3ã€‘å°±è·¯ç”±åˆ°DB_0ï¼Œã€4ï¼Œ5ï¼Œ6ã€‘è·¯ç”±åˆ°DB_1ï¼Œã€7ï¼Œ8ï¼Œ9ã€‘è·¯ç”±åˆ°DB_2ã€‚ç°åœ¨å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰ç†è§£ï¼Œè¿™æ ·çš„è®¾è®¡å°±å¯ä»¥æŠŠå¤šä¸€ç‚¹çš„æ•°æ®æ”¾åˆ°DB_0ä¸­ï¼Œå…¶ä»–2ä¸ªDBæ•°æ®é‡å°±å¯ä»¥å°‘ä¸€ç‚¹ã€‚DB_0æ‰¿æ‹…äº†4/10çš„æ•°æ®é‡ï¼ŒDB_1æ‰¿æ‹…äº†3/10çš„æ•°æ®é‡ï¼ŒDB_2ä¹Ÿæ‰¿æ‹…äº†3/10çš„æ•°æ®é‡ã€‚æ•´ä¸ªGroup01æ‰¿æ‹…äº†ã€0ï¼Œ4000ä¸‡ã€‘çš„æ•°æ®é‡ã€‚</p><p>æ³¨æ„ï¼šå°ä¼™ä¼´åƒä¸‡ä¸è¦è¢«DB_1æˆ–DB_2ä¸­tableçš„èŒƒå›´ä¹Ÿæ˜¯0ï½4000ä¸‡ç–‘æƒ‘äº†ï¼Œè¿™ä¸ªæ˜¯èŒƒå›´åŒºé—´ï¼Œä¹Ÿå°±æ˜¯idåœ¨å“ªäº›èŒƒå›´å†…ï¼Œè½åœ°åˆ°å“ªä¸ªè¡¨è€Œå·²ã€‚</p><p>ä¸Šé¢ä¸€å¤§æ®µçš„ä»‹ç»ï¼Œå°±è§£å†³äº†çƒ­ç‚¹çš„é—®é¢˜ï¼Œä»¥åŠå¯ä»¥æŒ‰ç…§æœåŠ¡å™¨æŒ‡æ ‡ï¼Œè®¾è®¡æ•°æ®é‡çš„åˆ†é…ã€‚<br><img src="https://img-blog.csdnimg.cn/20190730105922585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="å…­ã€å¦‚ä½•æ‰©å®¹"><a href="#å…­ã€å¦‚ä½•æ‰©å®¹" class="headerlink" title="å…­ã€å¦‚ä½•æ‰©å®¹"></a>å…­ã€å¦‚ä½•æ‰©å®¹</h2><p>å…¶å®ä¸Šé¢è®¾è®¡æ€è·¯ç†è§£äº†ï¼Œæ‰©å®¹å°±å·²ç»å‡ºæ¥äº†ï¼›é‚£å°±æ˜¯æ‰©å®¹çš„æ—¶å€™å†è®¾è®¡ä¸€ä¸ªgroup02ç»„ï¼Œå®šä¹‰å¥½æ­¤groupçš„æ•°æ®èŒƒå›´å°±okäº†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20190730105944944.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å› ä¸ºæ˜¯æ–°å¢çš„ä¸€ä¸ªgroup01ç»„ï¼Œæ‰€ä»¥å°±æ²¡æœ‰ä»€ä¹ˆæ•°æ®è¿ç§»æ¦‚å¿µï¼Œå®Œå…¨æ˜¯æ–°å¢çš„groupç»„ï¼Œè€Œä¸”è¿™ä¸ªgroupç»„ç…§æ ·å°±é˜²æ­¢äº†çƒ­ç‚¹ï¼Œä¹Ÿå°±æ˜¯ã€4000ä¸‡ï¼Œ5500ä¸‡ã€‘çš„æ•°æ®ï¼Œéƒ½å‡åŒ€åˆ†é…åˆ°ä¸‰ä¸ªDBçš„table_0è¡¨ä¸­ï¼Œã€5500ä¸‡ï½7000ä¸‡ã€‘æ•°æ®å‡åŒ€åˆ†é…åˆ°table_1è¡¨ä¸­ã€‚</p><h2 id="ä¸ƒã€ç³»ç»Ÿè®¾è®¡"><a href="#ä¸ƒã€ç³»ç»Ÿè®¾è®¡" class="headerlink" title="ä¸ƒã€ç³»ç»Ÿè®¾è®¡"></a>ä¸ƒã€ç³»ç»Ÿè®¾è®¡</h2><p><img src="https://img-blog.csdnimg.cn/20190730110000333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ€è·¯ç¡®å®šäº†ï¼Œè®¾è®¡æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå°±3å¼ è¡¨ï¼ŒæŠŠgroupï¼ŒDBï¼Œtableä¹‹é—´å»ºç«‹å¥½å…³è”å…³ç³»å°±è¡Œäº†ã€‚</p><p><strong>groupå’ŒDBçš„å…³ç³»</strong><br><img src="https://img-blog.csdnimg.cn/20190730110056301.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20190730110128280.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>tableå’Œdbçš„å…³ç³»</strong></p><p>ä¸Šé¢çš„è¡¨å…³è”å…¶å®æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåªè¦åŸç†æ€è·¯ç†é¡ºäº†ï¼Œå°±okäº†ã€‚å°ä¼™ä¼´ä»¬åœ¨å¼€å‘çš„æ—¶å€™ä¸è¦æ¯æ¬¡éƒ½å»æŸ¥è¯¢ä¸‰å¼ å…³è”è¡¨ï¼Œå¯ä»¥ä¿å­˜åˆ°ç¼“å­˜ä¸­ï¼ˆæœ¬åœ°jvmç¼“å­˜ï¼‰ï¼Œè¿™æ ·ä¸ä¼šå½±å“æ€§èƒ½ã€‚<br><img src="https://img-blog.csdnimg.cn/20190730110141494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTI1Nzc0NzQ=,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä¸€æ—¦éœ€è¦æ‰©å®¹ï¼Œå°ä¼™ä¼´æ˜¯ä¸æ˜¯è¦å¢åŠ ä¸€ä¸‹group02å…³è”å…³ç³»ï¼Œé‚£åº”ç”¨æœåŠ¡éœ€è¦é‡æ–°å¯åŠ¨å—ï¼Ÿ<br>ç®€å•ç‚¹çš„è¯ï¼Œå°±å‡Œæ™¨é…ç½®ï¼Œé‡å¯åº”ç”¨æœåŠ¡å°±è¡Œäº†ã€‚ä½†å¦‚æœæ˜¯å¤§å‹å…¬å¸ï¼Œæ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºå‡Œæ™¨ä¹Ÿæœ‰è®¢å•çš„ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæœ¬åœ°jvmç¼“å­˜æ€ä¹ˆæ›´æ–°å‘¢ï¼Ÿ</p><p>å…¶å®æ–¹æ¡ˆä¹Ÿå¾ˆå¤šï¼Œå¯ä»¥ä½¿ç”¨ç”¨zookeeperï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼é…ç½®ï¼Œè¿™é‡Œæ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒçš„ï¼Œå¯ä»¥å°†è¿™äº›æ•°æ®é…ç½®åˆ°åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå»</p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæ•´ä½“çš„æ–¹æ¡ˆä»‹ç»ç»“æŸï¼Œå¸Œæœ›å¯¹å°ä¼™ä¼´ä»¬æœ‰æ‰€å¸®åŠ©ã€‚è°¢è°¢ï¼ï¼ï¼</p><p>è¿™è¾¹éšå«äº†ä¸€ä¸ªå…³é”®ç‚¹ï¼Œé‚£å°±æ˜¯è·¯ç”±keyï¼ˆå¦‚ï¼šidï¼‰çš„å€¼æ˜¯éå¸¸å…³é”®çš„ï¼Œè¦æ±‚ä¸€å®šæ˜¯æœ‰åºçš„ï¼Œè‡ªå¢çš„ï¼Œè¿™ä¸ªå°±æ¶‰åŠåˆ°åˆ†å¸ƒå¼å”¯ä¸€idçš„æ–¹æ¡ˆï¼</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> åˆ†è¡¨åˆ†åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç³»ç»Ÿæ¶æ„å¸ˆå­¦ä¹ ä½“ç³»å›¾</title>
      <link href="2019/04/22/2019-04-22-java-architect/"/>
      <url>2019/04/22/2019-04-22-java-architect/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åˆ†äº«ä¸€å¼ Javaç³»ç»Ÿæ¶æ„å¸ˆçš„æ¶æ„å­¦ä¹ ä½“ç³»å›¾</p></blockquote><hr><p><img src="https://images.niaobulashi.com/typecho/uploads/2019/07/4115284714.jpg" alt="Javaç³»ç»Ÿæ¶æ„å¸ˆ"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰“åŒ…æˆwaråŒ…ä¹‹åå¦‚ä½•è¯»å–é…ç½®æ–‡ä»¶</title>
      <link href="2019/04/17/2019-04-17-java-war-filePath/"/>
      <url>2019/04/17/2019-04-17-java-war-filePath/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©å·¥ä½œå¼€å‘ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šåœ¨ideaè¿è¡Œçš„é¡¹ç›®è¯»å–é…ç½®æ–‡ä»¶æ²¡æœ‰é—®é¢˜ï¼Œæ‰“åŒ…æˆwaråŒ…ä¹‹åå°±ä¼šæŠ¥é”™java.io.FileNotFoundException: class path resource</p><hr><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>æ‰“åŒ…æˆwaråŒ…åï¼Œé…ç½®æ–‡ä»¶åœ¨waråŒ…ä¸­ï¼Œä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶äº†ï¼Œæ— æ³•é€šè¿‡Fileçš„æ–¹å¼è®¿é—®</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">String filePath = <span class="string">&quot;classpath:template_xml/readexcel/test.xml&quot;</span>;</span><br><span class="line">File file = <span class="module-access"><span class="module"><span class="identifier">ResourceUtils</span>.</span></span>get<span class="constructor">File(<span class="params">filePath</span>)</span>;</span><br><span class="line">InputStream fis = <span class="keyword">new</span> <span class="constructor">FileInputStream(<span class="params">file</span>)</span>;</span><br></pre></td></tr></table></figure><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>é€šè¿‡æ–‡ä»¶æµçš„å½¢å¼è¯»å–æ–‡ä»¶</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">String filePath = <span class="string">&quot;template_xml/readexcel/test.xml&quot;</span>;</span><br><span class="line">InputStream fis = this.get<span class="constructor">Class()</span>.get<span class="constructor">ResourceAsStream(<span class="params">filePath</span>)</span>;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°è¯»å–æ–‡ä»¶çš„ï¼Œå°½é‡ç”¨æ–‡ä»¶æµçš„å½¢å¼è¯»å–æ–‡ä»¶ï¼Œå¯é¿å…åœ¨ä¸åŒç¯å¢ƒä¸‹å¯ä»¥æ­£ç¡®è¯»å–</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ORA-02049ï¼šoracleè¶…æ—¶åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†ç­‰å¾…é”</title>
      <link href="2019/04/16/2019-04-16-oracle-TimeOut/"/>
      <url>2019/04/16/2019-04-16-oracle-TimeOut/</url>
      
        <content type="html"><![CDATA[<h2 id="æŸ¥è¯¢æ­»é”ä¿¡æ¯"><a href="#æŸ¥è¯¢æ­»é”ä¿¡æ¯" class="headerlink" title="æŸ¥è¯¢æ­»é”ä¿¡æ¯"></a>æŸ¥è¯¢æ­»é”ä¿¡æ¯</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username,</span><br><span class="line">       lockwait,</span><br><span class="line">       status,</span><br><span class="line">       machine,</span><br><span class="line">       program</span><br><span class="line">  <span class="keyword">FROM</span> v$session</span><br><span class="line"> <span class="keyword">WHERE</span> sid <span class="keyword">IN</span> (<span class="keyword">SELECT</span> session_id <span class="keyword">FROM</span> v$locked_object);</span><br></pre></td></tr></table></figure><h2 id="æŸ¥æ‰¾è¢«é”çš„SQLè¯­å¥"><a href="#æŸ¥æ‰¾è¢«é”çš„SQLè¯­å¥" class="headerlink" title="æŸ¥æ‰¾è¢«é”çš„SQLè¯­å¥"></a>æŸ¥æ‰¾è¢«é”çš„SQLè¯­å¥</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sql_text</span><br><span class="line">  <span class="keyword">FROM</span> v$<span class="keyword">sql</span></span><br><span class="line"> <span class="keyword">WHERE</span> hash_value <span class="keyword">IN</span> (<span class="keyword">SELECT</span> sql_hash_value</span><br><span class="line">                        <span class="keyword">FROM</span> v$session</span><br><span class="line">                       <span class="keyword">WHERE</span> sid <span class="keyword">IN</span> (<span class="keyword">SELECT</span> session_id <span class="keyword">FROM</span> v$locked_object));</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŸ¥æ‰¾è¢«æ­»é”çš„è¿›ç¨‹"><a href="#æŸ¥æ‰¾è¢«æ­»é”çš„è¿›ç¨‹" class="headerlink" title="æŸ¥æ‰¾è¢«æ­»é”çš„è¿›ç¨‹"></a>æŸ¥æ‰¾è¢«æ­»é”çš„è¿›ç¨‹</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s.username,</span><br><span class="line">       l.OBJECT_ID,</span><br><span class="line">       l.SESSION_ID,</span><br><span class="line">       s.SERIAL#,</span><br><span class="line">       l.ORACLE_USERNAME,</span><br><span class="line">       l.OS_USER_NAME,</span><br><span class="line">       l.PROCESS</span><br><span class="line">  <span class="keyword">FROM</span> V$LOCKED_OBJECT l, V$SESSION S</span><br><span class="line"> <span class="keyword">WHERE</span> l.SESSION_ID <span class="operator">=</span> S.SID;</span><br><span class="line"></span><br><span class="line"><span class="comment">--æˆ–è€…</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line"> S.USERNAME,</span><br><span class="line"> DECODE(L.TYPE, <span class="string">&#x27;TM&#x27;</span>, <span class="string">&#x27;TABLE LOCK&#x27;</span>, <span class="string">&#x27;TX&#x27;</span>, <span class="string">&#x27;ROW LOCK&#x27;</span>, <span class="keyword">NULL</span>) LOCK_LEVEL,</span><br><span class="line"> O.OWNER,</span><br><span class="line"> O.OBJECT_NAME,</span><br><span class="line"> O.OBJECT_TYPE,</span><br><span class="line"> S.SID,</span><br><span class="line"> S.SERIAL#,</span><br><span class="line"> S.TERMINAL,</span><br><span class="line"> S.MACHINE,</span><br><span class="line"> S.PROGRAM,</span><br><span class="line"> S.OSUSER</span><br><span class="line">  <span class="keyword">FROM</span> V$SESSION S, V$LOCK L, DBA_OBJECTS O</span><br><span class="line"> <span class="keyword">WHERE</span> L.SID <span class="operator">=</span> S.SID</span><br><span class="line">   <span class="keyword">AND</span> L.ID1 <span class="operator">=</span> O.OBJECT_ID(<span class="operator">+</span>)</span><br><span class="line">   <span class="keyword">AND</span> S.USERNAME <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure><h2 id="æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦kill"><a href="#æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦kill" class="headerlink" title="æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦kill"></a>æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦kill</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> kill session <span class="string">&#x27;sid,serial#&#x27;</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜å¤©èµ°èµ·ï¼Œé£å¹¿å·</title>
      <link href="2019/04/05/2019-04-05-tomorrow-to-guangzhou/"/>
      <url>2019/04/05/2019-04-05-tomorrow-to-guangzhou/</url>
      
        <content type="html"><![CDATA[<p>æ˜å¤©4ç‚¹åŠèµ·åºŠï¼Œæˆ–è€…æ›´æ—©4ç‚¹åŠå‡ºå‘ï¼Œé£å¾€å¹¿å·</p><p>æ‰3å¤©å‡æœŸï¼Œå›½åŠ¡é™¢æ€ä¹ˆä¸æ—©ç‚¹å…¬å¸ƒ5æœˆ1å·çš„æ”¾å‡è®¡åˆ’ï¼Œæœ‰4å¤©<br>æ— å¥ˆæ—©å°±ä¹°å¥½äº†é£æœºç¥¨ï¼Œä¸ç„¶å°±5æœˆå‡ºè¡Œäº†</p><p>è¿™é‡Œæœ‰ç‚¹å‘ï¼Œé£æœºç¥¨çš„æ”¹ç¥¨æˆ–è€…é€€ç¥¨ï¼Œåªé€€ç»™ä½ 50å—é’±çš„æ²¹é’±ï¼Ÿï¼Ÿ ::aru:despise::<br>åˆç€æˆ‘600å¤šä¹°çš„é£æœºç¥¨ï¼Œè¦æ”¹ç¥¨æˆ–è€…é€€ç¥¨ï¼Œåªé€€50 ::aru:cryingface:: </p><p>ä¸¤ä¸ªæœˆå»ä¸¤æ¬¡å¹¿å·ï¼Œè¿™è°æŠ—å¾—ä½å•Šï¼ç»æµä¸å…è®¸æˆ‘è¿™ä¹ˆå¹²å•Š</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/1617863848901.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªç”¨è°·æ­Œæ’ä»¶æ¨è</title>
      <link href="2019/03/26/2019-03-26-google-extensions/"/>
      <url>2019/03/26/2019-03-26-google-extensions/</url>
      
        <content type="html"><![CDATA[<p>åˆ†äº«ä¸€æ³¢è‡ªç”¨çš„è°·æ­Œæ’ä»¶<br>è¿™æ˜¯æˆ‘ç›®å‰æµè§ˆå™¨ç”¨çš„æ’ä»¶(à¸…Â´Ï‰`à¸…)<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513a07c98.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>æœ‰å‡ ä¸ªå€¼å¾—æ¨èä¸‹</p><p>1ã€<a href="https://tampermonkey.net/">tampermonkey</a> æ²¹çŒ´æ— éœ€è§£é‡Šï¼Œç®€ç›´ä¸èƒ½å¤ªç‰›é€¼äº†</p><p>æ¨èä¸€äº›ä¼˜ç§€æ–¹ä¾¿çš„è„šæœ¬<a href="https://greasyfork.org/zh-CN/scripts">https://greasyfork.org/zh-CN/scripts</a><br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513c8bd40.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>2ã€<a href="http://bugs.chronodownloader.net/my_view_page.php">Chronoä¸‹è½½ç®¡ç†å™¨</a> æµè§ˆå™¨ä¸‹è½½æ–‡ä»¶ç®¡ç†ï¼Œå¾ˆæ˜¯æ–¹ä¾¿</p><p>3ã€<a href="https://link.zhihu.com/?target=https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en">postman</a> åå°å¼€å‘äººå‘˜å¿…å¤‡</p><p>å½“ç„¶äº†ï¼Œæœ‰æ¡Œé¢åº”ç”¨äº†<a href="https://www.getpostman.com/downloads/">https://www.getpostman.com/downloads/</a></p><p>4ã€<a href="http://www.ggfwzs.com/">è°·æ­Œè®¿é—®åŠ©æ‰‹</a> è®©ä½ ç§‘å­¦ä¸Šç½‘</p><p>ä»…é™è®¿é—®googleæœç´¢ï¼Œgoogleé‚®ç®±ã€googleæ‰©å±•å•†åº—ç­‰æœåŠ¡<br>å½“ç„¶äº†ï¼Œæœ‰æ¡ä»¶çš„å¯ä»¥å¼„ä¸ªVPNå¹´ä¼šå‘˜ï¼Œæˆ‘ç”¨çš„è“ç¯ï¼Œå¾ˆå¿«ï¼Œéƒ½å¯ä»¥å…±äº«è®¾å¤‡<br>æ²¡æœ‰ä¹°VPNçš„å°ä¼™ä¼´ï¼Œå¯ä»¥ç”¨è¿™ä¸ªï¼Œgoogleæœç´¢å“åº”å¾ˆå¿«ï¼Œç‰›é€¼<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513ccaa0b.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>5ã€<a href="https://chrome.google.com/webstore/detail/adblock/gighmmpiobklfepjocnamgkkbiglidom">AdBlock</a> å»å¹¿å‘Šç¥å™¨</p><p>æ— éœ€è§£é‡Šï¼Œå±è”½å°±å®Œäº‹äº†</p><p>6ã€å¾®åšå›¾åºŠ å¯¹äºä¹ æƒ¯ä½¿ç”¨markdownçš„å°ä¼™ä¼´æ¥è¯´ç®€ç›´å¤ªæ–¹ä¾¿äº†<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513d403ae.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>7ã€<a href="https://chrome.google.com/webstore/detail/web%E5%89%8D%E7%AB%AF%E5%8A%A9%E6%89%8Bfehelper/pkgccpejnmalmdinmhkkfafefagiiiad">FeHelper</a> å‰ç«¯å¼€å‘åŠ©æ‰‹</p><p>å„ç§å¼€å‘å·¥å…·åŒ…ï¼Œå¾ˆæ˜¯å…¨é¢<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513d883aa.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>8ã€<a href="https://chrome.google.com/webstore/detail/super-history-cache-clean/afelaengidkffdcabnhdoeojoeoonfcn/reviews">Super History &amp; Cache Cleaner</a> ä¸€é”®æ¸…ç†ç¼“å­˜<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513dc0e13.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>9ã€<a href="https://chrome.google.com/webstore/detail/%E5%9B%BE%E6%B5%81-%E7%9C%8B%E5%9B%BE%E5%8A%A9%E6%89%8B/gpcdnjdgomhddecjpknmfodkpkgibajh?hl=zh-CN">å›¾æµ</a> ä¸€é”®å±•ç¤ºå½“å‰æµè§ˆå™¨çª—å£çš„æ‰€æœ‰å›¾ç‰‡ï¼Œæä¾›ä¸€é”®å›¾ç‰‡ä¸‹è½½åŠŸèƒ½</p><p>ç‰›é€¼ï¼<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513e3e1a2.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>10ã€<a href="https://chrome.google.com/webstore/detail/octotree/bkhaagjahfmjljalopjnoealnfndnagc?hl=en-US">Octotree</a> githubæµè§ˆé¡¹ç›®æ˜¯ï¼Œå·¦ä¾§ç±»ä¼¼ideaå±•ç¤ºé¡¹ç›®ç»“æ„ï¼Œç‰›é€¼ï¼<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/5d1c513e893c3.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>11ã€<a href="https://chrome.google.com/webstore/detail/isometric-contributions/mjoedlfflcchnleknnceiplgaeoegien">Isometric Contributions</a> githubæäº¤3Dè§†å›¾è£…é€¼ç¥å™¨<br><img src="https://niaobulashi.com/usr/uploads/sina/5d1c513ec43b9.jpg" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p><p>12ã€<a href="https://chrome.google.com/webstore/detail/%E4%BA%91%E6%94%B6%E8%97%8F/gnidnmkcdgfiemdaeijncglpgldflhbb?hl=zh-CN">äº‘æ”¶è—</a> ç”±æŠ€æœ¯å¤§æ‹¿ï¼šçº¯æ´çš„å¾®ç¬‘  å¼€å‘çš„ã€‚ éšæ—¶éšåœ° - æ–¹ä¾¿å¿«æ· - æ™ºæ…§æ”¶è— æˆ‘ä»¬åšäº†ä¸€ä¸ªå¯ä»¥åœ¨çº¿éšæ—¶éšåœ°ç®€å•æ”¶è—çš„ä¸€ä¸ªç½‘ç«™ï¼Œå¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™ä¸Šåˆ†ç±»æ•´ç†æ”¶è—çš„ç½‘ç«™æˆ–è€…æ–‡ç« ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ«äººéƒ½æ”¶è—äº†äº›ä»€ä¹ˆã€‚<br>è¯·è¾“å…¥å›¾ç‰‡æè¿°</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¹¶å‘çŸ¥è¯†å›¾è°±</title>
      <link href="2019/03/25/2019-03-25-java-concurrency/"/>
      <url>2019/03/25/2019-03-25-java-concurrency/</url>
      
        <content type="html"><![CDATA[<p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/1655491825.jpg" alt="Javaå¹¶å‘çŸ¥è¯†å›¾è°±.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å–œå¤§æ™®å¥”å–œå¤§æ™®å¥”ï¼Œäº”ä¸€è°ƒä¼‘4å¤©å•Šå•Šå•Š</title>
      <link href="2019/03/24/2019-03-24-May-Day/"/>
      <url>2019/03/24/2019-03-24-May-Day/</url>
      
        <content type="html"><![CDATA[<p>å›½åŠ¡é™¢å‘å¸ƒæ–°æ¶ˆæ¯</p><p><a href="http://www.gov.cn/zhengce/content/2019-03/22/content_5375877.htm">å›½åŠ¡é™¢åŠå…¬å…å…³äºè°ƒæ•´2019å¹´åŠ³åŠ¨èŠ‚å‡æœŸå®‰æ’çš„é€šçŸ¥</a></p><hr><p>å„çœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚äººæ°‘æ”¿åºœï¼Œå›½åŠ¡é™¢å„éƒ¨å§”ã€å„ç›´å±æœºæ„ï¼š</p><p>ç»å›½åŠ¡é™¢æ‰¹å‡†ï¼Œç°å°†è°ƒæ•´2019å¹´åŠ³åŠ¨èŠ‚æ”¾å‡å®‰æ’é€šçŸ¥å¦‚ä¸‹ã€‚</p><p>ä¸€ã€<strong>2019å¹´5æœˆ1æ—¥è‡³4æ—¥æ”¾å‡è°ƒä¼‘ï¼Œå…±4å¤©ã€‚4æœˆ28æ—¥ï¼ˆæ˜ŸæœŸæ—¥ï¼‰ã€5æœˆ5æ—¥ï¼ˆæ˜ŸæœŸæ—¥ï¼‰ä¸Šç­ã€‚</strong></p><p>äºŒã€<strong>å„åœ°åŒºã€å„éƒ¨é—¨è¦æŠ“ç´§åšå¥½æœ¬åœ°åŒºã€æœ¬é¢†åŸŸçš„åŠ³åŠ¨èŠ‚å‡æœŸè°ƒæ•´è½å®å·¥ä½œï¼Œé‡‡å–æœ‰æ•ˆæªæ–½ï¼Œä¿éšœäº¤é€šè¿åŠ›ï¼ŒåŠ å¼ºæ—…æ¸¸æœåŠ¡ï¼Œä¸°å¯Œäº§å“ä¾›ç»™ï¼Œå¼ºåŒ–ç»¼åˆè°ƒæ§ï¼Œç¡®ä¿å¹³ç¨³è¿è¡Œã€‚</strong></p><p>ä¸‰ã€<strong>åŠ³åŠ¨èŠ‚æœŸé—´ï¼Œè¦å¦¥å–„å®‰æ’å¥½å€¼ç­å’Œå®‰å…¨ã€ä¿å«ç­‰å·¥ä½œï¼Œé‡æœ‰é‡å¤§çªå‘äº‹ä»¶ï¼Œè¦æŒ‰è§„å®šåŠæ—¶æŠ¥å‘Šå¹¶å¦¥å–„å¤„ç½®ï¼Œç¡®ä¿äººæ°‘ç¾¤ä¼—ç¥¥å’Œå¹³å®‰åº¦è¿‡èŠ‚æ—¥å‡æœŸã€‚</strong></p><hr>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ã€Šåœæ­¢å­¦ä¹ æ¡†æ¶ã€‹</title>
      <link href="2019/03/23/2019-03-23-stop-learn-struct/"/>
      <url>2019/03/23/2019-03-23-stop-learn-struct/</url>
      
        <content type="html"><![CDATA[<p>çŸ¥ä¹è¯‘æ–‡åœ°å€ï¼š<a href="https://zhuanlan.zhihu.com/p/52814937">https://zhuanlan.zhihu.com/p/52814937</a><br>åŸæ–‡åœ°å€ï¼š<a href="http://link.zhihu.com/?target=https://sizovs.net/2018/12/17/stop-learning-frameworks/">http://link.zhihu.com/?target=https%3A//sizovs.net/2018/12/17/stop-learning-frameworks/</a></p><p>æ„Ÿå—é¢‡æ·±ï¼Œæ¡†æ¶æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘é¡¹ç›®æ‹¿æ¥ç°æˆç”¨çš„ã€‚åªè¦ä½ çŸ¥é“è¿™å¥—æ¡†æ¶çš„å¼€å‘æ­¥éª¤ã€è§„èŒƒï¼Œå°±çŸ¥é“å¦‚ä½•å¼€å‘äº†ã€‚<br>å…¶ä»–çš„æ— éå°±æ˜¯ä¸€äº›javaå…¶ä»–çš„åŸºç¡€ä»£ç ã€‚ä¸€äº›åŸºæœ¬é€»è¾‘æ¡†æ¶éƒ½ç»™ä½ å°è£…å¥½äº†ï¼Œæ‰€ä»¥ä½ éœ€è¦åšçš„äº‹æƒ…å¾ˆå°‘äº†ã€‚</p><p>æˆ‘è§‰å¾—è¿™ç¯‡æ–‡ç« å†™å¾—æŒºå¥½çš„ï¼Œå¯ä»¥å‘Šè¯‰æ­£åœ¨å­¦ä¹ æ¡†æ¶çš„æˆ‘ä»¬ä¸€ä¸ªæ˜ç¡®çš„æ–¹å‘ï¼šå­¦ä¹ æ¡†æ¶=æµªè´¹æ—¶é—´ï¼<br>ä½ éœ€è¦å­¦ä¹ çš„ä¸œè¥¿æœ‰æ¯”å­¦ä¹ æ¡†æ¶æ›´æœ‰æ„ä¹‰ã€‚æ¯”å¦‚jvmã€javaé«˜å¹¶å‘ã€Linuxã€é€šè®¯æœåŠ¡ã€‚ã€‚ã€‚</p><p>ç¬”è€…æ¨èäº†ç¨‹åºå‘˜éœ€è¦äº†è§£çš„ä¹¦ç±</p><ul><li>ç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“ The Pragmatic Programmer</li><li>ä»£ç æ•´æ´ä¹‹é“ Clean Code</li><li>ç¨‹åºå‘˜çš„èŒä¸šç´ å…» The Clean Code</li><li>é¢†åŸŸé©±åŠ¨è®¾è®¡å’Œå®è·µ Domain-Driven Design</li><li>æµ‹è¯•é©±åŠ¨çš„é¢å‘å¯¹è±¡è½¯ä»¶å¼€å‘ Growing Object-Oriented Software, Guided by Tests</li><li>æŒç»­äº¤ä»˜ Continuous Delivery</li></ul><p>ä»¥åŠå¯¹è¯»è€…çš„è§£é‡Š</p><ul><li>ç”¨çš„ç¼–ç¨‹è¯­è¨€è™½ç„¶ä¸ä¸€æ ·ï¼Œä½†æ˜¯è®¾è®¡æ–¹æ³•æ˜¯ç±»ä¼¼çš„ã€‚</li><li>ç”¨çš„æ¡†æ¶è™½ç„¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯è®¾è®¡æ¨¡å¼æ˜¯ç±»ä¼¼çš„ã€‚</li><li>å‚ä¸çš„å¼€å‘è€…æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯å¦‚ä½•å’Œè¿™äº›äººæ‰“äº¤é“æ˜¯ä¸å˜çš„ã€‚</li></ul><p>å¯¹è¯»è€…çš„å¿ å‘Šï¼Œå°†ä½ çš„é»„é‡‘æ—¶é—´ç”¨äºå­¦ä¹ é€šç”¨æŠ€èƒ½ï¼Œé‚£äº›ä¸ä¼šè¿‡æ—¶çš„æŠ€èƒ½ã€‚</p><ul><li>ä¸è¦å­¦ä¹ å¾®æœåŠ¡æ¡†æ¶ï¼Œå­¦ä¹ æ¼”è¿›å¼æ¶æ„ï¼ˆEvolutionary Architectureï¼‰ã€‚</li><li>ä¸è¦å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå­¦ä¹ ä»£ç æ•´æ´ä¹‹é“ã€è®¾è®¡æ¨¡å¼ã€é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ã€‚</li><li>ä¸è¦å­¦ä¹  LeSS å’Œè§„æ¨¡åŒ–æ•æ·æ¡†æ¶ï¼ˆSAFeï¼‰ï¼Œå­¦ä¹ ç²¾ç›Šç”Ÿäº§åŸåˆ™ï¼ˆLean manufacturing principlesï¼‰ã€‚</li><li>ä¸è¦å­¦ä¹  Hystrixï¼Œå­¦ä¹ å®¹é”™æ¨¡å¼ï¼ˆFault Tolerance Patternsï¼‰ã€‚</li><li>ä¸è¦å­¦ä¹  Dockerï¼Œå­¦æˆæŒç»­äº¤ä»˜ã€‚</li><li>ä¸è¦å­¦ä¹  Angularã€React å’Œ Vueï¼Œå­¦ä¹  Webã€HTTP å’Œ RESTã€‚</li></ul><p>é‡åœ¨åŸºç¡€çŸ¥è¯†ï¼Œè€Œéæ¡†æ¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptåˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯NULL</title>
      <link href="2019/03/22/2019-03-22-JavaScript-isnotnull/"/>
      <url>2019/03/22/2019-03-22-JavaScript-isnotnull/</url>
      
        <content type="html"><![CDATA[<p>å†™jsç»å¸¸ä¼šé‡åˆ°éç©ºåˆ¤æ–­</p><p>è‡ªå·±æ²¡æœ‰åšæ€»ç»“ï¼Œç‰¹åœ°è½¬è½½ã€‚å¾ˆæœ‰å¸®åŠ©</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmpty</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line"><span class="comment">// æ£€éªŒ undefined å’Œ null</span></span><br><span class="line">    <span class="keyword">if</span> (!obj &amp;&amp; obj !== <span class="number">0</span> &amp;&amp; obj !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.prototype.isPrototypeOf(obj) &amp;&amp; obj.length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.isPrototypeOf(obj) &amp;&amp; <span class="built_in">Object</span>.keys(obj).length === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´3æœˆä»½æ—¥å¿—</title>
      <link href="2019/03/21/2019-03-21-rizhi/"/>
      <url>2019/03/21/2019-03-21-rizhi/</url>
      
        <content type="html"><![CDATA[<h2 id="20190301-å‘¨äº”"><a href="#20190301-å‘¨äº”" class="headerlink" title="20190301 å‘¨äº”"></a>20190301 å‘¨äº”</h2><p>3æœˆç¬¬ä¸€å¤©ï¼Œå‘¨äº”ï¼Œä¸€åˆ°å‘¨äº”å°±æ„Ÿè§‰è½»æ¾äº†è®¸å¤šï¼Œé£˜å¾—å¾ˆã€‚ ::aru:tongue:: å†å¿™ä¹Ÿä¸è§‰å¾—å¿ƒç´¯å“ˆå“ˆå“ˆå“ˆ<br>ç„¶è€Œä¸´è¿‘ä¸‹ç­æ—¶ï¼Œç”Ÿäº§å‡ºç°äº†é—®é¢˜ï¼Œ(Â´à®‡çš¿à®‡ï½€)å¾—åŠ ä¼šç­äº†ã€‚</p><h2 id="20190302-20190303-å‘¨æœ«"><a href="#20190302-20190303-å‘¨æœ«" class="headerlink" title="20190302-20190303 å‘¨æœ«"></a>20190302-20190303 å‘¨æœ«</h2><p>é¢ï¼Œå‘¨æœ«ä¸¤å¤©åˆšå¥½è‚²ç¢§çš„å…¨å¢ƒå°é”2å¼€æ”¾æµ‹è¯•ï¼Œéƒ½åœ¨ç©å»äº†Ï†(ï¿£âˆ‡ï¿£o)ï¼ŒçœŸå¥½ç©å“ˆå“ˆå“ˆå“ˆå“ˆï¼Œæœæ–­é¢„è´­äº†ï¼Œä¹°çš„æ ‡å‡†ç‰ˆï¼Œä½¿ç”¨100é‡‘å¸æ‰“8æŠ˜ï¼ŒæŠ˜å240å¤šè½¯å¦¹å¸</p><h2 id="20190304-å‘¨ä¸€"><a href="#20190304-å‘¨ä¸€" class="headerlink" title="20190304 å‘¨ä¸€"></a>20190304 å‘¨ä¸€</h2><p>åˆåˆ°äº†å‘¨ä¸€ï¼ŒåŠ æ²¹å§ï¼ŒæŠŠæ²¡åšå®Œçš„äº‹æƒ…åŠ ç­åŠ ç‚¹åšå®Œ</p><h2 id="20190305-å‘¨äºŒ"><a href="#20190305-å‘¨äºŒ" class="headerlink" title="20190305 å‘¨äºŒ"></a>20190305 å‘¨äºŒ</h2><p>å·¥ä½œä¸Šé‡åˆ°æ‰¹é‡å¤„ç†ä¹‹åï¼Œå¦‚æœåœ¨é¡µé¢ä¸Šå¼¹æ¡†æç¤ºè¯¥æ‰¹é‡çš„å¤„ç†ç»“æœçŠ¶æ€ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ï¼šåœ¨ajaxæˆåŠŸåæ—¶é—´å†è°ƒç”¨æ–¹æ³•æŸ¥è¯¢è¿™ç¬”æ‰¹é‡çš„ç»“æœï¼Œè¿”å›é¡µé¢åå¾ªç¯æˆlistçš„å­—ç¬¦ä¸²å¼¹æ¡†å±•ç¤ºã€‚ä»Šå¤©å°±æ˜¯å®Œæˆäº†æ‰¹é‡æç¤ºçš„éœ€æ±‚ä¼˜åŒ–å†…å®¹ã€‚<br>ä¸Šç­æœ‰æ—¶å€™åˆ’åˆ’æ°´ï¼Œæœ€è¿‘é€¼ä¹é€›å¾—å‹¤å¿«ï¼Œå€’æ˜¯å¾®åšé€›å¾—å°‘äº†ï¼Œçœ‹æ¥æ˜¯å–œæ¬¢åƒç“œçš„å¿ƒç† ::huaji:huaji03::<br>ä»Šå¤©ä¹°äº†æ¸…æ˜å‡æœŸå»å¹¿å·çš„é£æœºç¥¨ ::aru:pouting:: å“¦ä¹Ÿ</p><p>è´´ä¸€å¼ æ˜¨æ™šæ‹çš„å›¾ç‰‡ï¼Œå°±åœ¨å…¬å¸é™„ä»¶çš„é«˜æ–°å’–å•¡è¡—åŒº</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/3957195680.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20190306142412.jpg"></p><h2 id="20190306-å‘¨ä¸‰"><a href="#20190306-å‘¨ä¸‰" class="headerlink" title="20190306 å‘¨ä¸‰"></a>20190306 å‘¨ä¸‰</h2><p>æ˜¨æ™šåŠ ç­åˆ°9ç‚¹å¤šï¼Œç»ˆäºæŠŠäº‹æƒ…ç»™åšå®Œäº†ã€‚å¼€å¿ƒ~<br>æ™šä¸Šå›å»ï¼Œåœ¨bç«™ä¸Šçœ‹ã€Šç™¾å®¶è®²å›ã€‹ï¼Œç‹ç«‹ç¾¤è¯»å²è®°ï¼Œè§£è¯»å†å²ä¸Šå„ä»£çš‡å¸çš„æ•…äº‹ã€‚<br>ä¸€çœ‹ä¸çŸ¥ä¸è§‰å°±åˆ°äº†å‡Œæ™¨ï¼Œç®€ç›´åœä¸ä¸‹æ¥äº†âˆ ( á› ã€âˆ )ï¼¿<br>å¼€å§‹è®²çš„ç§¦å§‹çš‡ï¼Œæˆ˜å›½æ—¶æœŸï¼Œç™¾å®¶äº‰é¸£ï¼Œå¤ªç»™åŠ›äº†ã€‚<br>ç§¦å›½åˆçºµè¿æ¨ªï¼Œäº²è¿œæ”»è¿‘ï¼Œé€ä¸€å‡»ç ´ï¼Œæœ€ç»ˆç»Ÿä¸€å¤©ä¸‹ ::aru:thumb:: </p><h2 id="20190307-å‘¨å››"><a href="#20190307-å‘¨å››" class="headerlink" title="20190307 å‘¨å››"></a>20190307 å‘¨å››</h2><p>åŠ ç­ä¹Ÿæ²¡å¬æ­Œï¼Œæ‰“å¼€ç™¾å®¶è®²å›ï¼Œå¬ç‹ç«‹ç¾¤åº¦å²è®°ï¼Œå¤ªæœ‰æ„æ€å•¦<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2019/957458222.png" alt="å¾®ä¿¡æˆªå›¾_20190307203955.png"></p><h2 id="20190308-å‘¨äº”"><a href="#20190308-å‘¨äº”" class="headerlink" title="20190308 å‘¨äº”"></a>20190308 å‘¨äº”</h2><p>æ˜ŸæœŸäº”çš„åˆ°æ¥ï¼Œæ•´ä¸ªäººéƒ½æ…µæ‡’äº†ï¼Œè™½ç„¶æœ‰äº‹æƒ…è¦åšï¼Œä½†æ˜¯å´ä¸æ€¥ä¸æ…¢çš„æ‚ æ‚ å“‰å“‰çš„æ¥åšï¼Œé£˜äº†ã€‚<br>å› ä¸ºä¸‹ä¸ªæ˜ŸæœŸè¦ä¸Šçº¿ï¼Œå‘¨äº”æŠŠæœ€åè¦ä¿®æ”¹çš„ä»£ç ï¼ŒåŒ†åŒ†å¿™å¿™çš„ä¿®æ”¹å¥½ä¹‹åï¼Œæäº¤äº†ã€‚å‘ç‰ˆåˆ°å‡†ç”Ÿäº§ç¯å¢ƒå¼€å§‹åˆ°å¤„ç‚¹ç‚¹ï¼Œæµ‹è¯•ã€‚<br>æœ€åå°±æ˜¯å„ç§æ–‡æ¡£çš„è¡¥å……äº†ï¼Œå•Šå•Šå•Šå•Šå•Šï¼Œå¥½å¤šæ–‡æ¡£å•Šï¼Œæœ€åè¿˜æ˜¯æ™šä¸Š8ç‚¹å¤šæ‰ä¸‹ç­ ::aru:crying:: </p><h2 id="20190309-20190310-å‘¨æœ«"><a href="#20190309-20190310-å‘¨æœ«" class="headerlink" title="20190309-20190310 å‘¨æœ«"></a>20190309-20190310 å‘¨æœ«</h2><p>å•Šå•Šå•Šå•Šå•Šï¼Œåˆ°äº†å‘¨æœ«äº†å•Šå•Šå•Šå•Šå•Š ::aru:cheer::<br>å‘¨æœ«è¿™ä¸¤å¤©æˆ‘ä¼°è®¡æ˜¯æ‰“äº†é¸¡è¡€äº†ï¼Œå‘¨å…­å’Œå‘¨æ—¥æ—©ä¸Šå’Œæ­£å¸¸ä¸Šç­ä¸€æ ·ï¼Œèµ·å¾—å¾ˆæ—©ã€‚<br>ä½†æ˜¯èµ·è¿™ä¹ˆæ—©ä¹Ÿä¸çŸ¥é“åšå•¥ï¼Œéš”å£é…’åº—çš„WIFIä¸Šä¸äº†ç½‘ï¼Œäºæ˜¯æˆ‘å°±æ²¡æœ‰WIFIäº†ï¼ˆå…¬å¸å®¿èˆæ²¡æœ‰å¼€é€šç½‘çº¿ï¼Œå‘å•Š ::aru:despise:: ï¼ï¼ï¼‰<br>è®©æˆ‘éš¾å—å¾—é¸­çš®ï¼å¹³æ—¶ç½‘ä¸Šå†²æµªç”¨å¤§ç‹å¡æµé‡å€’æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œå¯æ˜¯çœ‹è§†é¢‘ä»€ä¹ˆçš„ï¼Œæµé‡ä¹Ÿä¼¤ä¸èµ·å•Šï¼Œåªèƒ½ä¾é éš”å£é…’åº—çš„å…è´¹WIFIäº†<br>æˆ‘æ˜¯ä¸€æ¡å’¸é±¼ï¼Œå‘¨æœ«å•¥éƒ½ä¸æƒ³åš ::aru:blood:: </p><h2 id="20190311-å‘¨ä¸€"><a href="#20190311-å‘¨ä¸€" class="headerlink" title="20190311 å‘¨ä¸€"></a>20190311 å‘¨ä¸€</h2><p>å‘¨ä¸€ä¸Šåˆå¼€ä¸€ä¸Šåˆä¼šï¼Œå¸¸è§„æ“ä½œï¼Œåœ¨ä¼šè®®å®¤éƒ½å¿«ç¡ç€äº†éƒ½ã€‚<br>ä»Šå¤©å¼€ä¼šå¼€å¯äº†2.12.0ç‰ˆæœ¬çš„éœ€æ±‚è®¡åˆ’<br>å“¦å¯¹äº†ï¼Œå‘¨æœ«åŠ è–ªäº†ï¼ŒåŠ äº†500ã€‚å½»åº•å¤±å»ä¿¡å¿ƒäº†<br>æ„Ÿè§‰å’Œè‡ªå·±çš„ä»˜å‡ºå®Œå…¨ä¸æˆæ­£æ¯”ï¼Œåªèƒ½å‘µå‘µã€‚ã€‚<br>å¿ƒç´¯äº†</p><h2 id="20190312-å‘¨äºŒ"><a href="#20190312-å‘¨äºŒ" class="headerlink" title="20190312 å‘¨äºŒ"></a>20190312 å‘¨äºŒ</h2><p>å’Œå¾€å¸¸ä¸€æ ·ï¼Œæ–°çš„éœ€æ±‚ä¸‹æ¥äº†ï¼Œæœ‰å¼€å§‹åˆ†æéœ€æ±‚ã€‚ä¸€ç›´åˆ°æ™šä¸Š9ç‚¹å¤šï¼Œç»ˆäºæŠŠä¸€ä¸ªé—®é¢˜ç»™è§£å†³äº†ã€‚éœ€æ±‚ç»ˆäºç†æ¸…æ¥šäº†(â‰§âˆ‡â‰¦)/</p><h2 id="20190313-å‘¨ä¸‰"><a href="#20190313-å‘¨ä¸‰" class="headerlink" title="20190313 å‘¨ä¸‰"></a>20190313 å‘¨ä¸‰</h2><p>åˆ†æå¥½çš„éœ€æ±‚ï¼Œåœ¨ä»Šå¤©è®¨è®ºä¸‹æ¥ï¼Œå…¨çº¿å´©ç›˜ï¼Œå¿ƒä¸­æœ‰ä¸€ä¸‡åªè‰æ³¥é©¬è·‘è¿‡ ::aru:crying:: </p><h2 id="20190316-20190317-å‘¨æœ«"><a href="#20190316-20190317-å‘¨æœ«" class="headerlink" title="20190316-20190317 å‘¨æœ«"></a>20190316-20190317 å‘¨æœ«</h2><p>å…¨å¢ƒå°é”2å¼€æ”¾äº†ï¼Œå‘¨æœ«è‚äº†ä¸¤å¤©ï¼Œè¾¾åˆ°30çº§ã€‚ã€‚<br>å†²å†²å†²</p><h2 id="20190319-å‘¨ä¸€"><a href="#20190319-å‘¨ä¸€" class="headerlink" title="20190319 å‘¨ä¸€"></a>20190319 å‘¨ä¸€</h2><p>10æœˆå›½åº†ç»“å®Œå©šä¹‹åï¼Œç«‹é©¬èµ°äººã€‚</p><h2 id="20190320-å‘¨ä¸‰"><a href="#20190320-å‘¨ä¸‰" class="headerlink" title="20190320 å‘¨ä¸‰"></a>20190320 å‘¨ä¸‰</h2><p>ä»Šå¤©é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šç”±åˆ—è¡¨å¯¼å‡ºExcelæ–‡æ¡£ï¼ŒExcelæ–‡æ¡£çš„æ ¼å¼æ˜¯xmlï¼Œä½¿ç”¨å¸¸ç”¨çš„excelè§£ææ˜¯æ— æ³•è§£æçš„ã€‚ä¼šå‡ºç°java.io.IOException: Invalid header signature; read 0x6576206C6D783F3C, expected 0xE11AB1A1E011CFD0 - Your file appears not to be a valid OLE2 document å¼‚å¸¸ä¿¡æ¯ï¼Œåœ¨ç½‘ä¸ŠæŸ¥æ‰¾äº†å¥½å¤šèµ„æ–™ï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°æ˜¯ä»€ä¹ˆåŸå› ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†å’Œæˆ‘é‡åˆ°ä¸€æ ·çš„æƒ…å†µï¼š<a href="https://www.fanyeong.com/2016/03/20/%E4%BD%BF%E7%94%A8apache-poi%E7%94%9F%E6%88%90word%E6%96%87%E6%A1%A3%E4%B8%8D%E8%83%BD%E8%A2%ABoffice%E8%AF%BB%E5%8F%96%E7%9A%84%E9%97%AE%E9%A2%98/">ä½¿ç”¨Apache POIç”ŸæˆWordæ–‡æ¡£ä¸èƒ½è¢«officeè¯»å–çš„é—®é¢˜</a><br>è¿™ä½åšä¸»ä¹Ÿæ˜¯å¤§ç‰›ï¼Œæ€»ç»“å¾—å¾ˆå¥½à­§(à¹‘â€¢Ì€âŒ„â€¢Ìà¹‘)à«­</p><p>å¦å¤–ï¼Œä¹°äº†ä»°å§æ¿ï¼Œå¹³æ—¶ä¹Ÿå¾—åŠ å¼ºé”»ç‚¼èº«ä½“å‘€ã€‚å¯ä¸èƒ½å†èƒ–ä¹ä¹çš„äº†ã€‚</p><h2 id="20190321-å‘¨å››"><a href="#20190321-å‘¨å››" class="headerlink" title="20190321 å‘¨å››"></a>20190321 å‘¨å››</h2><p>åŠ ç­çš„æ—¶é—´ï¼Œçœ‹ä¸‹è…¾è®¯è¯¾å ‚ï¼Œè€å¸ˆå…¬ç„¶å¼€è½¦å“ˆå“ˆå“ˆå“ˆå“ˆ</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¸¸å–œåŠ ä¸€</title>
      <link href="2019/03/01/2019-03-01-steamplus1/"/>
      <url>2019/03/01/2019-03-01-steamplus1/</url>
      
        <content type="html"><![CDATA[<p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/826484680.png" alt="æˆ‘æ˜¨å¤©å¹²äº†ä»€ä¹ˆï¼Ÿ.png"></p><p>steamæ—¥å¸¸å–œåŠ ä¸€</p><p>ç”·ç”Ÿé€›steamå ªæ¯”å¥³ç”Ÿé€›åŒ–å¦†åº—ã€‚</p><p>shut up and take my money</p><p>8è¯´äº†ï¼Œå¼€å†²</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/3846328606.jpg" alt="v2-3b29ec3e03803927928601c0c721fddd_hd.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ”¶åˆ°è¿™æ ·çš„æŠ¥æ–‡ï¼Œä½ åšä½•æ„Ÿæƒ³</title>
      <link href="2019/02/28/2019-02-28-wtf01/"/>
      <url>2019/02/28/2019-02-28-wtf01/</url>
      
        <content type="html"><![CDATA[<p>å’Œå¦å¤–ä¸€ä¸ªé¡¹ç›®ç»„åšæ¥å£å¯¹æ¥ï¼Œçœ‹ä¸‹ä»–ä»¬å¤„ç†è¿”å›çš„æŠ¥æ–‡ã€‚</p><p>å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯nullï¼Œå´å½“æˆå­—ç¬¦ä¸² ::aru:blood:: </p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2019/3757155571.png" alt="å¾®ä¿¡æˆªå›¾_20190228113028.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å»å¥³æœ‹å‹å®¶è¿‡å¹´</title>
      <link href="2019/02/20/2019-02-20-go-grilfriend-home/"/>
      <url>2019/02/20/2019-02-20-go-grilfriend-home/</url>
      
        <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥½ä¹…æ²¡æ¥çœ‹åšå®¢äº†ï¼Œåšå®¢çš„é‚®ç®±ç”¨çš„QQé‚®ç®±ï¼Œç”±äºæœ‰å®šæœŸä¿®æ”¹QQå¯†ç çš„ä¹ æƒ¯ï¼Œå¯¼è‡´å¿˜è®°ä¿®æ”¹åšå®¢çš„é‚®ç®±æé†’çš„QQçš„å¯†ç ï¼Œä»¥ä¸ºæ²¡æœ‰äººæ¥çœ‹ï¼Œè¿›æ¥ä¸€çœ‹ï¼Œæœ‰å†™ç•™è¨€ï¼Œè¿˜æ˜¯æ„Ÿè§‰æŒºå¼€å¿ƒçš„ã€‚</p><hr><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»Šå¹´æ˜¥èŠ‚æ˜¯åœ¨å¥³æœ‹å‹å®¶å»è¿‡å¹´çš„ï¼Œä¹Ÿæ˜¯ç¬¬äºŒæ¬¡å»å¥³æœ‹å‹å®¶ï¼Œç¬¬ä¸€æ¬¡è¿˜æ˜¯2018å¹´çš„å›½åº†ã€‚æœªæ¥çš„å²³çˆ¶å²³æ¯å¤§äººéƒ½éå¸¸çš„å¥½ï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰åœ¨çˆ¶æ¯èº«è¾¹è¿‡å¹´ï¼Œè®©æˆ‘æ„Ÿåˆ°ä¹Ÿä¸æ˜¯æŒºå¤±è½ï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰åœ¨çˆ¶æ¯èº«è¾¹è¿‡å¹´ã€‚å’Œå²³çˆ¶å²³æ¯å¤§äººä¹Ÿè°ˆäº†è°ˆç»“å©šçš„äº‹æƒ…ï¼Œæ‰“ç®—æ˜¯2019å¹´çš„å›½åº†ï¼Œæƒ³æƒ³ä¹Ÿåªæœ‰è¿™ä¸ªæ—¶å€™æœ‰æ—¶é—´ï¼Œåˆ°æ—¶å€™éšä¾¿ä¹ŸæŠŠå©šå‡7å¤©éƒ½è¯·äº†ï¼Œæ—¶é—´å……è£•ç‚¹ã€‚æˆ‘å’¸å®ï¼Œå¥¹éšå·ï¼Œè™½ç„¶åŒçœï¼Œè¿˜æ˜¯æœ‰ç‚¹è·ç¦»çš„ï¼Œè·¯é€”æœ‰åŠå¤©ã€‚æå‰è¿˜å¾—å¥½å¥½è§„åˆ’ä¸‹ï¼Œé—®äº†æˆ‘çˆ¸å¦ˆï¼Œä¹Ÿé—®äº†å¥¹çˆ¸å¦ˆï¼Œå¤§è‡´æµç¨‹ä¹Ÿç®—æ˜ç™½äº†ç‚¹</p><ol><li>æˆ‘å¸¦æˆ‘çˆ¸çˆ¸å¦ˆå¦ˆå»å¥³æ–¹å®¶æäº²ï¼ˆè§ä¸ªé¢ï¼Œåƒä¸ªé¥­ï¼Œå–ä¸ªèŒ¶ï¼ŒèŠèŠå¤©ï¼‰</li><li>æˆ‘æ¥å¥³æ–¹çš„çˆ¸çˆ¸å¦ˆå¦ˆå’Œå…¶ä»–äº²æˆšæå‰æ¥æˆ‘å®¶</li><li>éš”å¤©åœ¨é…’åº—ä¸¾åŠå©šç¤¼</li><li>å¥³æ–¹é€‰ä¸ªæ—¶é—´ï¼Œåœ¨å¥³æ–¹ä¹Ÿè¯·å®¢åƒé¥­</li></ol><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æµç¨‹ä¹Ÿå¤ªç²—ç•¥äº†ï¼Œç°åœ¨èƒ½æƒ³åˆ°çš„å°±è¿™äº›ï¼Œå½©ç¤¼å½“ç„¶ä¹Ÿå‡†å¤‡å¥½äº†ï¼Œå¤šå°‘å‘¢ï¼Œä¹Ÿä¸å¤ªå¤šã€‚å²³æ¯å¤§äººçš„æ„æ€ï¼Œæ˜¯æ‰‹ä¸‹ç»™æˆ‘å¥³æœ‹å‹ï¼Œç„¶åæˆ‘ä»¬ä¸€èµ·å¥‹æ–—åœ¨æ­¦æ±‰ä¹°æˆ¿ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äººç”Ÿä¸­åªæœ‰ä¸€æ¬¡ï¼Œåˆ°æ¥çš„æ—¶å€™ï¼Œä¼°è®¡ä¼šæ…Œäº†å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘ç°ä¸ªäº†ä¸å¾—çš„é¡¹ç›®</title>
      <link href="2019/01/23/2019-01-23-dress/"/>
      <url>2019/01/23/2019-01-23-dress/</url>
      
        <content type="html"><![CDATA[<h3 id="å¶å°”å‘ç°githubä¸Šä¸€ä¸ªäº†ä¸èµ·çš„é¡¹ç›®"><a href="#å¶å°”å‘ç°githubä¸Šä¸€ä¸ªäº†ä¸èµ·çš„é¡¹ç›®" class="headerlink" title="å¶å°”å‘ç°githubä¸Šä¸€ä¸ªäº†ä¸èµ·çš„é¡¹ç›®"></a>å¶å°”å‘ç°githubä¸Šä¸€ä¸ªäº†ä¸èµ·çš„é¡¹ç›®</h3><h3 id="ä¸Šé¢æœ‰å¾ˆå¤šå°å§å§"><a href="#ä¸Šé¢æœ‰å¾ˆå¤šå°å§å§" class="headerlink" title="ä¸Šé¢æœ‰å¾ˆå¤šå°å§å§"></a>ä¸Šé¢æœ‰å¾ˆå¤šå°å§å§</h3><p> ::aru:shy:: </p><h3 id="ä½ æ²¡é”™çœ‹é”™ï¼Œéƒ½æ˜¯å¤§ä½¬"><a href="#ä½ æ²¡é”™çœ‹é”™ï¼Œéƒ½æ˜¯å¤§ä½¬" class="headerlink" title="ä½ æ²¡é”™çœ‹é”™ï¼Œéƒ½æ˜¯å¤§ä½¬"></a>ä½ æ²¡é”™çœ‹é”™ï¼Œéƒ½æ˜¯å¤§ä½¬</h3><p><a href="https://github.com/komeiji-satori/Dress">å¾ˆå¤šæ¼‚äº®çš„å°å§å§</a></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018å¹´å¹´ç»ˆæ€»ç»“</title>
      <link href="2019/01/21/2019-01-21-The-year-end-summary-of-2018/"/>
      <url>2019/01/21/2019-01-21-The-year-end-summary-of-2018/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€-å­˜åœ¨çš„å›°éš¾å’Œä¸è¶³"><a href="#ä¸€-å­˜åœ¨çš„å›°éš¾å’Œä¸è¶³" class="headerlink" title="ä¸€.å­˜åœ¨çš„å›°éš¾å’Œä¸è¶³"></a>ä¸€.å­˜åœ¨çš„å›°éš¾å’Œä¸è¶³</h2><ol><li>æœ‰æ—¶å€™å¼€å‘è¿‡ç¨‹ä¸­æ±‚å¿«ï¼Œå¿½ç•¥äº†ä¸€äº›éš¾ä»¥ä¸€çœ¼å°±å‘ç°çš„é—®é¢˜ï¼Œåœ¨æ•²ä»£ç çš„è¿‡ç¨‹ï¼Œåº”è¯¥æ€è€ƒä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ã€‚åŒæ—¶åº”è¯¥è”æƒ³åˆ°è¯¥å¦‚ä½•å¤„ç†å¼‚å¸¸çŠ¶å†µã€‚è¿™æ˜¯éœ€è¦åœ¨åé¢çš„å¼€å‘è¿‡ç¨‹ä¸­ä¸æ–­å®Œå–„çš„å†…å®¹ã€‚</li><li>åˆ»è‹¦ä¸“ç ”çš„ç²¾ç¥è¿˜ä¸å¤Ÿï¼Œæœ‰æ—¶å€™ä¼šä¸æ±‚ç”šè§£ã€‚è¿™æ˜¯æˆ‘çš„ä¸è¶³ï¼Œåº”è¯¥åœ¨æ—¶é—´å……è¶³çš„æƒ…å†µä¸‹ï¼ŒåŠ ç­ä¹Ÿè¦æŠŠä¸æ‡‚çš„é—®é¢˜ææ‡‚å¼„é€šã€‚</li><li>æ€»æ˜¯è®¤ä¸ºå‰äººç•™ä¸‹æ¥çš„ä»£ç ä¸æˆ‘æ— å…³ï¼Œè¿™æ˜¯æˆ‘ä¸è´Ÿè´£ä»»çš„è¡¨ç°ã€‚è™½ç„¶ä¸æ˜¯è‡ªå·±å†™çš„ä»£ç ï¼Œä½†æ˜¯è‡ªå·±è´Ÿè´£äº†è¿™ä¸€å—ï¼Œåº”è¯¥å°†å…¨éƒ¨çš„ä»£ç éƒ½å®¡è§†ä¸€è¾¹ï¼Œå“ªæ€•æ˜¯å‰äººç•™ä¸‹çš„BUGï¼Œä¹Ÿéœ€è¦å¯¹æ­¤è´Ÿè´£ã€‚è¿™æ˜¯æˆ‘çš„ä¸è¶³çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»Šåè¦æ‹…å½“çš„åœ°æ–¹ï¼Œä¸ç®¡æ˜¯è°å†™çš„ï¼Œåªè¦æ˜¯æˆ‘è´Ÿè´£çš„è¿™ä¸€å—ï¼Œè¿™å—å‡ºé—®é¢˜äº†ï¼Œé‚£å°±æ˜¯æˆ‘çš„è´£ä»»ï¼</li><li>å¯¹ä¸šåŠ¡çŸ¥è¯†çš„è¦†ç›–é¢è¿˜ä¸å¤Ÿå®½å¹¿ã€‚</li></ol><h2 id="äºŒ-æ˜å¹´ç›®æ ‡"><a href="#äºŒ-æ˜å¹´ç›®æ ‡" class="headerlink" title="äºŒ.æ˜å¹´ç›®æ ‡"></a>äºŒ.æ˜å¹´ç›®æ ‡</h2><ol><li>å¼€å‘åœ¨å¿«çš„åŸºç¡€ä¸Šï¼Œæ±‚ç¨³ï¼</li><li>å¯¹ä¸æ¸…æ¥šçš„åœ°æ–¹åšä¸Šè®°å·ï¼Œæ±‚ç”šè§£ï¼</li><li>å¯¹è‡ªå·±è´Ÿè´£çš„æ¨¡å—ï¼Œä¸ç•™é—æ†¾ï¼</li><li>åŠ å¼ºå¯¹ä¸šåŠ¡çŸ¥è¯†çš„å­¦ä¹ ï¼</li><li>åŠ å¼ºæ•°æ®åº“çš„ç›¸å…³åªæ˜¯ï¼Œäº‰å–è€ƒä¸ªoracleæ•°æ®åº“ç›¸å…³çš„è®¤è¯ã€‚</li><li>æ§åˆ¶è‡ªå·±çš„æƒ…ç»ªã€‚</li></ol><h2 id="ä¸‰-ç»“å°¾"><a href="#ä¸‰-ç»“å°¾" class="headerlink" title="ä¸‰.ç»“å°¾"></a>ä¸‰.ç»“å°¾</h2><p>ä»¥ä¸Šå°±æ˜¯æˆ‘å¯¹2018å¹´çš„æ€»ç»“ï¼Œè¯·é¢†å¯¼æ‰¹è¯„æŒ‡æ­£ï¼Œå¸Œæœ›æˆ‘èƒ½ä¸æ–­çš„æˆé•¿ï¼Œæ”¹è¿›å’Œå®Œå–„ï¼Œæå‡è‡ªæˆ‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracleå­˜å‚¨è¿‡ç¨‹ å…³äºupdateçš„åŠ¨æ€SQL-å·¥ä½œå¿ƒå¾—</title>
      <link href="2018/12/20/2018-12-20-oracle-procedures-dynamicsql-update/"/>
      <url>2018/12/20/2018-12-20-oracle-procedures-dynamicsql-update/</url>
      
        <content type="html"><![CDATA[<p>èŠ±äº†æˆ‘ä¸€ä¸‹åˆæ—¶é—´ï¼Œå¤–åŠ æ™šä¸ŠåŠ ç­<br>ç»ˆäºæŠŠå­˜å‚¨è¿‡ç¨‹çš„ä¸»è¦åŠŸèƒ½ç»™å†™å‡ºæ¥äº†ï¼ï¼ï¼<br>emmmmmï¼Œåšä¸ªç¬”è®°<br>åé¢æœ‰æ—¶é—´å°±ç»†ç»†åˆ†æä¸‹ï¼Œå…ˆæŠŠä»£ç è´´ä¸€ä¸‹ã€‚</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">procedure</span> P_SYNC_TA_PRODUCT_TEST(v_res           <span class="keyword">OUT</span> NUMBER,</span><br><span class="line">                                                       v_errorCode     <span class="keyword">OUT</span> NVARCHAR2,</span><br><span class="line">                                                       v_errorMsg      <span class="keyword">OUT</span> NVARCHAR2,</span><br><span class="line">                                                       d_dateStartDate <span class="keyword">IN</span> NVARCHAR2,</span><br><span class="line">                                                       d_dateEndDate   <span class="keyword">IN</span> NVARCHAR2) <span class="keyword">IS</span></span><br><span class="line">      <span class="comment">--æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å·²ç»åŒæ­¥çš„TAäº§å“ä¿¡æ¯çš„ä¸ªæ•°</span></span><br><span class="line">      v_count_updatePolling number(<span class="number">8</span>) :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">      <span class="comment">--æ”¶ç›Šç‡IDè‡ªåŠ¨ç”Ÿæˆåºåˆ—</span></span><br><span class="line">      v_yieldRateId NVARCHAR2(<span class="number">36</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„äº§å“ä»£ç </span></span><br><span class="line">      v_productCode varchar2(<span class="number">36</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„å—ç›Šçº§åˆ«</span></span><br><span class="line">      v_yieldLevelCode NVARCHAR2(<span class="number">10</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„é¢„æœŸå¹´åŒ–æ”¶ç›Šç‡</span></span><br><span class="line">      v_yieldRate NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      v_yieldRateStr NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„æŠ•èµ„åŒºé—´ï¼ˆå¼€å§‹ï¼‰</span></span><br><span class="line">      v_investmentIntervalS NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      v_investmentIntervalSStr NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„æŠ•èµ„åŒºé—´ï¼ˆç»“æŸï¼‰</span></span><br><span class="line">      v_investmentIntervalD NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      v_investmentIntervalDStr NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„æŠ•èµ„æœŸé™</span></span><br><span class="line">      v_dueTime NVARCHAR2(<span class="number">20</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„æŠ•èµ„æœŸé™å•ä½</span></span><br><span class="line">      v_dueTimeUnit NVARCHAR2(<span class="number">2</span>);</span><br><span class="line">      <span class="comment">--å—ç›Šçº§åˆ«è¡¨çš„å¹´åŒ–è®¡ç®—å¤©æ•°</span></span><br><span class="line">      v_annualDays NVARCHAR2(<span class="number">5</span>);</span><br><span class="line">      <span class="comment">--æ‹¼æ¥çš„SQLè¯­å¥</span></span><br><span class="line">      v_confirmSql varchar2(<span class="number">600</span>);</span><br><span class="line">      v_confirmCommaSql varchar2(<span class="number">600</span>);</span><br><span class="line">      v_updateYieldRateSql varchar2(<span class="number">700</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">--ç”¨äºåˆ¤æ–­æ˜¯å¦æ–°å¢æˆ–æ›´æ–°</span></span><br><span class="line">      <span class="comment">/*v_total_pro number(8) := 0;</span></span><br><span class="line"><span class="comment">      --æ¸¸æ ‡tfundInfosçš„ä¸ªæ•°</span></span><br><span class="line"><span class="comment">      v_total number(8) := 0;</span></span><br><span class="line"><span class="comment">      --å…¥æ± äº§å“ID</span></span><br><span class="line"><span class="comment">      v_pollingProductId NVARCHAR2(36);</span></span><br><span class="line"><span class="comment">      --ç”¨äºåˆ¤æ–­äº§å“è¡¨æ˜¯å¦å­˜åœ¨è¯¥äº§å“</span></span><br><span class="line"><span class="comment">      v_count_pollingProduct number(8) := 0;</span></span><br><span class="line"><span class="comment">      --ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨å·²å…¥æ± ä¸”å½“æ—¥æ”¹åŠ¨çš„äº§å“</span></span><br><span class="line"><span class="comment">      v_count_polling number(8) := 0;</span></span><br><span class="line"><span class="comment">      --ç”¨äºåˆ¤æ–­TAæ˜¯å¦å­˜åœ¨å—ç›Šçº§åˆ«ä¿¡æ¯</span></span><br><span class="line"><span class="comment">      v_count_productRateYiled number(8) := 0;*/</span></span><br><span class="line">    </span><br><span class="line">      <span class="comment">--1.å®šä¹‰æ¸¸æ ‡ï¼šæŸ¥è¯¢å‡ºäº§å“åç§°ã€æˆç«‹æ—¥ã€é¢„è®¡åˆ°æœŸæ—¥å…¶ä¸­å’ŒTAä¸ä¸€è‡´çš„äº§å“ä¿¡æ¯</span></span><br><span class="line">      <span class="keyword">CURSOR</span> updateProductInfos <span class="keyword">IS</span></span><br><span class="line">        <span class="keyword">select</span> t.c_fundcode <span class="keyword">as</span> fundCode, <span class="comment">--äº§å“ä»£ç </span></span><br><span class="line">               t.c_fundname <span class="keyword">as</span> fundName, <span class="comment">--äº§å“åç§°ï¼ˆTAï¼‰</span></span><br><span class="line">               to_char(t.d_setupdate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> setupDateStr, <span class="comment">--æˆç«‹æ—¥ï¼ˆTAï¼‰</span></span><br><span class="line">               to_char(t.d_contractenddate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> contractendDateStr <span class="comment">--é¢„è®¡åˆ°æœŸæ—¥æœŸï¼ˆTAï¼‰</span></span><br><span class="line">          <span class="keyword">from</span> tfundinfo<span class="variable">@HSTA</span> t</span><br><span class="line">          <span class="keyword">inner</span> <span class="keyword">join</span> t_polling_product tpp</span><br><span class="line">            <span class="keyword">on</span> tpp.c_product_code <span class="operator">=</span> t.c_fundcode</span><br><span class="line">            <span class="keyword">and</span> tpp.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">         <span class="keyword">where</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">           <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&gt;=</span></span><br><span class="line">               to_char(to_date(d_dateStartDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">           <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&lt;=</span></span><br><span class="line">               to_char(to_date(d_dateEndDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">           <span class="keyword">and</span> t.c_fundstatus <span class="operator">&lt;&gt;</span> <span class="string">&#x27;6&#x27;</span></span><br><span class="line">           <span class="keyword">and</span> (t.c_fundname <span class="operator">&lt;&gt;</span> tpp.c_product_name</span><br><span class="line">           <span class="keyword">or</span> to_char(t.d_setupdate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&lt;&gt;</span> to_char(tpp.c_found_date, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">           <span class="keyword">or</span> to_char(t.d_contractenddate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&lt;&gt;</span> to_char(tpp.c_end_date, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>));</span><br><span class="line">           <span class="comment">--æ’é™¤å·²ç»ç»“æŸçš„äº§å“ï¼Œ0-å‹Ÿé›†æœŸï¼Œ1-æ­£å¸¸ï¼Œ6-å·²ç»“æŸ</span></span><br><span class="line">    </span><br><span class="line">      <span class="comment">--2.å®šä¹‰æ¸¸æ ‡ï¼šæ ¸å¯¹å—ç›Šçº§åˆ«æ•°æ®åæ›´æ–°æˆ–æ–°å¢å®¶æ—ä¿¡æ‰˜äº§å“å—ç›Šçº§åˆ«</span></span><br><span class="line">      <span class="keyword">CURSOR</span> margeProductYieldRates <span class="keyword">IS</span></span><br><span class="line">        <span class="keyword">select</span> t.c_fundcode <span class="keyword">AS</span> fundCode, <span class="comment">--äº§å“ä»£ç </span></span><br><span class="line">               tp.c_profitclass <span class="keyword">AS</span> profitClass, <span class="comment">--æ”¶ç›Šçº§åˆ«</span></span><br><span class="line">               tp.f_profit<span class="operator">*</span><span class="number">100</span> <span class="keyword">AS</span> profit, <span class="comment">--ä»TAè·å–çš„æ”¶ç›Šç‡éœ€è¦ä¹˜ä»¥100</span></span><br><span class="line">               tp.f_amountmin <span class="keyword">AS</span> amountMin, <span class="comment">--æŠ•èµ„ä¸‹é™ï¼ˆå«ï¼‰</span></span><br><span class="line">               tp.f_amountmax <span class="keyword">AS</span> amountMax, <span class="comment">--æŠ•èµ„ä¸Šé™ï¼ˆä¸å«ï¼‰</span></span><br><span class="line">               tp.c_durationtime <span class="keyword">AS</span> durationTime, <span class="comment">--æŠ•èµ„æœŸé™</span></span><br><span class="line">               <span class="keyword">case</span> tp.c_durationtimeunit</span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;Y&#x27;</span>  <span class="comment">--å¹´</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;M&#x27;</span>  <span class="comment">--æœˆ</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;D&#x27;</span>  <span class="comment">--æ—¥</span></span><br><span class="line">                 <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">               <span class="keyword">end</span> <span class="keyword">as</span> durationTimeUnit, <span class="comment">--æœŸé™å•ä½</span></span><br><span class="line">               <span class="keyword">case</span> tp.c_bonusfrequency</span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;3&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;4&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;5&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;04&#x27;</span> <span class="comment">--ç‰¹å®šå‘¨æœŸ</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;6&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;02&#x27;</span> <span class="comment">--åˆ°æœŸä¸€æ¬¡æ€§æ¸…ç®—</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;7&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;03&#x27;</span> <span class="comment">--ä¸å®šæœŸ</span></span><br><span class="line">                 <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">               <span class="keyword">end</span> <span class="keyword">as</span> bonusFrequencyType, <span class="comment">--åˆ†é…é¢‘ç‡ç±»å‹</span></span><br><span class="line">               <span class="keyword">case</span> tp.c_bonusfrequency</span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;M&#x27;</span> <span class="comment">--æ¯æœˆ</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;3&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;Q&#x27;</span> <span class="comment">--æ¯å­£åº¦</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;4&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;H&#x27;</span> <span class="comment">--æ¯åŠå¹´</span></span><br><span class="line">                 <span class="keyword">when</span> <span class="string">&#x27;5&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;Y&#x27;</span> <span class="comment">--æ¯å¹´</span></span><br><span class="line">                 <span class="keyword">else</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">               <span class="keyword">end</span> <span class="keyword">as</span> bonusFrequency, <span class="comment">--åˆ†é…é¢‘ç‡_ç‰¹å®š</span></span><br><span class="line">               tp.l_incomeyeardays <span class="keyword">as</span> incomeYearDays, <span class="comment">--å¹´åŒ–å¤©æ•°</span></span><br><span class="line">               NVL(to_char(t.d_setupdate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>),</span><br><span class="line">                   to_char(sysdate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)) <span class="keyword">AS</span> yieldStartDateStr <span class="comment">--æœ‰æ•ˆå¼€å§‹æ—¥æœŸ</span></span><br><span class="line">          <span class="keyword">from</span> tfundinfo<span class="variable">@HSTA</span> t</span><br><span class="line">          <span class="keyword">inner</span> <span class="keyword">join</span> ttrustfundprofit<span class="variable">@HSTA</span> tp</span><br><span class="line">            <span class="keyword">on</span> tp.c_fundcode <span class="operator">=</span> t.c_fundcode</span><br><span class="line">         <span class="keyword">where</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">           <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&gt;=</span></span><br><span class="line">               to_char(to_date(d_dateStartDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">           <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&lt;=</span></span><br><span class="line">               to_char(to_date(d_dateEndDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">           <span class="keyword">and</span> t.c_fundstatus <span class="operator">&lt;&gt;</span> <span class="string">&#x27;6&#x27;</span> <span class="keyword">and</span> t.c_fundcode <span class="keyword">in</span> (<span class="string">&#x27;CA0FX6&#x27;</span>,<span class="string">&#x27;CA0FUC&#x27;</span>); <span class="comment">--æ’é™¤å·²ç»ç»“æŸçš„äº§å“ï¼Œ0-å‹Ÿé›†æœŸï¼Œ1-æ­£å¸¸ï¼Œ6-å·²ç»“æŸ</span></span><br><span class="line">           </span><br><span class="line">      </span><br><span class="line">    <span class="keyword">begin</span></span><br><span class="line">      <span class="comment">--================================================================================</span></span><br><span class="line">      <span class="comment">-------------------------------ã€æ‰§è¡Œsqlæ–‡ã€‘--------------------------------------</span></span><br><span class="line">      <span class="comment">--================================================================================</span></span><br><span class="line">      <span class="comment">--å¼€å¯æ—¥å¿—è¾“å‡ºç¼“å†²</span></span><br><span class="line">      DBMS_OUTPUT.ENABLE(buffer_size <span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">null</span>);</span><br><span class="line">      DBMS_OUTPUT.put_line(<span class="string">&#x27;----------------start------------------&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line">      <span class="comment">--1.æŸ¥è¯¢æ˜¯å¦å­˜åœ¨å·²ç»åŒæ­¥çš„TAäº§å“ä¿¡æ¯</span></span><br><span class="line">      <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>)</span><br><span class="line">        <span class="keyword">into</span> v_count_updatePolling</span><br><span class="line">        <span class="keyword">from</span> tfundinfo<span class="variable">@HSTA</span> t</span><br><span class="line">        <span class="keyword">inner</span> <span class="keyword">join</span> t_polling_product tpp</span><br><span class="line">          <span class="keyword">on</span> tpp.c_product_code <span class="operator">=</span> t.c_fundcode</span><br><span class="line">       <span class="keyword">where</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">         <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&gt;=</span></span><br><span class="line">             to_char(to_date(d_dateStartDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">         <span class="keyword">and</span> to_char(t.d_lastmodifydate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="operator">&lt;=</span></span><br><span class="line">             to_char(to_date(d_dateEndDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>)</span><br><span class="line">         <span class="keyword">and</span> t.c_fundstatus <span class="operator">&lt;&gt;</span> <span class="string">&#x27;6&#x27;</span>;     <span class="comment">--æ’é™¤å·²ç»ç»“æŸçš„äº§å“ï¼Œ0-å‹Ÿé›†æœŸï¼Œ1-æ­£å¸¸ï¼Œ6-å·²ç»“æŸ</span></span><br><span class="line">    </span><br><span class="line">      <span class="comment">--å¦‚æœæŸ¥è¯¢åˆ°å­˜åœ¨</span></span><br><span class="line">      if v_count_updatePolling <span class="operator">&gt;</span> <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">--1.1 è°ƒç”¨æ¸¸æ ‡ï¼šæŸ¥è¯¢å‡ºäº§å“åç§°ã€æˆç«‹æ—¥ã€é¢„è®¡åˆ°æœŸæ—¥å…¶ä¸­å’ŒTAä¸ä¸€è‡´çš„äº§å“ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">/*for updateProductInfo in updateProductInfos loop</span></span><br><span class="line"><span class="comment">          --éç©ºåˆ¤æ–­ï¼Œå¦‚æœæŸ¥è¯¢åˆ°çš„æ•°æ®å­˜åœ¨ï¼Œè¡¨ç¤ºï¼Œå­˜åœ¨å®¶æ—ä¿¡æ‰˜å’ŒTAä¸ä¸€è‡´çš„äº§å“ä¿¡æ¯ï¼Œè¿›è¡Œæ›´æ–°å¤„ç†</span></span><br><span class="line"><span class="comment">          if updateProductInfo.Fundcode is not null then</span></span><br><span class="line"><span class="comment">            --æŸ¥è¯¢å­˜åœ¨è¯´æ˜å­˜åœ¨å’ŒTAä¸ä¸€è‡´çš„äº§å“åŸºæœ¬ä¿¡æ¯ï¼Œåˆ™æ›´æ–°å’ŒTAä¸€è‡´</span></span><br><span class="line"><span class="comment">            update t_polling_product t</span></span><br><span class="line"><span class="comment">               set t.c_product_name       = updateProductInfo.Fundname,</span></span><br><span class="line"><span class="comment">                   t.c_end_date           = to_date(updateProductInfo.Contractenddatestr, &#x27;yyyy-MM-dd&#x27;),</span></span><br><span class="line"><span class="comment">                   t.update_time          = sysdate,</span></span><br><span class="line"><span class="comment">                   t.c_found_date         = to_date(updateProductInfo.Setupdatestr, &#x27;yyyy-MM-dd&#x27;)</span></span><br><span class="line"><span class="comment">             where t.c_product_code = updateProductInfo.Fundcode;</span></span><br><span class="line"><span class="comment">          end if;</span></span><br><span class="line"><span class="comment">        end loop;*/</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">--1.2 è°ƒç”¨æ¸¸æ ‡ï¼šæ ¸å¯¹å—ç›Šçº§åˆ«æ•°æ®åæ›´æ–°æˆ–æ–°å¢å®¶æ—ä¿¡æ‰˜äº§å“å—ç›Šçº§åˆ«</span></span><br><span class="line">        <span class="keyword">for</span> margeProductYieldRate <span class="keyword">IN</span> margeProductYieldRates loop</span><br><span class="line">          if margeProductYieldRate.Fundcode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">             * 1.2.1</span></span><br><span class="line"><span class="comment">             * æŸ¥è¯¢TAä¸­çš„å—ç›Šçº§åˆ«ï¼Œå®¶æ—ä¿¡æ‰˜æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">             * è‹¥å­˜åœ¨ï¼Œåˆ™è¡¨ç¤ºå®¶æ—å’ŒTAéƒ½å­˜åœ¨è¯¥å—ç›Šçº§åˆ«ï¼Œè¿›è¡Œæ ¸å¯¹æ¯”è¾ƒå…³é”®ä¿¡æ¯ï¼Œå‘ç°ä¸åŒåˆ™æ›´æ–°</span></span><br><span class="line"><span class="comment">             * è‹¥ä¸å­˜åœ¨ï¼Œè¡¨ç¤ºå®¶æ—è¿™è¾¹ç¼ºå°‘TAçš„å—ç›Šçº§åˆ«ï¼Œéœ€è¦ä»TAè¿›è¡ŒåŒæ­¥è¯¥å—ç›Šçº§åˆ«</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">select</span> tpy.c_product_code,</span><br><span class="line">                   tpy.c_yield_level_code,</span><br><span class="line">                   tpy.c_yield_rate,</span><br><span class="line">                   tpy.c_investment_interval_s,</span><br><span class="line">                   tpy.c_investment_interval_d,</span><br><span class="line">                   tpy.c_due_time,</span><br><span class="line">                   tpy.c_due_time_unit,</span><br><span class="line">                   tpy.c_annual_days</span><br><span class="line">              <span class="keyword">into</span> v_productCode, <span class="comment">--äº§å“ä»£ç </span></span><br><span class="line">                   v_yieldLevelCode, <span class="comment">--å—ç›Šçº§åˆ«</span></span><br><span class="line">                   v_yieldRate, <span class="comment">--é¢„æœŸæ”¶ç›Šç‡</span></span><br><span class="line">                   v_investmentIntervalS, <span class="comment">--æŠ•èµ„ä¸‹é™</span></span><br><span class="line">                   v_investmentIntervalD, <span class="comment">--æŠ•èµ„ä¸Šé™</span></span><br><span class="line">                   v_dueTime, <span class="comment">--æŠ•èµ„æœŸé™</span></span><br><span class="line">                   v_dueTimeUnit, <span class="comment">--æŠ•èµ„æœŸé™å•ä½</span></span><br><span class="line">                   v_annualDays <span class="comment">--å¹´åŒ–å¤©æ•°</span></span><br><span class="line">              <span class="keyword">from</span> t_product_yield_rate tpy</span><br><span class="line">             <span class="keyword">where</span> tpy.c_yield_level_code <span class="operator">=</span> margeProductYieldRate.Profitclass</span><br><span class="line">               <span class="keyword">and</span> tpy.c_product_code <span class="operator">=</span> margeProductYieldRate.Fundcode</span><br><span class="line">               <span class="keyword">and</span> tpy.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">--è‹¥å­˜åœ¨ï¼Œåˆ™è¡¨ç¤ºå®¶æ—å’ŒTAéƒ½å­˜åœ¨è¯¥å—ç›Šçº§åˆ«ï¼Œè¿›è¡Œæ ¸å¯¹æ¯”è¾ƒå…³é”®ä¿¡æ¯ï¼Œå‘ç°ä¸åŒåˆ™æ›´æ–°</span></span><br><span class="line">            IF v_productCode <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">              <span class="comment">/*</span></span><br><span class="line"><span class="comment">               * å°†åŒ¹é…çš„æ•°æ®è¿›è¡Œæ ¸å¯¹ï¼Œå‘ç°å…³é”®å­—æ®µä¸åŒ¹é…çš„è¿›è¡Œæ›´æ–°</span></span><br><span class="line"><span class="comment">               * å¯¹å—ç›Šçº§åˆ«çš„å…³é”®å­—æ®µè¿›è¡Œä¸€ä¸€å¯¹æ¯”</span></span><br><span class="line"><span class="comment">               * å¯¹æ¯”ä¸ä¸€æ ·çš„ï¼Œè¿›è¡Œæ‹¼æ¥SQL</span></span><br><span class="line"><span class="comment">               */</span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;å¼€å§‹æ‹¼æ¥SQLï¼Œäº§å“ä»£ç ä¸ºï¼š&#x27;</span> <span class="operator">||</span> margeProductYieldRate.Fundcode<span class="operator">||</span><span class="string">&#x27;,&#x27;</span><span class="operator">||</span><span class="string">&#x27;å—ç›Šçº§åˆ«ä¸ºï¼š&#x27;</span><span class="operator">||</span>margeProductYieldRate.Profitclass);</span><br><span class="line">              </span><br><span class="line">              <span class="comment">--oracle  æ•°æ®åº“ å­—æ®µå€¼ä¸ºå°äº1çš„å°æ•°æ—¶ï¼Œä½¿ç”¨varchar2ç±»å‹å¤„ç†ï¼Œä¼šä¸¢å¤±å°æ•°ç‚¹å‰é¢çš„0</span></span><br><span class="line">              v_yieldRateStr :<span class="operator">=</span> to_char(v_yieldRate, <span class="string">&#x27;fm99999999990.00&#x27;</span>);</span><br><span class="line">              v_investmentIntervalSStr :<span class="operator">=</span> to_char(v_investmentIntervalS, <span class="string">&#x27;fm99999999990.00&#x27;</span>);</span><br><span class="line">              v_investmentIntervalDStr :<span class="operator">=</span> to_char(v_investmentIntervalD, <span class="string">&#x27;fm99999999990.00&#x27;</span>);</span><br><span class="line">              </span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;1.æ”¶ç›Šç‡ï¼Œfamily:&#x27;</span> <span class="operator">||</span>v_yieldRateStr<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>));</span><br><span class="line">              <span class="comment">-- æ¯”è¾ƒå¹´åŒ–æ”¶ç›Šç‡</span></span><br><span class="line">              if v_yieldRateStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Profit <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_yieldRateStr <span class="operator">&lt;&gt;</span> to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_yield_rate=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_yieldRateStr <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_yield_rate=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_yieldRateStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Profit, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_yield_rate=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              <span class="comment">--æ¯”è¾ƒæŠ•èµ„ä¸Šé™ï¼ˆå«ï¼‰</span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;2.æŠ•èµ„ä¸Šé™ï¼Œfamily:&#x27;</span> <span class="operator">||</span> v_investmentIntervalSStr<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>));</span><br><span class="line">              if v_investmentIntervalSStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_investmentIntervalSStr <span class="operator">&lt;&gt;</span> to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_s=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_investmentIntervalSStr <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_s=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_investmentIntervalSStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmin, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_s=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              <span class="comment">--æ¯”è¾ƒæŠ•èµ„ä¸‹é™ï¼ˆä¸å«ï¼‰          </span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;2.æŠ•èµ„ä¸‹é™ï¼Œfamily:&#x27;</span> <span class="operator">||</span> v_investmentIntervalDStr<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>));</span><br><span class="line">              if v_investmentIntervalDStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_investmentIntervalDStr <span class="operator">&lt;&gt;</span> to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_d=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_investmentIntervalDStr <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_d=&#x27;</span><span class="operator">||</span>to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_investmentIntervalDStr <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> to_char(margeProductYieldRate.Amountmax, <span class="string">&#x27;fm99999999990.00&#x27;</span>) <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_investment_interval_d=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              <span class="comment">--æ¯”è¾ƒæŠ•èµ„æœŸé™</span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;3.æŠ•èµ„æœŸé™ï¼Œfamily:&#x27;</span> <span class="operator">||</span> v_dueTime<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtime);</span><br><span class="line">              if v_dueTime <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtime <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_dueTime <span class="operator">&lt;&gt;</span> margeProductYieldRate.Durationtime <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time=&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtime<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_dueTime <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtime <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time=&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtime<span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_dueTime <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtime <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              <span class="comment">--æ¯”è¾ƒæŠ•èµ„æœŸé™å•ä½</span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;4.æŠ•èµ„æœŸé™å•ä½ï¼Œfamily:&#x27;</span> <span class="operator">||</span> v_dueTimeUnit<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtimeunit);</span><br><span class="line">              if v_dueTimeUnit <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtimeunit <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_dueTimeUnit <span class="operator">&lt;&gt;</span> margeProductYieldRate.Durationtimeunit <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time_unit=&#x27;</span><span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtimeunit<span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_dueTimeUnit <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtimeunit <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time_unit=&#x27;</span><span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span>margeProductYieldRate.Durationtimeunit<span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_dueTimeUnit <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Durationtimeunit <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_due_time_unit=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              <span class="comment">--æ¯”è¾ƒå¹´åŒ–è®¡ç®—å¤©æ•°</span></span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;5.å¹´åŒ–è®¡ç®—å¤©æ•°ï¼Œfamily:&#x27;</span> <span class="operator">||</span> v_annualDays<span class="operator">||</span><span class="string">&#x27;;&#x27;</span><span class="operator">||</span><span class="string">&#x27;TA:&#x27;</span><span class="operator">||</span>margeProductYieldRate.Incomeyeardays);</span><br><span class="line">              if v_annualDays <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Incomeyeardays <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                if v_annualDays <span class="operator">&lt;&gt;</span> margeProductYieldRate.Incomeyeardays <span class="keyword">then</span></span><br><span class="line">                  v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_annual_days&#x27;</span><span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span>margeProductYieldRate.Incomeyeardays<span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">                <span class="keyword">end</span> if;</span><br><span class="line">              elsif v_annualDays <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Incomeyeardays <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_annual_days=&#x27;</span><span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span>margeProductYieldRate.Incomeyeardays<span class="operator">||</span><span class="string">&#x27;&#x27;&#x27;&#x27;</span><span class="operator">||</span><span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">              elsif v_annualDays <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">and</span> margeProductYieldRate.Incomeyeardays <span class="keyword">is</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> v_confirmSql<span class="operator">||</span><span class="string">&#x27;t.c_annual_days=null,&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              </span><br><span class="line">              <span class="comment">--åˆ¤æ–­å­˜åœ¨ä¸ä¸€è‡´çš„å—ç›Šçº§åˆ«å­—æ®µ</span></span><br><span class="line">              if v_confirmSql <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">then</span></span><br><span class="line">                <span class="comment">--å°†å¾—åˆ°çš„æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå»æ‰æœ€åçš„ä¸€ä¸ªå¥å·&#x27;,&#x27;</span></span><br><span class="line">                <span class="keyword">select</span> substr(v_confirmSql,<span class="number">1</span>,length(v_confirmSql)<span class="number">-1</span>) <span class="keyword">into</span> v_confirmCommaSql <span class="keyword">from</span> dual;</span><br><span class="line">                v_updateYieldRateSql :<span class="operator">=</span> <span class="string">&#x27;update t_product_yield_rate t set &#x27;</span><span class="operator">||</span>v_confirmCommaSql<span class="operator">||</span><span class="string">&#x27; where t.c_product_code=:1 and t.c_yield_level_code=:2&#x27;</span>;</span><br><span class="line">                dbms_output.put_line(<span class="string">&#x27;æ‹¼æ¥çš„SQLä¸ºï¼š&#x27;</span> <span class="operator">||</span> v_updateYieldRateSql);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">--æ‰§è¡Œæ›´æ–°SQL</span></span><br><span class="line">                <span class="keyword">execute</span> immediate v_updateYieldRateSql <span class="keyword">USING</span> margeProductYieldRate.Fundcode, margeProductYieldRate.Profitclass;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">--æœ¬æ¡è®°å½•å¤„ç†å®Œæˆï¼Œå°†v_confirmSqlã€v_confirmSqlCountæ¸…ç©ºå‡†å¤‡ä¸‹æ¡å¤„ç†</span></span><br><span class="line">                v_confirmSql :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                v_confirmCommaSql :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                v_updateYieldRateSql :<span class="operator">=</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">              <span class="keyword">end</span> if;</span><br><span class="line">              </span><br><span class="line">              <span class="comment">--è‹¥ä¸å­˜åœ¨ï¼Œè¡¨ç¤ºå®¶æ—è¿™è¾¹ç¼ºå°‘TAçš„å—ç›Šçº§åˆ«ï¼Œéœ€è¦ä»TAè¿›è¡ŒåŒæ­¥è¯¥å—ç›Šçº§åˆ«</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">              <span class="comment">--ç”Ÿæˆæ”¶ç›Šç‡IDä¸»é”®çš„åºåˆ—å·</span></span><br><span class="line">              <span class="keyword">select</span> concat(to_char(sysdate, <span class="string">&#x27;yyyyMMddHHmmss&#x27;</span>),</span><br><span class="line">                            trunc(dbms_random.value(<span class="number">100000</span>, <span class="number">999999</span>)))</span><br><span class="line">                <span class="keyword">into</span> v_yieldRateId</span><br><span class="line">                <span class="keyword">from</span> dual;</span><br><span class="line">              dbms_output.put_line(<span class="string">&#x27;å­˜åœ¨æ–°å¢çš„å—ç›Šçº§åˆ«ï¼Œäº§å“ä»£ç ä¸ºï¼š&#x27;</span><span class="operator">||</span>margeProductYieldRate.Fundcode<span class="operator">||</span><span class="string">&#x27;,å—ç›Šçº§åˆ«ä¸ºï¼š&#x27;</span><span class="operator">||</span>margeProductYieldRate.Profitclass);</span><br><span class="line">              <span class="comment">--å°†è¯¥å—ç›Šçº§åˆ«åŒæ­¥åˆ°å®¶æ—ä¿¡æ‰˜ä¸­</span></span><br><span class="line">              <span class="keyword">insert</span> <span class="keyword">into</span> T_PRODUCT_YIELD_RATE</span><br><span class="line">              (T_PRODUCT_YIELD_RATE.C_YIELD_RATE_ID,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_PRODUCT_CODE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_PRODUCT_MANAGER_CODE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_INVESTMENT_INTERVAL_S,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_INVESTMENT_INTERVAL_D,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_YIELD_RATE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.DELETE_FLAG,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.CREATE_USER_ID,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.CREATE_TIME,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.UPDATE_USER_ID,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.UPDATE_TIME,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_YIELD_START_DATE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_YIELD_END_DATE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_CHANGE_REASON,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_YIELD_LEVEL_CODE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_ALLOCATION_TYPE,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_ALLOCATION_TYPE_SP,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_ALLOCATION_TYPE_MD,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_ANNUAL_DAYS,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_DUE_TIME,</span><br><span class="line">               T_PRODUCT_YIELD_RATE.C_DUE_TIME_UNIT)</span><br><span class="line">            <span class="keyword">values</span></span><br><span class="line">              (v_yieldRateId,</span><br><span class="line">               margeProductYieldRate.Fundcode,</span><br><span class="line">               <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">               margeProductYieldRate.Amountmin,</span><br><span class="line">               margeProductYieldRate.Amountmax,</span><br><span class="line">               margeProductYieldRate.Profit,</span><br><span class="line">               <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">               <span class="string">&#x27;00000000000000000000&#x27;</span>,</span><br><span class="line">               sysdate,</span><br><span class="line">               <span class="string">&#x27;00000000000000000000&#x27;</span>,</span><br><span class="line">               sysdate,</span><br><span class="line">               to_date(margeProductYieldRate.Yieldstartdatestr, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>),</span><br><span class="line">               to_date(<span class="string">&#x27;9999-12-31&#x27;</span>, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>),</span><br><span class="line">               <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">               margeProductYieldRate.Profitclass,</span><br><span class="line">               margeProductYieldRate.Bonusfrequencytype,</span><br><span class="line">               margeProductYieldRate.Bonusfrequency,</span><br><span class="line">               <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">               margeProductYieldRate.Incomeyeardays,</span><br><span class="line">               margeProductYieldRate.Durationtime,</span><br><span class="line">               margeProductYieldRate.Durationtimeunit);</span><br><span class="line">            <span class="keyword">end</span> if;</span><br><span class="line">          <span class="keyword">end</span> if;</span><br><span class="line">        <span class="keyword">end</span> loop;</span><br><span class="line">      <span class="keyword">end</span> if;</span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line">      <span class="comment">--è¾“å‡ºæ”¾å›çŠ¶æ€ä¿¡æ¯</span></span><br><span class="line">      v_res       :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">      v_errorCode :<span class="operator">=</span> SQLCODE;</span><br><span class="line">      v_errorMsg  :<span class="operator">=</span> <span class="string">&#x27;P_SYNC_TA_PRODUCT_TEST&#x27;</span> <span class="operator">||</span> <span class="string">&#x27;:&#x27;</span> <span class="operator">||</span> TO_CHAR(SQLERRM);</span><br><span class="line">      DBMS_OUTPUT.put_line(<span class="string">&#x27;----------------end------------------&#x27;</span>);</span><br><span class="line">      <span class="comment">--æäº¤</span></span><br><span class="line">      <span class="keyword">COMMIT</span>;</span><br><span class="line">      <span class="comment">--å¼‚å¸¸å¤„ç†</span></span><br><span class="line">    EXCEPTION</span><br><span class="line">      <span class="keyword">WHEN</span> OTHERS <span class="keyword">THEN</span></span><br><span class="line">        DBMS_OUTPUT.put_line(<span class="string">&#x27;----------------error------------------&#x27;</span>);</span><br><span class="line">        <span class="comment">--äº‹åŠ¡å›æ»š</span></span><br><span class="line">        <span class="keyword">ROLLBACK</span>;</span><br><span class="line">        v_res       :<span class="operator">=</span> <span class="number">-1</span>;</span><br><span class="line">        v_errorCode :<span class="operator">=</span> SQLCODE;</span><br><span class="line">        v_errorMsg  :<span class="operator">=</span> <span class="string">&#x27;P_SYNC_TA_PRODUCT_TEST&#x27;</span> <span class="operator">||</span> <span class="string">&#x27;:&#x27;</span> <span class="operator">||</span> TO_CHAR(SQLERRM);</span><br><span class="line">    <span class="keyword">end</span> P_SYNC_TA_PRODUCT_TEST;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ä¸æ˜¯ä¸ºäº†ä¸€æ—¥ä¸‰é¤å¥”æ³¢åŠ³ç¢Œå•Š</title>
      <link href="2018/12/14/2018-12-14-live/"/>
      <url>2018/12/14/2018-12-14-live/</url>
      
        <content type="html"><![CDATA[<p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3470640999.jpg" alt="3470640999.jpg"><br>ç»´æŠ¤ä¸–ç•Œå’Œå¹³<br>å®ˆæŠ¤ç¥–å›½å¤§å¥½æ²³å±±<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/70101975.jpg" alt="åæ¥æ‰å‘ç°"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1620755135.jpg" alt="è¿™TMæ˜¯è¶…äººè™è ä¾ å¹²çš„äº‹"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2444817722.jpg" alt="å’±ä»¬å‘€æ²¡æˆ"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3301920858.jpg" alt="è°ä¸ä¸ºä¸€æ—¥ä¸‰é¤å¥”æ³¢åŠ³ç´¯å‘¢"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ²¡æƒ³åˆ°æˆ‘çš„çŸ¥ä¹æé—®ç«Ÿç„¶ä¸Šäº†çŸ¥ä¹çƒ­æœç¬¬äºŒ</title>
      <link href="2018/12/07/2018-12-07-zhihu-hot2/"/>
      <url>2018/12/07/2018-12-07-zhihu-hot2/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘å°±éšä¾¿ä¸€é—®ï¼Œæ²¡æƒ³åˆ°å°±ä¸Šçƒ­æœäº†</p><p>è™½ç„¶ä¸æ˜¯ä»€ä¹ˆå¥½é—®é¢˜ã€‚ã€‚ã€‚çº¯å±é—²å¾—è›‹ç–¼</p><p>å¦‚æœæœ‰äººçœ‹å¾—ä¸çˆ½çš„è¯ï¼Œemmmmï¼Œä¸å¥½æ„æ€å•Š</p><p>Î£(ã£ Â°Ğ” Â°;)ã£ ::aru:distressed:: </p><p>å–œæ¬¢çœ‹æ–°é—»ï¼Œå½“åƒç“œç¾¤ä¼—ï¼ŒçœŸçš„ä»¤äººè›‹ç–¼</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/4165312654.png" alt="çŸ¥ä¹çƒ­æœç¬¬äºŒ.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>junitæµ‹è¯•ç±»é˜²æ­¢äº‹åŠ¡å›æ»š-å·¥ä½œå¿ƒå¾—</title>
      <link href="2018/12/06/2018-12-06-junit-test-rollback/"/>
      <url>2018/12/06/2018-12-06-junit-test-rollback/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ç¼–å†™æµ‹è¯•ç±»æ—¶ï¼Œè°ƒç”¨serviceå±‚ï¼Œå­˜åœ¨æ•°æ®åº“æ“ä½œ</p><p>éœ€è¦å®ç°æ•°æ®åº“çš„æ–°å¢æˆ–è€…ä¿®æ”¹ã€‚</p><p>ä¸æ·»åŠ å…³é”®æ³¨è§£çš„è¯ï¼Œä¼šå‡ºç°ä¸‹åˆ—çš„æ—¥å¿—æŠ¥å‘Š</p><p>å¯ä»¥çœ‹åˆ°å…³é”®æ—¥å¿—éƒ¨åˆ†ï¼šRolled back transaction for test</p><p>å‡ºç°äº†å›æ»šæ“ä½œ</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/2931689383.png" alt="å¾®ä¿¡æˆªå›¾_20181206094409.png"></p><p>è¿™æ—¶å¦‚æœéœ€è¦åœ¨æµ‹è¯•ç±»ä¸­ä¿®æ”¹æ•°æ®ï¼Œå°±è¦æ·»åŠ æ³¨è§£ï¼Œé˜²æ­¢è‡ªåŠ¨å›æ»š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Rollback(false)</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ ä½ç½®ä¸ºç±»åä¸Šæ–¹</p><p>æ·»åŠ äº†è¿”å›è‡ªåŠ¨å›æ»šæ³¨è§£ä¹‹åï¼Œçœ‹ä¸‹æ‰“å°çš„æ—¥å¿—</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/3909371742.png" alt="å¾®ä¿¡æˆªå›¾_20181206094745.png"></p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Committed transaction <span class="keyword">for</span> test</span><br></pre></td></tr></table></figure><p>è¯´æ˜æˆ‘ä»¬çš„sqlå·²ç»commitäº†ã€‚å®ç°æ•°æ®åº“çš„å˜æ›´ã€‚</p><p>å“¦å•¦~</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/1587088613.gif" alt="QQå›¾ç‰‡20181206083603.gif"></p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>oracleçš„å¤šè¡¨åˆå¹¶æŸ¥è¯¢-å·¥ä½œå¿ƒå¾—</title>
      <link href="2018/11/29/2018-11-29-oracle-select-all/"/>
      <url>2018/11/29/2018-11-29-oracle-select-all/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆšåˆšå¼€å‘éœ€æ±‚å†™äº†ä¸ªSQLï¼Œè®°ä¸ªç¬”è®°ï¼Œå­¦ä¹ ä¸‹å…³äºæ•°æ®åº“çš„å¤šè¡¨åˆå¹¶æŸ¥è¯¢çš„ç”¨æ³•"><a href="#åˆšåˆšå¼€å‘éœ€æ±‚å†™äº†ä¸ªSQLï¼Œè®°ä¸ªç¬”è®°ï¼Œå­¦ä¹ ä¸‹å…³äºæ•°æ®åº“çš„å¤šè¡¨åˆå¹¶æŸ¥è¯¢çš„ç”¨æ³•" class="headerlink" title="åˆšåˆšå¼€å‘éœ€æ±‚å†™äº†ä¸ªSQLï¼Œè®°ä¸ªç¬”è®°ï¼Œå­¦ä¹ ä¸‹å…³äºæ•°æ®åº“çš„å¤šè¡¨åˆå¹¶æŸ¥è¯¢çš„ç”¨æ³•"></a>åˆšåˆšå¼€å‘éœ€æ±‚å†™äº†ä¸ªSQLï¼Œè®°ä¸ªç¬”è®°ï¼Œå­¦ä¹ ä¸‹å…³äºæ•°æ®åº“çš„å¤šè¡¨åˆå¹¶æŸ¥è¯¢çš„ç”¨æ³•</h2><hr><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> t.<span class="operator">*</span> <span class="keyword">from</span> A t </span><br><span class="line">  <span class="keyword">UNION</span> <span class="keyword">ALL</span><span class="operator">/</span><span class="keyword">UNION</span><span class="operator">/</span><span class="keyword">Intersect</span><span class="operator">/</span>MINUS</span><br><span class="line"><span class="keyword">select</span> s.<span class="operator">*</span> <span class="keyword">from</span> B s;</span><br></pre></td></tr></table></figure><p>##UNION ALL</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/4230521173.png" alt="772156-20170328165135826-1065021997.png"></p><p>ä½¿ç”¨<strong>UNION ALL</strong>ï¼Œè¡¨ç¤ºå–Aã€Bçš„åˆé›†,ä¸è¿‡æ»¤é‡å¤çš„æ•°æ®è¡Œ</p><p>##UNION</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/2605756222.png" alt="772156-20170328170010639-1715535324.png"></p><p>ä½¿ç”¨<strong>UNION</strong>ï¼Œä¼šå°†ç»“æœé›†Aå’Œç»“æœé›†Bè¿›è¡ŒUNION ALLè¿ç®—,ç„¶åå–ä¸¤è€…äº¤é›†çš„ä½™é›†ä½œä¸ºç»“æœé›†</p><p>##Intersect<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/718117220.png" alt="772156-20170328170456248-1010642438.png"></p><p>ä½¿ç”¨Intersect,ä¼šå°†ç»“æœé›†Aå’Œç»“æœé›†Bè¿›è¡ŒUNION ALLè¿ç®—,<strong>ç„¶åä¸¤è€…ä¹‹é—´çš„é›†äº¤é›†ä½œä¸ºç»“æœé›†å’ŒUNIONåˆšå¥½ç›¸å</strong></p><p>##MINUS<br><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/1648560351.png" alt="772156-20170328171317045-1304191687.png"></p><p>ä½¿ç”¨MINUS,å–ç»“æœé›†Aå‡å»ç»“æœé›†Bç•™ä¸‹çš„å·®é›†,æ³¨:å¦‚æœç»“æœé›†Aå°äºç­‰äºç»“æœé›†B,è¿”å›ç©ºç»“æœé›†.</p><hr><p>å¥½å•¦ï¼Œä¸‹é¢è¿›å…¥å®æˆ˜é˜¶æ®µï¼Œæˆ‘å°±ç›´æ¥å°†æˆ‘å†™çš„SQLè´´å‡ºæ¥å§</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> a.<span class="operator">*</span></span><br><span class="line">  <span class="keyword">from</span> (<span class="keyword">select</span> t.c_fund_account_name <span class="keyword">as</span> &quot;fundAccountNo&quot;, <span class="comment">--åŸºé‡‘è´¦å·</span></span><br><span class="line">               tfp.project_code <span class="keyword">as</span> &quot;projectCode&quot;, <span class="comment">--é¡¹ç›®ç¼–å·</span></span><br><span class="line">               tfp.project_name <span class="keyword">as</span> &quot;projectName&quot;, <span class="comment">--é¡¹ç›®åç§°</span></span><br><span class="line">               tfp.project_shortname <span class="keyword">as</span> &quot;projectShortName&quot;, <span class="comment">--é¡¹ç›®ç®€ç§°</span></span><br><span class="line">               c.c_fund_name <span class="keyword">as</span> &quot;fundName&quot;, <span class="comment">--åŸºé‡‘äº§å“åç§°</span></span><br><span class="line">               c.c_fund_code <span class="keyword">as</span> &quot;fundCode&quot;, <span class="comment">--åŸºé‡‘äº§å“ä»£ç </span></span><br><span class="line">               nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="keyword">as</span> &quot;subsisAssetsShare&quot;, <span class="comment">--ä»½é¢ï¼ˆå®¶æ—ï¼‰</span></span><br><span class="line">               to_char(thold.updateDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> &quot;updateDate&quot;, <span class="comment">--æ—¥æœŸ</span></span><br><span class="line">               nvl(c.c_current_share, <span class="number">0</span>) <span class="keyword">as</span> &quot;currentShare&quot;, <span class="comment">--ä»½é¢ï¼ˆåŸºé‡‘ç½‘ç«™ï¼‰</span></span><br><span class="line">               to_char(c.d_date, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> &quot;dateDate&quot;, <span class="comment">--æ—¥æœŸ</span></span><br><span class="line">               (nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span> nvl(c.c_current_share, <span class="number">0</span>)) <span class="keyword">as</span> &quot;diffValue&quot;, <span class="comment">--å·®å€¼</span></span><br><span class="line">               <span class="built_in">CAST</span>((<span class="keyword">CASE</span></span><br><span class="line">                      <span class="keyword">WHEN</span> (nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span></span><br><span class="line">                           nvl(c.c_current_share, <span class="number">0</span>)) <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">                       <span class="string">&#x27;1&#x27;</span></span><br><span class="line">                      <span class="keyword">WHEN</span> (nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span></span><br><span class="line">                           nvl(c.c_current_share, <span class="number">0</span>)) <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">                       <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                    <span class="keyword">END</span>) <span class="keyword">as</span> nvarchar2(<span class="number">2</span>)) <span class="keyword">as</span> &quot;identical&quot; <span class="comment">--æ˜¯å¦ä¸€è‡´</span></span><br><span class="line">          <span class="keyword">from</span> t_fund_account t</span><br><span class="line">         <span class="keyword">inner</span> <span class="keyword">join</span> (<span class="keyword">select</span> fhs.<span class="operator">*</span>,</span><br><span class="line">                           <span class="built_in">row_number</span>() <span class="keyword">over</span>(<span class="keyword">partition</span> <span class="keyword">by</span> fhs.c_fund_account_no, fhs.c_project_code <span class="keyword">order</span> <span class="keyword">by</span> fhs.d_date <span class="keyword">desc</span>) rn</span><br><span class="line">                      <span class="keyword">from</span> td_fund_holding_share fhs) c</span><br><span class="line">            <span class="keyword">on</span> t.c_fund_account_name <span class="operator">=</span> c.c_fund_account_no</span><br><span class="line">           <span class="keyword">and</span> t.c_project_code <span class="operator">=</span> c.c_project_code</span><br><span class="line">          <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (<span class="keyword">SELECT</span> tha.project_code <span class="keyword">as</span> projectCode,</span><br><span class="line">                           <span class="built_in">sum</span>(tha.current_share) <span class="keyword">as</span> subsistAssetsShare, <span class="comment">-- æŒæœ‰ä»½é¢</span></span><br><span class="line">                           <span class="built_in">sum</span>(tha.current_cost) <span class="keyword">as</span> currentCost, <span class="comment">--å½“å‰æˆæœ¬</span></span><br><span class="line">                           <span class="built_in">sum</span>(tha.accumulated_profit) <span class="keyword">as</span> accumulatedProfit, <span class="comment">--ç´¯ç§¯åˆ©æ¶¦</span></span><br><span class="line">                           <span class="built_in">max</span>(tha.update_time) <span class="keyword">as</span> updateDate</span><br><span class="line">                      <span class="keyword">FROM</span> t_hold_assets tha</span><br><span class="line">                      <span class="keyword">left</span> <span class="keyword">join</span> t_polling_product p</span><br><span class="line">                        <span class="keyword">on</span> tha.c_product_code <span class="operator">=</span> p.c_product_code</span><br><span class="line">                     <span class="keyword">WHERE</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">                       <span class="keyword">and</span> tha.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                       <span class="keyword">and</span> p.c_stock_type_level1 <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                       <span class="keyword">and</span> p.c_stock_type_level2 <span class="operator">=</span> <span class="string">&#x27;01&#x27;</span></span><br><span class="line">                     <span class="keyword">GROUP</span> <span class="keyword">BY</span> tha.project_code) thold</span><br><span class="line">            <span class="keyword">on</span> thold.projectCode <span class="operator">=</span> t.c_project_code</span><br><span class="line">          <span class="keyword">left</span> <span class="keyword">join</span> t_family_project tfp</span><br><span class="line">            <span class="keyword">on</span> tfp.project_code <span class="operator">=</span> t.c_project_code</span><br><span class="line">           <span class="keyword">and</span> tfp.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">         <span class="keyword">where</span> rn <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">           <span class="keyword">AND</span> t.c_fund_account_type <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span> <span class="comment">--åŸºé‡‘è´¦æˆ·</span></span><br><span class="line">           <span class="keyword">AND</span> t.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">select</span> t.c_fund_account_name <span class="keyword">as</span> &quot;fundAccountNo&quot;, <span class="comment">--åŸºé‡‘è´¦å·</span></span><br><span class="line">               tfp.project_code <span class="keyword">as</span> &quot;projectCode&quot;, <span class="comment">--é¡¹ç›®ç¼–å·</span></span><br><span class="line">               tfp.project_name <span class="keyword">as</span> &quot;projectName&quot;, <span class="comment">--é¡¹ç›®åç§°</span></span><br><span class="line">               tfp.project_shortname <span class="keyword">as</span> &quot;projectShortName&quot;, <span class="comment">--é¡¹ç›®ç®€ç§°</span></span><br><span class="line">               <span class="built_in">CAST</span>(<span class="string">&#x27;&#x27;</span> <span class="keyword">as</span> nvarchar2(<span class="number">50</span>)) <span class="keyword">as</span> &quot;fundName&quot;, <span class="comment">--åŸºé‡‘äº§å“åç§°</span></span><br><span class="line">               <span class="built_in">CAST</span>(<span class="string">&#x27;&#x27;</span> <span class="keyword">as</span> nvarchar2(<span class="number">50</span>)) <span class="keyword">as</span> &quot;fundCode&quot;, <span class="comment">--åŸºé‡‘äº§å“ä»£ç </span></span><br><span class="line">               nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="keyword">as</span> &quot;subsisAssetsShare&quot;, <span class="comment">--ä»½é¢ï¼ˆå®¶æ—ï¼‰</span></span><br><span class="line">               to_char(thold.updateDate, <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> &quot;updateDate&quot;, <span class="comment">--æ—¥æœŸ</span></span><br><span class="line">               to_number(nvl(<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>)) <span class="keyword">as</span> &quot;currentShare&quot;, <span class="comment">--ä»½é¢ï¼ˆåŸºé‡‘ç½‘ç«™ï¼‰</span></span><br><span class="line">               to_char(<span class="built_in">CAST</span>(<span class="string">&#x27;&#x27;</span> <span class="keyword">as</span> nvarchar2(<span class="number">50</span>)), <span class="string">&#x27;yyyy-MM-dd&#x27;</span>) <span class="keyword">as</span> &quot;dateDate&quot;, <span class="comment">--æ—¥æœŸ</span></span><br><span class="line">               nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span> nvl(<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>) <span class="keyword">as</span> &quot;diffValue&quot;, <span class="comment">--å·®å€¼</span></span><br><span class="line">               <span class="built_in">CAST</span>((<span class="keyword">CASE</span></span><br><span class="line">                      <span class="keyword">WHEN</span> (nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span> nvl(<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>)) <span class="operator">=</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">                       <span class="string">&#x27;1&#x27;</span></span><br><span class="line">                      <span class="keyword">WHEN</span> (nvl(thold.subsistAssetsShare, <span class="number">0</span>) <span class="operator">-</span> nvl(<span class="string">&#x27;&#x27;</span>, <span class="number">0</span>)) <span class="operator">&lt;&gt;</span> <span class="number">0</span> <span class="keyword">THEN</span></span><br><span class="line">                       <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                    <span class="keyword">END</span>) <span class="keyword">as</span> nvarchar2(<span class="number">2</span>)) <span class="keyword">as</span> &quot;identical&quot; <span class="comment">--æ˜¯å¦ä¸€è‡´</span></span><br><span class="line">          <span class="keyword">from</span> t_fund_account t</span><br><span class="line">          <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> (<span class="keyword">SELECT</span> tha.project_code <span class="keyword">as</span> projectCode,</span><br><span class="line">                           <span class="built_in">sum</span>(tha.current_share) <span class="keyword">as</span> subsistAssetsShare, <span class="comment">-- æŒæœ‰ä»½é¢</span></span><br><span class="line">                           <span class="built_in">max</span>(tha.update_time) <span class="keyword">as</span> updateDate</span><br><span class="line">                      <span class="keyword">FROM</span> t_hold_assets tha</span><br><span class="line">                      <span class="keyword">left</span> <span class="keyword">join</span> t_polling_product p</span><br><span class="line">                        <span class="keyword">on</span> tha.c_product_code <span class="operator">=</span> p.c_product_code</span><br><span class="line">                     <span class="keyword">WHERE</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">                       <span class="keyword">and</span> tha.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                       <span class="keyword">and</span> p.c_stock_type_level1 <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">                       <span class="keyword">and</span> p.c_stock_type_level2 <span class="operator">=</span> <span class="string">&#x27;01&#x27;</span></span><br><span class="line">                     <span class="keyword">GROUP</span> <span class="keyword">BY</span> tha.project_code) thold</span><br><span class="line">            <span class="keyword">on</span> thold.projectCode <span class="operator">=</span> t.c_project_code</span><br><span class="line">          <span class="keyword">left</span> <span class="keyword">join</span> t_family_project tfp</span><br><span class="line">            <span class="keyword">on</span> t.c_project_code <span class="operator">=</span> tfp.project_code</span><br><span class="line">           <span class="keyword">and</span> tfp.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line">         <span class="keyword">where</span> t.c_fund_account_name <span class="keyword">not</span> <span class="keyword">in</span></span><br><span class="line">               (<span class="keyword">select</span> td.c_fund_account_no <span class="keyword">from</span> td_fund_holding_share td)</span><br><span class="line">           <span class="keyword">and</span> t.c_fund_account_type <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line">           <span class="keyword">and</span> t.delete_flag <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>) a</span><br><span class="line"> <span class="keyword">order</span> <span class="keyword">by</span> a.&quot;diffValue&quot; <span class="keyword">desc</span>, a.&quot;projectCode&quot; <span class="keyword">desc</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢sqlå…·ä½“æ„æ€æ˜¯ï¼šæŸ¥è¯¢å‡ºåŸºé‡‘ä¿¡æ¯ï¼ŒAå’ŒåŸºé‡‘å¯¹æ¯”å…ˆæŸ¥è¯¢å…¶ä¸­æœ‰çš„æ•°æ®ï¼Œå†union all Aæœ‰åŸºé‡‘æ²¡æœ‰çš„æ•°æ®ï¼Œä¸€èµ·å–ä¸ªå¹¶é›†ã€‚OKï¼Œéœ€æ±‚å®Œæˆ<br>å“ˆå“ˆå“ˆå“ˆï¼Œå…¶å®åªè¦ä½ SQLå†™å¾—ç‰›é€¼ï¼Œç„¶åäº†è§£ä¸‹ä¸šåŠ¡æµç¨‹ï¼Œä»€ä¹ˆéƒ½å¥½è¯´å“ˆå“ˆå“ˆ</p></blockquote><blockquote><p>å“¦å¯¹äº†ï¼Œæœ€åå•°å—¦ä¸€å¥ã€‚ å¯¹äºè¿™äº›å¹¶é›†è®¡ç®—ä¹‹åï¼Œéœ€è¦æ’åº åˆ™è¯­æ³•ä¸ºï¼š<br>select t.* from (è¯­å¥1 union all è¯­å¥2)<br>t order by t.id;</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/593399938.jpg" alt="44aba224bc315c60b71173b480b1cb13485477bf.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¿»è¯‘ç¿»è¯‘ï¼Œä»€ä¹ˆå«ä»–å¦ˆçš„æƒŠå–œï¼Ÿ</title>
      <link href="2018/11/09/2018-11-09-what-is-a-surprise/"/>
      <url>2018/11/09/2018-11-09-what-is-a-surprise/</url>
      
        <content type="html"><![CDATA[<p>é»„å››éƒï¼šä¸‰å¤©ä¹‹åï¼Œä¸€å®šç»™å¿é•¿ä¸€ä¸ªæƒŠå–œ </p><p>å¼ éº»å­ï¼šæ±¤å¸ˆçˆ·ï¼Œä»–æ˜¯èƒ¡ä¸‡çš„æ©äººï¼Œç°åœ¨åˆæˆäº†ä½ çš„æ©äººã€‚ä½ ç»™ç¿»è¯‘ç¿»è¯‘ï¼Œä»€ä¹ˆå«æƒŠå–œï¼Ÿç¿»è¯‘ç¿»è¯‘ï¼Œä»€ä¹ˆå«æƒŠå–œï¼Ÿ</p><p>æ±¤å¸ˆçˆ·ï¼šè¿™è¿˜ç”¨ç¿»è¯‘ï¼Œéƒ½è¯´äº†ã€‚</p><p>å¼ éº»å­ï¼šæˆ‘è®©ä½ ç¿»è¯‘ç»™æˆ‘å¬ï¼Œä»€ä¹ˆå«æƒŠå–œï¼Ÿ</p><p>æ±¤å¸ˆçˆ·ï¼šä¸ç”¨ç¿»è¯‘ï¼Œè¿™å°±æ˜¯æƒŠå–œå•Šã€‚</p><p>é»„å››éƒï¼šéš¾é“ä½ å¬ä¸æ‡‚ä»€ä¹ˆå«æƒŠå–œï¼Ÿ</p><p>å¼ éº»å­ï¼šæˆ‘å°±æƒ³è®©ä½ ç¿»è¯‘ç¿»è¯‘ï¼Œä»€ä¹ˆå«æƒŠå–œï¼</p><p>æ±¤å¸ˆçˆ·ï¼šæƒŠå–œå˜›</p><p>å¼ éº»å­ï¼šç¿»è¯‘å‡ºæ¥ç»™æˆ‘å¬ï¼Œä»€ä¹ˆä»–å¦ˆçš„å«æƒŠå–œï¼ä»€ä¹ˆä»–å¦ˆçš„å«ä»–å¦ˆçš„æƒŠå–œï¼</p><p>æ±¤å¸ˆçˆ·ï¼šä»€ä¹ˆä»–å¦ˆçš„å«æƒŠå–œå•Šï¼Ÿ</p><p>é»„å››éƒï¼šæƒŠå–œå°±æ˜¯ä¸‰å¤©ä¹‹åï¼Œæˆ‘å‡ºä¸€ç™¾å…«åä¸‡ç»™ä½ ä»¬å‡ºåŸå‰¿åŒªï¼Œæ¥ä¸Šæˆ‘çš„è…¿ï¼æ˜ç™½äº†å—ï¼Ÿ</p><p>æ±¤å¸ˆçˆ·ï¼šè¿™å°±æ˜¯æƒŠå–œå•Š</p><p>å¼ éº»å­ï¼šç¿»è¯‘ç¿»è¯‘ ç¿»è¯‘ç¿»è¯‘ï¼</p><p>æ±¤å¸ˆçˆ·ï¼šæƒŠå–œå°±æ˜¯ä¸‰å¤©ä¹‹åï¼Œç»™ä½ ä¸€ç™¾å…«åä¸‡ä¸¤é“¶å­å‡ºåŸå‰¿åŒªï¼Œæ¥ä¸Šä»–çš„è…¿ï¼</p><p>å¼ éº»å­ï¼šå“ˆï¼Œå¤§å“¥è¿™ä»–å¦ˆçš„æƒŠå–œå•Šï¼Œå°å¼Ÿæˆ‘æ„¿æ„ç­‰ä½ ä¸‰å¤©</p><p>é»„å››éƒï¼šå¥½</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡åº†å…¬äº¤è½¦å æ±Ÿäº‹ä»¶</title>
      <link href="2018/11/02/2018-11-02-gjiao/"/>
      <url>2018/11/02/2018-11-02-gjiao/</url>
      
        <content type="html"><![CDATA[<p>çœ‹å®Œè§†é¢‘<br>å¿ƒé‡Œéƒ½æ˜¯é¢¤æŠ–çš„ï¼Œä¸€è½¦äººï¼éƒ½æ²¡äº†ï¼ï¼ï¼</p><p>çœ‹åˆ°æœ‰ä¹˜å®¢æ”»å‡»å¸æœºï¼Œå¦‚æœä½ ä»¥ä¸ºäº‹ä¸å…³å·±å¯ä»¥ååœ¨é‚£å„¿çœ‹çƒ­é—¹ï¼Œä¸‹ä¸€ç§’æœ‰å¯èƒ½ä½ ä»¬è¿™äº›çœ‹çƒ­é—¹çš„éƒ½ä¼šæ²¡å‘½ï¼æ‰€ä»¥ï¼Œä¸ºäº†æ‚¨çš„ç”Ÿå‘½å®‰å…¨ï¼Œè¯¥å‡ºæ‰‹æ—¶å¿…é¡»å‡ºæ‰‹ï¼</p><p><strong>æ„¿é€è€…å®‰æ¯ï¼</strong></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘ä»¥ä¸ºä»Šå¤©æ˜¯å‘¨ä¸€</title>
      <link href="2018/10/27/2018-10-27-monday/"/>
      <url>2018/10/27/2018-10-27-monday/</url>
      
        <content type="html"><![CDATA[<p>æ—©ä¸Šèµ·æ¥ï¼Œçœ‹äº†çœ¼æ‰‹æœºæ—¶é—´å¿«8ç‚¹äº†ï¼Œæˆ‘æƒŠäº†ï¼Œå®Œäº†å®Œäº†ï¼Œè¦è¿Ÿåˆ°äº†ã€‚</p><p> ::twemoji:frightened:: </p><p>å¤´æœ‰ç‚¹æ™•æ™•ä¹ä¹è¿˜æ²¡æœ‰é†’è¿‡æ¥ã€‚</p><p>ç­‰æˆ‘å›è¿‡ç¥æ¥ï¼Œçœ‹äº†çœ¼æ˜ŸæœŸï¼Œå‘ç°æ˜¯æ˜ŸæœŸå…­ï¼Œç¬é—´ä¸€ç§å¹¸ç¦æ„Ÿæ²¹ç„¶è€Œç”Ÿã€‚</p><p>å‘ç°ä»Šå¤©æ˜¯æ˜ŸæœŸå…­ï¼ŒçœŸæ»´æ˜¯éå¸¸å¹¸ç¦çš„æ„Ÿè§‰ï¼Œä¸ç”¨èµ·æ—©åºŠï¼Œä¸ç”¨å»ä¸Šç­ï¼Œè½¬è¿‡å¤´æ¥ç»§ç»­å‘¼å‘¼å¤§ç¡</p><p>å¾ˆçŸ¥è¶³ï¼Œå¾ˆå¹¸ç¦</p><p>å“¦å¯¹äº†ï¼Œæ˜¨æ™šå–é†‰é…’äº†ã€‚ã€‚ ::aru:shy:: </p><p>20å¹´ä»½çš„è¥¿å‡¤é…’ï¼Œæ‹›æ¶ä¸ä½ï¼Œå¤ªçŒ›äº†è¿™é…’</p><p> ::aru:dead:: </p><p>ä¸‹æ¬¡ä¸èƒ½è¿™ä¹ˆå–äº†</p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/69593166.jpg" width="550" align=center />]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ ç­å¬äº›æ­Œã€Šå±±æ¥‚æ ‘ã®æ‹ã€‹</title>
      <link href="2018/10/24/2018-10-24-music-04/"/>
      <url>2018/10/24/2018-10-24-music-04/</url>
      
        <content type="html"><![CDATA[<p>è¿‡çš„è‡ªç”±è‡ªåœ¨ ç¾ä¸½ç½®èº«äº‹å¤–</p><p>é™ªä½ èµ°è·¯å›å®¶åœ¨æ¯ä¸ªall day all night</p><p>ä¹Ÿä¸èƒ½æ·±é™·æƒ…æµ· ä¸ºäº†ä½ çš„é‚£ä¸€åŠ</p><p>ç”¨å¤ªå¤šçš„ç²¾åŠ› å› ä¸ºä¸Šå¤©ä»–è‡ªæœ‰ å®‰ æ’</p><p>å±±æ¥‚æ ‘ä¸‹ç«™çš„æˆ‘å’Œä½ </p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1024ï¼Œç¥å¤§å®¶èŠ‚æ—¥å¿«ä¹å“‡ï¼</title>
      <link href="2018/10/24/2018-10-24-happy1024/"/>
      <url>2018/10/24/2018-10-24-happy1024/</url>
      
        <content type="html"><![CDATA[<p>è‰¾ç‘å·´è’‚ï¼Œç¥å¤§å®¶1024èŠ‚æ—¥å¿«ä¹ï¼</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/792015157.jpg" alt="1024"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­˜å‚¨è¿‡ç¨‹ç¼–è¯‘å‡ºç°é”æ­»æƒ…å†µçš„è§£å†³æ–¹æ³•</title>
      <link href="2018/10/23/2018-10-23-procedures-locks/"/>
      <url>2018/10/23/2018-10-23-procedures-locks/</url>
      
        <content type="html"><![CDATA[<h2 id="å­˜å‚¨è¿‡ç¨‹"><a href="#å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹"></a>å­˜å‚¨è¿‡ç¨‹</h2><p>å…ˆç§‘æ™®ä¸€ä¸‹å­˜å‚¨è¿‡ç¨‹ï¼Œåœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹å¯èƒ½ä¼šé‡åˆ°ã€‚</p><blockquote><p>å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯åœ¨å¤§å‹æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œä¸€ç»„ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQL è¯­å¥é›†ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œç»è¿‡ç¬¬ä¸€æ¬¡ç¼–è¯‘åå†æ¬¡è°ƒç”¨ä¸éœ€è¦å†æ¬¡ç¼–è¯‘ï¼Œç”¨æˆ·é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å‡ºå‚æ•°ï¼ˆå¦‚æœè¯¥å­˜å‚¨è¿‡ç¨‹å¸¦æœ‰å‚æ•°ï¼‰æ¥æ‰§è¡Œå®ƒã€‚ å­˜å‚¨è¿‡ç¨‹æ˜¯æ•°æ®åº“ä¸­çš„ä¸€ä¸ªé‡è¦å¯¹è±¡ã€‚</p></blockquote><hr><p>ä»Šå¤©å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¹‹å‰å†™å¥½çš„å­˜å‚¨è¿‡ç¨‹é‡æ–°è¿›è¡Œç¼–è¯‘å‡ºç°<strong>é”æ­»</strong>çš„æƒ…å†µï¼Œäºæ˜¯æˆ‘ç¬é—´ä¸æ·¡å®šäº†ã€‚æ˜æ˜ä¹‹å‰éƒ½å·²ç»å†™å¥½äº†å‘€ï¼</p><p>åœ¨æ•°æ®åº“å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ç¢°åˆ°åŒ…ã€å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°æ— æ³•ç¼–è¯‘æˆ–ç¼–è¯‘æ—¶å¯¼è‡´PL/SQLæ— æ³•å“åº”çš„é—®é¢˜ã€‚ç¢°åˆ°è¿™ç§é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦é‡å¯æ•°æ®åº“è§£å†³ï¼Œä¸¥é‡æµªè´¹å¼€å‘æ—¶é—´ã€‚</p><h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>ä»äº‹æ•°æ®åº“å¼€å‘çš„éƒ½çŸ¥é“é”çš„æ¦‚å¿µï¼Œå¦‚ï¼šæ‰§è¡Œ Update Table xxx Where xxx çš„æ—¶å€™å°±ä¼šäº§ç”Ÿé”ã€‚è¿™ç§å¸¸è§çš„é”åœ¨Oracleé‡Œé¢è¢«ç§°ä¸ºDMLé”ã€‚åœ¨Oracleä¸­è¿˜æœ‰ä¸€ç§DDLé”ï¼Œä¸»è¦ç”¨æ¥ä¿è¯å­˜å‚¨è¿‡ç¨‹ã€è¡¨ç»“æ„ã€è§†å›¾ã€åŒ…ç­‰æ•°æ®åº“å¯¹è±¡çš„å®Œæ•´æ€§ï¼Œè¿™ç§é”çš„ä¿¡æ¯å¯ä»¥åœ¨DBA_DDL_LOCKSä¸­æŸ¥åˆ°ã€‚æ³¨æ„ï¼šV$LOCKED_OBJECTè®°å½•çš„æ˜¯DMLé”ä¿¡æ¯ï¼ŒDDLé”çš„ä¿¡æ¯ä¸åœ¨é‡Œé¢ã€‚</p><p>å¯¹åº”DDLé”çš„æ˜¯DDLè¯­å¥ï¼ŒDDLè¯­å¥å…¨ç§°æ•°æ®å®šä¹‰è¯­å¥ï¼ˆData Define Languageï¼‰ã€‚ç”¨äºå®šä¹‰æ•°æ®çš„ç»“æ„æˆ–Schemaï¼Œå¦‚ï¼šCREATEã€ALTERã€DROPã€TRUNCATEã€COMMENTã€RENAMEã€‚å½“æˆ‘ä»¬åœ¨æ‰§è¡ŒæŸä¸ªå­˜å‚¨è¿‡ç¨‹ã€æˆ–è€…ç¼–è¯‘å®ƒçš„æ—¶å€™Oracleä¼šè‡ªåŠ¨ç»™è¿™ä¸ªå¯¹è±¡åŠ ä¸ŠDDLé”ï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹è¿™ä¸ªå­˜å‚¨è¿‡ç¨‹æ‰€å¼•ç”¨çš„å¯¹è±¡åŠ é”ã€‚<br>äº†è§£äº†ä»¥ä¸ŠçŸ¥è¯†ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼šç¼–è¯‘åŒ…é•¿æ—¶é—´æ— å“åº”è¯´æ˜äº§ç”Ÿäº†æ­»é”ã€‚æˆ‘ä»¬å¯ä»¥è½»æ˜“çš„è®©è¿™ç§æ­»é”å‘ç”Ÿï¼Œä¸¾ä¾‹ï¼š</p><pre><code>æ‰“å¼€ä¸€ä¸ªPL/SQLï¼Œå¼€å§‹è°ƒè¯•æŸä¸ªå‡½æ•°ï¼ˆå‡è®¾ä¸ºï¼šFUN_CORE_SERVICECALLï¼‰ï¼Œå¹¶ä¿æŒåœ¨è°ƒè¯•çŠ¶æ€æ‰“å¼€ä¸€ä¸ªSQL Windowï¼Œè¾“å…¥Select *From dba_ddl_locks aWhere a.name =&#39;FUN_CORE_SERVICECALL&#39;ä¼šå‘ç°ä¸€è¡Œè®°å½•ï¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„PL/SQLï¼Œé‡æ–°ç¼–è¯‘è¿™ä¸ªå‡½æ•°ã€‚æˆ‘ä»¬ä¼šå‘ç°æ­¤æ—¶å·²ç»æ— æ³•å“åº”äº†å›åˆ°ç¬¬ä¸€ä¸ªPL/SQL ,é‡æ–°æ‰§è¡ŒSelect *From dba_ddl_locks aWhere a.name =&#39;FUN_CORE_SERVICECALL&#39;æˆ‘ä»¬å°†ä¼šçœ‹åˆ°å¦‚ä¸‹è®°å½•ï¼š</code></pre><p>ä¸Šè¿°çš„æƒ…å†µè¡¨æ˜å‘ç”Ÿäº†é”ç­‰å¾…çš„æƒ…å†µã€‚</p><p>åœ¨Oracleä¸­DDLé”åˆ†ä¸ºï¼šExclusive DDL Locksï¼ˆæ’ä»–çš„DDLï¼‰ã€Share DDL Locksï¼ˆå…±äº«DDLé”ï¼‰ã€Breakable Parse Locksï¼ˆå¯è¢«æ‰“ç ´çš„è§£æé”ï¼‰å‡ ç±»ã€‚ç¯‡å¹…æ‰€é™ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†ä»‹ç»äº†ã€‚æ ¹æ®è¿™ä¸ªä¾‹å­æ¨ç†ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬è¯•å›¾ç¼–è¯‘ã€ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ã€åŒ…ç­‰å¯¹æ•°æ®å¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœåˆ«äººä¹Ÿæ­£åœ¨ç¼–è¯‘æˆ–ä¿®æ”¹ä»–ä»¬æ—¶å°±ä¼šäº§ç”Ÿé”ç­‰å¾…ï¼›æˆ–è€…æˆ‘ä»¬åœ¨ç¼–è¯‘æŸä¸ªå­˜å‚¨è¿‡ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœå®ƒæ‰€å¼•ç”¨çš„æ•°æ®åº“å¯¹è±¡æ­£åœ¨è¢«ä¿®æ”¹åº”è¯¥ä¹Ÿä¼šäº§ç”Ÿé”ç­‰å¾…ã€‚è¿™ç§å‡è®¾æœ‰å…´è¶£çš„å…„å¼Ÿå¯ä»¥æµ‹è¯•ä¸‹ï¼Œä¸è¿‡æ¯”è¾ƒå›°éš¾ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>ç¢°åˆ°è¿™ç§é—®é¢˜ï¼Œå¦‚æœçŸ¥é“æ˜¯è¢«è°é”å®šäº†ï¼ˆå¯ä»¥æŸ¥å‡ºæ¥çš„ï¼‰ï¼Œå¯ä»¥è®©å¯¹æ–¹å°½å¿«æŠŠé”é‡Šæ”¾æ‰ï¼›å®åœ¨æŸ¥ä¸å‡ºæ¥åªèƒ½æ‰‹å·¥å°†è¿™ä¸ªé”æ€æ‰äº†ã€‚</p><p><strong>æ­»é”æ˜¯æ•°æ®åº“ç»å¸¸å‘ç”Ÿçš„é—®é¢˜ï¼Œæ•°æ®åº“ä¸€èˆ¬ä¸ä¼šæ— ç¼˜æ— æ•…äº§ç”Ÿæ­»é”ï¼Œæ­»é”é€šå¸¸éƒ½æ˜¯ç”±äºæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„è®¾è®¡æœ¬èº«é€ æˆçš„ã€‚</strong></p><p>äº§ç”Ÿæ­»é”æ—¶ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Œä¸‹é¢æ˜¯å¸¸è§„çš„è§£å†³åŠæ³•ï¼ˆåŒºåˆ†æ˜¯å¦çŸ¥é“è°è¢«é”å®šï¼‰ï¼š</p><ul><li>çŸ¥é“æ­»é”å¯¹è±¡</li><li>ä¸çŸ¥é“æ­»é”å¯¹è±¡</li></ul><h3 id="çŸ¥é“æ­»é”å¯¹è±¡"><a href="#çŸ¥é“æ­»é”å¯¹è±¡" class="headerlink" title="çŸ¥é“æ­»é”å¯¹è±¡"></a>çŸ¥é“æ­»é”å¯¹è±¡</h3><p>æ¯”å¦‚æˆ‘æ‰€é‡åˆ°çš„é—®é¢˜ï¼ŒP_REVEAL_REPORT_CLEAR_TIPç¼–è¯‘å“åº”å¤±è´¥ã€‚</p><ul><li>æŸ¥è¯¢V$DB_OBJECT_CACHE</li></ul><pre><code>SELECT * FROM V$DB_OBJECT_CACHE WHERE name=&#39;P_REVEAL_REPORT_CLEAR_TIP&#39; AND LOCKS!=&#39;0&#39;;</code></pre><p><em>æ³¨æ„ï¼šP_REVEAL_REPORT_CLEAR_TIPä¸ºå­˜å‚¨è¿‡ç¨‹çš„åç§°ã€‚å‘ç°locksï¼6ï¼Œè¯´æ˜æœ‰6ä¸ªæ­»é”sid</em></p><ul><li>æŒ‰å¯¹è±¡æŸ¥å‡ºsidçš„å€¼</li></ul><pre><code>select /*+ rule*/  SID from V$ACCESS WHERE object=&#39;P_REVEAL_REPORT_CLEAR_TIP&#39;;</code></pre><p><em>æ³¨æ„ï¼šCRM_LASTCHGINFO_DAYä¸ºå­˜å‚¨è¿‡ç¨‹çš„åç§°ã€‚æŸ¥è¯¢å‡ºå¯¹åº”6ä¸ªçš„sid</em></p><ul><li>æŸ¥sid,serial#</li></ul><pre><code>SELECT SID,SERIAL#,PADDR FROM V$SESSION WHERE SID=&#39;åˆšæ‰æŸ¥åˆ°çš„SID&#39;;</code></pre><ul><li>æ¸…é™¤session</li></ul><pre><code>alter system kill session &#39;sidå€¼,serial#å€¼&#39; immediate;</code></pre><h3 id="ä¸çŸ¥é“æ­»é”å¯¹è±¡"><a href="#ä¸çŸ¥é“æ­»é”å¯¹è±¡" class="headerlink" title="ä¸çŸ¥é“æ­»é”å¯¹è±¡"></a>ä¸çŸ¥é“æ­»é”å¯¹è±¡</h3><ul><li> æ‰§è¡Œä¸‹é¢SQLï¼Œå…ˆæŸ¥çœ‹å“ªäº›è¡¨è¢«é”ä½äº†</li></ul><pre><code>select b.owner,b.object_name,a.session_id,a.locked_mode from v$locked_object a,dba_objects b where b.object_id = a.object_id;</code></pre><ul><li>æŸ¥å¤„å¼•èµ·æ­»é”çš„ä¼šè¯</li></ul><pre><code>select b.username,b.sid,b.serial#,logon_time from v$locked_object a,v$session b where a.session_id = b.sid order by b.logon_time;</code></pre><p><em>è¿™é‡Œä¼šåˆ—å‡ºSID</em></p><ul><li>æŸ¥å‡ºSIDå’ŒSERIAL#</li></ul><pre><code>SELECT SID,SERIAL#,PADDR FROM V$SESSION WHERE SID=&#39;åˆšæ‰æŸ¥åˆ°çš„SID&#39;;</code></pre><p><em>æŸ¥V$SESSIONè§†å›¾ï¼Œè¿™ä¸€æ­¥å°†å¾—åˆ°PADDR</em></p><p>å†æ¬¡æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼Œé”™è¯¯æ²¡æœ‰äº†ã€‚è¯­å¥æ‰§è¡ŒæˆåŠŸï¼</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­˜å‚¨è¿‡ç¨‹å…³äºLOOPå¾ªç¯é—®é¢˜</title>
      <link href="2018/10/17/2018-10-17-procedures-loop/"/>
      <url>2018/10/17/2018-10-17-procedures-loop/</url>
      
        <content type="html"><![CDATA[<h2 id="å­˜å‚¨è¿‡ç¨‹LOOPç–‘é—®"><a href="#å­˜å‚¨è¿‡ç¨‹LOOPç–‘é—®" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹LOOPç–‘é—®"></a>å­˜å‚¨è¿‡ç¨‹LOOPç–‘é—®</h2><hr><p>ä»Šå¤©åœ¨å¼€å‘éœ€æ±‚æ—¶ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œå®ç°æ•°æ®çš„åˆå§‹åŒ–åŠŸèƒ½ã€‚</p><p>å‘ç°é‡åˆ°å¾ªç¯å¤„ç†æ—¶ï¼Œè·³å‡ºå¾ªç¯çš„æ¡ä»¶ï¼ŒLoopçš„å¤„ç†</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">LOOP EXIT WHRN(P1 <span class="operator">&gt;</span> P2);</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">END</span> LOOP;</span><br></pre></td></tr></table></figure><p>emmmmmmï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰æ€ä¹ˆå­¦ä¹ å­˜å‚¨è¿‡ç¨‹ï¼Œåªæ˜¯çœ‹äº†ä¸€ä¸‹å­˜å‚¨è¿‡ç¨‹çš„åŸç†ï¼Œå°±ä¸Šæ‰‹å¼€å‘äº†ï¼ˆæ‰€è°“äº†æ•æ·å¼€å‘å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼‰</p><p>å°±å¼•èµ·æˆ‘çš„ç–‘é—®ï¼šæ˜¯ç›´æ¥è¿›å…¥å¾ªç¯å‘¢ï¼Ÿè¿˜æ˜¯å…ˆåˆ¤æ–­æ¡ä»¶ï¼Ÿ</p><p>æˆ‘ä¸Šç½‘æŸ¥é˜…èµ„æ–™ã€‚ã€‚ã€‚å¥½åƒæ²¡æœ‰æŸ¥é˜…åˆ°é¢</p><p>ä¸è¿‡çœ‹åˆ°æœ‰ä¸€ä¸ªç±»å‹çš„ï¼Œæˆ‘è´´å‡ºæ¥</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">loop</span><br><span class="line">    v_sal :<span class="operator">=</span> v_sal <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line">    dbms_output.put_line(v_sal);</span><br><span class="line">    exit <span class="keyword">when</span> v_sal <span class="operator">=</span> <span class="number">8000</span>;</span><br><span class="line"><span class="keyword">end</span> loop</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç±»æ¯”Javaçš„do-whileå½¢å¼æ˜¯ä¸€æ ·çš„ï¼šå…ˆè¿›å…¥å¾ªç¯ï¼Œæ»¡è¶³æ¡ä»¶äº†è·³å‡ºå¾ªç¯</p><p>æˆ‘å°±çŒœæµ‹</p><p>ç¬¬ä¸€ç§ä¹Ÿæ˜¯è¿™ç§ç±»å‹çš„</p><p>äºæ˜¯æˆ‘å†™äº†ä¸ªæµ‹è¯•ä¾‹å­ï¼Œå­˜å‚¨è¿‡ç¨‹ä»£ç å¦‚ä¸‹ï¼š</p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">OR</span> REPLACE <span class="keyword">PROCEDURE</span> P_TEST(v_res <span class="keyword">OUT</span> NUMBER,</span><br><span class="line">                                   v_errorCode  <span class="keyword">OUT</span> NVARCHAR2,</span><br><span class="line">                                   v_errorMsg   <span class="keyword">OUT</span> NVARCHAR2,</span><br><span class="line">                                   c_startDate  <span class="keyword">IN</span> NVARCHAR2) <span class="keyword">IS</span></span><br><span class="line"></span><br><span class="line">c_firstMonthDay NVARCHAR2(<span class="number">10</span>);     <span class="comment">-- æ‰€åœ¨æœˆçš„ç¬¬ä¸€å¤©</span></span><br><span class="line">c_firstClearDate NVARCHAR2(<span class="number">10</span>);    <span class="comment">-- ç¬¬ä¸€æ¬¡ç”Ÿæˆçš„æŠ«éœ²æ—¥æœŸ</span></span><br><span class="line">c_clearDate NVARCHAR2(<span class="number">10</span>);         <span class="comment">-- æŠ«éœ²æ—¥æœŸ</span></span><br><span class="line">c_N NUMBER(<span class="number">10</span>):<span class="operator">=</span><span class="number">1</span>;                 <span class="comment">-- è®¡ç®—ä½¿ç”¨çš„å€æ•°ï¼Œä»0å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">  <span class="comment">--================================================================================</span></span><br><span class="line">  <span class="comment">-------------------------------ã€æ‰§è¡Œsqlæ–‡ã€‘--------------------------------------</span></span><br><span class="line">  <span class="comment">--================================================================================</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">/* æœŸé—´ç®¡ç†æŠ¥å‘Šæ¸…ç®—æç¤º Start */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">-- å¼€å¯æ—¥å¿—è¾“å‡ºç¼“å†²</span></span><br><span class="line">  DBMS_OUTPUT.ENABLE(buffer_size <span class="operator">=</span><span class="operator">&gt;</span> <span class="keyword">null</span>);</span><br><span class="line">  <span class="comment">-- è·å–å½“æœˆçš„ç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©</span></span><br><span class="line">  <span class="keyword">SELECT</span> to_char(last_day(to_date(substr(c_startDate,<span class="number">0</span>,<span class="number">7</span>)<span class="operator">||</span><span class="string">&#x27;-01&#x27;</span>, <span class="string">&#x27;yyyy-mm-dd&#x27;</span>)), <span class="string">&#x27;yyyy-mm-dd&#x27;</span>) <span class="keyword">INTO</span> c_firstMonthDay <span class="keyword">FROM</span> dual;</span><br><span class="line">  <span class="comment">--SELECT to_char(to_date(substr(c_startDate,0,7)||&#x27;-01&#x27;, &#x27;yyyy-mm-dd&#x27;), &#x27;yyyy-mm-dd&#x27;) INTO c_lastMonthDay FROM dual;</span></span><br><span class="line">  c_N :<span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">-- ç”Ÿæˆç¬¬ä¸€æ¬¡æç¤ºæ—¥æœŸ</span></span><br><span class="line">   <span class="keyword">SELECT</span> <span class="built_in">extract</span>(<span class="keyword">YEAR</span> <span class="keyword">FROM</span> to_date(c_startDate, <span class="string">&#x27;yyyy-mm-dd&#x27;</span>))<span class="operator">||</span><span class="string">&#x27;-&#x27;</span><span class="operator">||</span><span class="string">&#x27;01&#x27;</span><span class="operator">||</span><span class="string">&#x27;-&#x27;</span><span class="operator">||</span><span class="string">&#x27;01&#x27;</span></span><br><span class="line">         <span class="keyword">INTO</span> c_firstClearDate <span class="keyword">FROM</span> dual;</span><br><span class="line">   c_clearDate :<span class="operator">=</span> c_firstClearDate;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">-- æŠ«éœ²æ—¥æœŸå°äºç³»ç»Ÿæ—¥æœŸç”ŸæˆæœŸé—´ç®¡ç†æŠ¥å‘Šæ¸…ç®—æç¤º</span></span><br><span class="line">   LOOP EXIT <span class="keyword">WHEN</span> (c_clearDate <span class="operator">&gt;</span> c_startDate);</span><br><span class="line">        <span class="comment">-- ç›´æ¥ç”Ÿæˆæ”¶ç›Šåˆ†é…æç¤º</span></span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;æŠ«éœ²æ—¥æœŸä¸ºï¼š&#x27;</span> <span class="operator">||</span> c_clearDate);</span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;ä¼ å…¥æ—¥æœŸä¸ºï¼š&#x27;</span> <span class="operator">||</span> c_startDate);</span><br><span class="line">        dbms_output.put_line(<span class="string">&#x27;è¿›å…¥å¾ªç¯ï¼Œè¯´æ˜é¦–æ¬¡è¿›å…¥å¾ªç¯ä¸åšæ¡ä»¶åˆ¤æ–­&#x27;</span>);</span><br><span class="line">        <span class="comment">-- ç”¨ç¬¬ä¸€æ¬¡æç¤ºæ—¥æœŸè®¡ç®—ä¸‹ä¸€æ¬¡çš„æç¤ºæ—¥æœŸ</span></span><br><span class="line">        <span class="keyword">SELECT</span> to_char(add_months(to_date(c_firstClearDate, <span class="string">&#x27;yyyy-mm-dd&#x27;</span>), c_N<span class="operator">*</span><span class="number">12</span>), <span class="string">&#x27;yyyy-MM-&#x27;</span>)<span class="operator">||</span><span class="string">&#x27;01&#x27;</span> <span class="keyword">INTO</span> c_clearDate <span class="keyword">FROM</span> dual;</span><br><span class="line">        c_N :<span class="operator">=</span> c_N <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">END</span> LOOP;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="comment">/* æœŸé—´ç®¡ç†æŠ¥å‘Šæ¸…ç®—æç¤º End */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--è¾“å‡ºæ”¾å›çŠ¶æ€ä¿¡æ¯</span></span><br><span class="line">  v_res       :<span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">  v_errorCode :<span class="operator">=</span> SQLCODE;</span><br><span class="line">  v_errorMsg  :<span class="operator">=</span> <span class="string">&#x27;P_TEST&#x27;</span> <span class="operator">||</span> <span class="string">&#x27;:&#x27;</span> <span class="operator">||</span> TO_CHAR(SQLERRM);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼‚å¸¸å¤„ç†</span></span><br><span class="line">EXCEPTION</span><br><span class="line">  <span class="keyword">WHEN</span> OTHERS <span class="keyword">THEN</span></span><br><span class="line">    <span class="keyword">ROLLBACK</span>;</span><br><span class="line">    v_res       :<span class="operator">=</span> <span class="number">-1</span>;</span><br><span class="line">    v_errorCode :<span class="operator">=</span> SQLCODE;</span><br><span class="line">    v_errorMsg  :<span class="operator">=</span> <span class="string">&#x27;P_TEST&#x27;</span> <span class="operator">||</span> <span class="string">&#x27;:&#x27;</span> <span class="operator">||</span> TO_CHAR(SQLERRM);</span><br><span class="line"><span class="keyword">END</span> P_TEST; </span><br></pre></td></tr></table></figure><p>ç¼–å†™å®Œæˆï¼Œé€šè¿‡æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">  <span class="comment">-- Call the procedure</span></span><br><span class="line">  p_test(v_res <span class="operator">=</span><span class="operator">&gt;</span> :v_res,</span><br><span class="line">         v_errorcode <span class="operator">=</span><span class="operator">&gt;</span> :v_errorcode,</span><br><span class="line">         v_errormsg <span class="operator">=</span><span class="operator">&gt;</span> :v_errormsg,</span><br><span class="line">         c_startdate <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;2018-10-17&#x27;</span>);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡debugæ¨¡å¼ä¸€æ­¥ä¸€æ­¥è§‚å¯Ÿä»£ç æ‰§è¡Œï¼Œ</p><p>æˆ‘æŠŠå­˜å‚¨è¿‡ç¨‹æ‰§è¡Œç»“æœçš„æ—¥å¿—è´´å‡ºæ¥</p><p><img src="https://cdn.jsdelivr.net/gh/niaobulashi/images@main/niaobulashi/2018/2971597046.png" alt="QQæˆªå›¾20181017100342.png"></p><p>é€šè¿‡æ‰“å°çš„æ—¥å¿—ä¹Ÿå¯ä»¥å¾—å‡ºç»“è®ºï¼šå…ˆè¿›å…¥å¾ªç¯ï¼Œå½“æ»¡è¶³æ¡ä»¶ï¼Œè·³å‡ºç»“æŸå¾ªç¯~</p><p>å°±OKçš„å•¦~~~~</p><p> ::aru:shy:: </p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Oracle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›½åº†å¸¦ä½ å›å®¶</title>
      <link href="2018/10/11/2018-10-11-NationalDay/"/>
      <url>2018/10/11/2018-10-11-NationalDay/</url>
      
        <content type="html"><![CDATA[<p>å›½åº†å»äº†å¥³æœ‹å‹å®¶</p><p>æˆ‘ä»¬ä»å¤§ä¸€ç›¸é‡</p><p>ç›¸æ‹å¤§æ¦‚æœ‰5å¹´å¤šäº†</p><p>è¿™æ¬¡ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è¦è§å®¶é•¿äº†</p><hr><p>9æœˆ30å·ï¼Œæˆ‘ä»è¥¿å®‰å‡ºå‘ï¼›ä½ ä»å¹¿å·å‡ºå‘ï¼Œçº¦å®šåœ¨æ­¦æ±‰ã€‚ç¬¬äºŒå¤©æˆ‘9ç‚¹åˆ°ï¼Œä½ 12ç‚¹åˆ°ï¼Œæˆ‘åœ¨æ­¦æ˜Œç«è½¦ç«™ç­‰ä½ ã€‚</p><p>æˆ‘ä»¬éƒ½åœ¨ç«è½¦ä¸Šç¡äº†ä¸€æ™šï¼Œä¹Ÿä¸ç®—è‰°è¾›ï¼Œä¸€è·¯ä¸Šå¯ä»¥æ„Ÿå—åˆ°è¿”ä¹¡çš„æ°”æ°›ã€‚åœ¨æ—©ä¸Š6ç‚¹çš„æ—¶å€™ï¼Œç¡ä¸ç€äº†ï¼Œæœ›ç€çª—å¤–ï¼Œå¯ä»¥çœ‹åˆ°å¤ªé˜³å¿«å‡ºå¤´äº†ï¼Œäººä»¬çº·çº·æœ›å‘è½¦å¢å¤–ï¼Œçœ‹è¿™æ—¥å‡ºï¼šé©¬ä¸Šå°±è¦åˆ°å®¶äº†ï¼</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3141883204.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011193237.jpg"></p><p>äº‘å½©ä¹Ÿå¾ˆæ¼‚äº®</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3803704988.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011193519.jpg"></p><p>å…¶å®å¾ˆç–²æƒ«ï¼Œä¹°çš„ç¡¬åº§ï¼Œåäº†12ä¸ªå°æ—¶ï¼Œæµ‘èº«ä¸Šä¸‹ä¸èˆ’æœã€‚å…¶å®ä½ ä¹Ÿæ˜¯ï¼Œç†¬äº†ä¸€æ™šä¸Šï¼Œè¾›è‹¦äº†</p><p>åœ¨æ­¦æ˜Œç«è½¦ç«™ç»ˆäºç­‰åˆ°äº†ä½ çš„åˆ°æ¥ï¼Œæˆ‘ç¬é—´å°±å›ç¥äº†ï¼Œåœ¨å‡ºç«™å£æœ›çœ¼æ¬²ç©¿çš„çœ‹å‘è¿œå¤„ï¼Œç»ˆäºçœ‹åˆ°ä½ äº†ã€‚</p><hr><p>æˆ‘ä»¬çš„è®¡åˆ’æ˜¯å…ˆå»ä½ å®¶3å¤©ï¼Œå†æ¥æˆ‘å®¶3å¤©</p><p>ç®—æ˜¯åŒæ–¹çš„çˆ¶æ¯éƒ½è§ä¸€è§</p><p>å»ä½ å®¶è§æœªæ¥çš„å²³çˆ¶å²³æ¯å¤§äººï¼Œä¹Ÿå°‘ä¸äº†ä¹°äº›ä¸œè¥¿ï¼Œæ‰“ä¸ªçº¢åŒ…ä»€ä¹ˆçš„ï¼ˆè¿™äº›æˆ‘éƒ½é—®äº†é—®æˆ‘çˆ¸å¦ˆï¼‰</p><p>ç¬¬ä¸€æ¬¡è§å®¶é•¿ï¼Œæ²¡æœ‰ä»€ä¹ˆç´§å¼ æ„Ÿï¼Œè¿˜ç®—æ¯”è¾ƒé¡ºåˆ©ï¼Œä½ çˆ¸å¦ˆä¹Ÿå¯¹æˆ‘æ¯”è¾ƒæ»¡æ„</p><p>ä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©çš„è¿‡å»äº†</p><p>ç„¶åæˆ‘ä»¬ç¬¬ä¸‰å¤©å°±å‡ºå‘æ­¦æ±‰ï¼Œæ¢ä¹˜å»æˆ‘å®¶çš„è½¦äº†</p><p>åœ¨æ­¦æ˜Œå®¢è¿ç«™çœ‹åˆ°äº†è¿™åœºæ™¯ï¼Œå“åˆ°æˆ‘äº†ã€‚ã€‚ã€‚ ::aru:distressed:: </p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1209392477.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011195109.jpg"></p><p>ç»ˆäºèµ¶åˆ°æ™šé¥­çš„æ—¶å€™åˆ°å®¶äº†ï¼Œæˆ‘ä¸å†æ˜¯ä¸€ä¸ªäººå›æ¥ï¼Œæˆ‘ä»¬ä¸¤ä¸ªäººä¸€èµ·å›æ¥çš„ã€‚</p><p>æˆ‘çˆ¸å¦ˆéƒ½å¾ˆå–œæ¬¢ä½ </p><p>æˆ‘å¦ˆå¸¦ç€ä½ å»è¡—ä¸Šä¹°è¡£æœï¼Œä¹°é‡‘ç»™ä½ ãƒ¾(â‰§âˆ‡â‰¦*)ã‚</p><p>æ‰“æ‰®æ¼‚æ¼‚äº®äº®çš„</p><p>è¿™ä¸ªå›½åº†è¿‡å¾—å¾ˆå¹¸ç¦ï¼Œå› ä¸ºæœ‰ä½ ï¼Œè¿˜æœ‰çˆ¸çˆ¸å¦ˆå¦ˆèº«ä½“å¥å¥åº·åº·ï¼Œå¾ˆçŸ¥è¶³è¿™äº›ï¼</p><hr><p>æœ€åæˆ‘å®¶è¿˜æ·»äº†ä¸€åªçŒ«ï¼Œåå­—å«ä¸¢ä¸¢ï¼ˆè¢«åˆ«äººä¸¢å¼ƒçš„çŒ«å’ªï¼‰ï¼Œå“ˆå“ˆå“ˆï¼Œå¾ˆä¹–ï¼Œå¾ˆä½›æ€§ï¼Œå¯¹äºå‘¨è¾¹å‘ç”Ÿäº†å•¥ä¸€ç‚¹å…´è¶£æ²¡æœ‰ï¼Œå”¯ä¸€æ„Ÿå…´è¶£çš„å°±æ˜¯ç¡è§‰ï¼Œæˆ‘åœ¨ä»–æ—è¾¹ï¼Œåƒé¦™å–·å–·çš„é¥ºå­ï¼Œä¸¢ä¸¢ä¸ä¸ºæ‰€åŠ¨ï¼Œè¿˜æ˜¯ç¡ä»–çš„è§‰</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/4274790148.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011200108.jpg"></p><p>çœ‹ç€ä¸¢ä¸¢ç¡å¾—å¥½é¦™å‘€<br>ç«¯æ­£çš„åç€ï¼Œå¥½å¯çˆ±å‘€</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1294846983.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011200256.jpg"></p><p>æœ‰æ—¶å€™æ™’å¤ªé˜³ï¼Œè¿™æ ·åç€é¡ºæ¯›ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œè¢«æˆ‘æ‹åˆ°äº†</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1403205395.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011200407.jpg"></p><p>åŠ¨ä½œæ˜¯çœŸçš„é”€é­‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2296090286.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20181011200410.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ ç­å¬äº›æ­Œã€ŠWay Back Homeã€‹</title>
      <link href="2018/09/19/2018-09-19-music-03/"/>
      <url>2018/09/19/2018-09-19-music-03/</url>
      
        <content type="html"><![CDATA[<p>é«˜çº§çš„ä½œæ›²ï¼Œé«˜çº§çš„ç¼–æ›²ï¼Œé«˜çº§çš„ä½œè¯ï¼Œå†åŠ ä¸Šé«˜çº§çš„æ­Œæ‰‹å’Œé«˜çº§çš„æ¼”å”±ï¼Œæˆ‘è®¤ä¸ºå®Œç¾</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ ç­å¬äº›æ­Œ-ã€Šæ—¥è½å¤§é“ã€‹</title>
      <link href="2018/09/18/2018-09-18-music-02/"/>
      <url>2018/09/18/2018-09-18-music-02/</url>
      
        <content type="html"><![CDATA[<p>è¿™é¦–æ­Œç»™äººçš„æ„Ÿè§‰ï¼Œå¾ˆå®‰é™ï¼Œå¿ƒé‡Œä¸æµ®èº<br>æ—¥è½å¤§é“ï¼Œåƒå®Œé¥­å»å¤–é¢æ•£æ•£æ­¥ï¼Œç„¶åå›æ¥åŠ åŠ ç­<br>å¬å¬æ­Œï¼Œå¤šå¥½</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ ç­å¬äº›æ­Œ-ã€Šé‡è§ä½ çš„æ—¶å€™æ‰€æœ‰æ˜Ÿæ˜Ÿéƒ½è½åˆ°æˆ‘å¤´ä¸Šã€‹</title>
      <link href="2018/09/17/2018-09-17-music-01/"/>
      <url>2018/09/17/2018-09-17-music-01/</url>
      
        <content type="html"><![CDATA[<p>åŠ ç­çš„æ—¶å€™ï¼Œçªç„¶å¬åˆ°è¿™é¦–æ­Œï¼Œç¬é—´æ„Ÿè§‰å‹åŠ›ä»€ä¹ˆçš„éƒ½æ²¡äº†ï¼Œå¥½è½»æ¾å•Šã€‚<br>ä¹‹å‰ä¹Ÿçœ‹è¿‡ã€Šä½•ä»¥ç¬™ç®«é»˜ã€‹ï¼Œä¼šæƒ³åˆ°ä¹‹å‰çš„ç”Ÿæ´»ï¼Œé‚£æ‰å«ç”Ÿæ´»å‘€</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ƒå¤•çš„æˆ‘åœ¨åŠ ç­</title>
      <link href="2018/08/17/2018-08-17-qixi/"/>
      <url>2018/08/17/2018-08-17-qixi/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ä¸ƒå¤•</p><p>æ„¿å¤©ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±</p><p>æ„¿è¿˜æ˜¯å•èº«çš„ä½ æ—©æ—¥æ‰¾åˆ°å¦ä¸€åŠ</p><p>æ„¿è¿˜åœ¨åŠ ç­çš„æˆ‘äº‹ä¸šè’¸è’¸æ—¥ä¸Š</p><p> ::aru:crying:: </p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3234074750.jpg" alt="11"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½ä¹…ä¸è§ï¼Œæœ€è¿‘å¿™èµ·æ¥äº†</title>
      <link href="2018/08/15/2018-08-15-toobusyday/"/>
      <url>2018/08/15/2018-08-15-toobusyday/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>å‘ä¸ªåŠ¨æ€è¯æ˜æˆ‘çš„åšå®¢è¿˜æ²¡æœ‰æŒ‚</strong> ::aru:cryingface:: </p></blockquote><blockquote><p><strong>åªä¸è¿‡æ˜¯æœ€è¿‘çœŸçš„å¾ˆå¿™è€Œå·²ï¼Œå·¥ä½œå¿™ï¼Œç©æ¸¸æˆä¹Ÿå¿™ï¼ˆçš®ï¼‰</strong></p></blockquote><ul><li>å‘¨ä¸€åˆ°å‘¨äº”ï¼Œæ¯å¤©æ™šä¸ŠåŠ ç­åˆ°10ç‚¹å¤šï¼Œæœ‰ç‚¹åŒæ¶åŠ ç­äº†</li><li>ä¸Šå‘¨ä¸‰ï¼Œã€Šæ€ªç‰©çŒäººä¸–ç•Œã€‹PCç‰ˆå‘å”®ï¼Œæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ—¶é—´å°±ä¹°äº†</li></ul><blockquote><p>äºæ˜¯æˆ‘ï¼Œæ²‰è¿·æ¸¸æˆï¼Œæ— æ³•è‡ªæ‹”äº†</p></blockquote><p> ::aru:shy2:: </p><blockquote><p>ä¸Šä¸€æ¬¡æœ‰è¿™ç§æ„Ÿè§‰ï¼Œè¿˜æ˜¯åœ¨å¤§ä¸€ï¼Œåˆšæ¥è§¦è‹±é›„è”ç›Ÿçš„æ—¶å€™ã€‚è¿™ç§å¯¹æ¸¸æˆçš„çƒ­çˆ±çš„æ„Ÿæƒ…ï¼Œå¥½ä¹…æ²¡æœ‰äº†ã€‚</p></blockquote><blockquote><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/741369249.jpg" alt="blob_y4za.jpg"></p></blockquote><blockquote><p>å¯¹äºæ¸¸æˆçš„çƒ­çˆ±è¿˜åœ¨ï¼Œæˆ‘è¿˜å¹´è½»<br>å“¦å¯¹äº†ï¼Œæ¸¸æˆè§£ç¦äº† ::aru:bigeye:: </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤ªç™½å±±+å°šå¢ƒæ¸©æ³‰+å¤ªç™½å±±æ¼‚æµä¸¤æ—¥æ¸¸é¢„å‘Š</title>
      <link href="2018/07/24/2018-07-24-Travel/"/>
      <url>2018/07/24/2018-07-24-Travel/</url>
      
        <content type="html"><![CDATA[<blockquote><p>åˆšæ”¶åˆ°æ¶ˆæ¯ï¼šæœ¬å‘¨å‘¨æœ«ä¸¤å¤©ï¼Œå…¬å¸å°†ä¸¾è¡Œå¹´ä¸­æ—…æ¸¸æ´»åŠ¨ï¼Œå“¦è€¶ï¼Œå¼€å¿ƒ~ ::aru:cheer::<br>æš‚æ—¶å‘Šåˆ«å®…å®…å®…ç”Ÿæ´»(ï½¡â€¢Ë‡â€¸Ë‡â€¢ï½¡)</p></blockquote><p>[hplayer media=â€tencentâ€ id=â€001bnNGN127Kbqâ€ type=â€songâ€ size=â€largeâ€ auto=â€falseâ€ /]</p><p>##è¡Œç¨‹å®‰æ’</p><p><strong>ã€ç¬¬ä¸€å¤©ã€‘è¥¿å®‰  â†’å¤ªç™½å±±</strong><br>D1: æ—©7ï¼š00çœä½“è‚²åœºä¸œé—¨é›†åˆï¼Œ7:20ä¹˜è½¦å‰å¾€5Açº§å›½å®¶æ£®æ—å…¬å›­â€”â€”<a href="https://baike.baidu.com/item/%E5%A4%AA%E7%99%BD%E5%B1%B1%E5%9B%BD%E5%AE%B6%E6%A3%AE%E6%9E%97%E5%85%AC%E5%9B%AD"><strong>å¤ªç™½å±±å›½å®¶æ£®æ—å…¬å›­</strong></a>ï¼Œï¼ˆçº¦2.5å°æ—¶è½¦ç¨‹ï¼‰ï¼ŒæŠµè¾¾å¤ªç™½å±±æ¸¸å®¢æœåŠ¡ä¸­å¿ƒåæ¢ä¹˜å¤ªç™½å±±æ™¯äº¤è½¦ï¼ˆè‡ªç†ï¼‰è¿›å±±ï¼ˆçº¦1.5ä¸ªå°æ—¶è½¦ç¨‹ï¼‰ï¼Œè¿›å…¥ç§¦å²­ä¸»å³°ã€æ²¿é€”å¯ä¹˜è½¦è§‚èµéª†é©¼å±±ã€é¬¼è°·å­æ´ï¼ˆç›¸ä¼ ï¼Œç‹ç¦…è€ç¥–éšèº«ä¿®é“äºæ­¤æ´ï¼‰ã€é“œå¢™é“å£ã€ä¸‹è½¦æµè§ˆè²èŠ±å³°ç€‘å¸ƒï¼Œï¼ˆæ­¤åœ°å››å‘¨çš„ç¾¤å³°å®›å¦‚è²èŠ±çš„èŠ±ç“£ï¼Œè²èŠ±å³°å±…ä¸­è€Œç«‹ï¼Œæ°ä¼¼èŠ±è•Šã€‚ä¸€æ³“ç€‘å¸ƒè‡ªè²èŠ±å³°é—ªç”µé£æ³»è€Œä¸‹ï¼Œé«˜çº¦150ç±³ï¼Œä¼¼ä¸€æ¡ç™½ç»ƒä¸´ç©ºé£èˆï¼Œå±±æ°´ç›¸æ˜ ï¼Œç§€ç¾å£®ä¸½å¦‚ä¸€æ¡å½©è™¹é£æ¶å±±è°·ï¼‰ï¼Œè½¦è§ˆä¸‰å›½å¤æ ˆé“ï¼ˆæ­¤æ ˆé“ä¸ºä¸‰å›½æ—¶æœŸèœ€å›½è°‹å£«æ³•æ­£æ‰€ä¿®å»ºï¼‰ã€å‰‘åŠˆå³°ã€æ³¼å¢¨å±±ã€ä¸‹è½¦æµè§ˆä¸–å¤–æ¡ƒæºï¼ˆæ²¿æºªæµç©¿æ—è€Œä¸Šï¼Œç»•è¿‡å±±æ´è¿›å…¥ä¸€ç‰‡æ ‘æ—ï¼Œè¿™é‡Œå¤æœ¨å‚å¤©ï¼Œé£ç€‘æ¸…æ½­ï¼Œå†œå®¶è‰å±‹ï¼Œå²©å£çŸ³åˆ»ï¼Œå®›å¦‚é™¶æ¸Šæ˜è¯—ä¸­çš„â€œä¸–å¤–æ¡ƒæºâ€ï¼‰çº¢æ¡¦åªï¼ˆæ‚¨å¯ä¹˜ç´¢é“å‚è§‚ï¼Œè´¹ç”¨è‡ªç†ï¼‰åˆ°ç´¢é“ä¸Šç«™ã€è§‚æ¿å¯ºäº‘æµ·ã€å¤ªç™½å†·æ‰ã€å¤ªç™½è½å¶æ¾ã€æ‹œä»™å°ï¼Œå†ä¸Šè¡Œè‡³æµ·æ‹”3511ç±³çš„å¤©åœ†åœ°æ–¹ï¼Œå°½æƒ…é¢†ç•¥ç§¦å²­ä¹‹å·…çš„ç¥å¥‡é£å…‰ï¼Œæ„Ÿå—é•¿æ±Ÿï¼Œé»„æ²³åˆ†æ°´å²­çš„æµ©ç€šã€‚ 16ï¼š00ä¹˜åæ™¯åŒºäº¤é€šè½¦ä¸‹å±±17ï¼š00åˆ°æ¸¸å®¢æœåŠ¡ä¸­å¿ƒï¼Œæ™šå®¿å¤ªç™½å±±å°šå¢ƒæ¸©æ³‰é…’åº—<br>å«ï¼šæ™šå®¿å¤ªç™½å±±å°šå¢ƒæ¸©æ³‰é…’åº—</p><p>ã€ç¬¬äºŒå¤©ã€‘å°šå¢ƒæ¸©æ³‰â†’å¤ªç™½å±±æ¼‚æµ â†’ è¥¿å®‰<br>D2ï¼šæ—©8ï¼š00èµ·åºŠç”¨æ—©é¤ï¼Œ9:30ï¼ˆè‡ªæ„¿ä½“éªŒï¼‰å¤ªç™½å±±å°šå¢ƒæ¸©æ³‰ã€‚å°šå¢ƒæ¸©æ³‰æ°´æ¸©å¸¸å¹´ä¿æŒåœ¨60â„ƒå·¦å³ï¼Œå…·æœ‰å…»ç”Ÿç†å¿µçš„äº”ç§éŸ©å¼æ±—è’¸ç‰¹è‰²æˆ¿ã€å¤ªç™½åäºŒè‰è¯æ±¤æ± ã€äºæ˜¯åº·ã€å¤ªææ± ç­‰ï¼Œæ·±å—å¹´è½»æ¸¸å®¢å–œçˆ±çš„é€ æµªæ± ã€æ¸©æ³‰æ¸¸æ³³æ± ã€æ¸©æ³‰æ¼‚æµæ²³ï¼Œå¦å¤–è¿˜æœ‰æ¸©æ³‰SPAç†ç–—åƒã€æ¸©æ³‰å„¿ç«¥æˆæ°´åŒºã€ä¹è€³é±¼ç–—æ± ç­‰ç‰¹è‰²æ³¡æ± ã€‚ 12:00ç”¨åˆé¤ï¼Œä¹‹åä¹˜è½¦ï¼ˆè‡ªæ„¿å‚åŠ ï¼‰å¤ªç™½å±±æ¼‚æµï¼Œä¸‹è½¦åè‡ªç”±æ´»åŠ¨15åˆ†é’Ÿï¼Œåä¹˜çš®ç­å­æ„Ÿå—é«˜å±±èé›ªåçš„å¤ªç™½å±±æ¼‚æµï¼Œæ¿€çˆ½æ¸…å‡‰ï¼Œæ™¯è‰²ç§€ä¸½ï¼Œæ²¿é€”å¯è§‚çº¯æœ´çš„ç”°å›­é£å…‰ã€åé‡Œç”»å»Šç­‰ï¼Œå®‰å…¨è½»å¿«çš„æ©¡çš®ç­å­é¡ºé£è€Œè¡Œï¼Œè®©æ‚¨åœ¨æƒŠé™©ã€åˆºæ¿€çš„æ¼‚æµè¿‡ç¨‹ä¸­æ”¾æ¾ç°ä»£éƒ½å¸‚é‡Œçš„ç–²æƒ«èº«å¿ƒï¼Œé¢†ç•¥å¤§è‡ªç„¶çš„é­…åŠ›ã€‚ä¹‹åä¹˜è½¦è¿”å›è¥¿å®‰ï¼Œç»“æŸæ‰€æœ‰è¡Œç¨‹ï¼ã€æ¼‚æµä¸é™æ—¶é—´ï¼Œæ—¶é—´ä¸º2-3ä¸ªå°æ—¶ï¼Œæ¼‚åˆ°ä¸‹ç å¤´ä¼šæœ‰è½¦åœ¨æ­¤ç­‰å€™ï¼Œæ‹¿ä¸Šè‡ªå·±çš„è¡£æœå†²æ¾¡åé›†åˆä¸Šè½¦ï¼Œè¿”å›è¥¿å®‰ï¼Œç»“æŸæ„‰å¿«çš„æ¼‚æµä¹‹æ—…ã€‘                                                      å«ï¼šæ—©é¤</p><p>##æœåŠ¡é¡¹ç›®åŠæ ‡å‡†<br>â˜…äº¤  é€šï¼šå¾€è¿”æ­£è§„ç©ºè°ƒæ—…æ¸¸è½¦<br>â˜…é—¨  ç¥¨ï¼š5Açº§å¤ªç™½å±±é¦–é“é—¨ç¥¨<br>â˜…å¯¼  æœï¼šå›½å®¶æ—…æ¸¸å±€é¢å‘çš„æŒè¯å¯¼æ¸¸æœåŠ¡<br>â˜…ä½  å®¿ï¼šå¤ªç™½å±±4æ˜Ÿçº§å°šå¢ƒæ¸©æ³‰é…’åº—æ ‡é—´<br>â˜…ç”¨  é¤ï¼šå…¨ç¨‹ä¸€æ—©é¤<br>â˜…ä¿  é™©ï¼šæ—…è¡Œç¤¾è´£ä»»ä¿é™©</p><p>##è‡ªè´¹å¨±ä¹é¡¹ç›®<br>â˜… å¤§ç´¢é“(å¤©ä¸‹ç´¢é“)å¾€è¿”230å…ƒ/äºº<br>â˜… å¤ªç™½å±±å°šå¢ƒæ¸©æ³‰138å…ƒ/äºº</p><p>##æ³¨æ„äº‹é¡¹</p><ul><li>è¯·æ¸¸å®¢åœ¨æ—…è¡Œä¸­å¦¥å–„ä¿ç®¡å¥½è‡ªå·±çš„è´µé‡ç‰©å“åŠæ³¨æ„äººèº«å®‰å…¨ã€‚  </li><li>é…’åº—æˆ¿é—´å†…æ´—æ¾¡æ—¶æ³¨æ„å®‰å…¨ï¼Œè°¨é˜²æ»‘åˆ°ã€‚</li><li>çˆ¬å±±æ—¶ï¼Œæ¸¸å®¢å¯æ ¹æ®è‡ªèº«æƒ…å†µï¼Œé‡åŠ›è€Œè¡Œã€‚  </li><li>å¤ªç™½å±±æ™¯åŒºæ—©æ™šæ¸©å·®å¤§ï¼Œè¯·å„ä½æ¸¸å®¢æ³¨æ„ä¿æš–ã€‚       </li><li>çˆ¬å±±å¼ºåº¦ä¸å®œè¿‡å¤§ çˆ¬å±±çš„å¼ºåº¦ä¸å®œè¿‡å¤§ï¼Œå¿ƒç‡ä¿æŒåœ¨120ï½140æ¬¡/åˆ†é’Ÿã€‚</li><li>è¿åŠ¨æ—¶è¦æ³¨æ„è¡¥å……æ°´åˆ†ï¼Œåœ¨æ»¡è¶³è§£æ¸´çš„åŸºç¡€ä¸Šå†é€‚å½“å¤šé¥®äº›æ°´ï¼Œæˆ–è€…åœ¨è¿åŠ¨å‰ 10è‡³15åˆ†é’Ÿé¥®æ°´400è‡³600æ¯«å‡ï¼Œè¿™æ ·å°±å¯ä»¥å‡è½»è¿åŠ¨æ—¶çš„ç¼ºæ°´ç¨‹åº¦äº†ã€‚é¥®æ–™åº”é€‰æ‹©å«æœ‰é€‚å½“ç³–åˆ†åŠç”µè§£åº¦ï¼ˆå¹¶æœ€å¥½é€‰æ‹©å«æœ‰ç»´ç”Ÿç´ Cï¼‰çš„ï¼Œä»¥å°½å¿«å‡è½»ç–²åŠ³æ„Ÿï¼Œæ¢å¤ä½“åŠ›ã€‚ </li><li>å…ˆçƒ­èº«ï¼Œåæ”¾æ¾ å¼€å§‹çˆ¬å±±é”»ç‚¼æ—¶ï¼Œåˆ‡ä¸å¯ä¸€ä¸Šæ¥å°±åŠ å¤§è¿åŠ¨é‡ï¼Œè¦å¾ªåºæ¸è¿›ã€‚é€šå¸¸è¦å…ˆåšä¸€äº›ç®€å•çš„çƒ­èº«è¿åŠ¨ï¼Œç„¶åæŒ‰ç…§ä¸€å®šçš„å‘¼å¸é¢‘ç‡ï¼Œé€æ¸åŠ å¤§å¼ºåº¦ï¼Œé¿å…å‘¼å¸é¢‘ç‡åœ¨è¿åŠ¨ä¸­å‘ç”Ÿçª ç„¶å˜åŒ–ã€‚é”»ç‚¼ç»“æŸæ—¶ï¼Œè¦æ”¾æ¾ä¸€ä¸‹ï¼Œè¿™æ ·æ‰èƒ½æ›´å¥½åœ°ä¿æŠ¤è‚Œç¾¤èƒ½åŠ›ï¼Œä½¿è¡€æ¶²ä»è‚¢ä½“å›åˆ°å¿ƒè„ã€‚</li><li>ç»´ç”Ÿç´ â€œçƒ­è¡¥â€ çˆ¬å±±æ—¶ç”±äºèƒ½é‡ä¸å„ç§è¥å…»ç‰©è´¨çš„æ¶ˆè€—éƒ½æ¯”è¾ƒå¤§ï¼Œç»´ç”Ÿç´ çš„ä¾›ç»™ä¸å¯ç¼ºå°‘ï¼Œç‰¹åˆ«åº”æ³¨æ„è¡¥å……é€‚é‡çš„ç»´ç”Ÿç´ Aã€ç»´ç”Ÿç´ BåŠç»´ç”Ÿç´ Dã€‚è¦åšåˆ°è§‚æ™¯ä¸èµ°è·¯ï¼Œèµ°è·¯ä¸è§‚æ™¯ï¼›ç…§ç›¸æ—¶è¦ç‰¹åˆ«æ³¨æ„å®‰å…¨ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ã€‚</li><li>ç”±äºä¸å¯æŠ—åŠ›å› ç´ çš„å½±å“ï¼Œæˆ‘ç¤¾å¯¼æ¸¸å¯åœ¨å¾æ±‚æ¸¸å®¢åŒæ„æƒ…å†µä¸‹ï¼Œåœ¨ä¸å‡å°‘æ™¯ç‚¹çš„æƒ…å†µä¸‹ï¼Œè°ƒæ•´æ™¯ç‚¹æ¸¸è§ˆçš„å…ˆåé¡ºåºã€‚</li><li>æœªæˆå¹´å°å­©å’Œ65å²ä¸Šè€äººå‚åŠ æ—…æ¸¸ï¼Œéœ€è¦æœ‰æˆå¹´ç›´ç³»å®¶å±é™ªåŒã€‚è‹¥æ— é™ªåŒï¼Œéœ€æä¾›ç›´ç³»äº²å±å’Œå®¶é•¿ä¹¦é¢ç­¾å­—åŒæ„å•ç‹¬å‡ºè¡Œçš„è¯æ˜ã€‚</li><li>å›¢é˜Ÿè¡Œç¨‹å®‰æ’ç´§å¼ ï¼Œè¯·æ¸¸å®¢éµå®ˆçº¦å®šæ—¶é—´ã€‚</li><li>å¦‚æ¸¸å®¢æœ‰å†›å®˜è¯ã€æ•™å¸ˆè¯ã€å­¦ç”Ÿè¯ã€è€å¹´è¯ã€å¯¿æ˜Ÿè¯è€…åœ¨å‚è§‚æ™¯ç‚¹ä¹‹å‰ä¸»åŠ¨å‡ºç¤ºï¼Œè‹¥å‡ºç°æŒ‰å›½å®¶è§„å®šæ–½è¡Œä¼˜æƒ ä»·çš„æ™¯ç‚¹ï¼Œä¹™æ–¹å°†æŒ‰æ—…è¡Œç¤¾ä¼˜æƒ ä»·é€€å·®ä»·ï¼Œç”²æ–¹æå‰æœªå£°æ˜å’Œä¸ä¸»åŠ¨å‡ºç¤ºè¯ä»¶çš„ï¼Œä¹™æ–¹ä¸æ‰¿æ‹…è´£ä»»ã€‚ç”²æ–¹è‡ªè¡Œæ”¾å¼ƒçš„ä¹™æ–¹ä¸€å¾‹ä¸é€€ã€‚</li></ul><p><strong>æ—…è¡Œç¤¾éƒ‘é‡æé†’</strong>ï¼šæ¸¸å®¢ä¸å¾—å‚è§‚æˆ–å‚ä¸è¿åæˆ‘å›½æ³•å¾‹ã€æ³•è§„ã€ç¤¾ä¼šå…¬å¾·å’Œæ—…æ¸¸ç›®çš„åœ°çš„ç›¸å…³æ³•å¾‹ã€é£ä¿—ä¹ æƒ¯ã€å®—æ•™ç¦å¿Œçš„é¡¹ç›®æˆ–è€…æ´»åŠ¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7æœˆçš„å‘¨æœ«æ€ä¹ˆè¿‡</title>
      <link href="2018/07/15/2018-07-15-JulyWeeks/"/>
      <url>2018/07/15/2018-07-15-JulyWeeks/</url>
      
        <content type="html"><![CDATA[<blockquote><h3 id="æˆ‘ä½†å‡¡æœ‰ç‚¹æ‰åï¼Œç»ä¸ä¼šé€‰æ‹©ä¸Šç­ï¼Œæƒ³å»è¿½æ±‚è‡ªç”±ï¼"><a href="#æˆ‘ä½†å‡¡æœ‰ç‚¹æ‰åï¼Œç»ä¸ä¼šé€‰æ‹©ä¸Šç­ï¼Œæƒ³å»è¿½æ±‚è‡ªç”±ï¼" class="headerlink" title="æˆ‘ä½†å‡¡æœ‰ç‚¹æ‰åï¼Œç»ä¸ä¼šé€‰æ‹©ä¸Šç­ï¼Œæƒ³å»è¿½æ±‚è‡ªç”±ï¼"></a><strong>æˆ‘ä½†å‡¡æœ‰ç‚¹æ‰åï¼Œç»ä¸ä¼šé€‰æ‹©ä¸Šç­ï¼Œæƒ³å»è¿½æ±‚è‡ªç”±ï¼</strong></h3></blockquote><hr><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7æœˆçš„è¥¿å®‰æŒºçƒ­çš„ï¼Œåº”è¯¥ä¸ä»…ä»…æ˜¯è¥¿å®‰ï¼Œå¾ˆå¤šåœ°æ–¹åº”è¯¥éƒ½æ˜¯å¥½çƒ­çš„å¤©ã€‚æ˜¯çš„ï¼Œå¤å¤©çœŸçš„æ¥äº†ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‘¨ä¸€åˆ°å‘¨äº”å€’æ˜¯æ²¡å•¥æ„Ÿè§‰ï¼ŒååŠå…¬å®¤æ„Ÿå—ä¸åˆ°å¤–é¢çš„ç‡¥çƒ­ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ„Ÿè§‰äº‹ä¸šé‡åˆ°ä¸€ä¸ªç“¶é¢ˆæ—¶æœŸï¼Œæˆ‘ä¸æƒ³å±€é™äºç›®å‰çš„é¡¹ç›®ï¼Œæ•´ä¸ªé¡¹ç›®æ˜¯ç”±dubboæ¡†æ¶æ­å»ºï¼Œå‰ç«¯æ˜¯AngulaJSã€‚å…¥æ‰‹å¾ˆå¿«ï¼Œä½†æ˜¯æ„Ÿè§‰å­¦ä¸åˆ°ä»€ä¹ˆï¼ˆå¯¹ä»¥åæ²¡å•¥ä½œç”¨ï¼‰ï¼Œæ— éåªæ˜¯ä¸€äº›javaç¼–ç¨‹é€»è¾‘ï¼Œæ²¡æœ‰ä»€ä¹ˆæ–°çš„æŠ€æœ¯ã€‚äºæ˜¯å‘¨ä¸€åˆ°å‘¨äº”ä¸‹ç­ä¹‹åï¼Œæˆ‘éƒ½èƒŒç€ç”µè„‘ï¼Œå›åˆ°å®¿èˆã€‚é€›é€›è®ºå›ï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆæ–°çš„çŸ¥è¯†æ˜¯å¦å€¼å¾—å»å­¦ä¹ ï¼Œæˆ–è€…ä¸€äº›æˆ‘è¿˜æ²¡å­¦çš„å†…å®¹ã€‚å­¦ä¼šäº†Redisç¼“å­˜æŠ€æœ¯ï¼Œæˆ‘æƒ³æJavaçš„ï¼Œå¯¹äºRediså’Œmemcachedéƒ½åº”è¯¥å»å­¦ä¹ äº†è§£ä¸€ä¸‹çš„ã€‚ç„¶è€Œè¿™åªæ˜¯å‘¨ä¸€åˆ°å‘¨äº”æ‰æœ‰çš„å¹²åŠ²ã€‚åˆ°äº†å‘¨æœ«ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œå®Œå…¨å°±å›å½’è‡ªæˆ‘äº†ï¼Œä¸æƒ³æå­¦ä¹ ï¼Œåœ¨è±ªåæ€»ç»Ÿå¥—é—´é‡Œå¿«å¿«ä¹ä¹çš„ç©è€ ::aru:shy2:: å®åœ¨æ˜¯æ²¡æœ‰å­¦ä¹ çš„å¿ƒæ€äº†~</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çœ‹äº†ä¸¤å¤©çš„ç”µè§†å‰§ï¼Œè¿™éƒ¨ç”µè§†å‰§è¿˜æ˜¯12å¹´å‰çš„è€ç”µè§†å‰§ï¼Œä½†æ˜¯æ˜¯ç»å¯¹çš„é«˜åˆ†ç¥ä½œï¼ŒéŸ©å›½å®¶åº­å–œå‰§ã€Šæç¬‘ä¸€å®¶äººã€‹ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆï¼Œå°æ—¶å€™çœ‹è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰è¿ç€çœ‹ï¼Œé‚£æ—¶å€™æ²¡çœ‹æ‡‚é‡Œé¢çš„æ¢—ã€‚ã€‚ç°åœ¨æ‹¿å‡ºæ¥çœ‹ï¼ŒçœŸçš„è¶…çº§ç¬‘ç‚¹ï¼ŒæŒºé€‚åˆæˆ‘è¿™ä¸ªæ­»è‚¥å®…å®…åœ¨å®¶é‡Œçœ‹çš„ï¼Œå“¦å¯¹äº†ï¼Œè¿™éƒ¨ç¥å‰§è±†ç“£è¯„åˆ†9.5åˆ†ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3434571045.jpg" alt="a8014c086e061d957b64ad717bf40ad162d9ca5d.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äººç”Ÿå‘ï¼Œæœ€é‡è¦çš„æ˜¯å¼€å¿ƒï¼</p><p>æœ€åè´´ä¸‹åœ¨çº¿è§‚çœ‹çš„åœ°å€ï¼š<a href="https://www.dianyingbar.com/hanju/10984.html">ã€Šæç¬‘ä¸€å®¶äººã€‹</a></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¹–åŒ—ä¸€å¼ å›¾</title>
      <link href="2018/07/13/2018-07-13-HuBei/"/>
      <url>2018/07/13/2018-07-13-HuBei/</url>
      
        <content type="html"><![CDATA[<p>æ¹–åŒ—å„ä¸ªåŒºåŸŸçš„ä»£è¡¨Ï†(ï¿£âˆ‡ï¿£o)</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1088251684.jpg" alt="æ¹–åŒ—é£Ÿè°±å›¾"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¥¿å®‰å‡ºå·®åŠå¹´äº†</title>
      <link href="2018/07/01/2018-07-01-dormitory/"/>
      <url>2018/07/01/2018-07-01-dormitory/</url>
      
        <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åä¸‰æœå¤éƒ½é•¿å®‰!!!<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥è¥¿å®‰å‡ºå·®å·²ç»æœ‰åŠå¹´å¤šäº†ï¼Œä»å»å¹´12æœˆåˆæ¥çš„ï¼Œä»Šå¤©å·²ç»7æœˆ1å·äº†ã€‚æƒ³ä¸€æƒ³ä»Šå¹´è¿‡å¾—å¥½å¿«å•Šã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯´èµ·æ¥å°±å¾ˆæœ‰ç¼˜ï¼Œæœ¬æ¥æˆ‘æ˜¯ä¸éœ€è¦åœ¨è¥¿å®‰å‡ºå·®çš„ï¼Œå¯ä»¥å›æ­¦æ±‰ï¼Œå¯æ˜¯æœ‰ä½åŒäº‹åœ¨é•¿å®‰ä¿¡æ‰˜é¡¹ç›®ç»„æ²¡æœ‰æŒ‰ç…§ç”²æ–¹çš„è¦æ±‚å§éœ€æ±‚å®Œæˆï¼Œæ²¡æœ‰é€šè¿‡ç”²æ–¹çš„åˆæ­¥è®¤åŒï¼Œç¦»å¼€äº†é•¿å®‰ä¿¡æ‰˜é¡¹ç›®ç»„ï¼Œè€Œæˆ‘å°±è¢«ä»£æ›¿è¿›æ¥äº†ã€‚ç›´åˆ°ç°åœ¨ï¼Œä¸€ç›´åœ¨é•¿å®‰ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é•¿å®‰ä¿¡æ‰˜é¡¹ç›®ç»„æ˜¯ä»¥äººæœˆæ¨¡å¼è¿è¡Œçš„é¡¹ç›®ç»„ï¼Œä¸»è¦å¼€å‘ä¿¡æ‰˜ç›¸å…³çš„ä¸šåŠ¡ã€‚å’Œç”²æ–¹çš„åˆä½œä¹Ÿä¸€ç›´åœ¨éœ€æ±‚ä¸€ç§æ›´åŠ ä¾¿æ·ï¼Œå¼€å‘æ›´åŠ é«˜æ•ˆçš„æ–¹å¼ï¼Œä»å¼€å‘éœ€æ±‚åˆ°ä¸Šçº¿è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ•´ä¸ªå‘¨æœŸä¸‹æ¥æ‰€éœ€è¦åšçš„å¼€å‘å’Œæ–‡æ¡£ï¼Œæ­£åœ¨æˆä¸ºä¸€å¥—æ›´åŠ æˆç†Ÿçš„æ¨¡å¼ã€‚ä¸­é€”ä¹Ÿä¸€ç›´åœ¨ç£¨åˆï¼ŒåŒæ–¹éƒ½å¾ˆç†è§£ï¼Œè¿™æ˜¯æœ€éš¾å¾—çš„ã€‚æŒºæ„Ÿè°¢ç”²æ–¹çš„ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2115989291.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701110753.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†è¯´è¯´é•¿å®‰å§ï¼Œå¾…äº†åŠå¹´ï¼Œä¹Ÿæ²¡æœ‰å»è¿‡å¤ªå¤šçš„åœ°æ–¹ã€‚å¤§å®¶çŸ¥é“çš„åå±±å•Šã€å…µé©¬ä¿‘å•Šã€å¤§å”èŠ™è“‰å›­å•Šè¿™ä¹ˆåŠåŠçš„åœ°æ–¹ï¼Œæˆ‘éƒ½æ²¡å»è¿‡å“ˆå“ˆå“ˆå“ˆå“ˆã€‚æˆ‘è¿˜çœŸå¥½æ„æ€å”‰ï¼Œåˆ«äººé—®æˆ‘â€ä½ å»è¥¿å®‰å¤§åŠå¹´äº†ï¼Œå»è¿‡å“ªé‡Œç©è¿‡å“‡ï¼Ÿâ€ï¼Œæˆ‘ã€‚ã€‚ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†…å¿ƒæœ‰è‚¡æƒ³å‡ºå»æ¸¸ç©ï¼Œå‡ºå»æµªçš„å¿ƒï¼Œå¯æ˜¯ä¸€åˆ°å‘¨æœ«ï¼Œå°±æ‡’ä¸‹æ¥äº†ï¼Œéš¾é“æ˜¯æˆ‘è€äº†ï¼Ÿä¸æ„¿å‡ºé—¨å“ˆå“ˆå“ˆå“ˆã€‚è¿™æ—¶å€™æˆ‘å¯ä»¥æ‰¾ä¸ªç†ç”±ï¼šå‘¨ä¸€åˆ°å‘¨å››ï¼Œå¹³å‡æ¯æ™šåŠ ç­åˆ°9ç‚¹ã€‚åŠ ç­æ˜¯çœŸçš„ï¼Œç´¯å¾—ä¸æƒ³å‡ºå»ç©ä¹Ÿæ˜¯çœŸçš„ã€‚å‘¨äº”ä¸åŠ ç­ä¹Ÿæ˜¯çœŸçš„å“ˆå“ˆå“ˆå“ˆå“ˆ~</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3841497012.jpg" alt="heiren.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»å»å¹´å†¬å¤©æ¥åˆ°é•¿å®‰ï¼Œé‡ä¸Šäº†é•¿å®‰çš„å¤§é›ªï¼Œä¸‹ç­ä¹‹åæ–°äººåŒ†åŒ†ï¼Œéƒ½åœ¨èµ¶å¾€å›å®¶çš„è·¯ä¸Šï¼Œè€Œæˆ‘ä»¬å…¨éƒ½èº«å¤„å¼‚ä¹¡ã€‚é‚£ä¹ˆå†·çš„å¤©ï¼Œä¸æ„¿è¿‡å¤šåœç•™ã€‚</p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/152645620.jpg" width="200" hegiht="400" align=center /><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2288278387.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701111422.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¡¹ç›®ç»„æ¯ä¸ªæœˆä¹Ÿéƒ½ä¼šå»èšä¸ªé¤ï¼Œç»™å…„å¼Ÿå‡ ä¸ªåƒå¥½å–è¶³äº†ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3040198560.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701111424.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€å¼€å§‹å¯¹é•¿å®‰çš„é¥®é£Ÿç¡®å®ä¸å¤ªä¹ æƒ¯ï¼Œå¾ˆå¤šåƒçš„éƒ½æ²¡å¬è¯´è¿‡ï¼Œæ¯•ç«Ÿæ˜¯ç¬¬ä¸€æ¬¡æ¥å¤§è¥¿åŒ—ï¼Œä¸‹å›¾æœ‰æ²¡æœ‰çŸ¥é“æ˜¯å•¥çš„ï¼Œåæ­£å½“æ—¶æˆ‘æ˜¯ä¸çŸ¥é“ï¼Œå¤„äºå¥½å¥‡ç‚¹çš„ã€‚åƒèµ·æ¥è¿˜ä¸é”™ï¼Œç”¨å‹ºå­åƒã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2667997810.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701111426.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¥¿å®‰å’¸é˜³æœºåœºï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ™¯è±¡ï¼Œä½†æ˜¯æˆ‘ä¸€èˆ¬éƒ½ä¸å»åƒï¼Œå› ä¸ºæœºåœºçš„ä»·æ ¼éƒ½ä¸ä¾¿å®œå“ˆå“ˆå“ˆå“ˆ</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1043186563.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701124524.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹é•¿å®‰æœ€èµå¹æ˜¯ï¼Œè¿™é‡Œçš„æ™šä¸Šçš„ç¯å…‰æ˜¯çœŸæ»´ç§€ï¼Œå‡¡æ˜¯é«˜æ¥¼å¤§å¦ï¼Œéƒ½æœ‰ç¯å…‰ç¼ ç»•ï¼Œå°†è¥¿å®‰è¿™ä¸ªåœ°æ–¹è£…æ‰®å¾—å¾ˆç‚«é…·ã€‚è¿™æ˜¯æˆ‘ä»¬åŠå…¬çš„å¤§æ¥¼ï¼Œé«˜æ–°å›½é™…å¤§å¦ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2950375027.jpg" width="200" hegiht="400" align=center /></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ ç­ä¸­ï¼Œæ‹æ‹å¤–é¢çš„æ™¯è±¡ï¼Œå¯¹é¢å°±æ˜¯ä¸­å›½äººæ°‘é“¶è¡Œäº†ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3234074750.jpg" width="200" hegiht="400" align=center /></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¥¿å®‰è¿™ä¸ªåœ°æ–¹ï¼Œä»å»å¹´å°±æ…¢æ…¢ç«èµ·æ¥äº†ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œè¥¿å®‰å’ŒæŠ–éŸ³æœ‰ä¸ªä»€ä¹ˆå•†ä¸šåˆä½œï¼ŒæŠ–éŸ³å¯¹äºè¥¿å®‰æœ‰ä¸ªå¾ˆæœ‰æ•ˆçš„æ¨å¹¿ä½œç”¨ã€‚æœ‰ä¸€é¦–æ­Œå«åšã€Šè¥¿å®‰äººçš„æ­Œã€‹ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å’ŒåŒäº‹éª‘ç€è‡ªè¡Œè½¦ï¼Œä¸€èµ·å»è¿‡è¥¿å®‰çš„å¤§åŸå¢™ï¼Œæ°¸å®é—¨ï¼Œæ™šä¸Šï¼Œä¸€è·¯ä¸Šå¾ˆç¾ã€‚åœ¨è·¯è¿‡ä¸€ä¸ªåŸå¢™é—¨å¤–çš„æ¡¥æ—¶ï¼Œæ¡¥ä¸¤è¾¹çš„ç¯å…‰å¾ˆç§€ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3847351029.jpg" alt="a3d658ably1fsu7zfma8mj21kw11xnpi.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ°¸å®é—¨åˆ°äº†ï¼Œåˆšå¥½ç¢°åˆ°äº†ç¯å…‰ç§€ï¼Œä¸‡å®¶ç¯ç«ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1221019901.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701130804.jpg"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2367617899.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701130807.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰ä¸€æ¬¡ä¸€èµ·å»äº†è¶Ÿæ°¸å…´åŠï¼Œå“ªé‡Œå°±æ˜¯æŠ–éŸ³ä¸Šè‘—åçš„æ‘”ç¢—é…’å“ˆå“ˆå“ˆï¼Œäººå¥½å¤šå•Šï¼Œå°±æ²¡æœ‰å»æ’é˜Ÿï¼Œè®°å½•äº†å‡ å¼ ç…§ç‰‡<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2355541669.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131624.jpg"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3519793067.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131629.jpg"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2264423854.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131626.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¶å®æ²¡æœ‰å•¥ï¼Œæ„Ÿè§‰å°±æ˜¯è¢«ç½‘ç»œç»™ç‚’ç«çš„ã€‚å“ˆå“ˆï¼Œæˆ‘ä»¬ä¹Ÿè·Ÿé£ä¸€æŠŠã€‚è¯´èµ·æŠ–éŸ³ï¼ŒåŒäº‹è¶æˆ‘ä¸æ³¨æ„ï¼Œæ‹äº†æˆ‘ä¸ªè§†é¢‘ã€‚æˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢å¬æœ‰èŠ‚å¥æ„Ÿçš„éŸ³ä¹ã€‚å‘¨æœ«å®¿èˆåšäº‹çš„æ—¶å€™ï¼ŒåŒæ—¶æ”¾äº†ä¸€é¦–å½“æ—¶æŠ–éŸ³å¾ˆç«çš„éŸ³ä¹ï¼Œæˆ‘å°±æƒ…ä¸è‡ªç¦çš„æŠ–èµ·æ¥äº†å“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¹ˆç¾çš„é•¿å®‰ï¼Œä¸ºäº†ç•™ä½è¿™é‡Œé£æ™¯ï¼Œç‰¹åœ°ä¹°äº†ä¸ªå•åï¼Œå½“ç„¶æ˜¯å…¥é—¨çº§åˆ«çš„å•¦ï¼Œæ ¹æœ¬ä¸ä¼šç©å•åã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3466786116.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701132322.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸Šä¸€å¼ ç”¨è¿™å°ç©æ„æ‹çš„æ•ˆæœå›¾ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1136660425.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131634.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¨å¤©åœ¨æ¬å®¿èˆï¼Œæˆ¿ä¸œæŠŠæˆ¿å­ç»™å–äº†ã€‚æˆ‘ä»¬å·²ç»æ‰¾åˆ°ä¸‹å®¶äº†ã€‚å«äº†ä¸ªæ¬å®¶å…¬å¸ï¼Œæ˜¨å¤©ä»ä¸­åˆ12ç‚¹å¼€å§‹ï¼ŒæŠŠå¤§å¤§å°å°çš„åŒ…è£¹ï¼Œæ¬åˆ°è½¦ä¸Šï¼Œä¸€èµ·æ‹‰è¿‡å»ã€‚å› ä¸ºæœ‰4ä¸ªé«˜ä½åºŠï¼Œæ¬å®¶çš„ä¸¤ä¸ªå¸ˆå‚…å°†åºŠæ‹†å¸åè£…è¿›è½¦é‡Œï¼Œå…¶ä»–çš„éƒ½æ˜¯æˆ‘ä»¬è‡ªå·±æ¥ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ°äº†ç›®çš„åœ°ï¼Œè¿™è¾¹éƒ½æ˜¯è€æ ¡åŒºï¼Œæœ€é«˜7æ¥¼ï¼Œå¾ˆä¸å¹¸ï¼Œæˆ‘ä»¬ç§Ÿæˆ¿åœ¨7æ¥¼ï¼Œæ²¡æœ‰ç”µæ¢¯ï¼æ²¡æœ‰ç”µæ¢¯ï¼æ²¡æœ‰ç”µæ¢¯ï¼è¦æ­»äº†è¦æ­»äº†ï¼Œ7æ¥¼æ²¡æœ‰ç”µæ¢¯ã€‚æ˜¨å¤©ä¸‹åˆ2ç‚¹å¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬6ä¸ªäººä¸€èµ·å¼€å§‹æ¬äº†ã€‚ä¸¤ä¸ªå¸ˆå‚…è´Ÿè´£å°†4ä¸ªé«˜ä½åºŠä»1æ¥¼æ¬åˆ°7æ¥¼ï¼Œçœ‹äº†å¾ˆè¾›è‹¦ã€‚æˆ‘ä»¬å°±è´Ÿè´£å§è‡ªå·±çš„ä¸œè¥¿æ¬ä¸Šå»ã€‚å¤§åŠå¹´æ²¡æœ‰é”»ç‚¼è¿‡ï¼Œæ¬å®Œä¹‹åï¼Œæ•´ä¸ªäººéƒ½ç´¯ç˜«äº† ::aru:crying:: </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç§Ÿçš„æ˜¯4å®¤2å…ï¼Œé¢ç§¯å¾ˆå¤§ï¼Œè¶³å¤Ÿ7ä¸ªäººä½äº†ã€‚åœ¨æ¬å®¶çš„å‰ä¸€å¤©ï¼Œä¹Ÿå°±æ˜¯å‘¨äº”ä¸‹ç­ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹é€‰æˆ¿é—´ï¼Œä¸ºä»€ä¹ˆè¦é€‰æˆ¿ï¼Ÿå› ä¸ºå…¶ä¸­æœ‰ä¸€ä¸ª<strong>å•é—´</strong></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€šè¿‡å¾®ä¿¡æ‘‡è‰²å­çš„æ–¹å¼ï¼Œè°çš„ç‚¹æ•°æœ€å¤§ï¼Œå°±å¯ä»¥é€‰ä¸­å”¯ä¸€ä¸€é—´å•é—´ã€‚å¾ˆå…¬å¹³å§~ï¼Œç»“æœï¼Œæˆ‘æ‘‡åˆ°6ç‚¹äº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œé€‰ä¸­è¿™ä¸ªå•äººè±ªåæ€»ç»Ÿå¥—é—´ï¼Œå¾ˆå¹¸è¿å“ˆå“ˆå“ˆå“ˆã€‚</p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1617570277.jpg" width="200" hegiht="400" align=center /><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é™„ä¸Šè¿™ä¸ªè±ªåæ€»ç»Ÿæ‹…ä»»å¥—é—´ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/718118524.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131640.jpg"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3962646991.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180701131652.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¨æ™šç¡å¾—å¾ˆé¦™ ::aru:envious:: </p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„é«˜è€ƒè·¯</title>
      <link href="2018/06/29/2018-06-29-highSchool/"/>
      <url>2018/06/29/2018-06-29-highSchool/</url>
      
        <content type="html"><![CDATA[<blockquote><p>é«˜ä¸‰æ²¡æœ‰è€ƒå¥½ï¼Œå¤è¯»è¿›å…¥é«˜å››ã€‚<br>é‚£æ—¶å€™çš„æˆ‘ä»¬éƒ½æ˜¯ä¸ºäº†å…±åŒçš„æ¢¦æƒ³ï¼Œä¸åœçš„å¥‹æ–—ç€ã€‚<br>æœ‰æ„Ÿè€Œç”»çš„æˆ‘çš„é«˜è€ƒè·¯<br>æ—¶é—´å¤§æ¦‚è¿‡å»æœ‰6å¹´å¤šäº†<br>çµæ„Ÿæ¥è‡ªå¾®åšå¤§V:<a href="https://weibo.com/dingyichen">ä¸ä¸€æ™¨DYC</a></p></blockquote><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2089050318.jpg" alt="å­¦ä¹ "><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/309444701.jpg" alt="å¥‹æˆ˜"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1427909201.jpg" alt="å…³çˆ±"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/383991670.jpg" alt="ä¸èˆ"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/991790330.jpg" alt="å‡ºå‘"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3103394158.jpg" alt="å†è§"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹mysqlè‡ªåŠ¨å¤‡ä»½è„šæœ¬</title>
      <link href="2018/06/26/2018-06-26-AutoBackup/"/>
      <url>2018/06/26/2018-06-26-AutoBackup/</url>
      
        <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€›äº†è›®å¤šåšå®¢ç½‘ç«™çš„ï¼Œäº²çœ¼çœ‹åˆ°ä¸€ä¸ªåšå®¢ç½‘ç«™æ•°æ®ä¸¢å¤±ä¹‹åçš„æ¨¡æ ·ï¼ŒæŒºä¸ºä»–å¿ƒç—›çš„ã€‚äºæ˜¯å°±æ‰“ç®—å¼„ä¸ªmysqlå®šæ—¶å¤‡ä»½çš„è„šæœ¬ï¼Œå¯ä»¥è‡ªè¡Œè®¾è®¡crontabå®šæ—¶æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥æ˜¯å‘¨ä¸€å’Œå‘¨å››æ¯å‘¨å¤‡ä»½ä¸¤æ¬¡å°±å¯ä»¥äº†ã€‚<br>##è„šæœ¬<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ–°å»ºä¸€ä¸ªmysql_backup.shæ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#è®¾ç½®mysqlçš„å¤‡ä»½ä¿å­˜ç›®å½•</span></span><br><span class="line">folder=/root/mysql_back</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$folder</span></span><br><span class="line">day=`date +%Y%m%d`</span><br><span class="line">mkdir -p <span class="string">&quot;<span class="variable">$day</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$day</span></span><br><span class="line"><span class="comment">#æ•°æ®åº“æœåŠ¡å™¨ipï¼Œå¡«å†™æœåŠ¡å™¨çš„å…¬ç½‘åœ°å€å³å¯</span></span><br><span class="line">host=xx.xx.xx.xx</span><br><span class="line"><span class="comment">#ç”¨æˆ·å</span></span><br><span class="line">user=root</span><br><span class="line"><span class="comment">#å¯†ç </span></span><br><span class="line">password=password</span><br><span class="line"><span class="comment">#è¦å¤‡ä»½çš„æ•°æ®åº“å</span></span><br><span class="line">db=<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œå¤‡ä»½è¯­å¥</span></span><br><span class="line">mysqldump -h<span class="variable">$host</span> -u<span class="variable">$user</span> -p<span class="variable">$password</span> <span class="variable">$db</span> &gt; ./test.sql</span><br></pre></td></tr></table></figure><hr><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>ä¸Šæ–¹éœ€è¦ä½  <strong>ä¿®æ”¹</strong> å¹¶ä¸” <strong>æ³¨æ„</strong> çš„åœ°æ–¹æœ‰ï¼š</p><ul><li>folderè®¾ç½®çš„ç›®å½•ä½ å¯ä»¥è‡ªè¡Œè®¾ç½®</li><li>day=date +%Y%m%dï¼Œâ€+â€å’Œâ€dateâ€å¿…é¡»æœ‰ä¸ªç©ºæ ¼ï¼Œå¦åˆ™ä¼šæœ‰è¯­æ³•é”™è¯¯</li><li>hostä¸ºä½ çš„æœåŠ¡å™¨å…¬ç½‘IP</li><li>userä¸€èˆ¬éƒ½æ˜¯root</li><li>passwordä¸ºrootçš„å¯†ç </li><li>dbä¸ºåšå®¢çš„æ•°æ®åº“å</li></ul><p>æµ‹è¯•è„šæœ¬æ˜¯å¦æ­£ç¡®ï¼Œæ‰§è¡Œè„šæœ¬</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sh mysql_backup.sh</span><br></pre></td></tr></table></figure><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1464004124.png" alt="QQæˆªå›¾20180626230755.png"></p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2870057410.png" alt="QQæˆªå›¾20180626230835.png"></p><p>å› ä¸ºæˆ‘æ˜¯ä¸ºäº†æµ‹è¯•crontabçš„å®šæ—¶ä»»åŠ¡æ‰§è¡Œæ˜¯å¦æœ‰æ•ˆï¼Œæˆ‘è®¾ç½®çš„æ˜¯1åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œå…¶ä¸­day=`date +%Y%m%d_%H%M%S`ã€‚ï¼ˆä¸ºäº†æ‰§è¡Œæ•ˆæœè€Œæˆªçš„å›¾ï¼Œå¯å¿½ç•¥ï¼‰</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2495043674.png" alt="QQæˆªå›¾20180626231009.png"></p><p>##å®šæ—¶ä»»åŠ¡</p><p>è®¾ç½®å¥½å®šæ—¶ä»»åŠ¡crontabæ‰§è¡Œæ—¶é—´ï¼Œä¸€èˆ¬ESCéƒ½ä¼šè‡ªå¸¦crontabæœåŠ¡çš„ã€‚æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€</p><blockquote><p>service crond status</p></blockquote><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/4180787049.png" alt="QQæˆªå›¾20180626225857.png"></p><p>æœ‰è“è‰²æŒ‡ç¤ºç¯è¯´æ˜æœåŠ¡è¿è¡Œæ­£å¸¸ï¼ŒOKï¼Œå¼€å§‹è®¾ç½®å®šæ—¶ä»»åŠ¡</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure><p>é”®å…¥iï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼š<br>æ•²å…¥ä¸‹åˆ—å‘½ä»¤ï¼šæ¯å‘¨1å’Œå‘¨4å‡Œæ™¨2ç‚¹ä¼šæ‰§è¡Œå®šæ—¶è„šæœ¬</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">0 2 * * 1,4 /etc/profile;/bin/sh /root/mysqlbackup.sh</span><br></pre></td></tr></table></figure><p>é‡å¯crontabæœåŠ¡ä½¿ä¹‹ç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/bin/systemctl restart crond.service</span><br></pre></td></tr></table></figure><p>OKäº†ï¼Œä¹‹åæŸ¥çœ‹å¤‡ä»½çš„æ–‡ä»¶å°±åœ¨ä¸Šé¢è„šæœ¬å®šä¹‰çš„ç›®å½•ä¸ŠæŸ¥çœ‹å³å¯</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /root/mysql_back</span><br></pre></td></tr></table></figure><p>ä¸ºä½ çš„åšå®¢è¿›è¡Œå¤‡ä»½ï¼Œä¸å†ä¸ºæ•°æ®ä¸¢å¤±è€Œçƒ¦æ¼å•¦ã€‚</p><p>æ˜¯ä¸æ˜¯so easyã€‚æœ‰å•¥é—®é¢˜å°½æƒ…ç•™è¨€ï¼Œç§’å›</p><blockquote><p>20180725å‰æ¥æ›´æ–°<br>è¿™æ˜¯éƒ¨ç½²è„šæœ¬ä¹‹åçš„æ‰§è¡Œæ•ˆæœï¼Œæ¯ä¸ªå‘¨ä¸€å’Œå‘¨å››å‡Œæ™¨2ç‚¹æ‰§è¡Œçš„æ•ˆæœå›¾</p></blockquote><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1640153408.png" alt="å¾®ä¿¡æˆªå›¾_20180725140456.png"></p><p>ä¸å†ä¸ºå¿˜è®°å¤‡ä»½æ‹…å¿ƒæ•°æ®ä¸¢å¤±å•¦~</p><p>##æ¨èé˜…è¯»<br><a href="https://www.jianshu.com/p/d93e2b177814">å…³äºå®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼šCrontabçš„20ä¸ªä¾‹å­</a><br><a href="https://www.jb51.net/LINUXjishu/19905.html">Linux crontabå®šæ—¶æ‰§è¡Œä»»åŠ¡ å‘½ä»¤æ ¼å¼ä¸è¯¦ç»†ä¾‹å­</a><br><a href="http://www.runoob.com/linux/linux-comm-crontab.html">Linux crontabå‘½ä»¤</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«¯åˆå‡æœŸÂ·å¹¿å·ä¹‹æ—…</title>
      <link href="2018/06/24/2018-06-24-travelToGD/"/>
      <url>2018/06/24/2018-06-24-travelToGD/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€ç›´æ²¡æœ‰æ—¶é—´å†™ï¼Œç«¯åˆå›æ¥ä¹‹åå°±å¼€å§‹äº†ç´§å¼ çš„å¼€å‘å·¥ä½œï¼Œå› ä¸ºä¸‹ç­éƒ½æ˜¯åˆ°äº†21ç‚¹å¤šäº†ï¼Œå›å»ä¹Ÿæ²¡æœ‰å¤ªå¤šæ—¶é—´æ¥å†™è¿™ç¯‡åšå®¢ï¼Œæ‰€ä»¥ä¸€ç›´æ¨è¿Ÿåˆ°æœ¬å‘¨æœ«ã€‚</p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»6æœˆ15å·ä¸‹åˆ6ç‚¹åŠçš„é£æœºï¼ˆæœ€åæ¨è¿Ÿåˆ°7ç‚¹åŠï¼‰èµ·é£ï¼Œä»è¥¿å®‰å»å¾€å¹¿å·ï¼Œå…¨ç¨‹æœ‰1671.4å…¬é‡Œã€‚æ²¡æœ‰é¢å¤–è¯·å‡ï¼Œå› ä¸ºåœ¨ç”²æ–¹å·¥ä½œï¼Œéœ€æ±‚ä»»åŠ¡ç´§å¼ ä¸æ–¹ä¾¿è¯·å‡ï¼Œæ‰€ä»¥3å¤©æœ‰äº›åŒ†å¿™ï¼Œæ¥å›çš„è·¯ä¸Šéƒ½éœ€è¦èŠ±ä¸Š12ä¸ªå°æ—¶ã€‚ï¼ˆæˆªå›¾æ˜¯åˆšåˆšæˆªçš„ï¼Œæ²¡æœ‰19:30èµ·é£çš„ï¼Œä»…ä½œå‚è€ƒï¼‰<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2110976666.jpg" alt="å¾®ä¿¡æˆªå›¾_20180624093042.jpg"></p><h2 id="æˆ‘æ¥äº†"><a href="#æˆ‘æ¥äº†" class="headerlink" title="æˆ‘æ¥äº†"></a>æˆ‘æ¥äº†</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ„Ÿè§‰ä¸€è·¯ä¸Šéƒ½æ˜¯èµ¶è½¦ï¼Œå…¨ç¨‹çš„è·¯çº¿å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>ä»è¥¿å®‰é«˜æ–°å›½é™…å¤§å¦åšæœºåœºå¤§å·´åˆ°å’¸é˜³æœºåœºï¼Œè·¯é€”è€—æ—¶1å°æ—¶</li><li>é¢„è®¡18:30èµ·é£å»¶è¿Ÿåˆ°19:30ï¼ˆç•™ä¸‹ä¼ç¬”ï¼‰</li><li>æ™šä¸Š22:20è½åœ°è¾¾åˆ°ç™½äº‘æœºåœºï¼Œä¸‹äº†é£æœºä¸€è·¯åœ¨èµ¶</li><li>22:40åä¸Šå€’æ•°å‡ ç­çš„åœ°é“ï¼Œå»å¹¿å·ä¸œåœ°é“ç«™ï¼Œè·¯é€”è€—æ—¶40åˆ†é’Ÿ</li><li>æ˜çŸ¥å·²ç»èµ¶ä¸ä¸Šä»å¹¿å·ä¸œç«™å»å¾€ä¸‹é¢çš„XXå¸‚çš„åŠ¨è½¦ï¼ˆä¹°çš„æœ€æ™šçš„23ç‚¹çš„åŠ¨è½¦ï¼‰èµ¶ä¸ä¸Šäº†ï¼Œå¦‚æœå½“æ—¶åœ¨è¥¿å®‰èµ·é£çš„é£æœºæ²¡æœ‰å»¶è¿Ÿçš„è¯ï¼Œè¿™è¶Ÿè½¦æ˜¯å¯ä»¥åä¸Šçš„ã€‚æ‰€ä»¥å‡¡äº‹éƒ½å¾—è€ƒè™‘å¼‚å¸¸æƒ…å†µã€‚</li><li>åœ¨å»å¾€å¹¿å·ä¸œç«™çš„åœ°é“ä¸Šï¼Œèµ¶ç´§ä»æ»´æ»´ä¸Šä¸‹å•äº†ä¸ªé¡ºé£è½¦ï¼šä»å¹¿å·ä¸œåˆ°XXå¸‚ï¼Œç¥¨ä»·92å…ƒã€‚æˆ‘ä¹°çš„è¿™å¼ ä»å¹¿å·ä¸œç«™åˆ°XXå¸‚çš„åŠ¨è½¦ç¥¨ç”±äºè·ç¦»å‘è½¦æ—¶é—´å°äº30åˆ†é’Ÿäº†ï¼Œä¸èƒ½åœ¨æ‰‹æœºå®¢æˆ·ç«¯è¿›è¡Œé€€ç¥¨ï¼Œåªèƒ½å»äººå·¥çª—å£é€€ç¥¨ï¼Œæˆ‘çŸ¥é“æˆ‘å·²ç»æ²¡æœ‰é‚£ä¹ˆå¤šæ—¶é—´äº†ï¼Œä¹Ÿä¸çŸ¥é“äººå·¥å”®ç¥¨å£ä¸‹ç­äº†æ²¡æœ‰ï¼ˆæˆ‘çŒœæƒ³è‚¯å®šæ˜¯ä¸‹ç­äº†ï¼‰ï¼Œå°±æ²¡æœ‰å»é€€ç¥¨äº†ï¼Œäºæ˜¯è¿™å¼ åŠ¨è½¦ç¥¨54å…ƒæ‰“æ°´æ¼‚äº†ã€‚</li><li>15å·æ™šä¸Šè¾¾åˆ°ä¸´è¿‘å‡Œæ™¨çš„å¹¿å·ï¼Œè¿™æ—¶å€™çš„å¹¿å·å¼‚å¸¸çš„çƒ­ï¼Œæ¯”è¥¿å®‰çƒ­å¤šäº†ï¼Œè·¯ä¸Šå·²ç»å¾ˆå°‘æœ‰è¡Œäººäº†ï¼Œåªæœ‰æ¥æ¥å¾€å¾€çš„è½¦ã€‚æ¯”è¾ƒçƒ­é—¹çš„æ˜¯æ»´æ»´å¸æœºï¼Œéƒ½åœ¨æŠ¢å®¢æºï¼Œå¸ˆå‚…å«æˆ‘ç­‰ä¸€ç­‰ï¼Œè¯´è¿˜æœ‰åˆ«çš„ä¹˜å®¢ï¼Œå› ä¸ºæ˜¯é¡ºé£è½¦ï¼Œå¤šå«ä¸€ä½ä¹˜å®¢å°±å¤šæŒ£ä¸€ä»½é’±ã€‚ä¸æ˜¯æˆ‘è¯´èµ°å°±èµ°çš„ï¼Œäºæ˜¯è®©æˆ‘ç­‰åˆ°å‡Œæ™¨1:30å·¦å³æ‰æ­£å¼å‡ºå‘ã€‚ï¼ˆå¤§å®¶çŸ¥é“æœ€è¿‘æ»´æ»´å‡ºäº†ä¸å°‘äº‹æƒ…ï¼Œéƒ½æ˜¯å¤§æ™šä¸Šçš„å«æ»´æ»´é¡ºé£è½¦å‡ºç°äº†ä¸€äº›æ‚²æƒ¨çš„äº‹ä»¶ï¼Œæˆ‘ä¹Ÿæœ‰äº›æ‹…å¿ƒï¼Œæœ€åç”±äºç–²å€¦ï¼Œæ²¡é‚£ä¹ˆå¤šç²¾åŠ›å¤šè™‘ï¼Œååœ¨ååº§å‘†å‘†çš„æœ›å‘çª—å¤–ï¼Œä¸æ•¢ç¡å»ï¼‰ã€‚</li><li>ä»å¹¿å·ä¸œåˆ°ä¸‹é¢çš„XXå¸‚ï¼Œè·¯é€”å¤§çº¦1ä¸ªåŠå°æ—¶ï¼Œå¤§çº¦3ç‚¹å¤šåˆ°è¾¾ç›®çš„åœ°ã€‚ç»ˆäºç»“æŸäº†ä¸ŠåŠåœºå¥”æ³¢ã€‚</li></ul><hr><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å»å¹¿å·çš„æ—…ç¨‹ä¸Šï¼Œå°±æ˜¯é£æœºå»¶è¿Ÿè®©æˆ‘æ—…é€”ä¸­æŠ˜è…¾çº§åˆ«ç–¯ç‹‚å¢é«˜ç½¢äº†ã€‚å…¶ä»–æ²¡æœ‰å¤ªå¤šå€¼å¾—çºªå¿µçš„äº‹æƒ…ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19:30ç™»è®°ï¼Œé€šè¿‡ç™»æœºè¾“é€é€šé“ï¼Œçœ‹åˆ°ä¸¤ä¾§çš„ç”²æ–¹å…¬å¸çš„å¹¿å‘Šã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/500490731.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180619234513.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç‰¹åœ°é€‰æ‹©çš„é çª—çš„ä½ç½®ï¼Œå¯ä»¥éšæ—¶çœ‹çœ‹çª—å¤–çš„æ™¯è±¡ï¼Œå› ä¸ºè¿™ç§é£æ™¯ä¸æ˜¯éšæ—¶å¯ä»¥ç»å†ï¼Œå½“é£æœºå†²è¿‡äº‘åŸä¹‹åï¼Œä¸€ç‰‡äº‘æµ·æ˜ å…¥çœ¼å¸˜ï¼Œçœ‹ç€å¿ƒæƒ…å¥½å¤šäº†ã€‚<br><a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1161921576.jpg" class="figure nocaption fig-50"></a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3185425325.jpg" class="figure nocaption fig-50"><br></a></a></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç­‰åˆ°é£æœºå¹³ç¨³é£è¡Œåï¼Œå¼€å§‹æ¨ç€è½¦æä¾›æ™šé¤æœåŠ¡ï¼Œæˆ‘è¦äº†é¢æ¡å’Œå’–å•¡ï¼Œå€’æ˜¯å¯ä»¥å¡«å……ä¸‹è‚šå­ã€‚è¿›é£æœºå£æ‹¿äº†ä»½æŠ¥çº¸ï¼Œæƒ³ç€çœ‹çœ‹æŠ¥çº¸ï¼Œå…¶å®æ ¹æœ¬çœ‹ä¸è¿›å»çš„ã€‚æœ‰çš„åªæ˜¯çœ‹çœ‹çª—å¤–ï¼Œçœ¯çœ¼ç›ä¼‘æ¯ï¼Œå¬å¬æ­Œã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2069744389.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180619234608.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸çŸ¥ä¸è§‰å¤©å°±é»‘äº†ä¸‹æ¥ï¼Œå¤§çº¦åˆ°äº†22ç‚¹çš„æ—¶å€™ï¼Œé£æœºå¼€å§‹ä¸‹é™ï¼Œå›åˆ°äº‘å±‚ä¹‹ä¸‹ï¼Œåˆ°äº†å¹¿å·ä¸Šç©ºã€‚å¹¿å·çš„å¤œæ™šï¼Œç¯ç«é€šæ˜ï¼Œä½“ä¼šåˆ°å‘è¾¾åŸå¸‚çš„æ„Ÿè§‰äº†ï¼Œå°½æ˜¯ç¹åã€‚è¡Œè½¦åœ¨é£æœºä¸Šçœ‹æ˜¾å¾—å¾ˆæ…¢å¾ˆæ¸ºå°ï¼Œäººä¹Ÿæ˜¯ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1848260225.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180619234624.jpg"></p><hr><h2 id="ä¸€èµ·"><a href="#ä¸€èµ·" class="headerlink" title="ä¸€èµ·"></a>ä¸€èµ·</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é£æœºè½åœ°ä¹‹åï¼Œèµ¶ç´§é£å¥”åˆ°åœ°é“ç«™ï¼Œåé¢çš„äº‹æƒ…å°±æ²¡å•¥å¥½è®²çš„äº†ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡æœŸçš„ä¸‰å¤©è¿‡å¾—éƒ½å¾ˆå¹³å¸¸ï¼Œæ²¡æœ‰å†åšè¿œç¨‹è½¦å»åˆ«çš„åèƒœé£æ™¯çš„åœ°æ–¹ã€‚ç¬¬ä¸€å› ä¸ºå¤©æ°”å¤ªçƒ­ï¼Œåˆšå¥½ç¢°åˆ°äº†ç«¯åˆçš„ç‚çƒ­å¤æ—¥ã€‚å»é€›äº†ä¸‡ç§‘ç”Ÿæ´»å¹¿åœºï¼Œåœ¨ååˆ›ä¼˜å“æ‹äº†ä¸¤å¼ ç…§ç‰‡å“ˆå“ˆã€‚ä¸ç”¨å¤šè¯´äº†ï¼Œæˆ‘çŸ¥é“æˆ‘æœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹èƒ–å“ˆå“ˆå“ˆã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3311532124.jpg"><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1863920773.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€èµ·å»äº†ç¾æœ¯é¦†å’Œå›¾ä¹¦é¦†ï¼Œå› ä¸ºä»–ä¿©åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ç§°ä¸ºé¦–é€‰å»çš„åœ°æ–¹ã€‚åä¸ªçš„å£«10åˆ†é’Ÿå°±åˆ°äº†ï¼Œå› ä¸ºå¤–é¢ä¼°è®¡æœ‰30Â°Cï¼Œå®åœ¨æ˜¯å¤ªçƒ­äº†ï¼Œä¸æƒ³åœ¨å¤–é¢èµ°ã€‚åˆ°äº†å¼€æ˜ç¾æœ¯é¦†å’Œæ¾å±±æ¹–å›¾ä¹¦é¦†äº†ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2189014022.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180623192414.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å…ˆå»çš„ç¾æœ¯é¦†ï¼Œæƒ³ç€çœ‹å®Œå°±å»å›¾ä¹¦é¦†ååçœ‹çœ‹ä¹¦ä»€ä¹ˆçš„ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¥åˆ°äº†ç¾æœ¯é¦†ï¼Œé¦–å…ˆå°±æ˜¯ä¸€æ¡é•¿å»Šï¼Œä¸¤ä¾§æ˜¯æ”¾ç½®ç¾æœ¯è§‚èµçš„ä¹¦ç”»çš„æˆ¿é—´ã€‚è¯´æ˜ä¸€ä¸‹ï¼šè¿™é‡Œçš„ç”»éƒ½æ˜¯å¯ä»¥æä¾›æ‹ç…§çš„ã€‚æ‹äº†å¾ˆå¤šç…§ç‰‡ï¼Œå°±ä¸ä¸€ä¸€åˆ—å‡ºäº†ã€‚</p><p><a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2271841281.jpg" class="figure nocaption fig-50"></a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2205424559.jpg" class="figure nocaption fig-50"><br></a></a><br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1478099349.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180623192541.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªæˆ¿é—´éƒ½èµ°äº†ä¸€éï¼Œæ„Ÿå—åˆ°è€ä¸€è¾ˆçš„è‰ºæœ¯å®¶ä»¬çš„æ°”åŠ¿ï¼Œæ¯å¹…ç”»éƒ½æ˜¯é‚£ä¹ˆçš„å®ä¼Ÿï¼Œèµå¹ç¥–å›½çš„å¤§å¥½å±±æ°´ã€‚æœ‰æœºä¼šä¸€å®šæ¸¸éå…¨å›½ï¼Œå‡ºå»èµ°èµ°ï¼Œçœ‹çœ‹è¿™ä¸ªä¸–ç•Œï¼Œè¿˜æœ‰å¾ˆå¤šç¾ä¸½çš„åœ°æ–¹ã€‚ä¸æƒ³å±€é™åœ¨ç”»é¢é‡Œï¼Œæƒ³äº²è‡ªå»æ„Ÿå—è¿™ä¸€åˆ‡ã€‚å¸¦ä¸Šä½ ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¹‹åå»äº†éš”å£çš„å›¾ä¹¦é¦†ï¼Œå›¾ä¹¦é¦†æ— é¡»å…¶ä»–æ‰‹ç»­å¯ä»¥ç›´æ¥è¿›å…¥ï¼Œåªè¦ä¸å€Ÿä¹¦ã€‚å›¾ä¹¦é¦†é‡Œé¢ä¹Ÿå¾ˆä¸é”™ï¼Œå”¯ä¸€å°±æ˜¯æ„Ÿè§‰ä½œä¸ºæ¯”è¾ƒå°‘ï¼Œæä¾›çš„è¯»ä¹¦ä½ç½®è¾ƒå°‘ï¼Œä¸åƒå¤§å­¦é‡Œçš„é‚£æ ·ï¼Œæ¯•ç«Ÿæ˜¯åœ°åŒºçš„å›¾ä¹¦é¦†ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…±æœ‰ä¸‰å±‚ï¼Œç¬¬ä¸€å±‚æ²¡å»ï¼Œç›´æ¥ä¸Šäº†ç¬¬äºŒå±‚ï¼Œåˆšå¥½è¿™å¤©æ˜¯çˆ¶äº²èŠ‚å›¾ä¹¦é¦†åœ¨ä¸¾è¡Œä»¥çˆ¶çˆ±ä¸ºä¸»é¢˜çš„æ´»åŠ¨ï¼Œå¯¹å°å­©å­æœ‰æ•™è‚²æ„ä¹‰çš„æ´»åŠ¨ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3387517478.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180624105604.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å»åˆ°ä¸‰æ¥¼ï¼Œæ‰¾åˆ°äº†è®¡ç®—æœºç¼–ç¨‹ç›¸å…³çš„ä¹¦ï¼Œéšä¾¿æ‹¿äº†ä¸€æœ¬javaçš„ä¹¦å“ˆå“ˆå“ˆã€‚</p><p><a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/439504102.jpg" class="figure nocaption fig-50"></a><a data-fancybox="gallery" data-no-instant=""><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/793912574.jpg" class="figure nocaption fig-50"><br></a></a></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç«¯åˆå‡æœŸæœ‰éƒ¨å¾ˆç«çš„ç”µå½±ã€Šä¾ç½—çºªä¸–ç•Œ2ã€‹ï¼Œäºæ˜¯å°±åœ¨å»çœ‹äº†ï¼Œä¹°çš„æ˜¯æ™šä¸Š20ç‚¹å¤šçš„ç¥¨æ¬¡ï¼Œæ™šä¸Šåœ¨å•†åœºç©çš„äººå¾ˆå¤šï¼Œå¾ˆå¤šå°å­©å­åœ¨ç©å°å–·æ³‰ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/130855531.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180624105811.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”µå½±æ˜¯å¥½çœ‹æ²¡å¾—è¯´ï¼ˆå“ˆå“ˆå“ˆï¼Œä¸å¤ªä¼šå†™å½±è¯„ï¼‰ï¼Œå”¯ä¸€å°±æ˜¯è®©æˆ‘æƒ³ä¸é€šçš„æ˜¯ï¼Œåœ¨æ˜Ÿæ˜Ÿå›½é™…å½±åŸçœ‹3Dç”µå½±è¿˜å¾—è‡ªè¡Œæä¾›3Dçœ¼é•œï¼Œæ‰€ä»¥åªèƒ½åœ¨å‰å°ä¹°3Dçœ¼é•œäº†ï¼Œå› ä¸ºæœ¬èº«éƒ½æ˜¯å¸¦äº†çœ¼é•œçš„ï¼Œä¹°çš„æ˜¯çœ¼é•œå¤¹ç‰‡é‚£ç§çš„ã€‚è¿˜æ˜¯ä¸€æ¬¡å»ç”µå½±é™¢çœ‹3Dç”µå½±è¿˜è¦è‡ªå·±å¸¦3Dé•œç‰‡çš„ï¼ŒçœŸçš„æ˜¯æ— è¯­äº†ã€‚ã€‚<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2481743347.jpg" width="200" hegiht="400" align=center /></p><hr><h2 id="å›å»äº†"><a href="#å›å»äº†" class="headerlink" title="å›å»äº†"></a>å›å»äº†</h2><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘åœ¨è¥¿å®‰ï¼Œä½ åœ¨å¹¿å·ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç«¯åˆæœ€åä¸€å¤©ï¼Œè™½ç„¶ä¸èˆï¼Œè¿˜æ˜¯éœ€è¦æš‚æ—¶çš„åˆ«ç¦»ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ™šä¸Š21:30çš„é£æœºå›è¥¿å®‰ï¼Œå¤§æ¦‚23:50çš„æ—¶å€™é£æœºè½åœ°ï¼Œæ­¤æ—¶çš„æœºåœºä¸Šåªåœç•™äº†é›¶é›¶æ•£æ•£çš„é£æœºï¼Œåº”è¯¥æ˜¯æœ€åä¸€ç­è¾¾åˆ°çš„é£æœºå§ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/3093983001.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180624132253.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆšå¥½åœ¨å€™æœºåœºç¢°ä¸Šè€å¤§äº†ï¼Œä¸€èµ·åæœºåœºå¤§å·´å›å®¿èˆå»</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/2620850130.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180624132256.jpg"></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è€å¤§æ˜¯ç«¯åˆå›æ­¦æ±‰çš„ï¼Œå¸¦äº†ä¸¤ç›’å‘¨é»‘é¸­æ¥ï¼Œå¤§æ¦‚æ˜¯å‡Œæ™¨1:30çš„æ—¶å€™è¾¾åˆ°å®¿èˆã€‚å›æ¥è¿™ä¹ˆæ™šäº†ï¼Œéƒ½æ²¡åƒæ™šé¥­ï¼Œæˆ‘ä¿©å°±ä¹°äº†ä¸ªæ³¡é¢å’Œå•¤é…’ï¼Œå’Œç€å‘¨é»‘é¸­åƒï¼Œè¿˜çœ‹ç€ä¸–ç•Œæ¯ï¼Œæ•´ç†ä¸‹æ¥è¿™ä¸ªå‡æœŸè¿˜æ˜¯è¿‡å¾—è›®å……å®çš„ã€‚</p><p><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/1106054802.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20180624132300.jpg"></p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>ä¸‰å¤©æ—¶é—´å…¶å®è¿‡å¾—ä¹ŸæŒºå¿«çš„ï¼Œä¹Ÿæ²¡æœ‰å¤šå»åˆ«çš„åœ°æ–¹ï¼Œåªæ˜¯åœ¨é™„ä»¶ä¸€èµ·èµ°äº†èµ°ã€‚ä»å¤§ä¸€åˆ°ç°åœ¨ï¼Œåº”è¯¥æœ‰å·®ä¸å¤š6å¹´å¤šäº†å§ï¼Œæ„Ÿæƒ…è·¯ä¸Šé‡åˆ°å¾ˆå¤šä¸å¦‚æ„ï¼Œåˆ†åˆ†åˆåˆï¼Œæˆ‘æœ‰å¾ˆå¤šä¸å¥½çš„åœ°æ–¹ï¼Œæˆ‘ä¹Ÿä¸€ç›´åœ¨æ”¹å˜ï¼Œå˜å¾—æ›´å¥½ã€‚å·¥ä½œä¸Šä¹Ÿç»§ç»­åŠªåŠ›ï¼Œè®©æœªæ¥å˜çš„ç”Ÿæ´»å¾—æ›´å¥½ã€‚ä¸€ç›´åšæŒï¼æ˜å¹´ç»™ä¼šä½ ä¸€ä¸ªå¥½å¥½çš„äº¤ä»£ï¼</strong></p></blockquote><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡æœŸæœ€åä¸€å¤©çš„è¡Œç¨‹ä¹Ÿä¸å¤šè¯´ï¼Œæ€»ç»“ä¸€å¥è¯ï¼šå…¨ç¨‹å¥½èµ¶ï¼Œå·®ç‚¹æ²¡èµ¶ä¸Šé£æœºå›ä¸å»äº†ã€‚<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©æˆ‘å¾ˆæ„ŸåŠ¨çš„ä¸€ä»¶äº‹æ˜¯ï¼šå› ä¸ºè·¯ä¸Šæ˜¯çœŸçš„å¾ˆå µï¼Œæ¯”æ­¦æ±‰çš„è¿˜å µï¼Œå·²ç»æå‰å¾ˆä¹…å°±å‡ºå‘äº†ã€‚åœ¨èµ¶å¾€å¸¸å¹³ç«è½¦ç«™çš„è·¯ä¸Šï¼Œå°±å·®æœ€å8åˆ†é’Ÿï¼Œå‰é¢ä¸€ç›´åœ¨å µè½¦ï¼Œæˆ‘ä»¬å°±æå‰ä¸‹äº†çš„å£«ï¼Œå¥¹ä¸€ä¸‹è½¦å°±è®©æˆ‘æŠŠèº«ä»½è¯æ‹¿å‡ºæ¥ï¼Œæˆ‘è¯´æ€ä¹ˆäº†ï¼Œå¥¹è¯´æˆ‘è·‘å»å…ˆæŠŠç¥¨å–å‡ºæ¥ï¼Œè¦æˆ‘ç›´æ¥å»æ’é˜Ÿè¿›ç«™ï¼Œä¸€è·¯ä¸Šæˆ‘åœ¨å¥¹èº«åè·‘ï¼Œæˆ‘å®åœ¨è·‘ä¸åŠ¨äº†ï¼Œå¯æ˜¯å¥¹ä¸€ç›´åœ¨å‰é¢è·‘ï¼Œä»æ²¡åœè¿‡ã€‚æˆ‘åœ¨åé¢çœ‹ç€ä»–å‰é¢ä¸åœå¥”è·‘çš„å£°å½±ï¼Œæ„ŸåŠ¨ï¼</p><hr>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€ æˆå¼€å‘æ•ˆç‡åº•ä¸‹å¹¶ä¸”ä»£ç éš¾ä»¥ç»´æŠ¤çš„ 35 ä¸ªæ¶ä¹ </title>
      <link href="2018/06/23/2018-06-23-badHabit/"/>
      <url>2018/06/23/2018-06-23-badHabit/</url>
      
        <content type="html"><![CDATA[<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¶å°”åœ¨Linkedinè‹±é¢†ä¸Šçœ‹åˆ°é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå…¨æ ˆå·¥ç¨‹å¸ˆ<a href="https://www.linkedin.com/in/christianmm">Christian Maioli</a>æ—©å‰åˆ†äº«çš„åœ¨é¡¹ç›®å¼€å‘ä¸­å¾ˆå¤šäººé‡åˆ°çš„é€šç—…ï¼Œæˆ‘çœ‹äº†è§‰å¾—æ¯”è¾ƒæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹å³å°†æ¯•ä¸šè¿›å…¥å…¬å¸é¡¹ç›®ç»„ã€æˆ–è€…æ­£åœ¨è¿›è¡Œé¡¹ç›®å¼€å‘çš„å°ä¼™ä¼´ï¼Œåº”è¯¥ä¼šæœ‰ç‚¹å¸®åŠ©å§ã€‚</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä¹Ÿç®—æ˜¯æœ‰ä¸¤å¹´å¿«ä¸‰å¹´çš„å·¥ä½œç»éªŒäº†å§ï¼Œä»2015å¹´8æœˆè¿›å…¥å…¬å¸å¼€å§‹å®ä¹ ï¼Œåˆ°16å¹´17æœˆä»½è½¬æ­£ä¸€ç›´åœ¨è¿™å®¶å…¬å¸ï¼Œå‰åæŠ•å…¥å¼€å‘è¿‡6ä¸ªé¡¹ç›®ï¼Œä»é¡¹ç›®å¼€å‘ä¸Šå…»æˆè‰¯å¥½çš„å·¥ä½œä¹ æƒ¯è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼</p><p>##ä»£ç ç®¡ç†<br>1.æ€»æ˜¯è¯´â€œä¸€ä¼šå¼„å¥½â€ï¼Œä½†ä»æ¥ä¸å…‘ç°ã€‚ï¼ˆç¼ºä¹ä»»åŠ¡ç®¡ç†å’Œæ—¶é—´ç®¡ç†èƒ½åŠ›ï¼‰</p><p>2.åšæŒæ‰€è°“çš„é«˜æ•ˆã€ä¼˜é›…çš„â€œä¸€è¡Œä»£ç æµâ€ï¼Œäº‹å®ä¸Šï¼Œå¯è¯»æ€§æ‰æ˜¯æœ€é‡è¦çš„ï¼Œèªæ˜æ˜¯ç¬¬äºŒä½çš„ã€‚</p><p>3.æ— æ„ä¹‰çš„ä¼˜åŒ–ã€‚ï¼ˆç±»ä¼¼ç½‘é¡µå¤§å°ä¹‹ç±»çš„ä¼˜åŒ–æœ€åå†åšï¼‰</p><p>4.ä¸æ³¨é‡ä»£ç æ ·å¼å’Œé£æ ¼çš„ä¸¥è°¨ã€‚</p><p>5.ä½¿ç”¨æ— æ„ä¹‰çš„å‘½åã€‚</p><p>6.å¿½ç•¥ç»è¿‡éªŒè¯çš„æœ€ä½³å®è·µï¼ˆä¾‹å¦‚ä»£ç å®¡æ ¸ã€TDDã€QAã€è‡ªåŠ¨åŒ–éƒ¨ç½²ç­‰ï¼Œæ¨èé˜…è¯»è½¯ä»¶å¼€å‘å¿…è¯»ç»å…¸è‘—ä½œï¼š<a href="https://www.amazon.cn/gp/product/0596808321?tag=24ker09-23">Making Softwareï¼šWhat Really Worksï¼Œand Why We Believe It</a>ï¼‰ã€‚</p><p>7.ç»™è‡ªå·±åŸ‹é›·ã€‚ï¼ˆä¾‹å¦‚ä½¿ç”¨ä¸ä¼šæŠ¥é”™çš„åº“æˆ–è€…å¿½ç•¥ä¾‹å¤–ï¼‰</p><p>##å›¢é˜Ÿå·¥ä½œ<br>8.è¿‡æ—©æ”¾å¼ƒè®¡åˆ’</p><p>9.åšæŒä¸€ä¸ªæ— æ•ˆçš„è®¡åˆ’</p><p>10.æ€»æ˜¯å•æ‰“ç‹¬æ–—ã€‚ï¼ˆå¿…é¡»å¼ºè¿«è‡ªå·±ä¸å›¢é˜Ÿåˆ†äº«è¿›åº¦å’Œæƒ³æ³•ï¼Œé¿å…é”™è§‰ï¼Œæé«˜æ•ˆç‡ï¼‰</p><p>11.æ‹’ç»ä¹¦å†™ç³Ÿç³•çš„ä»£ç ã€‚ï¼ˆæ—¥ç¨‹ç´§è¿«çš„æ—¶å€™å¯ä»¥å†™ä¸€äº›â€œç³Ÿç³•â€çš„ä»£ç ï¼Œè¿™æ˜¯ç¨‹åºå‘˜çš„èƒ½åŠ›è€Œä¸æ˜¯bugï¼Œå½“ç„¶ï¼Œæœ‰æ—¶é—´çš„æ—¶å€™ä¸€å®šè¦å›å¤´å¿è¿˜â€œæŠ€æœ¯å€ºâ€ï¼‰</p><p>12.æŠ±æ€¨ä»–äººã€‚</p><p>13.ä¸ä¸å›¢é˜Ÿåˆ†äº«æ‰€å­¦ã€‚</p><p>14.å‘ä¸»ç®¡/å®¢æˆ·åé¦ˆçš„é€Ÿåº¦è¿‡æ…¢</p><p>15.ä¸ä¼šå……åˆ†åˆ©ç”¨Google</p><p>16.çœ‹é‡ä¸ªäººç¼–ç é£æ ¼</p><p>17.å¸¦ç€ä¸ªäººæƒ…ç»ªçœ‹å¾…ä»–äººå¯¹è‡ªå·±ä»£ç çš„è¯„è®ºå’Œæ³¨é‡Š</p><p>##å†™ä»£ç <br>18.ä¸æ‡‚ä¼˜åŒ–ç­–ç•¥</p><p>19.ä½¿ç”¨é”™è¯¯çš„å·¥å…·ã€‚</p><p>20.ä¸è¿½æ±‚å¯¹å¼€å‘å·¥å…·å’ŒIDEçš„ç²¾ç†Ÿã€‚</p><p>21.å¿½ç•¥æŠ¥é”™æ¶ˆæ¯ã€‚</p><p>22.è¿·æ‹ç§°æ‰‹çš„å¼€å‘å·¥å…·ã€‚ï¼ˆä¸åŒç±»å‹çš„å¼€å‘ä»»åŠ¡éœ€è¦åŒ¹é…å¯¹åº”çš„æœ€ä½³å¼€å‘å·¥å…·ï¼Œä¾‹å¦‚Sublimeé€‚åˆåŠ¨æ€è¯­è¨€ï¼Œè€ŒEclipseé€‚åˆJavaï¼Œå¦‚æœä½ å–œæ¬¢vimæˆ–emacsï¼Œå¹¶ä¸æ„å‘³ç€èƒ½ç”¨è¿™äº›å·¥å…·å¹²æ‰€æœ‰äº‹ï¼‰</p><p>23.ä¸æ³¨é‡ä»£ç ä¸­èµ‹å€¼çš„å¯é…ç½®æ€§ã€‚ï¼ˆä¸å…»æˆæŠŠä»£ç ä¸­çš„æ´»åŠ¨éƒ¨ä»¶åˆ†ç¦»å‡ºæ¥çš„ä¹ æƒ¯ï¼Œä¼šå¯¼è‡´æŠ€æœ¯å€ºæš´å¢ï¼‰</p><p>24.å–œæ¬¢é‡æ–°å‘æ˜è½¦è½®ã€‚</p><p>25.ç›²ç›®åœ°å‰ªåˆ‡/ç²˜è´´ä»£ç ã€‚</p><p>26.åº”ä»˜å·®äº‹ï¼Œä¸æ±‚ç”šè§£ï¼Œä¸èŠ±æ—¶é—´ææ¸…æ¥šé¡¹ç›®è¿ä½œçš„æœºç†ã€‚</p><p>27.å¯¹è‡ªå·±å†™çš„ä»£ç è¿‡åº¦è‡ªä¿¡ã€‚</p><p>28.ä¸å»è€ƒè™‘æ¯ä¸€ä¸ªè®¾è®¡ã€æ–¹æ¡ˆæˆ–è€…ä»£ç åº“çš„â€œå‰¯ä½œç”¨â€ã€‚ï¼ˆä¸€ä¸ªæˆåŠŸçš„ç”¨ä¾‹å¹¶ä¸æ„å‘³ç€â€œä¸‡çµè¯â€ï¼‰</p><p>29.åœ¨ä¸€ä¸ªåœ°æ–¹å¡ä½äº†ä½†åšæŒä¸å‘¼æ•‘ã€‚</p><p>##æµ‹è¯•ä¸ç»´æŠ¤<br>30.åªå»å†™èƒ½é€šè¿‡çš„æµ‹è¯•</p><p>31.é‡è¦é¡¹ç›®ä¸­å¿½ç•¥æ€§èƒ½æµ‹è¯•</p><p>32.ä¸å»æ ¸å®ä»£ç æ˜¯å¦çœŸçš„å¯ç”¨ï¼Œæ²¡æœ‰å…»æˆå¼€å‘ä¸­åŠæ—¶å¿«é€Ÿæµ‹è¯•çš„ä¹ æƒ¯ã€‚</p><p>33.é‡å¤§æ”¹åŠ¨å»¶è¿Ÿæ¨é€</p><p>34.æŠ›å¼ƒå’Œé€ƒé¿è‡ªå·±çš„ä»£ç ã€‚</p><p>35.å¿½ç•¥å…¶ä»–éåŠŸèƒ½æ€§éœ€æ±‚ã€‚ï¼ˆä¾‹å¦‚å®‰å…¨å’Œæ€§èƒ½ï¼Œå‡†å¤‡ä¸€ä»½è¿™æ–¹é¢çš„æ¸…å•ï¼Œå¿½ç•¥è¿™äº›ä¼šæ¯æ‰ä½ çš„æ‰€æœ‰æˆæœï¼‰ã€‚</p><p>åŸæ–‡åœ°å€ï¼š<a href="https://www.linkedin.com/pulse/avoid-35-habits-lead-unmaintainable-code-christian-maioli-mackeprang/">Avoid these 35 habits that lead to unmaintainable code</a></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨å’¸é˜³æœºåœºç­‰å€™ç™»æœºæœ‰æ„Ÿ</title>
      <link href="2018/06/15/2018-06-15-waitForU/"/>
      <url>2018/06/15/2018-06-15-waitForU/</url>
      
        <content type="html"><![CDATA[<p>ç”²æ–¹çš„äº§å“ç»ç†å¾ˆå¥½ï¼Œä¸åƒå¤§å®¶ç†ŸçŸ¥çš„äº§å“ç»ç†é‚£æ ·è¦ä½ æ”¹ç€æ”¹é‚£çš„ã€‚<br>å¤§å®¶ç†ŸçŸ¥çš„äº§å“ç»ç†ä¼°è®¡ç€è¿™æ ·çš„<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/5d1c51360f3f2.jpg" alt="äº§å“ç»ç†è¦ä½ æ”¹éœ€æ±‚1"></p><p>è¿˜æ˜¯è¿™æ ·çš„<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/5d1c51357454e.jpg" alt="äº§å“ç»ç†è¦ä½ æ”¹éœ€æ±‚2"></p><p>æˆ‘ä»¬ç”²æ–¹çŸ¥é“ç«¯åˆèŠ‚ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å‡ºå·®è¿‡æ¥çš„ï¼Œå°±æå‰å‘ŠçŸ¥æˆ‘ä»¬æœ‰å›å»çš„å¯ä»¥æå‰èµ¶é£æœºèµ¶åŠ¨è½¦ï¼Œè¿™è®©æˆ‘ä»¬å¾ˆæ„ŸåŠ¨T-T<br>ä¸´è¿‘3ç‚¹40çš„æ—¶å€™ï¼Œä¸å¾—ä¸è¯´ï¼Œè¿˜æ˜¯ç¬¬ä¸€æ¬¡3ç‚¹åŠå°±ä¸‹ç­<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/5d1c513664689.jpg" width="200" hegiht="400" align=center /></p><p>ä¸‹ç­çš„å¤©ç©ºéƒ½ç¾äº›<br>æˆ‘å’Œå¦ä¸€ä½åŒäº‹å°±å…ˆæ’¤äº†ï¼Œä¹°çš„éƒ½æ˜¯18ç‚¹åŠçš„é£æœºï¼Œä»–å»æ¡‚æ—ï¼Œæˆ‘å»å¹¿å·ã€‚<br>åæœºåœºå¤§å·´é€”ä¸­æ”¶åˆ°çŸ­ä¿¡<br>å‘ŠçŸ¥èˆªç­å»¶è¿Ÿ1å°æ—¶ï¼Œæ¨è¿Ÿåˆ°19ç‚¹åŠï¼Œä¸€ä¸‹å­æ‰“ä¹±äº†æ—¶é—´è®¡åˆ’ï¼Œè¿™ç§æ„Ÿè§‰çœŸçš„å¾ˆæ— å¥ˆã€‚</p><p>ç­‰åˆ°äº†å€™è½¦å®¤ï¼Œç­‰äº†å·®ä¸å¤š40åˆ†é’Ÿåˆè¢«å‘ŠçŸ¥ï¼Œä¸æ˜¯åœ¨27å·ç­‰å€™ï¼Œå¾—å»2æ¥¼11å·ç™»æœºå£ä¸Šé£ã€‚<br>ä¸€è·¯ä¸ŠæŠ˜è…¾å¾—å¾ˆã€‚<br>æœ€ç»ˆä¸€å¤§ç¥¨äººæ¥åˆ°11å·ç™»æœºå£ç™»è®°æ’é˜Ÿ<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/5d1c51367bc86.jpg"></p><p>åäº†è¿™ä¹ˆå¤šæ¬¡é£æœºï¼Œå°±æ„Ÿè§‰æµ·å—èˆªç©ºçš„ä¸å¤Ÿä¸“ä¸šï¼Œæœ‰ä¸€æ¬¡ä¸æ˜¯åœ¨ç™»æœºå£ç›´æ¥ä¸Šé£æœºï¼Œè¿˜éœ€è¦åå¤§å·´å¦å¤–å»é£æœºé‚£ä¸Šæœºç­‰ç­‰äº‹æƒ…ï¼Œå¤ªè®©ä¹˜å®¢æŠ˜è…¾äº†ã€‚</p><p>æ•´è¿‡è¿‡ç¨‹ä½¿ç”¨æ‰‹æœºå†™çš„æ–‡ç« ï¼Œæ„Ÿè§‰æ¨ªå±ä¹‹åï¼Œæ•ˆæœè¿˜ä¸é”™<br><img src="https://images.niaobulashi.com/hexo/niaobulashi/2018/5d1c513693913.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜æ™š6:30é£å¹¿å·</title>
      <link href="2018/06/14/2018-06-14-planToGD/"/>
      <url>2018/06/14/2018-06-14-planToGD/</url>
      
        <content type="html"><![CDATA[<p>ç«¯åˆä½³èŠ‚æ—¶ï¼Œäºæ˜å¤©ä¸‹åˆ6ç‚¹åŠçš„é£æœº<br>ä»è¥¿å®‰å‡ºå‘ï¼Œé£å¾€å¹¿å·<br>å¤§æ¦‚ä¸‹åˆ3ç‚¹èµ°äººï¼Œåæœºåœºå¤§å·´åˆ°å’¸é˜³æœºåœº<br>å¼€å¯å†æ—¶3å¤©å¹¿å·ä¹‹æ—…</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºåšå®¢çš„å›å¿†</title>
      <link href="2018/06/11/2018-06-11-memory/"/>
      <url>2018/06/11/2018-06-11-memory/</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ä¸ªåœ¨åšå‹åœˆä¼ æ’­çš„æ¸¸æˆã€‚</p><p> è¢«<a href="https://linhai1990.com/">ä»¥æ¢¦ä¸ºé©¬ï¼Œå¥”å‘è¿œæ–¹</a>ç‚¹åï¼Œåœ¨è¿™é‡Œå›ç­”é—®é¢˜ã€‚</p><p> æ¸¸æˆè§„åˆ™ï¼š<br> 1.è®¤çœŸå¦‚å®çš„å›ç­”ä¸‹é¢æå‡ºçš„é—®é¢˜ï¼›<br> 2.ä»”ç»†å›é¡¾è‡ªå·±å»ºç«™å»ºåšçš„å‘å±•å†ç¨‹ï¼Œå®Œæˆç¬¬ä¸€ã€äºŒæ¡çš„é—®é¢˜ï¼›<br> 3.èƒ½ç…½æƒ…çš„æœ€å¥½ç…½æƒ…ï¼›<br> 4.å¯ä»¥è‡ªå·±ç»§ç»­æ·»åŠ é—®é¢˜å’Œä¿®æ”¹é—®é¢˜ï¼›<br> 5.è‡ªå·±å›ç­”ä¹‹åå°†æ­¤æ´»åŠ¨è½¬äº¤ç»™ä½ çš„3ä¸ªæœ‹å‹ï¼ˆåšä¸»ç«™é•¿ï¼‰ï¼Œå¹¶ç£ä¿ƒå…¶å®Œæˆç­”é¢˜å¹¶ç»§ç»­ä¼ é€’ä¸‹å»ï¼›<br> 6.æ¥åˆ°ç‚¹åçš„å°½å¿«å®Œæˆï¼Œç„¶åè½¬äº¤ç»™å…¶ä»–äººï¼ˆå…¶ä»–äººçœ‹åˆ°æœ¬æ¸¸æˆä¹Ÿå¯ä»¥è‡ªè¡Œå‘èµ·ï¼Œä¸å¿…ç­‰å¾…ï¼‰ï¼›<br> 7.æ­¤æ´»åŠ¨æ²¡æœ‰ä»€ä¹ˆåˆ©ç›Šçš„ï¼Œåªæ˜¯ä¸€ç§ç¾å¥½å›å¿†è€Œå·²ï¼›<br> 8.è¢«ç‚¹åçš„äººå¤åˆ¶è§„åˆ™åŠä»¥ä¸‹éƒ¨åˆ†ï¼›<br> 9.å®Œæˆä¹‹åå¯ä»¥å‘åˆ°boke112å¯¼èˆªçš„æŠ•ç¨¿é‚®ç®±ï¼ˆ<a href="mailto:&#x62;&#x6f;&#x6b;&#101;&#49;&#49;&#50;&#64;&#113;&#113;&#x2e;&#x63;&#111;&#x6d;">&#x62;&#x6f;&#x6b;&#101;&#49;&#49;&#50;&#64;&#113;&#113;&#x2e;&#x63;&#111;&#x6d;</a>ï¼‰ï¼Œä»¥ä¾¿å‘å¸ƒåœ¨boke112å¯¼èˆªçš„ ç¾å¥½å›å¿† ä¸“é¢˜ä¸­ã€‚</p><p> æ¸¸æˆé—®ç­”æ­£å¼å¼€å§‹ï¼š</p><p> 1ã€æ˜¯å¦è¿˜è®°å¾—è‡ªå·±çš„ç¬¬ä¸€ä¸ªåŸŸåå’Œç¬¬ä¸€ä¸ªç«™ç‚¹ï¼Ÿå®ƒä»¬æ˜¯å¦è¿˜æ´»ç€ï¼Ÿ</p><p> ç­”ï¼šè®°å¾—æ˜¯åœ¨å¤§äºŒçš„æ—¶å€™ï¼Œä½¿ç”¨çš„ç¬¬ä¸€ä¸ªåŸŸåæ˜¯åç¼€ä¸º.tkçš„å…è´¹åŸŸåï¼Œæ˜¯seanhu.tkï¼Œç°åœ¨åº”è¯¥ç”¨ä¸äº†äº†ï¼Œé‚£æ—¶å€™ä¸æ‡‚å¾—å»ºç«™ï¼Œæ‰€ä»¥è§£æçš„æ˜¯è‡ªå·±çš„å¾®åšåœ°å€ã€‚</p><p> 2ã€ä½ ç°åœ¨æ‹¥æœ‰å¤šå°‘ä¸ªåŸŸåï¼ŸåŒæ—¶è¿è¥å¤šå°‘ä¸ªåšå®¢ç«™ç‚¹ï¼Ÿ</p><p> ç­”ï¼šæœ‰2ä¸ªåŸŸåï¼Œè¿è¥åšå®¢çš„å°±è¿™ä¸€ä¸ªï¼Œå¦å¤–ä¸€ä¸ªç”¨äºé¡¹ç›®ç»„çš„æ—¥æŠ¥ç³»ç»Ÿã€‚</p><p> 3ã€æ˜¯å¦è¿˜è®°å¾—ç¬¬ä¸€æ¬¡å»ºç«™å»ºåšçš„åˆè¡·ï¼Ÿç°åœ¨æ˜¯å¦å·²ç»æ”¹å˜ï¼Ÿ</p><p> ç­”ï¼šä¸€å¼€å§‹è§‰å¾—æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢ç½‘ç«™æ˜¯ä»¶éå¸¸é…·çš„äº‹æƒ…ï¼Œç¬¬ä¸€æ¬¡æœ‰è¿™ç§æƒ³æ³•æ˜¯åœ¨å¤§ä¸‰çš„æ—¶å€™ï¼Œæ˜¯çš„ï¼Œåªæ˜¯æƒ³æ³•è€Œå·²ï¼Œå¤§å­¦æœŸé—´æ²¡ä»€ä¹ˆå»ºæ ‘ï¼Œæ‚”è¿‡å½“åˆæ²¡æœ‰å¥½å¥½å­¦ä»£ç ï¼Œå¤§å­¦ä¹Ÿå°±è¿™æ ·ç©è¿‡å»äº†ã€‚ä¸‰å¹´ä¹‹åï¼Œä¹Ÿå°±æ˜¯2017å¹´çš„10æœˆä»½ï¼Œçœ‹åˆ°åŒäº‹çš„åšå®¢ç½‘ç«™<a href="https://jibushengdan.com/">é¸¡ä¸ç”Ÿè›‹</a>ï¼Œè®©æˆ‘ä¼šæƒ³åˆ°äº†å¤§å­¦æ—¶çš„åˆè¡·ï¼Œäºæ˜¯æ­£å¼å»äº†è§£åšå®¢çš„å»ºç«™æµç¨‹ï¼Œé‡ç‡ƒäº†å½“åˆå»ºç«™çš„åˆå¿ƒï¼Œç°åœ¨ä¾ç„¶è§‰å¾—è¿™æ˜¯ä¸€ä»¶å¾ˆé…·çš„äº‹ã€‚</p><p> 4ã€ç°åœ¨å¤§éƒ¨åˆ†åšå®¢æ¶ˆäº¡çš„åŸå› éƒ½æ˜¯æœªèƒ½åšæŒï¼Œåˆæ˜¯ä»€ä¹ˆåŠ¨åŠ›è®©æ‚¨åšæŒåˆ°äº†ç°åœ¨?</p><p> ç­”ï¼šå…¶å®æˆ‘ä¹Ÿç®—æ˜¯ä¸ªæ–°æ‰‹ï¼Œåšå®¢å»ºç«™æ‰åŠå¹´å¤šï¼Œå¾ˆå¯æƒœä¸­é—´æœ‰ä¸€ä¸ªå­£åº¦æ²¡æœ‰æ›´æ–°åšå®¢ï¼Œé‚£ä¸ªå­£åº¦æ˜¯è‡ªå·±æœ€å¿™çš„æ—¶åˆ»ï¼Œå·¥ä½œæ—¥æ¯å¤©åŠ ç­åˆ°æ™šä¸Š10ç‚¹å¤šèµ¶æœ€åä¸€è¶Ÿæœ«ç­è½¦ã€‚é‚£ä¸ªæ—¶å€™æœ‰åšä¸å®Œçš„äº‹æƒ…ï¼Œä¸€ä¸ªé¡¹ç›®ç»„å°±5ä¸ªäººï¼Œä¸»è¦åšçš„äº‹äº’è”ç½‘é‡‘èæœåŠ¡ç†è´¢å¹³å°ï¼Œæ˜¯åŠè·¯æ¥æ‰‹çš„é¡¹ç›®ï¼Œæœ‰å¾ˆå¤šçš„bugã€‚é‚£æ—¶å€™æ—¥å­å¹¶ä¸å¥½è¿‡ï¼ŒåŠ ç­åˆ°è‡ªå·±å–˜ä¸è¿‡æ°”ï¼Œå‘¨æœ«ä¹Ÿæ˜¯ç›´æ¥ç¡è¿‡å»çš„ï¼Œä¸æƒ³åŠ¨ï¼Œå‡ ä¹å¿˜è®°äº†è‡ªå·±è¿˜æœ‰åšå®¢è¿™ä»¶äº‹ã€‚ç›´åˆ°é¡¹ç›®éœ€æ±‚æ…¢æ…¢ä¸å¤šäº†ä¹‹åï¼ŒåŠ ç­å°±ä¸é‚£ä¹ˆé¢‘ç¹äº†ï¼Œæœ‰äº†è‡ªå·±çš„æ—¶é—´ï¼Œé‡å›åˆ°äº†åšå®¢ã€‚æ‰€ä»¥å½“æˆ‘ä¸åŠ ç­çš„æ—¶å€™ï¼Œå°±ä¼šè®©åšå®¢å……æ»¡æ´»åŠ›ã€‚åœ¨2018/5/9å·åŠ å…¥<a href="https://www.foreverblog.cn/">åå¹´ä¹‹çº¦</a>ï¼Œæ›´åŠ åšå®šäº†å†³å¿ƒå°†åšå®¢å¥½å¥½è¿è¥ä¸‹å»ã€‚</p><p> 5ã€ç›ˆåˆ©å¥½åƒæ˜¯æ¯ä¸€ä¸ªåšå®¢çš„å½’å®¿ï¼Œç›®å‰æ‚¨çš„åšå®¢ç›ˆåˆ©æƒ…å†µå¦‚ä½•?é é‚£äº›æ–¹é¢è¿›è¡Œç›ˆåˆ©?</p><p> ç­”ï¼šæ²¡æœ‰ç›ˆåˆ©ï¼Œä¹Ÿä»æ²¡æƒ³è¿‡å»ºç«‹åšå®¢å»ç›ˆåˆ©ã€‚</p><p> 6ã€åœ¨åšå®¢ç½‘ç«™è¿è¥è¿‡ç¨‹ä¸­ï¼Œæœ‰æ²¡æœ‰å°è±¡ç‰¹åˆ«æ·±æˆ–æ„ŸåŠ¨çš„äº‹æƒ…ï¼Ÿ</p><p> ç­”ï¼šåœ¨å»ºç«‹åšå®¢ä¹‹å¤„ï¼Œä¹Ÿæ˜¯<a href="https://linhai1990.com/">ä»¥æ¢¦ä¸ºé©¬ï¼Œå¥”å‘è¿œæ–¹</a>ç¬¬ä¸€ä¸ªå…³æ³¨åˆ°äº†æˆ‘ï¼Œåƒé‚£ç§æŒ‡è·¯äººçš„æ„Ÿè§‰ï¼Œä¹Ÿå¾ˆåº†å¹¸ä»Šå¤©ç‚¹åäº†æˆ‘ï¼Œè®©æˆ‘å¾ˆæ„ŸåŠ¨ã€‚è¿˜æœ‰<a href="http://heng07.com/">ä¸€æ’çš„ç½‘å¿—</a>æä¾›äº†å¾ˆå¤šæ„è§ï¼Œéå¸¸æ„Ÿè°¢ã€‚</p><p> 7ã€åœ¨åšå®¢ç½‘ç«™è¿è¥è¿‡ç¨‹ä¸­ï¼Œæœ‰æ²¡æœ‰é‡åˆ°ä¸€äº›æ¯”è¾ƒè®¨åŒçš„äº‹æƒ…ï¼Ÿ</p><p> ç­”ï¼šå…¶ä¸€ï¼šåœ¨ä¸æ˜ç™½ä¸ºä»€ä¹ˆè®¿é—®é€Ÿåº¦å¥‡æ…¢æ— æ¯”çš„æƒ…å†µä¸‹ï¼Œä¸çŸ¥é“é‡æ–°æ ¼å¼åŒ–ç£ç›˜å¤šå°‘æ¬¡ï¼Œé‡æ–°å®‰è£…æœåŠ¡ä¸çŸ¥å¤šå°‘éï¼Œå°½é‡è®©æœåŠ¡å™¨å¹²å¹²å‡€å‡€çš„ï¼Œå¯æ˜¯æ•ˆæœä¸æ˜¾è‘—ï¼›å…¶äºŒï¼šä½¿ç”¨äº†accessç›‘æ§åˆ°äº†å¾ˆå¤šå›½å¤–çš„ipï¼Œæˆ‘ä¸å¤ªæ‡‚ï¼Œåƒæ˜¯çˆ¬è™«ä¹‹ç±»çš„ipï¼Œæ€»ä¹‹å¯èƒ½ä¼šå¯¼è‡´ç½‘ç«™è®¿é—®é€Ÿåº¦å˜æ…¢ï¼Œè¿™æ˜¯æ¯”è¾ƒè®¨åŒçš„ã€‚</p><p> 8ã€åœ¨åšå®¢ç½‘ç«™è¿è¥è¿‡ç¨‹ä¸­ï¼Œä½ è®¤ä¸ºæ”¶è·æœ€å¤§çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿ</p><p> ç­”ï¼šé€›åšå®¢ã€åˆ†äº«çŸ¥è¯†ã€è§£å†³æ–¹æ¡ˆã€æ•…äº‹ã€å¿ƒæƒ…ï¼Œè®¤è¯†å…¶ä»–çš„åšå‹ã€‚</p><p> 9ã€ä½ ç°åœ¨æ˜¯å…¨èŒè¿˜æ˜¯å…¼èŒè¿è¥åšå®¢ç½‘ç«™ï¼Ÿæ¯å¤©å¤§æ¦‚èŠ±è´¹å¤šå°‘æ—¶é—´åœ¨ä¸Šé¢ï¼Ÿ</p><p> ç­”ï¼šå…¼èŒè¿è¥ã€‚ä¸Šç­ä¸å¿™çš„è¯å¶å°”ä¼šä¸Šæ¥çœ‹çœ‹æœ‰æ²¡æœ‰è®¿å®¢ï¼Œæœ‰æ²¡æœ‰æ”¶åˆ°ç•™è¨€é‚®ä»¶ï¼ˆå¹¶æ²¡æœ‰å“ˆå“ˆå“ˆå“ˆï¼‰åªæœ‰ä¸‹ç­äº†æ‰æœ‰æ—¶é—´å¥½å¥½æ‰“ç†åšå®¢ï¼Œçœ‹çœ‹å‹é“¾çš„å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰æ›´åšï¼Œæƒ³ä¸€æƒ³è¿™ä¸€å¤©æœ‰æ²¡æœ‰ä»€ä¹ˆå€¼å¾—åˆ†äº«çš„äº‹æƒ…ã€‚å¤§æ¦‚9ç‚¹å¤šä¸‹ç­å§ï¼Œæ¯å¤©å¤§æ¦‚ä¼šèŠ±3ä¸ªå°æ—¶åœ¨åšå®¢ä¸Šã€‚</p><p> 10ã€ä½ è®¤ä¸ºé€šè¿‡åšå®¢ç»“äº¤çš„æœ‹å‹å¯é å—ï¼Ÿä½ ç›¸ä¿¡ä»–ä»¬å—ï¼Ÿ</p><p> ç­”ï¼šä¼šé€‰æ‹©å»ç›¸ä¿¡ã€‚æ¯ä¸€ä¸ªåšå‹éƒ½æœ‰æƒ³è¡¨è¾¾è‡ªå·±å†…å¿ƒçš„å°å°ä¸–ç•Œï¼Œæˆ‘ä»¬æ¯ä¸ªå°å°ä¸–ç•Œé€šè¿‡å‹è”ç›¸äº’è¿æ¥ï¼Œç›¸äº’ä¿¡ä»»ï¼Œè¿™ä»½ä¿¡ä»»æ˜¯åŸºäºä½ çš„åšæŒï¼ŒåšæŒç€ä¹¦å†™åšå®¢ï¼Œä¹¦å†™å†…å¿ƒçš„å°å°ä¸–ç•Œï¼Œå°†å†…å¿ƒè¯åˆ†äº«ç»™å€¾è¯‰ç»™æœ‹å‹ä»¬ï¼Œç»™æ‡‚å¾—è‡ªå·±çš„äººçœ‹ã€‚</p><p> 11ã€ä¸ºåšå®¢èŠ±æ‰äº†è‡ªå·±è¿™ä¹ˆå¤šçš„æ—¶é—´ï¼Œä½ åæ‚”è¿‡å—ï¼Ÿ</p><p> ç­”ï¼šä¸åæ‚”ï¼Œåªæ˜¯åæ‚”æ¥æ™šäº†ã€‚</p><p> 12ã€å¦‚æœè¯´æœ‰ä¸€å¤©ä½ è¦æ”¾å¼ƒåšå®¢äº†ï¼Œä½ è®¤ä¸ºä¼šæ˜¯ä»€ä¹ˆåŸå› å‘¢?</p><p> ç­”ï¼šç–¾ç—…ç¼ èº«ï¼Œè€å¹´ç—´å‘†ï¼Œæˆ‘å¯èƒ½å°±æ²¡åŠæ³•å†™åšå®¢äº†ã€‚</p><p> 13ã€èƒ½å¦è°ˆè°ˆæ‚¨åšå®¢çš„ä¸€äº›æœªæ¥å‘å±•ä¸è§„åˆ’ï¼Ÿ</p><p> ç­”ï¼šçœ‹ç‚¹ä¹¦ç±ï¼Œæå‡å†™ä½œæ°´å¹³ï¼Œæœ‰æ—¶å€™å›é¡¾ä»¥å‰æ–‡ç« ï¼Œæœ‰ç‚¹è¾£çœ¼ç›ï¼Œå£è¯­åŒ–è¾ƒä¸¥é‡ã€‚ä»¥åä¼šåŠæŠ€æœ¯åŠç”Ÿæ´»åŒ–çš„æ–‡ç« ç±»å‹ã€‚</p><p> 14ã€å¯¹äºæ–°åŠ å…¥ç‹¬ç«‹åšå®¢è¡Œåˆ—çš„ç²‰å«©åšä¸»ï¼Œæ‚¨æœ‰ä»€ä¹ˆå»ºè®®å’Œå¿ å‘Šç»™ä»–ä»¬å—ï¼Ÿ</p><p> ç­”ï¼šåˆå¿ƒä¸å˜ï¼Œè„šè¸å®åœ°ï¼Œä¸æ€¥ä¸èºï¼Œæ–¹æˆå¤§äº‹ã€‚</p><p> 15ã€ä½ è¦æŠŠæ­¤æ´»åŠ¨è½¬äº¤ç»™è°å‘¢?</p><p> <a href="http://heng07.com/">ä¸€æ’çš„ç½‘å¿—</a>ã€<a href="http://www.pxwei.com/">å½­å°ä¼Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®å¤ä½¿ç”¨å¾®ä¿¡å†…ç½®æµè§ˆå™¨è¯„è®ºæŠ¥é”™çš„BUG</title>
      <link href="2018/06/09/2018-06-09-commentBUG/"/>
      <url>2018/06/09/2018-06-09-commentBUG/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ˜¨æ™šåœ¨æµ‹è¯•è¯„è®ºé‚®ä»¶é€šçŸ¥çš„æ—¶å€™ï¼Œæˆ‘æŠŠ<a href="http://niaobulashi.com/index.php/bbs.html">http://niaobulashi.com/index.php/bbs.html</a> ç•™è¨€æ¿å‘ç»™æœ‹å‹è¿›è¡Œæµ‹è¯•ï¼Œç”¨çš„å¾®ä¿¡å‘é€çš„ï¼Œæ‰€ä»¥æœ‹å‹ç›´æ¥ç”¨çš„å¾®ä¿¡å†…ç½®æµè§ˆå™¨æ‰“å¼€çš„é“¾æ¥è¿›è¡Œè¯„è®º<br>å‡ºç°äº†ä¸‹é¢é—®é¢˜</p></blockquote><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-attr">[Sat Jun 09 09:26:31.057599 2018]</span> <span class="selector-attr">[:error]</span> <span class="selector-attr">[pid 23230]</span> <span class="selector-attr">[client 123.139.18.5:25297]</span> SQLSTATE<span class="selector-attr">[22001]</span>: String data, right truncated: <span class="number">1406</span> Data too long for column <span class="string">&#x27;agent&#x27;</span> at row <span class="number">1</span>, referer: http://niaobulashi.com/index.php/bbs.html</span><br></pre></td></tr></table></figure><p>å…³é”®ä¿¡æ¯ï¼š1406 Data too long for column â€˜agentâ€™ at row 1</p><p>å¾ˆæ˜æ˜¾å¾®ä¿¡å†…ç½®çš„æµè§ˆå™¨çš„user agentçš„å­—æ®µè¿‡é•¿å¯¼è‡´çš„é”™è¯¯ã€‚<br>è¯„è®ºçš„è¡¨typecho_comments.agent</p><p>å¯¹äº†ï¼Œæˆ‘æŠŠChromeæµè§ˆå™¨çš„agentå’Œå¾®ä¿¡å†…ç½®æµè§ˆå™¨çš„agentè´´å‡ºæ¥ä¾›å‚è€ƒ:<br>Chromeæµè§ˆå™¨agentï¼š</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Mozilla</span>/<span class="number">5</span>.<span class="number">0</span> (Windows NT <span class="number">10</span>.<span class="number">0</span>; Win<span class="number">64</span>; x<span class="number">64</span>) AppleWebKit/<span class="number">537</span>.<span class="number">36</span> (KHTML, like Gecko) Chrome/<span class="number">66</span>.<span class="number">0</span>.<span class="number">3359</span>.<span class="number">181</span> Safari/<span class="number">537</span>.<span class="number">36</span></span><br></pre></td></tr></table></figure><p>å¾®ä¿¡å†…ç½®æµè§ˆå™¨ï¼š</p><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Mozilla</span>/<span class="number">5</span>.<span class="number">0</span> (Linux; Android <span class="number">8</span>.<span class="number">1</span>; ONEPLUS A<span class="number">5010</span> Build/OPM<span class="number">1</span>.<span class="number">171019</span>.<span class="number">011</span>; wv) AppleWebKit/<span class="number">537</span>.<span class="number">36</span> (KHTML, like Gecko) Version/<span class="number">4</span>.<span class="number">0</span> Chrome/<span class="number">57</span>.<span class="number">0</span>.<span class="number">2987</span>.<span class="number">132</span> MQQBrowser/<span class="number">6</span>.<span class="number">2</span> TBS/<span class="number">044103</span> Mobile Safari/<span class="number">537</span>.<span class="number">36</span> MicroMessenger/<span class="number">6.6.7.132</span><span class="number">0</span>(<span class="number">0</span>x<span class="number">26060737</span>) NetType/WIFI Language/zh_CN</span><br></pre></td></tr></table></figure><p>å°†åŸæ¥çš„é•¿åº¦ä¸º200æ”¹ä¸º400å³å¯</p><p>ä¿®æ”¹ä¹‹åï¼Œè¿›è¡Œæµ‹è¯•ã€‚</p><p>OK~<br>é—®é¢˜è§£å†³<br>emmmmï¼Œå°±æ˜¯å°†agentå­—æ®µé•¿åº¦åŠ é•¿ç‚¹â€¦<br>äºæ˜¯æˆ‘åˆæ°´äº†ä¸€ç¯‡???</p>]]></content>
      
      
      <categories>
          
          <category> é—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Stringã€StringBufferã€StringBuilderæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</title>
      <link href="2018/06/07/2018-06-07-String/"/>
      <url>2018/06/07/2018-06-07-String/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><p>å…ˆè¯´è¯´Stringå’ŒStringBuffer/StringBuilderï¼š</p><ul><li><p>Stringæ˜¯æ ‡å‡†çš„ä¸å¯å˜ç±»ï¼Œæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œå¹¶ä¸”å£°æ˜çš„å¯¹è±¡åœ¨æ–¹æ³•ä¸­æ˜¯å”¯ä¸€å­˜åœ¨çš„ã€‚</p></li><li><p>StringBuffer/StringBuilderå¯¹è±¡çš„å€¼æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œå¹¶ä¸”å€¼æ”¹å˜ä»¥åï¼Œå¯¹è±¡å¼•ç”¨ä¸ä¼šå‘ç”Ÿæ”¹å˜;ä¸¤è€…å¯¹è±¡åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆæŒ‰ç…§é»˜è®¤å¤§å°ç”³è¯·ä¸€ä¸ªå­—ç¬¦æ•°ç»„ï¼Œç”±äºä¼šä¸æ–­åŠ å…¥æ–°æ•°æ®ï¼Œå½“è¶…è¿‡é»˜è®¤å¤§å°åï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ›´å¤§çš„æ•°ç»„ï¼Œå¹¶å°†åŸå…ˆçš„æ•°ç»„å†…å®¹å¤åˆ¶è¿‡æ¥ï¼Œå†ä¸¢å¼ƒæ—§çš„æ•°ç»„ã€‚</p></li></ul><h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>StringBuffer/StringBuilderå¬èµ·æ¥æ²¡å•¥åŒºåˆ«â€¦<br>å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><ul><li><p>StringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä½†æ˜¯StringBuilderæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</p></li><li><p>åœ¨å­—ç¬¦ä¸²å†…å®¹ä¸ç»å¸¸å‘ç”Ÿå˜åŒ–çš„ä¸šåŠ¡åœºæ™¯ä¼˜å…ˆä½¿ç”¨Stringç±»ã€‚ä¾‹å¦‚ï¼šå¸¸é‡å£°æ˜ã€å°‘é‡çš„å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œç­‰ã€‚å¦‚æœæœ‰å¤§é‡çš„å­—ç¬¦ä¸²å†…å®¹æ‹¼æ¥ï¼Œé¿å…ä½¿ç”¨Stringä¸Stringä¹‹é—´çš„â€œ+â€æ“ä½œï¼Œå› ä¸ºè¿™æ ·ä¼šäº§ç”Ÿå¤§é‡æ— ç”¨çš„ä¸­é—´å¯¹è±¡ï¼Œè€—è´¹ç©ºé—´ä¸”æ‰§è¡Œæ•ˆç‡ä½ä¸‹ï¼ˆæ–°å»ºå¯¹è±¡ã€å›æ”¶å¯¹è±¡èŠ±è´¹å¤§é‡æ—¶é—´ï¼‰ã€‚</p></li></ul><ul><li>åœ¨é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—ï¼ˆå¦‚æ‹¼æ¥ã€æ›¿æ¢ã€åˆ é™¤ç­‰ï¼‰ï¼Œå¹¶ä¸”è¿è¡Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå»ºè®®ä½¿ç”¨StringBufferï¼Œä¾‹å¦‚XMLè§£æã€HTTPå‚æ•°è§£æä¸å°è£…ã€‚</li></ul><ul><li>åœ¨é¢‘ç¹è¿›è¡Œå­—ç¬¦ä¸²çš„è¿ç®—ï¼ˆå¦‚æ‹¼æ¥ã€æ›¿æ¢ã€åˆ é™¤ç­‰ï¼‰ï¼Œå¹¶ä¸”è¿è¡Œåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œä¾‹å¦‚SQLè¯­å¥æ‹¼è£…ã€JSONå°è£…ç­‰ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºç†è´¢çš„ä¸€äº›æƒ³æ³•</title>
      <link href="2018/06/03/2018-06-03-financing/"/>
      <url>2018/06/03/2018-06-03-financing/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å†™è¿™ç¯‡åšå®¢çš„ç¼˜ç”±æ˜¯å› ä¸ºï¼š</p><blockquote><p>2016å¹´6æœˆä»½-2017å¹´12æœˆä»½<br>æˆ‘å‚ä¸äº†æ°‘æ³°äº’è”ç½‘é‡‘èå¹³å°çš„å¼€å‘å·¥ä½œ</p></blockquote><h2 id="ç»è¿‡"><a href="#ç»è¿‡" class="headerlink" title="ç»è¿‡"></a>ç»è¿‡</h2><p>äº²è‡ªå‚ä¸å¼€å‘è¿‡ç†è´¢å¹³å°ï¼Œæ¯”è¾ƒæ˜ç™½æ•´ä¸ªä¸šåŠ¡çš„æµç¨‹å§ã€‚<br>è¿™å¥½åƒå’Œè´­ä¹°ç†è´¢æ²¡å•¥å…³ç³»å“ˆå“ˆå“ˆå“ˆå“ˆ<br>æˆ‘å‚ä¸çš„è¿™ä¸ªå¹³å°ç”±äºç§ç§åŸå› ï¼Œç°åœ¨ä¸å–ç†è´¢äº†ã€‚<br>æ‰€ä»¥æˆ‘åé¢æ‰€è¯´çš„ï¼Œä¸æ˜¯è¿™ä¸ªå¹³å°çš„ã€‚å±äºåˆ«çš„ç†è´¢å¹³å°<br>å¦‚æœæœ‰ç‚¹é—²é’±çš„è¯ï¼Œæˆ‘ç”¨çš„æ‹›å•†é“¶è¡Œï¼ŒæŠŠé’±å­˜åˆ°æœæœç›ˆé‡Œï¼Œè™½ç„¶å¯ä»¥éšæ—¶å°†é’±è¿›å‡ºï¼Œéš”æ—¥åœ¨ç®—åˆ©æ¯ï¼Œä¹Ÿæ˜¯æŒºä¾¿æ·æ–¹ä¾¿çš„ã€‚</p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p>ä¸Šä¸ªæœˆä¸­æ—¬æŠ•äº†ä¸ª9%å¹´åŒ–æ”¶ç›Šç‡ï¼Œäº§å“å‘¨æœŸä¸º15å¤©çš„çŸ­æœŸä¿æœ¬å‹äº§å“<br>æ”¶ç›Šè®¡ç®—æ–¹æ³•å¾ˆç®€å•=æœ¬é‡‘ä¹˜ä»¥9%/365*15<br>æ‰€ä»¥æœ€åæ”¶åˆ°çš„åˆ©æ¯ä¸º147.95<br>åˆ°æœŸä¹‹åç›´æ¥æç°40147.95å…ƒ<br>å½“ç„¶äº†ï¼Œè¿™ä¸ªåªæ˜¯ä¸ªç†è´¢ï¼Œé è¿™ä¸ªèµšé’±æ˜¯ä¸å¯èƒ½çš„QAQï¼Œæƒ³é è¿™ä¸ªèµšé’±ï¼Œé¦–å…ˆä½ æ‰‹å¤´å¾—æœ‰è‡³å°‘10ä¸‡æ‰è¡Œï¼Œè€Œä¸”æ˜¯é—²ç½®çš„å­˜æ¬¾<br>æŠ•èµ„äº§å“å‘¨æœŸæ¯”è¾ƒé•¿çš„äº§å“ï¼Œæ”¶ç›Šç‡æ‰ä¼šé«˜ã€‚</p><p>åœ¨5æœˆåº•æç°äº†è¿™ç¬”é’±ï¼Œç”±äºè¿™ä¸ªå¹³å°æç°è¿˜å¾—è‡ªå·±å‡ºæç°æ‰‹ç»­è´¹ã€‚4ä¸‡æç°å¾—ä»˜æ‰‹ç»­è´¹20å…ƒï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä¸è¿‡æ–°æ³¨å†Œçš„æœ‰ä¸€ä¸ªæç°æ‰‹ç»­è´¹åˆ¸ï¼Œæˆ‘æç°ä¹‹åå°±æ²¡ç”¨äº†è¿™ä¸ªå¹³å°ã€‚ã€‚ã€‚</p><p>æ˜¨æ™šæˆ‘çœ‹çš„å¦å¤–ä¸€ä¸ªå¹³å°ï¼Œæˆ‘æŠ•èµ„çš„æ˜¯å¹´åŒ–æ”¶ç›Šç‡ä¸º8%ï¼Œäº§å“å‘¨æœŸä¸º3ä¸ªæœˆ(90å¤©)çš„äº§å“ã€‚<br>æŠ•äº†45000ï¼Œå› ä¸ºé€äº†æ–°äººæ³¨å†Œçš„çº¢åŒ…ï¼Œæ‰€ä»¥åº”è¯¥å……å€¼45000çš„ï¼Œå¯ä»¥ç”¨100çº¢åŒ…ï¼Œæ‰€ä»¥åªéœ€è¦å……å€¼44900å³å¯ï¼Œå¹³å°çš„ç¦åˆ©è¿˜ç®—ä¸é”™çš„ã€‚<br>æœ¬é‡‘45000ï¼Œ8%90å¤©æ‰€ä»¥è®¡ç®—å‡ºæ¥çš„åˆ©æ¯ä¸ºï¼š887.67<br>ç›¸æ¯”æœæœç›ˆçš„æ”¶ç›Šè¿˜æ˜¯æ¯”è¾ƒå¯è§‚çš„ã€‚å”¯ä¸€ä¸æ–¹ä¾¿çš„æ˜¯ï¼Œè¿™45000å¤„ç†å†»ç»“çŠ¶æ€ï¼Œæ˜¯ä¸å¯æç°çš„ã€‚</p><h2 id="å¦‚ä½•ç†è´¢"><a href="#å¦‚ä½•ç†è´¢" class="headerlink" title="å¦‚ä½•ç†è´¢"></a>å¦‚ä½•ç†è´¢</h2><p>è¿™ä¸ªåº”è¯¥æ˜¯ç”±ä¸“ä¸šçš„ç†è´¢å¸ˆæ¥è¯´çš„ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªé¡¹ç›®å·¥ç¨‹å¸ˆï¼Œåªæ˜¯å‚ä¸äº†ç†è´¢é¡¹ç›®çš„å¼€å‘ï¼Œå“ˆå“ˆå“ˆï¼Œåœ¨è¿™é‡Œä¹Ÿé¡ºä¾¿è¯´å‡ å¥å§ã€‚ </p><ul><li>é¦–å…ˆä¿è¯å…»æ´»è‡ªå·±ï¼ˆåˆ«å…¨æŠ•äº†ï¼‰</li><li>æ‰‹å¤´æœ‰é—²é’±</li><li>è¿‘ç«¯æ—¶æœŸä¸ä¼šæœ‰èµ„é‡‘éœ€æ±‚ï¼Œæ¯”å¦‚ä¹°æˆ¿ã€è£…ä¿®ã€åŒå­¦æ‰å †ç»“å©šã€‚ã€‚</li><li>æ²¡äººå‘ä½ å€Ÿé’±</li><li>å­˜é“¶è¡Œä¸å¦‚ä¹°ç†è´¢é¢</li><li>å¥½å¥½èµšé’±å§ï¼Œä¸ç„¶æ€ä¹ˆå¨¶åª³å¦‡å‘¢ï¼Œå—¯ï¼Ÿ</li><li>åœŸè±ªå¯å¿½ç•¥ç†è´¢</li></ul><p>æœ€åï¼Œç†è´¢ä¸æ˜¯èµšé’±çš„æ‰‹æ®µï¼Œè¿˜å¾—åŠªåŠ›åˆ›é€ è‡ªå·±çš„ç¤¾ä¼šä»·å€¼å“¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»handsomeæ¬å®¶åˆ°Yoduçš„ç¼˜ç”±</title>
      <link href="2018/06/01/2018-06-01-handsomeToYodu/"/>
      <url>2018/06/01/2018-06-01-handsomeToYodu/</url>
      
        <content type="html"><![CDATA[<p>ä¸ºä»€ä¹ˆè¦æ¬å®¶ï¼Œæ›´æ¢ä¸»é¢˜ï¼Ÿ</p><p>å› ä¸ºè‹¦äºæ— æ³•è§£å†³<a href="http://niaobulashi.com/">é¸Ÿä¸æ‹‰å±</a>ç«™ç‚¹è®¿é—®é€Ÿåº¦è¿‡äºæ…¢ï¼ˆç°åœ¨è¿˜æ˜¯ä¸å¿«ï¼‰ï¼Œæ‰¾äº†å¾ˆå¤šç§åŸå› ï¼Œä»¥ä¸ºæ˜¯Linuxç³»ç»Ÿçš„åŸå› ï¼Œè¿˜ä»¥ä¸ºæ˜¯mysqlæ•°æ®åº“çš„åŸå› ï¼Œæœ€åéƒ½è¯•è¿‡ä¸€éã€‚<br>æ¯æ¬¡éƒ½æ˜¯ä»ç£ç›˜æ ¼å¼åŒ–ï¼Œä»å¤´æ¥è¿‡ï¼<br>é‡æ–°æ­å»ºç¯å¢ƒå®‰è£…ï¼šmysqlã€apacheã€phpæœåŠ¡ã€‚<br>ä¸ä¸‹5éï¼Œæˆ‘éƒ½å¯ä»¥é—­ç€çœ¼ç›æ¥æ‰‹åŠ¨å®‰è£…äº†ï¼ˆQAQï¼‰<br>è¿˜æ˜¯æ²¡æœ‰è§£å†³æˆ‘çš„ç«™ç‚¹è®¿é—®è¿‡æ…¢çš„é—®é¢˜ã€‚ä¹Ÿè¯•è¿‡åˆæ‹äº‘CDNæœåŠ¡ï¼Œæ²¡å¼„å¥½QAQï¼Œæˆ‘è¿˜æ˜¯å¤ªæŒ«äº†</p><p>ä¸ºäº†å¯»æ‰¾è§£å†³æ–¹æ³•ï¼Œæˆ‘é€‰æ‹©äº†é€ƒé¿ï¼Œé€‰æ‹©äº†æ›´æ¢ä¸»é¢˜ï¼Œæ¢ä¸€ä¸ªç®€ä¾¿çš„ï¼ŒåŠ è½½ä¸é‚£ä¹ˆå¤šçš„ä¸»é¢˜è¯•è¯•ï¼Œåœ¨æˆ‘ä¹‹å‰çš„å‹é“¾é‡Œï¼Œå°±å‘ç°äº†ç°åœ¨è¿™æ ·å­çš„ï¼Œå¾ˆç®€æ´ï¼Œäºæ˜¯æˆ‘å°±ä¸‹å®šå†³å¿ƒï¼Œæ¢ä¸ŠYoduä¸»é¢˜ã€‚</p><p>æœç„¶æ¢ä¸Šä¹‹åï¼Œåœ¨æ²¡æœ‰ä»»ä½•cdnçš„ä½œç”¨ä¸‹ï¼Œæ˜æ˜¾æ¯”ä¹‹å‰å—å¤šäº†QAQ<br>å†æ¬¡ä¸»é¢˜ä¸‹å‘ç¬¬ä¸€ç¯‡åšå®¢ï¼Œä»¥æ­¤çºªå¿µè¿‡å»çš„handsomeï¼Œå¹¶è¿æ¥Yodu</p><p>åœ¨æ­¤ï¼Œå¹¶æ²¡æœ‰å†’çŠ¯handsomeçš„æ„æ€ï¼Œå®åœ¨æ˜¯å› ä¸ºæˆ‘å¤ªè ¢äº†QAQï¼Œç«™ç‚¹å¥‡å¡æ— æ¯”çš„ç—›æ¥šï¼Œä¸€ä¸‹å­å°±æŒ¡ä½äº†æµé‡QAQ</p><p>è™½ç„¶ä¸Šç­å·²æœ‰ä¸¤å¹´å¤šäº†ï¼Œè¿˜æ˜¯æƒ³ç»™è‡ªå·±å……å……ç”µï¼Œåªæœ‰ä¸‹ç­äº†æ‰æœ‰æ—¶é—´æ¥æ­ç†åšå®¢ã€‚å†™å†™ä¸œè¥¿ï¼Œå™å™æ„Ÿæ‚Ÿã€‚</p><p>æˆ‘ä¼šåœ¨è·¯ä¸ŠåŠªåŠ›çš„è¿½èµ¶ä½ ä»¬çš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆä½ å¯¹Javaå¼‚å¸¸å¤„ç†æœºåˆ¶çš„ç†è§£ï¼Ÿ</title>
      <link href="2018/05/30/2018-05-30-exception/"/>
      <url>2018/05/30/2018-05-30-exception/</url>
      
        <content type="html"><![CDATA[<p>å…ˆè°ˆè°ˆæˆ‘çš„ç†è§£ï¼šå¼‚å¸¸å¤„ç†æœºåˆ¶å¯ä»¥è¯´æ˜¯è®©æˆ‘ä»¬ç¼–å†™çš„ç¨‹åºè¿è¡Œèµ·æ¥æ›´åŠ çš„å¥å£®ï¼Œæ— è®ºæ˜¯åœ¨ç¨‹åºè°ƒè¯•ã€è¿è¡ŒæœŸé—´å‘ç”Ÿçš„å¼‚å¸¸æƒ…å†µçš„æ•è·ï¼Œéƒ½æä¾›çš„æœ‰æ•ˆçš„è¡¥æ•‘åŠ¨ä½œï¼Œä»»ä½•ä¸šåŠ¡é€»è¾‘éƒ½ä¼šå­˜åœ¨å¼‚å¸¸æƒ…å†µï¼Œè¿™æ—¶åªéœ€è¦è®°å½•è¿™äº›å¼‚å¸¸æƒ…å†µï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼Œç»ä¸èƒ½ç”Ÿåå¼‚å¸¸ï¼Œä¸è¦å†finallyä¸­å¤„ç†è¿”å›å€¼ã€‚</p><p>å…ˆä¸¢ä¸ªé—®é¢˜ï¼š<strong>è¯·å¯¹æ¯” Exception å’Œ Errorï¼Œå¦å¤–ï¼Œè¿è¡Œæ—¶å¼‚å¸¸ä¸ä¸€èˆ¬å¼‚å¸¸æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p><hr><h2 id="ç»å…¸å›ç­”"><a href="#ç»å…¸å›ç­”" class="headerlink" title="ç»å…¸å›ç­”"></a>ç»å…¸å›ç­”</h2><p>Exception å’Œ Error éƒ½æ˜¯ç»§æ‰¿äº† <strong>Throwable ç±»</strong>ï¼Œåœ¨ Java ä¸­åªæœ‰ Throwable ç±»å‹çš„å®ä¾‹æ‰å¯ä»¥è¢«æŠ›å‡ºï¼ˆthrowï¼‰æˆ–è€…æ•è·ï¼ˆcatchï¼‰ï¼Œå®ƒæ˜¯å¼‚å¸¸å¤„ç†æœºåˆ¶çš„åŸºæœ¬ç»„æˆç±»å‹ã€‚</p><p>Exception å’Œ Error ä½“ç°äº† Java å¹³å°è®¾è®¡è€…å¯¹ä¸åŒå¼‚å¸¸æƒ…å†µçš„åˆ†ç±»ã€‚</p><p>Exception æ˜¯ç¨‹åºæ­£å¸¸è¿è¡Œä¸­ï¼Œå¯ä»¥é¢„æ–™çš„æ„å¤–æƒ…å†µï¼Œå¯èƒ½å¹¶ä¸”åº”è¯¥è¢«æ•è·ï¼Œè¿›è¡Œç›¸åº”å¤„ç†ã€‚</p><p>Error æ˜¯æŒ‡åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸å¤§å¯èƒ½å‡ºç°çš„æƒ…å†µï¼Œç»å¤§éƒ¨åˆ†çš„ Error éƒ½ä¼šå¯¼è‡´ç¨‹åºï¼ˆæ¯”å¦‚ JVM è‡ªèº«ï¼‰å¤„äºéæ­£å¸¸çš„ã€ä¸å¯æ¢å¤çŠ¶æ€ã€‚æ—¢ç„¶æ˜¯éæ­£å¸¸æƒ…å†µï¼Œæ‰€ä»¥ä¸ä¾¿äºä¹Ÿä¸éœ€è¦æ•è·ï¼Œå¸¸è§çš„æ¯”å¦‚ OutOfMemoryError ä¹‹ç±»ï¼Œéƒ½æ˜¯ Error çš„å­ç±»ã€‚</p><p>Exception åˆåˆ†ä¸º<strong>å¯æ£€æŸ¥ï¼ˆcheckedï¼‰å¼‚å¸¸</strong>å’Œ<strong>ä¸æ£€æŸ¥ï¼ˆuncheckedï¼‰å¼‚å¸¸</strong>ï¼Œå¯æ£€æŸ¥å¼‚å¸¸åœ¨æºä»£ç é‡Œå¿…é¡»æ˜¾å¼åœ°è¿›è¡Œæ•è·å¤„ç†ï¼Œè¿™æ˜¯ç¼–è¯‘æœŸæ£€æŸ¥çš„ä¸€éƒ¨åˆ†ã€‚å‰é¢æˆ‘ä»‹ç»çš„ä¸å¯æŸ¥çš„ Errorï¼Œæ˜¯ Throwable ä¸æ˜¯ Exceptionã€‚</p><p>ä¸æ£€æŸ¥å¼‚å¸¸å°±æ˜¯æ‰€è°“çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼Œç±»ä¼¼ NullPointerExceptionã€ArrayIndexOutOfBoundsException ä¹‹ç±»ï¼Œé€šå¸¸æ˜¯å¯ä»¥ç¼–ç é¿å…çš„é€»è¾‘é”™è¯¯ï¼Œå…·ä½“æ ¹æ®éœ€è¦æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ•è·ï¼Œå¹¶ä¸ä¼šåœ¨ç¼–è¯‘æœŸå¼ºåˆ¶è¦æ±‚ã€‚</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>åˆ†æ Exception å’Œ Error çš„åŒºåˆ«ï¼Œæ˜¯ä»æ¦‚å¿µè§’åº¦è€ƒå¯Ÿäº† Java å¤„ç†æœºåˆ¶ã€‚æ€»çš„æ¥è¯´ï¼Œè¿˜å¤„äºç†è§£çš„å±‚é¢ã€‚<br>æˆ‘ä»¬åœ¨æ—¥å¸¸ç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•å¤„ç†å¥½å¼‚å¸¸æ˜¯æ¯”è¾ƒè€ƒéªŒåŠŸåº•çš„ï¼Œæˆ‘è§‰å¾—éœ€è¦æŒæ¡ä¸¤ä¸ªæ–¹é¢ã€‚</p><p>ç¬¬ä¸€ï¼Œç†è§£ <em><strong>Throwable</strong></em>ã€<em><strong>Exception</strong></em>ã€<em><strong>Error</strong></em> çš„è®¾è®¡å’Œåˆ†ç±»ã€‚æ¯”å¦‚ï¼ŒæŒæ¡é‚£äº›åº”ç”¨æœ€ä¸ºå¹¿æ³›çš„å­ç±»ï¼Œä»¥åŠå¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ç­‰ã€‚</p><p>ä½ äº†è§£Errorã€Exceptionæˆ–è€…RuntimeException?<br>ç”»äº†ä¸€ä¸ªç®€å•çš„ç±»å›¾ï¼Œå¹¶åˆ—å‡ºæ¥å…¸å‹ä¾‹å­ï¼Œå¯ä»¥ç»™ä½ ä½œä¸ºå‚è€ƒï¼Œè‡³å°‘åšåˆ°åŸºæœ¬å¿ƒé‡Œæœ‰æ•°ã€‚<br><img src="/usr/image/article/Java/01/Throwable.png" alt="å¼‚å¸¸å…³ç³»ç±»æ¯”å›¾"></p><p>è¿™é‡Œä¹Ÿå¯ä»¥æ€è€ƒä¸‹ï¼šNoClassDefFoundError å’Œ ClassNotFoundException æœ‰ä»€ä¹ˆåŒºåˆ«?</p><p>ç¬¬äºŒï¼Œç†è§£ Java è¯­è¨€ä¸­æ“ä½œ Throwable çš„å…ƒç´ å’Œå®è·µã€‚æŒæ¡æœ€åŸºæœ¬çš„è¯­æ³•æ˜¯å¿…é¡»çš„ï¼Œå¦‚ try-catch-finally å—ï¼Œthrowã€throws å…³é”®å­—ç­‰ã€‚ä¸æ­¤åŒæ—¶ï¼Œä¹Ÿè¦æ‡‚å¾—å¦‚ä½•å¤„ç†å…¸å‹åœºæ™¯ã€‚</p><p>å¼‚å¸¸å¤„ç†ä»£ç æ¯”è¾ƒç¹çï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦å†™å¾ˆå¤šåƒç¯‡ä¸€å¾‹çš„æ•è·ä»£ç ï¼Œæˆ–è€…åœ¨ finally é‡Œé¢åšä¸€äº›èµ„æºå›æ”¶å·¥ä½œã€‚éšç€ Java è¯­è¨€çš„å‘å±•ï¼Œå¼•å…¥äº†ä¸€äº›æ›´åŠ ä¾¿åˆ©çš„ç‰¹æ€§ï¼Œæ¯”å¦‚ try-with-resources å’Œ multiple catchï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç æ®µã€‚åœ¨ç¼–è¯‘æ—¶æœŸï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚ï¼Œè‡ªåŠ¨æŒ‰ç…§çº¦å®šä¿—æˆ close é‚£äº›æ‰©å±•äº† AutoCloseable æˆ–è€… Closeable çš„å¯¹è±¡ã€‚</p><figure class="highlight haxe"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> (BufferedReader br = <span class="keyword">new</span> <span class="type">BufferedReader</span>(â€¦);</span><br><span class="line">     BufferedWriter writer = <span class="keyword">new</span> <span class="type">BufferedWriter</span>(â€¦)) &#123;<span class="comment">// Try-with-resources</span></span><br><span class="line"><span class="comment">// do something</span></span><br><span class="line"><span class="keyword">catch</span> ( IOException | XEception e) &#123;<span class="comment">// Multiple catch</span></span><br><span class="line">   <span class="comment">// Handle it</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h2 id="çŸ¥è¯†æ‰©å±•"><a href="#çŸ¥è¯†æ‰©å±•" class="headerlink" title="çŸ¥è¯†æ‰©å±•"></a>çŸ¥è¯†æ‰©å±•</h2><p>å‰é¢è°ˆçš„å¤§å¤šæ˜¯æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œä¸‹é¢æˆ‘æ¥è°ˆäº›å®è·µä¸­çš„é€‰æ‹©ï¼Œæˆ‘ä¼šç»“åˆä¸€äº›ä»£ç ç”¨ä¾‹è¿›è¡Œåˆ†æã€‚</p><p>å…ˆå¼€çœ‹ç¬¬ä¸€ä¸ªå§ï¼Œä¸‹é¢çš„ä»£ç åæ˜ äº†å¼‚å¸¸å¤„ç†ä¸­å“ªäº›ä¸å½“ä¹‹å¤„?</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  <span class="regexp">//</span> ä¸šåŠ¡ä»£ç </span><br><span class="line">  <span class="regexp">//</span> â€¦</span><br><span class="line">  Thread.sleep(<span class="number">1000</span>L);</span><br><span class="line">&#125; catch (Exception e) &#123;</span><br><span class="line">  <span class="regexp">//</span> Ignore it</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä½œä¸ºä¸€æ®µå®éªŒä»£ç ï¼Œå®ƒæ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨äº§å“ä»£ç ä¸­ï¼Œé€šå¸¸éƒ½ä¸å…è®¸è¿™æ ·å¤„ç†ã€‚ä½ å…ˆæ€è€ƒä¸€ä¸‹è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/Throwable.html#printStackTrace--">printStackTrace()</a>å°¤å…¶æ˜¯å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä½†æ˜¯æ— æ³•æ‰¾åˆ°å †æ ˆè½¨è¿¹ï¼ˆstacktraceï¼‰ï¼Œè¿™çº¯å±æ˜¯ä¸ºè¯Šæ–­è®¾ç½®éšœç¢ã€‚æ‰€ä»¥ï¼Œæœ€å¥½ä½¿ç”¨äº§å“æ—¥å¿—ï¼Œè¯¦ç»†åœ°è¾“å‡ºåˆ°æ—¥å¿—ç³»ç»Ÿé‡Œã€‚çš„æ–‡æ¡£ï¼Œå¼€å¤´å°±æ˜¯â€œPrints this throwable and its backtrace to the standard error streamâ€ã€‚é—®é¢˜å°±åœ¨è¿™é‡Œï¼Œåœ¨ç¨å¾®å¤æ‚ä¸€ç‚¹çš„ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œæ ‡å‡†å‡ºé”™ï¼ˆSTERRï¼‰ä¸æ˜¯ä¸ªåˆé€‚çš„è¾“å‡ºé€‰é¡¹ï¼Œå› ä¸ºä½ å¾ˆéš¾åˆ¤æ–­å‡ºåˆ°åº•è¾“å‡ºåˆ°å“ªé‡Œå»äº†ã€‚</p><p>å°¤å…¶æ˜¯å¯¹äºåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä½†æ˜¯æ— æ³•æ‰¾åˆ°å †æ ˆè½¨è¿¹ï¼ˆstacktraceï¼‰ï¼Œè¿™çº¯å±æ˜¯ä¸ºè¯Šæ–­è®¾ç½®éšœç¢ã€‚æ‰€ä»¥ï¼Œæœ€å¥½ä½¿ç”¨äº§å“æ—¥å¿—ï¼Œè¯¦ç»†åœ°è¾“å‡ºåˆ°æ—¥å¿—ç³»ç»Ÿé‡Œã€‚</p><p>æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸‹é¢çš„ä»£ç æ®µï¼Œä½“ä¼šä¸€ä¸‹Throw early, catch late åŸåˆ™ã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">void</span> <span class="function"><span class="title">readPreferences</span>(<span class="params"><span class="built_in">String</span> fileName</span>)</span>&#123;</span><br><span class="line">     <span class="comment">//...perform operations... </span></span><br><span class="line">    InputStream <span class="keyword">in</span> = <span class="keyword">new</span> FileInputStream(fileName);</span><br><span class="line">     <span class="comment">//...read the preferences file...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœ fileName æ˜¯ nullï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šæŠ›å‡º NullPointerExceptionï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰ç¬¬ä¸€æ—¶é—´æš´éœ²å‡ºé—®é¢˜ï¼Œå †æ ˆä¿¡æ¯å¯èƒ½éå¸¸ä»¤äººè´¹è§£ï¼Œå¾€å¾€éœ€è¦ç›¸å¯¹å¤æ‚çš„å®šä½ã€‚è¿™ä¸ª NPE åªæ˜¯ä½œä¸ºä¾‹å­ï¼Œå®é™…äº§å“ä»£ç ä¸­ï¼Œå¯èƒ½æ˜¯å„ç§æƒ…å†µï¼Œæ¯”å¦‚è·å–é…ç½®å¤±è´¥ä¹‹ç±»çš„ã€‚åœ¨å‘ç°é—®é¢˜çš„æ—¶å€™ï¼Œç¬¬ä¸€æ—¶é—´æŠ›å‡ºï¼Œèƒ½å¤Ÿæ›´åŠ æ¸…æ™°åœ°åæ˜ é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹ï¼Œè®©é—®é¢˜â€œthrow earlyâ€ï¼Œå¯¹åº”çš„å¼‚å¸¸ä¿¡æ¯å°±éå¸¸ç›´è§‚äº†ã€‚</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">public void read<span class="constructor">Preferences(String <span class="params">filename</span>)</span> &#123;</span><br><span class="line">    Objects. require<span class="constructor">NonNull(<span class="params">filename</span>)</span>;</span><br><span class="line">    <span class="comment">//...perform other operations... </span></span><br><span class="line">    InputStream <span class="keyword">in</span> = <span class="keyword">new</span> <span class="constructor">FileInputStream(<span class="params">filename</span>)</span>;</span><br><span class="line">     <span class="comment">//...read the preferences file...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³äºâ€œcatch lateâ€ï¼Œå…¶å®æ˜¯æˆ‘ä»¬ç»å¸¸è‹¦æ¼çš„é—®é¢˜ï¼Œæ•è·å¼‚å¸¸åï¼Œéœ€è¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæœ€å·®çš„å¤„ç†æ–¹å¼ï¼Œå°±æ˜¯æˆ‘å‰é¢æåˆ°çš„â€œç”Ÿåå¼‚å¸¸â€ï¼Œæœ¬è´¨ä¸Šå…¶å®æ˜¯æ©ç›–é—®é¢˜ã€‚å¦‚æœå®åœ¨ä¸çŸ¥é“å¦‚ä½•å¤„ç†ï¼Œå¯ä»¥é€‰æ‹©ä¿ç•™åŸæœ‰å¼‚å¸¸çš„ cause ä¿¡æ¯ï¼Œç›´æ¥å†æŠ›å‡ºæˆ–è€…æ„å»ºæ–°çš„å¼‚å¸¸æŠ›å‡ºå»ã€‚åœ¨æ›´é«˜å±‚é¢ï¼Œå› ä¸ºæœ‰äº†æ¸…æ™°çš„ï¼ˆä¸šåŠ¡ï¼‰é€»è¾‘ï¼Œå¾€å¾€ä¼šæ›´æ¸…æ¥šåˆé€‚çš„å¤„ç†æ–¹å¼æ˜¯ä»€ä¹ˆã€‚</p><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ï¼Œè¿™ä¸ªæ—¶å€™é™¤äº†ä¿è¯æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œè¿˜æœ‰ä¸¤ç‚¹éœ€è¦è€ƒè™‘ï¼š</p><ul><li><p>æ˜¯å¦éœ€è¦å®šä¹‰æˆ Checked Exceptionï¼Œå› ä¸ºè¿™ç§ç±»å‹è®¾è®¡çš„åˆè¡·æ›´æ˜¯ä¸ºäº†ä»å¼‚å¸¸æƒ…å†µæ¢å¤ï¼Œä½œä¸ºå¼‚å¸¸è®¾è®¡è€…ï¼Œæˆ‘ä»¬å¾€å¾€æœ‰å……è¶³ä¿¡æ¯è¿›è¡Œåˆ†ç±»ã€‚</p></li><li><p>åœ¨ä¿è¯è¯Šæ–­ä¿¡æ¯è¶³å¤Ÿçš„åŒæ—¶ï¼Œä¹Ÿè¦è€ƒè™‘é¿å…åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºé‚£æ ·å¯èƒ½å¯¼è‡´æ½œåœ¨çš„å®‰å…¨é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬çœ‹ Java çš„æ ‡å‡†ç±»åº“ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°ç±»ä¼¼ java.net.ConnectExceptionï¼Œå‡ºé”™ä¿¡æ¯æ˜¯ç±»ä¼¼â€œ Connection refused (Connection refused)â€ï¼Œè€Œä¸åŒ…å«å…·ä½“çš„æœºå™¨åã€IPã€ç«¯å£ç­‰ï¼Œä¸€ä¸ªé‡è¦è€ƒé‡å°±æ˜¯ä¿¡æ¯å®‰å…¨ã€‚ç±»ä¼¼çš„æƒ…å†µåœ¨æ—¥å¿—ä¸­ä¹Ÿæœ‰ï¼Œæ¯”å¦‚ï¼Œç”¨æˆ·æ•°æ®ä¸€èˆ¬æ˜¯ä¸å¯ä»¥è¾“å‡ºåˆ°æ—¥å¿—é‡Œé¢çš„ã€‚</p></li></ul><p>ä¸šç•Œæœ‰ä¸€ç§äº‰è®ºï¼ˆç”šè‡³å¯ä»¥ç®—æ˜¯æŸç§ç¨‹åº¦çš„å…±è¯†ï¼‰ï¼ŒJava è¯­è¨€çš„ Checked Exception ä¹Ÿè®¸æ˜¯ä¸ªè®¾è®¡é”™è¯¯ï¼Œåå¯¹è€…åˆ—ä¸¾äº†å‡ ç‚¹ï¼š</p><ul><li><p>Checked Exception çš„å‡è®¾æ˜¯æˆ‘ä»¬æ•è·äº†å¼‚å¸¸ï¼Œç„¶åæ¢å¤ç¨‹åºã€‚ä½†æ˜¯ï¼Œå…¶å®æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ ¹æœ¬å°±ä¸å¯èƒ½æ¢å¤ã€‚Checked Exception çš„ä½¿ç”¨ï¼Œå·²ç»å¤§å¤§åç¦»äº†æœ€åˆçš„è®¾è®¡ç›®çš„ã€‚</p></li><li><p>Checked Exception ä¸å…¼å®¹ functional ç¼–ç¨‹ï¼Œå¦‚æœä½ å†™è¿‡ Lambda/Stream ä»£ç ï¼Œç›¸ä¿¡æ·±æœ‰ä½“ä¼šã€‚</p></li></ul><p>ä»æ€§èƒ½è§’åº¦æ¥å®¡è§†ä¸€ä¸‹ Java çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªå¯èƒ½ä¼šç›¸å¯¹æ˜‚è´µçš„åœ°æ–¹ï¼š</p><ul><li>try-catch ä»£ç æ®µä¼šäº§ç”Ÿé¢å¤–çš„æ€§èƒ½å¼€é”€ï¼Œæˆ–è€…æ¢ä¸ªè§’åº¦è¯´ï¼Œå®ƒå¾€å¾€ä¼šå½±å“ JVM å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥å»ºè®®ä»…æ•è·æœ‰å¿…è¦çš„ä»£ç æ®µï¼Œå°½é‡ä¸è¦ä¸€ä¸ªå¤§çš„ try åŒ…ä½æ•´æ®µçš„ä»£ç ï¼›ä¸æ­¤åŒæ—¶ï¼Œåˆ©ç”¨å¼‚å¸¸æ§åˆ¶ä»£ç æµç¨‹ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿œæ¯”æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šçš„æ¡ä»¶è¯­å¥ï¼ˆif/elseã€switchï¼‰è¦ä½æ•ˆã€‚</li><li>Java æ¯å®ä¾‹åŒ–ä¸€ä¸ª Exceptionï¼Œéƒ½ä¼šå¯¹å½“æ—¶çš„æ ˆè¿›è¡Œå¿«ç…§ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹æ¯”è¾ƒé‡çš„æ“ä½œã€‚å¦‚æœå‘ç”Ÿçš„éå¸¸é¢‘ç¹ï¼Œè¿™ä¸ªå¼€é”€å¯å°±ä¸èƒ½è¢«å¿½ç•¥äº†ã€‚</li></ul><p>æ‰€ä»¥ï¼Œå¯¹äºéƒ¨åˆ†è¿½æ±‚æè‡´æ€§èƒ½çš„åº•å±‚ç±»åº“ï¼Œæœ‰ç§æ–¹å¼æ˜¯å°è¯•åˆ›å»ºä¸è¿›è¡Œæ ˆå¿«ç…§çš„ Exceptionã€‚è¿™æœ¬èº«ä¹Ÿå­˜åœ¨äº‰è®®ï¼Œå› ä¸ºè¿™æ ·åšçš„å‡è®¾åœ¨äºï¼Œæˆ‘åˆ›å»ºå¼‚å¸¸æ—¶çŸ¥é“æœªæ¥æ˜¯å¦éœ€è¦å †æ ˆã€‚é—®é¢˜æ˜¯ï¼Œå®é™…ä¸Šå¯èƒ½å—ï¼Ÿå°èŒƒå›´æˆ–è®¸å¯èƒ½ï¼Œä½†æ˜¯åœ¨å¤§è§„æ¨¡é¡¹ç›®ä¸­ï¼Œè¿™ä¹ˆåšå¯èƒ½ä¸æ˜¯ä¸ªç†æ™ºçš„é€‰æ‹©ã€‚å¦‚æœéœ€è¦å †æ ˆï¼Œä½†åˆæ²¡æœ‰æ”¶é›†è¿™äº›ä¿¡æ¯ï¼Œåœ¨å¤æ‚æƒ…å†µä¸‹ï¼Œå°¤å…¶æ˜¯ç±»ä¼¼å¾®æœåŠ¡è¿™ç§åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œè¿™ä¼šå¤§å¤§å¢åŠ è¯Šæ–­çš„éš¾åº¦ã€‚</p><p>å½“æˆ‘ä»¬çš„æœåŠ¡å‡ºç°ååº”å˜æ…¢ã€ååé‡ä¸‹é™çš„æ—¶å€™ï¼Œæ£€æŸ¥å‘ç”Ÿæœ€é¢‘ç¹çš„ Exception ä¹Ÿæ˜¯ä¸€ç§æ€è·¯ã€‚å…³äºè¯Šæ–­åå°å˜æ…¢çš„é—®é¢˜ï¼Œæˆ‘ä¼šåœ¨åé¢çš„ Java æ€§èƒ½åŸºç¡€æ¨¡å—ä¸­ç³»ç»Ÿæ¢è®¨ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ä»ä¸€ä¸ªå¸¸è§çš„å¼‚å¸¸å¤„ç†æ¦‚å¿µé—®é¢˜ï¼Œç®€å•æ€»ç»“äº† Java å¼‚å¸¸å¤„ç†çš„æœºåˆ¶ã€‚å¹¶ç»“åˆä»£ç ï¼Œåˆ†æäº†ä¸€äº›æ™®éè®¤å¯çš„æœ€ä½³å®è·µï¼Œä»¥åŠä¸šç•Œæœ€æ–°çš„ä¸€äº›å¼‚å¸¸ä½¿ç”¨å…±è¯†ã€‚æœ€åï¼Œæˆ‘åˆ†æäº†å¼‚å¸¸æ€§èƒ½å¼€é”€ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://time.geekbang.org/column/article/6849">https://time.geekbang.org/column/article/6849</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è°ˆè°ˆä½ å¯¹ Java å¹³å°çš„ç†è§£?</title>
      <link href="2018/05/30/2018-05-30-think-java/"/>
      <url>2018/05/30/2018-05-30-think-java/</url>
      
        <content type="html"><![CDATA[<p>å…ˆè°ˆè°ˆæˆ‘çš„ç†è§£ï¼š</p><p>ä¸€æ¬¡ç¼–è¯‘ï¼Œæ°¸ä¹…æ‰§è¡Œã€‚ä¾èµ–äºjreçš„è¿è¡Œç¯å¢ƒï¼Œjdkæä¾›æ ¸å¿ƒç±»åº“ï¼Œjavaæºä»£ç ç»è¿‡javacç¼–è¯‘ä¸º.classæ–‡ä»¶ï¼Œ.classæ–‡ä»¶ç»è¿‡JVMè§£ææˆ–ç¼–è¯‘è¿è¡Œï¼Œæ— éœ€è¿‡å¤šå…³å¿ƒä¸åŒæ“ä½œç³»ç»Ÿçš„å·®å¼‚æ€§ã€‚</p><h2 id="å…¸å‹å›ç­”"><a href="#å…¸å‹å›ç­”" class="headerlink" title="å…¸å‹å›ç­”"></a>å…¸å‹å›ç­”</h2><p>Java æœ¬èº«æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæœ€æ˜¾è‘—çš„ç‰¹æ€§æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€æ˜¯æ‰€è°“çš„â€œ<strong>ä¹¦å†™ä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œ</strong>â€ï¼ˆWrite once, run anywhereï¼‰ï¼Œèƒ½å¤Ÿéå¸¸å®¹æ˜“åœ°è·å¾—è·¨å¹³å°èƒ½åŠ›ï¼›å¦å¤–å°±æ˜¯<strong>åƒåœ¾æ”¶é›†</strong>ï¼ˆGC, Garbage Collectionï¼‰ï¼ŒJava é€šè¿‡åƒåœ¾æ”¶é›†å™¨ï¼ˆGarbage Collectorï¼‰å›æ”¶åˆ†é…å†…å­˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜ä¸éœ€è¦è‡ªå·±æ“å¿ƒå†…å­˜çš„åˆ†é…å’Œå›æ”¶ã€‚</p><p>æˆ‘ä»¬æ—¥å¸¸ä¼šæ¥è§¦åˆ° JREï¼ˆJava Runtime Environmentï¼‰æˆ–è€… JDKï¼ˆJava Development Kitï¼‰ã€‚ JREï¼Œä¹Ÿå°±æ˜¯ Java è¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº† JVM å’Œ Java ç±»åº“ï¼Œä»¥åŠä¸€äº›æ¨¡å—ç­‰ã€‚è€Œ JDK å¯ä»¥çœ‹ä½œæ˜¯ JRE çš„ä¸€ä¸ªè¶…é›†ï¼Œæä¾›äº†æ›´å¤šå·¥å…·ï¼Œæ¯”å¦‚ç¼–è¯‘å™¨ã€å„ç§è¯Šæ–­å·¥å…·ç­‰ã€‚</p><p>å¯¹äºâ€œJava æ˜¯è§£é‡Šæ‰§è¡Œâ€è¿™å¥è¯ï¼Œè¿™ä¸ªè¯´æ³•ä¸å¤ªå‡†ç¡®ã€‚æˆ‘ä»¬å¼€å‘çš„ Java çš„æºä»£ç ï¼Œé¦–å…ˆé€šè¿‡ Javac ç¼–è¯‘æˆä¸ºå­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œç„¶åï¼Œåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡ <strong>Java è™šæ‹Ÿæœº</strong>ï¼ˆJVMï¼‰å†…åµŒçš„è§£é‡Šå™¨å°†å­—èŠ‚ç è½¬æ¢æˆä¸ºæœ€ç»ˆçš„æœºå™¨ç ã€‚ä½†æ˜¯å¸¸è§çš„ JVMï¼Œæ¯”å¦‚æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä½¿ç”¨çš„ Oracle JDK æä¾›çš„ Hotspot JVMï¼Œéƒ½æä¾›äº† JITï¼ˆJust-In-Timeï¼‰ç¼–è¯‘å™¨ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„åŠ¨æ€ç¼–è¯‘å™¨ï¼ŒJIT èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶å°†çƒ­ç‚¹ä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œè¿™ç§æƒ…å†µä¸‹éƒ¨åˆ†çƒ­ç‚¹ä»£ç å°±å±äºç¼–è¯‘æ‰§è¡Œï¼Œè€Œä¸æ˜¯è§£é‡Šæ‰§è¡Œäº†ã€‚</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å…¶å®è¿™ä¸ªé—®é¢˜ï¼Œé—®å¾—æœ‰ç‚¹ç¬¼ç»Ÿã€‚é¢˜ç›®æœ¬èº«æ˜¯éå¸¸å¼€æ”¾çš„ï¼Œå¾€å¾€è€ƒå¯Ÿçš„æ˜¯å¤šä¸ªæ–¹é¢ï¼Œæ¯”å¦‚ï¼ŒåŸºç¡€çŸ¥è¯†ç†è§£æ˜¯å¦å¾ˆæ¸…æ¥šï¼›æ˜¯å¦æŒæ¡ Java å¹³å°ä¸»è¦æ¨¡å—å’Œè¿è¡ŒåŸç†ç­‰ã€‚å¾ˆå¤šé¢è¯•è€…ä¼šåœ¨è¿™ç§é—®é¢˜ä¸Šåƒäºï¼Œç¨å¾®ç´§å¼ äº†ä¸€ä¸‹ï¼Œä¸çŸ¥é“ä»ä½•è¯´èµ·ï¼Œå°±ç»™å‡ºä¸ªå¾ˆç®€ç•¥çš„å›ç­”ã€‚</p><p>å¯¹äºè¿™ç±»ç¬¼ç»Ÿçš„é—®é¢˜ï¼Œä½ éœ€è¦å°½é‡è¡¨ç°å‡ºè‡ªå·±çš„æ€ç»´æ·±å…¥å¹¶ç³»ç»ŸåŒ–ï¼ŒJava çŸ¥è¯†ç†è§£å¾—ä¹Ÿæ¯”è¾ƒå…¨é¢ï¼Œä¸€å®šè¦é¿å…è®©é¢è¯•å®˜è§‰å¾—ä½ æ˜¯ä¸ªâ€œçŸ¥å…¶ç„¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶â€çš„äººã€‚æ¯•ç«Ÿæ˜ç™½åŸºæœ¬ç»„æˆå’Œæœºåˆ¶ï¼Œæ˜¯æ—¥å¸¸å·¥ä½œä¸­è¿›è¡Œé—®é¢˜è¯Šæ–­æˆ–è€…æ€§èƒ½è°ƒä¼˜ç­‰å¾ˆå¤šäº‹æƒ…çš„åŸºç¡€ï¼Œç›¸ä¿¡æ²¡æœ‰æ‹›è˜æ–¹ä¼šä¸å–œæ¬¢â€œçƒ­çˆ±å­¦ä¹ å’Œæ€è€ƒâ€çš„é¢è¯•è€…ã€‚</p><p>å³ä½¿æ„Ÿè§‰è‡ªå·±çš„å›ç­”ä¸æ˜¯éå¸¸å®Œå–„ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒã€‚æˆ‘ä¸ªäººè§‰å¾—è¿™ç§ç¬¼ç»Ÿçš„é—®é¢˜ï¼Œæœ‰æ—¶å€™å›ç­”å¾—ç¨å¾®ç‰‡é¢ä¹Ÿå¾ˆæ­£å¸¸ï¼Œå¤§å¤šæ•°æœ‰ç»éªŒçš„é¢è¯•å®˜ï¼Œä¸ä¼šå› ä¸ºä¸€é“é¢˜å°±å¯¹é¢è¯•è€…è½»æ˜“åœ°ä¸‹ç»“è®ºã€‚é€šå¸¸ä¼šå°½é‡å¼•å¯¼é¢è¯•è€…ï¼ŒæŠŠä»–çš„çœŸå®æ°´å¹³å±•ç°å‡ºæ¥ï¼Œè¿™ç§é—®é¢˜å°±æ˜¯åšä¸ªå¼€åœºçƒ­èº«ï¼Œé¢è¯•å®˜ç»å¸¸ä¼šæ ¹æ®ä½ çš„å›ç­”æ‰©å±•ç›¸å…³é—®é¢˜ã€‚</p><h2 id="çŸ¥è¯†æ‰©å±•"><a href="#çŸ¥è¯†æ‰©å±•" class="headerlink" title="çŸ¥è¯†æ‰©å±•"></a>çŸ¥è¯†æ‰©å±•</h2><p>å›å½’æ­£é¢˜ï¼Œå¯¹äº Java å¹³å°çš„ç†è§£ï¼Œå¯ä»¥ä»å¾ˆå¤šæ–¹é¢ç®€æ˜æ‰¼è¦åœ°è°ˆä¸€ä¸‹ï¼Œä¾‹å¦‚ï¼šJava è¯­è¨€ç‰¹æ€§ï¼ŒåŒ…æ‹¬æ³›å‹ã€Lambda ç­‰è¯­è¨€ç‰¹æ€§ï¼›åŸºç¡€ç±»åº“ï¼ŒåŒ…æ‹¬é›†åˆã€IO/NIOã€ç½‘ç»œã€å¹¶å‘ã€å®‰å…¨ç­‰åŸºç¡€ç±»åº“ã€‚å¯¹äºæˆ‘ä»¬æ—¥å¸¸å·¥ä½œåº”ç”¨è¾ƒå¤šçš„ç±»åº“ï¼Œé¢è¯•å‰å¯ä»¥ç³»ç»ŸåŒ–æ€»ç»“ä¸€ä¸‹ï¼Œæœ‰åŠ©äºä¸´åœºå‘æŒ¥ã€‚</p><p>æˆ–è€…è°ˆè°ˆ JVM çš„ä¸€äº›åŸºç¡€æ¦‚å¿µå’Œæœºåˆ¶ï¼Œæ¯”å¦‚ Java çš„ç±»åŠ è½½æœºåˆ¶ï¼Œå¸¸ç”¨ç‰ˆæœ¬ JDKï¼ˆå¦‚ JDK 8ï¼‰å†…åµŒçš„ Class-Loaderï¼Œä¾‹å¦‚ Bootstrapã€ Application å’Œ Extension Class-loaderï¼›ç±»åŠ è½½å¤§è‡´è¿‡ç¨‹ï¼šåŠ è½½ã€éªŒè¯ã€é“¾æ¥ã€åˆå§‹åŒ–ï¼ˆè¿™é‡Œå‚è€ƒäº†å‘¨å¿—æ˜çš„ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹ï¼Œéå¸¸æ£’çš„ JVM ä¸Šæ‰‹ä¹¦ç±ï¼‰ï¼›è‡ªå®šä¹‰ Class-Loader ç­‰ã€‚è¿˜æœ‰åƒåœ¾æ”¶é›†çš„åŸºæœ¬åŸç†ï¼Œæœ€å¸¸è§çš„åƒåœ¾æ”¶é›†å™¨ï¼Œå¦‚ SerialGCã€Parallel GCã€ CMSã€ G1 ç­‰ï¼Œå¯¹äºé€‚ç”¨äºä»€ä¹ˆæ ·çš„å·¥ä½œè´Ÿè½½æœ€å¥½ä¹Ÿå¿ƒé‡Œæœ‰æ•°ã€‚è¿™äº›éƒ½æ˜¯å¯ä»¥æ‰©å±•å¼€çš„é¢†åŸŸï¼Œæˆ‘ä¼šåœ¨åé¢çš„ä¸“æ å¯¹æ­¤è¿›è¡Œæ›´ç³»ç»Ÿçš„ä»‹ç»ã€‚</p><p>å½“ç„¶è¿˜æœ‰ JDK åŒ…å«å“ªäº›å·¥å…·æˆ–è€… Java é¢†åŸŸå†…å…¶ä»–å·¥å…·ç­‰ï¼Œå¦‚ç¼–è¯‘å™¨ã€è¿è¡Œæ—¶ç¯å¢ƒã€å®‰å…¨å·¥å…·ã€è¯Šæ–­å’Œç›‘æ§å·¥å…·ç­‰ã€‚è¿™äº›åŸºæœ¬å·¥å…·æ˜¯æ—¥å¸¸å·¥ä½œæ•ˆç‡çš„ä¿è¯ï¼Œå¯¹äºæˆ‘ä»¬å·¥ä½œåœ¨å…¶ä»–è¯­è¨€å¹³å°ä¸Šï¼ŒåŒæ ·æœ‰æ‰€å¸®åŠ©ï¼Œå¾ˆå¤šéƒ½æ˜¯è§¦ç±»æ—é€šçš„ã€‚</p><p>ä¸‹å›¾æ˜¯æˆ‘æ€»ç»“çš„ä¸€ä¸ªç›¸å¯¹å®½æ³›çš„è“å›¾ä¾›ä½ å‚è€ƒã€‚<br><img src="/usr/image/article/Java/01/aboutJava.png" alt="Alt test"></p><p>ä¸å†æ‰©å±•äº†ï¼Œå›åˆ°å‰é¢é—®åˆ°çš„<em><strong>è§£é‡Šæ‰§è¡Œ</strong></em>å’Œ<em><strong>ç¼–è¯‘æ‰§è¡Œ</strong></em>çš„é—®é¢˜ã€‚æœ‰äº›é¢è¯•å®˜å–œæ¬¢åœ¨ç‰¹å®šé—®é¢˜ä¸Šâ€œåˆ¨æ ¹é—®åº•å„¿â€ï¼Œå› ä¸ºè¿™æ˜¯è¿›ä¸€æ­¥äº†è§£é¢è¯•è€…å¯¹çŸ¥è¯†æŒæ¡ç¨‹åº¦çš„æœ‰æ•ˆæ–¹æ³•ï¼Œæˆ‘ç¨å¾®æ·±å…¥æ¢è®¨ä¸€ä¸‹ã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠ Java åˆ†ä¸ºç¼–è¯‘æœŸå’Œè¿è¡Œæ—¶ã€‚è¿™é‡Œè¯´çš„ Java çš„ç¼–è¯‘å’Œ C/C++ æ˜¯æœ‰ç€ä¸åŒçš„æ„ä¹‰çš„ï¼ŒJavac çš„ç¼–è¯‘ï¼Œç¼–è¯‘ Java æºç ç”Ÿæˆâ€œ.classâ€æ–‡ä»¶é‡Œé¢å®é™…æ˜¯<em><strong>å­—èŠ‚ç </strong></em>ï¼Œè€Œä¸æ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç ã€‚<strong>Java é€šè¿‡å­—èŠ‚ç å’Œ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰è¿™ç§è·¨å¹³å°çš„æŠ½è±¡ï¼Œå±è”½äº†æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„ç»†èŠ‚ï¼Œè¿™ä¹Ÿæ˜¯å®ç°â€œä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„æ‰§è¡Œâ€çš„åŸºç¡€</strong>ã€‚</p><p>åœ¨è¿è¡Œæ—¶ï¼ŒJVM ä¼šé€šè¿‡ç±»åŠ è½½å™¨ï¼ˆClass-Loaderï¼‰åŠ è½½å­—èŠ‚ç ï¼Œè§£é‡Šæˆ–è€…ç¼–è¯‘æ‰§è¡Œã€‚å°±åƒæˆ‘å‰é¢æåˆ°çš„ï¼Œä¸»æµ Java ç‰ˆæœ¬ä¸­ï¼Œå¦‚ JDK 8 å®é™…æ˜¯è§£é‡Šå’Œç¼–è¯‘æ··åˆçš„ä¸€ç§æ¨¡å¼ï¼Œå³æ‰€è°“çš„æ··åˆæ¨¡å¼ï¼ˆ-Xmixedï¼‰ã€‚é€šå¸¸è¿è¡Œåœ¨ server æ¨¡å¼çš„ JVMï¼Œä¼šè¿›è¡Œä¸Šä¸‡æ¬¡è°ƒç”¨ä»¥æ”¶é›†è¶³å¤Ÿçš„ä¿¡æ¯è¿›è¡Œé«˜æ•ˆçš„ç¼–è¯‘ï¼Œclient æ¨¡å¼è¿™ä¸ªé—¨é™æ˜¯ 1500 æ¬¡ã€‚Oracle Hotspot JVM å†…ç½®äº†ä¸¤ä¸ªä¸åŒçš„ JIT compilerï¼ŒC1 å¯¹åº”å‰é¢è¯´çš„ client æ¨¡å¼ï¼Œé€‚ç”¨äºå¯¹äºå¯åŠ¨é€Ÿåº¦æ•æ„Ÿçš„åº”ç”¨ï¼Œæ¯”å¦‚æ™®é€š Java æ¡Œé¢åº”ç”¨ï¼›C2 å¯¹åº” server æ¨¡å¼ï¼Œå®ƒçš„ä¼˜åŒ–æ˜¯ä¸ºé•¿æ—¶é—´è¿è¡Œçš„æœåŠ¡å™¨ç«¯åº”ç”¨è®¾è®¡çš„ã€‚é»˜è®¤æ˜¯é‡‡ç”¨æ‰€è°“çš„åˆ†å±‚ç¼–è¯‘ï¼ˆTieredCompilationï¼‰ã€‚è¿™é‡Œä¸å†å±•å¼€æ›´å¤š JIT çš„ç»†èŠ‚ï¼Œæ²¡å¿…è¦ä¸€ä¸‹å­å°±é’»è¿›å»ï¼Œæˆ‘ä¼šåœ¨åé¢ä»‹ç»åˆ†å±‚ç¼–è¯‘çš„å†…å®¹ã€‚</p><p>Java è™šæ‹Ÿæœºå¯åŠ¨æ—¶ï¼Œå¯ä»¥æŒ‡å®šä¸åŒçš„å‚æ•°å¯¹è¿è¡Œæ¨¡å¼è¿›è¡Œé€‰æ‹©ã€‚ æ¯”å¦‚ï¼ŒæŒ‡å®šâ€œ-Xintâ€ï¼Œå°±æ˜¯å‘Šè¯‰ JVM åªè¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œä¸å¯¹ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œè¿™ç§æ¨¡å¼æŠ›å¼ƒäº† JIT å¯èƒ½å¸¦æ¥çš„æ€§èƒ½ä¼˜åŠ¿ã€‚æ¯•ç«Ÿè§£é‡Šå™¨ï¼ˆinterpreterï¼‰æ˜¯é€æ¡è¯»å…¥ï¼Œé€æ¡è§£é‡Šè¿è¡Œçš„ã€‚ä¸å…¶ç›¸å¯¹åº”çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªâ€œ-Xcompâ€å‚æ•°ï¼Œè¿™æ˜¯å‘Šè¯‰ JVM å…³é—­è§£é‡Šå™¨ï¼Œä¸è¦è¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œæˆ–è€…å«ä½œæœ€å¤§ä¼˜åŒ–çº§åˆ«ã€‚é‚£ä½ å¯èƒ½ä¼šé—®è¿™ç§æ¨¡å¼æ˜¯ä¸æ˜¯æœ€é«˜æ•ˆå•Šï¼Ÿç®€å•è¯´ï¼Œè¿˜çœŸæœªå¿…ã€‚â€œ-Xcompâ€ä¼šå¯¼è‡´ JVM å¯åŠ¨å˜æ…¢éå¸¸å¤šï¼ŒåŒæ—¶æœ‰äº› JIT ç¼–è¯‘å™¨ä¼˜åŒ–æ–¹å¼ï¼Œæ¯”å¦‚åˆ†æ”¯é¢„æµ‹ï¼Œå¦‚æœä¸è¿›è¡Œ profilingï¼Œå¾€å¾€å¹¶ä¸èƒ½è¿›è¡Œæœ‰æ•ˆä¼˜åŒ–ã€‚</p><p>é™¤äº†æˆ‘ä»¬æ—¥å¸¸æœ€å¸¸è§çš„ Java ä½¿ç”¨æ¨¡å¼ï¼Œå…¶å®è¿˜æœ‰ä¸€ç§æ–°çš„ç¼–è¯‘æ–¹å¼ï¼Œå³æ‰€è°“çš„ AOTï¼ˆAhead-of-Time Compilationï¼‰ï¼Œç›´æ¥å°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ä»£ç ï¼Œè¿™æ ·å°±é¿å…äº† JIT é¢„çƒ­ç­‰å„æ–¹é¢çš„å¼€é”€ï¼Œæ¯”å¦‚ Oracle JDK 9 å°±å¼•å…¥äº†å®éªŒæ€§çš„ AOT ç‰¹æ€§ï¼Œå¹¶ä¸”å¢åŠ äº†æ–°çš„ jaotc å·¥å…·ã€‚åˆ©ç”¨ä¸‹é¢çš„å‘½ä»¤æŠŠæŸä¸ªç±»æˆ–è€…æŸä¸ªæ¨¡å—ç¼–è¯‘æˆä¸º AOT åº“ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">jaotc --output libHelloWorld.so HelloWorld.class</span><br><span class="line">jaotc --output libjava.base.so --<span class="keyword">module</span> java.base</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨å¯åŠ¨æ—¶ç›´æ¥æŒ‡å®šå°±å¯ä»¥äº†ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">java -XX:AOTLibrary=./libHelloWorld.so,./libjava.base.so HelloWorld</span><br></pre></td></tr></table></figure><p>è€Œä¸”ï¼ŒOracle JDK æ”¯æŒåˆ†å±‚ç¼–è¯‘å’Œ AOT åä½œä½¿ç”¨ï¼Œè¿™ä¸¤è€…å¹¶ä¸æ˜¯äºŒé€‰ä¸€çš„å…³ç³»ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥å‚è€ƒç›¸å…³æ–‡æ¡£ï¼š<a href="http://openjdk.java.net/jeps/295%E3%80%82AOT">http://openjdk.java.net/jeps/295ã€‚AOT</a> ä¹Ÿä¸ä»…ä»…æ˜¯åªæœ‰è¿™ä¸€ç§æ–¹å¼ï¼Œä¸šç•Œæ—©å°±æœ‰ç¬¬ä¸‰æ–¹å·¥å…·ï¼ˆå¦‚ GCJã€Excelsior JETï¼‰æä¾›ç›¸å…³åŠŸèƒ½ã€‚</p><p>å¦å¤–ï¼ŒJVM ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„å¹³å°ï¼Œä¸ä»…ä»…åªæœ‰ Java è¯­è¨€å¯ä»¥è¿è¡Œåœ¨ JVM ä¸Šï¼Œæœ¬è´¨ä¸Šåˆè§„çš„å­—èŠ‚ç éƒ½å¯ä»¥è¿è¡Œï¼ŒJava è¯­è¨€è‡ªèº«ä¹Ÿä¸ºæ­¤æä¾›äº†ä¾¿åˆ©ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç±»ä¼¼ Clojureã€Scalaã€Groovyã€JRubyã€Jython ç­‰å¤§é‡ JVM è¯­è¨€ï¼Œæ´»è·ƒåœ¨ä¸åŒçš„åœºæ™¯ã€‚</p><p>ä»Šå¤©ï¼Œæˆ‘ç®€å•ä»‹ç»äº†ä¸€ä¸‹ Java å¹³å°ç›¸å…³çš„ä¸€äº›å†…å®¹ï¼Œç›®çš„æ˜¯æçº²æŒˆé¢†åœ°æ„å»ºä¸€ä¸ªæ•´ä½“çš„å°è±¡ï¼ŒåŒ…æ‹¬ Java è¯­è¨€ç‰¹æ€§ã€ æ ¸å¿ƒç±»åº“ä¸å¸¸ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ã€Java è™šæ‹ŸæœºåŸºæœ¬åŸç†å’Œç›¸å…³å·¥å…·ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://time.geekbang.org/column/article/6845">https://time.geekbang.org/column/article/6845</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™å®‰è£…SSLè¯ä¹¦</title>
      <link href="2018/05/29/2018-05-29-ssl/"/>
      <url>2018/05/29/2018-05-29-ssl/</url>
      
        <content type="html"><![CDATA[<p><strong>å®éªŒç¯å¢ƒï¼š</strong>CentOS 7.4 64ä½<br><strong>å†…æ ¸ç‰ˆæœ¬ï¼š</strong>Linux version 3.10.0-693.2.2.el7.x86_64<br><strong>Nginxç‰ˆæœ¬ï¼š</strong>nginx-1.14.0</p><p>Letâ€™s Encryptæ˜¯ä¸€ä¸ªå…è´¹çš„ã€è‡ªåŠ¨åŒ–ã€å¼€æ”¾çš„è¯ä¹¦é¢å‘æœºæ„ã€‚ç”±Mozillaã€Ciscoã€Chromeã€facebookã€Akamaiç­‰ä¼—å¤šå…¬å¸å’Œæœºæ„å‘èµ·çš„ï¼Œå…¶å®‰å…¨ç¨³å®šåŠå…¶å¯é ã€‚å…·ä½“ä¿¡æ¯å¯ä»¥å»letsencryptå®˜æ–¹ç½‘ç«™äº†è§£è¯¦æƒ…ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±å……åˆ†åˆ©ç”¨Lets Encryptè®©ä½ çš„ç½‘ç«™å®ç°httpsåŠ å¯†ã€‚</p><p>å®˜ç½‘ï¼š<a href="https://letsencrypt.org/">https://letsencrypt.org/</a></p><h2 id="å®‰è£…è¯ä¹¦"><a href="#å®‰è£…è¯ä¹¦" class="headerlink" title="å®‰è£…è¯ä¹¦"></a>å®‰è£…è¯ä¹¦</h2><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">$ yum install -y epel-release</span><br></pre></td></tr></table></figure><p>Certbotæ˜¯Letâ€™s Encryptå®˜æ–¹æŒ‡å®šæ¨èçš„å®¢æˆ·ç«¯ã€‚é€šè¿‡ Certbotï¼Œä½ å¯ä»¥è‡ªåŠ¨åŒ–éƒ¨ç½² Letâ€™s Encrypt SSLè¯ä¹¦ï¼Œä»¥ä¾¿ä¸ºç½‘ç«™åŠ ä¸ŠHTTPSåŠ å¯†æ”¯æŒã€‚</p><figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">$ yum install certbot</span><br><span class="line">$ certbot certonly</span><br><span class="line">Saving debug log to /var/log/letsencrypt/letsencrypt.log</span><br><span class="line">How would you like to authenticate with the ACME CA?</span><br><span class="line"><span class="comment">//ä½ æ˜¯å¸Œæœ›å¦‚ä½•ä½¿ç”¨ACME CAè¿›è¡Œèº«ä»½éªŒè¯ï¼Ÿ</span></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">1: Place files in webroot directory (webroot)</span><br><span class="line"><span class="comment">//å°†æ–‡ä»¶æ”¾åœ¨webrootç›®å½•</span></span><br><span class="line">2: Spin up a temporary webserver (standalone)</span><br><span class="line"><span class="comment">//ä½¿ç”¨ä¸´æ—¶WebæœåŠ¡å™¨ï¼ˆç‹¬ç«‹ç›®å½•ï¼‰</span></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">Select the appropriate number [1-2] then [enter] (press <span class="emphasis">&#x27;c&#x27;</span> to cancel):1 ã€é€‰æ‹©1å›è½¦ã€‘</span><br><span class="line">Enter email address (used for urgent renewal and security notices) (Enter <span class="emphasis">&#x27;c&#x27;</span> to</span><br><span class="line">cancel):su@renwole.comã€è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€ï¼Œç”¨äºç´§æ€¥æ›´æ–°å’Œå®‰å…¨é€šçŸ¥ã€‘</span><br><span class="line">Starting new HTTPS connection (1): acme-v01.api.letsencrypt.org</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">Please read the Terms of Service at</span><br><span class="line">https://letsencrypt.org/documents/LE-SA-v1.1.1-August-1-2016.pdf. You must agree</span><br><span class="line">in order to register with the ACME server at</span><br><span class="line">https://acme-v01.api.letsencrypt.org/directory</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">(A)gree/(C)ancel: Aã€é€‰æ‹©Aå›è½¦åŒæ„æœåŠ¡æ¡æ¬¾ï¼ŒCä¸ºæ‹’ç»ã€‘</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">Would you be willing to share your email address with the Electronic Frontier</span><br><span class="line">Foundation, a founding partner of the Let&#x27;s Encrypt project and the non-profit</span><br><span class="line">organization that develops Certbot? We&#x27;d like to send you email about EFF and</span><br><span class="line">our work to encrypt the web, protect its users and defend digital rights.</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">(Y)es/(N)o:Yã€æ‚¨æ˜¯å¦æ„¿æ„åˆ†äº«æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œå»ºè®®é€‰æ‹©Yå›è½¦ã€‘</span><br><span class="line">Please enter in your domain name(s) (comma and/or space separated) (Enter <span class="emphasis">&#x27;c&#x27;</span></span><br><span class="line">to cancel): blog.renwole.comã€è¾“å…¥åŸŸåå›è½¦ã€‘</span><br><span class="line">Obtaining a new certificate</span><br><span class="line">Performing the following challenges:</span><br><span class="line">http-01 challenge for blog.renwole.com</span><br><span class="line">Select the webroot for blog.renwole.com:</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">1: Enter a new webroot</span><br><span class="line"><span class="comment">//è¾“å…¥ç½‘ç«™ç»å¯¹è·¯å¾„</span></span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">Press 1 [enter] to confirm the selection (press <span class="emphasis">&#x27;c&#x27;</span> to cancel):1ã€é€‰æ‹©æ•°å­—1å›è½¦ã€‘</span><br><span class="line">Input the webroot for blog.renwole.com: (Enter <span class="emphasis">&#x27;c&#x27;</span> to cancel):/home/www/blog.renwole.comã€è¾“å…¥ç½‘ç«™æ‰€åœ¨ç»å¯¹è·¯å¾„å›è½¦ã€‘</span><br><span class="line">Waiting for verification...</span><br><span class="line">Waiting for verification...</span><br><span class="line">Cleaning up challenges</span><br><span class="line">Generating key (2048 bits): /etc/letsencrypt/keys/0001_key-certbot.pem</span><br><span class="line">Creating CSR: /etc/letsencrypt/csr/0001_csr-certbot.pem</span><br><span class="line">IMPORTANT NOTES:</span><br><span class="line"><span class="bullet">- </span>Congratulations! Your certificate and chain have been saved at</span><br><span class="line">/etc/letsencrypt/live/blog.renwole.com/fullchain.pem. Your cert</span><br><span class="line">will expire on 2017-08-09. To obtain a new or tweaked version of</span><br><span class="line">this certificate in the future, simply run certbot again. To</span><br><span class="line">non-interactively renew <span class="strong">*all*</span> of your certificates, run &quot;certbot</span><br><span class="line">renew&quot;</span><br><span class="line"><span class="bullet">- </span>If you like Certbot, please consider supporting our work by:</span><br><span class="line">Donating to ISRG / Let&#x27;s Encrypt: https://letsencrypt.org/donate</span><br><span class="line">Donating to EFF:</span><br></pre></td></tr></table></figure><p>æ­å–œ!æ‚¨çš„SSLè¯ä¹¦å’Œå¯†é’¥é“¾æ¥å·²ä¿å­˜ï¼Œä½ çš„è¯ä¹¦å°†äº2017-08-09åˆ°æœŸã€‚<br>æ³¨æ„ï¼šè¿™é‡Œéœ€è¦è¯´æ˜ï¼Œåœ¨ç”Ÿæˆè¯ä¹¦ä¹‹å‰ï¼Œä½ å¿…é¡»ä¿è¯nginx 443ç«¯å£æ˜¯è¿è¡ŒçŠ¶æ€ï¼Œå¦åˆ™ä¼šç”Ÿæˆè¯ä¹¦å¤±è´¥ã€‚</p><h4 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h4><h6 id="é”®å…¥certbot-certonlyæŠ¥é”™"><a href="#é”®å…¥certbot-certonlyæŠ¥é”™" class="headerlink" title="é”®å…¥certbot certonlyæŠ¥é”™"></a>é”®å…¥certbot certonlyæŠ¥é”™</h6><p>å®‰è£…ä¹‹åï¼Œé”®å…¥certbot certonlyï¼Œå¯èƒ½ä¼šæç¤ºæŠ¥é”™ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="/usr/image/article/bashProfile/02/cerbotCertonly.png" alt="Alt test"></p><p>è§£å†³æ–¹æ¡ˆï¼š<br>è¿™å—æˆ‘ç¡®å®ä¸å¤ªæ˜ç™½ï¼Œå¯èƒ½å°±æ˜¯ç‰ˆæœ¬çš„é—®é¢˜ï¼Œç¼ºå°‘pythonçš„é…ç½®åº“ï¼Œæˆ‘ä¹Ÿæ˜¯æŸ¥æ‰¾äº†å¥½å¤šèµ„æ–™è§£å†³çš„ ::aru:crying:: </p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>pip uninstall requests</span><br><span class="line"><span class="variable">$ </span>pip uninstall urllib3</span><br><span class="line"><span class="variable">$ </span>yum remove python-urllib3</span><br><span class="line"><span class="variable">$ </span>yum remove python-requests</span><br><span class="line"><span class="variable">$ </span>yum install python-urllib3</span><br><span class="line"><span class="variable">$ </span>yum install python-requests</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æç¤ºæ¥å°±OK<br>æœ€ååœ¨é”®å…¥$ certbot certonly<br>æŒ‰ç…§ä¸Šé¢çš„å®‰è£…æ­¥éª¤æç¤ºèµ°ä¸€éï¼Œåœ¨æœ€åä¸€æ­¥è¾“å…¥åŸŸåæ—¶ï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶åœä¸‹æ¥ã€‚</p><p>é”®å…¥</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">sudo certbot certonly --webroot --webroot-path=<span class="regexp">/home/</span>hulang<span class="regexp">/www/</span>niaobulashi -d niaobulashi.com</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆä¼šç”Ÿæˆletsencryptçš„è¯ä¹¦æ–‡ä»¶ï¼šåŒ…æ‹¬è¯ä¹¦ç§é’¥æ–‡ä»¶privkey.pemã€è¯ä¹¦é“¾æ–‡ä»¶fullchain.pem<br><img src="/usr/image/article/bashProfile/02/LetsEncryptSuccess.png" alt="Alt test"></p><h4 id="æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯"><a href="#æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯"></a>æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯</h4><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>certbot certificates</span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/02/LetsEncryptInfo.png" alt="Alt test"></p><h2 id="è‡ªåŠ¨ç»­è®¢"><a href="#è‡ªåŠ¨ç»­è®¢" class="headerlink" title="è‡ªåŠ¨ç»­è®¢"></a>è‡ªåŠ¨ç»­è®¢</h2><p>Certbotå¯ä»¥é…ç½®ä¸ºåœ¨è¯ä¹¦è¿‡æœŸä¹‹å‰è‡ªåŠ¨æ›´æ–°è¯ä¹¦ã€‚ç”±äºLetâ€™s Encrypt SSLè¯ä¹¦æœ‰æ•ˆæœŸæ—¶é—´ä¸º90å¤©ï¼Œæ‰€ä»¥å»ºè®®æ‚¨åˆ©ç”¨æ­¤åŠŸèƒ½ã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æµ‹è¯•è¯ä¹¦çš„è‡ªåŠ¨ç»­è®¢ï¼š</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">$ sudo certbot <span class="comment">--nginx certonly</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä»¥ä¸Šæ­£å¸¸å·¥ä½œï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ è¿è¡Œä»¥ä¸‹æ“ä½œçš„cronæˆ–systemdå®šæ—¶ä»»åŠ¡å®‰æ’è‡ªåŠ¨æ›´æ–°ï¼š</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>certbot renew</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†™ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œè„šæœ¬ï¼Œå»ºè®®æ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼š</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>sudo crontab -e</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">0 </span>*/<span class="number">6</span> * * * /<span class="keyword">usr</span>/bin/certbot renew --quiet &amp;&amp; /bin/systemctl restart nginx</span><br></pre></td></tr></table></figure><p>ä¿å­˜å¹¶é€€å‡ºï¼<br>é€šè¿‡å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ·»åŠ æˆåŠŸï¼š</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ crontab -l</span><br><span class="line"><span class="number">0</span> *<span class="regexp">/6 * * * /u</span>sr<span class="regexp">/bin/</span>certbot renew --quiet &amp;&amp; <span class="regexp">/bin/</span>systemctl restart nginx</span><br></pre></td></tr></table></figure><p>é‡å¯crontab</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>systemctl restart crond.service</span><br></pre></td></tr></table></figure><p>è¯ä¹¦æ˜¯å¦ç»­è®¢æˆåŠŸï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç®¡ç†æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯ï¼š</p><figure class="highlight elixir"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ </span>certbot certificates</span><br></pre></td></tr></table></figure><h2 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h2><p>æ¥ä¸‹æ¥ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹severæ®µï¼Œå»æ‰ç›¸åº”æ³¨é‡Šï¼Œå°†ç”Ÿæˆçš„SSLè¯ä¹¦å¡«å†™åˆ°ssl_certificateåé¢ï¼Œå°†ç”Ÿæˆçš„å¯†é’¥å¡«å†™åˆ°ssl_certificate_keyåé¢ï¼Œä¿å­˜å¹¶é‡å¯nginxæœåŠ¡å™¨å³å¯ã€‚</p><p>è¿™å—é…ç½®æ–‡ä»¶æˆ‘å…¶å®ä¸å¤ªç†Ÿï¼Œæœ€ä¸»è¦çš„æ˜¯åä»£é‚£é‡Œï¼Œä¸æ‡‚çš„åƒä¸‡å…ˆåˆ«ä¹±åŠ å†…å®¹(Ã³ï¹Ã²ï½¡)æˆ‘å¯æ˜¯å°åˆ°è‹¦å¤´äº†ã€‚ä½ åªéœ€è¦æ³¨æ„é…ç½®ä¸Šè¯ä¹¦ä¿¡æ¯å³å¯ï¼Œåˆ«çš„å…ˆåˆ«ç®¡å•¦</p><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">$ vi <span class="regexp">/usr/</span>local<span class="regexp">/nginx/</span>conf/nginx.conf</span><br><span class="line">server &#123;</span><br><span class="line"> listen <span class="number">443</span> ssl;</span><br><span class="line"> ssl_certificate <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/live/</span>blog.renwole.com/fullchain.pem;</span><br><span class="line"> ssl_certificate_key <span class="regexp">/etc/</span>letsencrypt<span class="regexp">/live/</span>blog.renwole.com/privkey.pem;</span><br><span class="line"><span class="comment"># ssl_session_cache shared:SSL:1m;</span></span><br><span class="line"> ssl_session_timeout <span class="number">5</span>m;</span><br><span class="line"><span class="comment"># ssl_ciphers HIGH:!aNULL:!MD5;</span></span><br><span class="line"> ssl_prefer_server_ciphers on;</span><br><span class="line"><span class="comment"># location / &#123;</span></span><br><span class="line"> <span class="comment"># root html;</span></span><br><span class="line"> <span class="comment"># index index.html index.htm;</span></span><br><span class="line"> <span class="comment"># &#125;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è°·æ­Œæµè§ˆå™¨è®¿é—®<a href="https://blog.my.com/">https://blog.my.com/</a> å¯ä»¥çœ‹åˆ°ç»¿è‰²çš„å®‰å…¨å°é”å›¾æ ‡ï¼Œè¯´æ˜ç½‘ç«™å·²ç»httpsåŠ å¯†æˆåŠŸã€‚</p><p><img src="/usr/image/article/bashProfile/02/https.png" alt="Alt test"></p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://mp.weixin.qq.com/s/RAf2STrsqbmO2Q3YqgAujw">https://mp.weixin.qq.com/s/RAf2STrsqbmO2Q3YqgAujw</a><br><a href="https://www.uumoon.cn/article/index/comm/66.html">https://www.uumoon.cn/article/index/comm/66.html</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsç³»ç»Ÿä¸‹å®‰è£…å’Œç§»é™¤apacheæœåŠ¡</title>
      <link href="2018/05/27/2018-05-27-windowsApache/"/>
      <url>2018/05/27/2018-05-27-windowsApache/</url>
      
        <content type="html"><![CDATA[<p>ç”¨windowsç³»ç»Ÿæœ¬åœ°æ­å»ºapacheï¼Œæœ‰æ—¶ä¼šé‡åˆ°ç³Ÿå¿ƒçš„é—®é¢˜ï¼Œæƒ³å¸è½½äº†é‡è£…ï¼Œè¿™æ—¶å·²ç»å°†æœåŠ¡æŒ‚è½½åœ¨windowsæœåŠ¡åˆ—è¡¨ä¸­ï¼Œäºæ˜¯éœ€è¦å°†æœåŠ¡å¸è½½æ‰ï¼Œè¿™é‡Œå…ˆå®‰è£…åœ¨å¸è½½å§</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ç›´æ¥æ”¾å‡ºå®˜ç½‘é“¾æ¥ï¼š<a href="https://www.apachehaus.com/cgi-bin/download.plx">windowsç‰ˆæœ¬apacheä¸‹è½½åœ°å€</a><br>é€‰æ‹©ç›¸åº”çš„ç‰ˆæœ¬ä¸‹è½½å³å¯<br>è§£å‹åˆ°ç›®æ ‡ç›®å½•ä¸‹<br>ä½¿ç”¨ç®¡ç†å‘˜è¿›å…¥cmdå‘½ä»¤çª—å£æ¨¡å¼ä¸‹<br>cd apacheçš„binç›®å½•ä¸‹</p><pre><code>cd c:\Apache24\bin.\httpd.exe -k install -n apache</code></pre><p>æç¤ºï¼š<br>Installing the â€˜apacheâ€™ service<br>The â€˜apacheâ€™ service is successfully installed.</p><p>æŸ¥çœ‹windowsæœåŠ¡:<br>è¿›å…¥win + Rï¼Œé”®å…¥services.msc<br>æ­¤æ—¶ä¼šæ‰¾åˆ°æœåŠ¡åç§°ä¸ºï¼šapacheçš„æœåŠ¡<br>å³é”®å¯åŠ¨å³å¯</p><h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><p>åŒç†å®‰è£…ä¸€æ ·ã€‚ã€‚ã€‚<br>å‘½ä»¤ä¸ä¸€æ ·ç½¢äº†</p><pre><code>cd c:\Apache24\bin.\httpd.exe -k uninstall -n apache</code></pre><p>è¿›å…¥windowsæœåŠ¡åˆ—è¡¨å¯ä»¥çœ‹åˆ°apacheå·²ç§»é™¤</p><p>å“¦å•¦~</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Apache </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lets Encryptè¯ä¹¦ç»ˆäºæå®šäº†</title>
      <link href="2018/05/22/2018-05-22-planToSSL/"/>
      <url>2018/05/22/2018-05-22-planToSSL/</url>
      
        <content type="html"><![CDATA[<p>å•Šå•Šå•Šï¼Œå†ç»åƒè¾›ä¸‡è‹¦ï¼Œç»ˆäºæŠŠhttpsç»™å¼„ä¸Šå»äº†ï¼Œä¸æˆ‘æ¥è¯´ç¡®å®æ˜¯ä¸å®¹æ˜“å•Š<br>æœ‰æ—¶é—´æˆ‘å†å†™ä¸ªå®‰è£…éƒ¨ç½²æ€»ç»“æ–‡æ¡£</p><p>æˆ‘ä¼šåœ¨è¿™ä¸ªå‘¨æœ«æŠŠæˆ‘å®‰è£…è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å¥½å¥½æ€»ç»“ä¸€ä¸‹ï¼Œå†™ä¸€ç¯‡åšå®¢</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™è®¿é—®å¤ªæ…¢äº†å•Šå•Šå•Šï¼Œä¸èƒ½å¿</title>
      <link href="2018/05/15/2018-05-15-slow/"/>
      <url>2018/05/15/2018-05-15-slow/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘äº†è§£åˆ°CDNå†…å®¹åˆ†å‘ç½‘ç»œï¼Œæœ‰å¿…è¦å¥½å¥½äº†è§£ä¸€ä¸‹<br>ä¸ç„¶ç½‘ç«™è®¿é—®å¤ªæ…¢äº†ï¼Œéƒ½å¤±å»è®¿é—®çš„åŠ¨åŠ›äº†<br>æœ‰å¿…è¦å¼„ä¸ªCDNã€‚|Â´ãƒ»Ï‰ãƒ»)ãƒ</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­Œæ›²Attention</title>
      <link href="2018/05/09/2018-05-09-attention/"/>
      <url>2018/05/09/2018-05-09-attention/</url>
      
        <content type="html"><![CDATA[<p>You just want attention<br>ä½ åªæ˜¯æƒ³å¼•äººæ³¨æ„</p><p>You donâ€™t want my heart<br>å¹¶ä¸æ˜¯çœŸæƒ³ä¿˜è·æˆ‘å¿ƒ</p><p>Maybe you just hate the thought of me with someone new<br>ä½ åªæ˜¯ä¸æ„¿å»æƒ³åˆ°æˆ‘å’Œåˆ«äººä¼šåœ¨ä¸€èµ·</p><p>Yeah, you just want attention<br>ä½ åªæ˜¯æƒ³å¼•èµ·æˆ‘çš„æ³¨æ„</p><p>I knew from the start<br>ä»ä¸€å¼€å§‹æˆ‘ä¾¿å¿ƒçŸ¥è‚šæ˜</p><p>Youâ€™re just making sure Iâ€™m never getting over you<br>ä½ åªæ˜¯æƒ³ç¡®ä¿¡æˆ‘è¿˜æ˜¯ä¾ç„¶å¿˜ä¸æ‰ä½ </p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlæ•°æ®åº“å¼€å‘å¸¸è§é—®é¢˜åŠä¼˜åŒ–</title>
      <link href="2018/05/07/2018-05-07-mysql-question/"/>
      <url>2018/05/07/2018-05-07-mysql-question/</url>
      
        <content type="html"><![CDATA[<blockquote><p>mysql æ•°æ®åº“æ˜¯è¢«å¹¿æ³›åº”ç”¨çš„å…³ç³»å‹æ•°æ®åº“ï¼Œå…¶ä½“ç§¯å°ã€æ”¯æŒå¤šå¤„ç†å™¨ã€å¼€æºå¹¶å…è´¹çš„ç‰¹æ€§ä½¿å…¶åœ¨<br>Internet ä¸­å°å‹ç½‘ç«™ä¸­çš„ä½¿ç”¨ç‡å°¤å…¶é«˜ã€‚åœ¨ä½¿ç”¨ mysql çš„è¿‡ç¨‹ä¸­ä¸è§„èŒƒçš„ SQL ç¼–å†™ã€éæœ€ä¼˜çš„ç­–ç•¥é€‰æ‹©éƒ½å¯èƒ½å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ç”šè‡³åŠŸèƒ½ä¸Šçš„ç¼ºé™·ã€‚</p></blockquote><p>å¼€å‘è¿‡ç¨‹ä¸­ mysql æ•°æ®åº“è®¾è®¡åŠä½¿ç”¨çš„å¸¸è§é—®é¢˜ï¼Œå¹¶æå‡ºç›¸å…³ä¼˜åŒ–æ–¹æ¡ˆã€‚è¿›è¡Œäº†ä¸€æ¬¡å°ç»“ï¼Œç»“åˆè‡ªå·±çš„å·¥ä½œç»å†åŠç†è§£å½¢æˆæ­¤æ–‡ä»¥ä¾›åˆ†äº«ï¼Œå¸Œæœ›èƒ½æœ‰åŠ©äºå„ä½åŒè¡Œè§£å†³å·¥ä½œä¸­çš„ç›¸å…³é—®é¢˜ã€‚<br>æœ¬æ–‡å°†å°±ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜è¿›è¡Œå±•å¼€ï¼š</p><ol><li>åº“è¡¨è®¾è®¡</li><li>æ…¢SQL é—®é¢˜</li><li>è¯¯æ“ä½œã€ç¨‹åº bug æ—¶æ€ä¹ˆåŠ</li></ol><h2 id="åº“è¡¨è®¾è®¡"><a href="#åº“è¡¨è®¾è®¡" class="headerlink" title="åº“è¡¨è®¾è®¡"></a>åº“è¡¨è®¾è®¡</h2><h4 id="å¼•æ“é€‰æ‹©"><a href="#å¼•æ“é€‰æ‹©" class="headerlink" title="å¼•æ“é€‰æ‹©"></a>å¼•æ“é€‰æ‹©</h4><p>åœ¨ mysql 5.1 ä¸­ï¼Œå¼•å…¥äº†æ–°çš„æ’ä»¶å¼å­˜å‚¨å¼•æ“ä½“ç³»ç»“æ„ï¼Œå…è®¸å°†å­˜å‚¨å¼•æ“åŠ è½½åˆ°æ­£åœ¨è¿æ–°çš„ mysql æœåŠ¡å™¨ä¸­ã€‚ä½¿ç”¨ mysql æ’ä»¶å¼å­˜å‚¨å¼•æ“ä½“ç³»ç»“æ„ï¼Œå…è®¸æ•°æ®åº“ä¸“ä¸šäººå‘˜æˆ–è€…è®¾è®¡åº“è¡¨çš„è½¯ä»¶å¼€å‘äººå‘˜ä¸ºç‰¹å®šçš„åº”ç”¨éœ€æ±‚é€‰æ‹©ä¸“é—¨çš„å­˜å‚¨å¼•æ“ï¼Œå®Œå…¨ä¸éœ€è¦ç®¡ç†ä»»ä½•ç‰¹æ®Šçš„åº”ç”¨ç¼–ç è¦æ±‚ï¼Œä¹Ÿæ— éœ€è€ƒè™‘æ‰€æœ‰çš„åº•å±‚å®æ–½ç»†èŠ‚ã€‚å› æ­¤ï¼Œå°½ç®¡ä¸åŒçš„å­˜å‚¨å¼•æ“å…·æœ‰ä¸åŒçš„èƒ½åŠ›ï¼Œåº”ç”¨ç¨‹åºæ˜¯ä¸ä¹‹åˆ†ç¦»çš„ã€‚æ­¤å¤–ï¼Œä½¿ç”¨è€…å¯ä»¥åœ¨æœåŠ¡å™¨ã€æ•°æ®åº“å’Œè¡¨æ ¼ä¸‰ä¸ªå±‚çº§ä¸­å­˜å‚¨å¼•æ“ï¼Œæä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚</p><p>mysql å¸¸ç”¨çš„å­˜å‚¨å¼•æ“åŒ…æ‹¬ MYISAMã€Innodb å’Œ Memoryï¼Œå…¶ä¸­å„è‡ªçš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><blockquote><p>1.MYISAM : å…¨è¡¨é”ï¼Œæ‹¥æœ‰è¾ƒé«˜çš„æ‰§è¡Œé€Ÿåº¦ï¼Œä¸€ä¸ªå†™è¯·æ±‚è¯·é˜»å¡å¦å¤–ç›¸åŒè¡¨æ ¼çš„æ‰€æœ‰è¯»å†™è¯·æ±‚ï¼Œå¹¶å‘æ€§èƒ½å·®ï¼Œå ç”¨ç©ºé—´ç›¸å¯¹è¾ƒå°ï¼Œmysql 5.5 åŠä»¥ä¸‹ä»… MYISAM æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼Œä¸æ”¯æŒäº‹åŠ¡ã€‚<br>2.Innodbï¼šè¡Œçº§é”ï¼ˆSQL éƒ½èµ°ç´¢å¼•æŸ¥è¯¢ï¼‰ï¼Œå¹¶å‘èƒ½åŠ›ç›¸å¯¹å¼ºï¼Œå ç”¨ç©ºé—´æ˜¯ MYISAM çš„ 2.5 å€ï¼Œä¸æ”¯æŒå…¨æ–‡ç´¢å¼•ï¼ˆ5.6 å¼€å§‹æ”¯æŒï¼‰ï¼Œæ”¯æŒäº‹åŠ¡<br>3.Memory : å…¨è¡¨é”ï¼Œå­˜å‚¨åœ¨å†…å­˜å½“ä¸­ï¼Œé€Ÿåº¦å¿«ï¼Œä½†ä¼šå ç”¨å’Œæ•°æ®é‡æˆæ­£æ¯”çš„å†…å­˜ç©ºé—´ä¸”æ•°æ®åœ¨ mysql é‡å¯æ—¶ä¼šä¸¢å¤±ã€‚</p></blockquote><p>åŸºäºä»¥ä¸Šç‰¹æ€§ï¼Œå»ºè®®ç»å¤§éƒ¨ä»½éƒ½è®¾ç½®ä¸º innodb å¼•æ“ï¼Œç‰¹æ®Šçš„ä¸šåŠ¡å†è€ƒè™‘é€‰ç”¨ MYISAM æˆ– Memory ï¼Œå¦‚å…¨æ–‡ç´¢å¼•æ”¯æŒæˆ–æé«˜çš„æ‰§è¡Œæ•ˆç‡ç­‰ã€‚</p><h4 id="åˆ†è¡¨æ–¹æ³•"><a href="#åˆ†è¡¨æ–¹æ³•" class="headerlink" title="åˆ†è¡¨æ–¹æ³•"></a>åˆ†è¡¨æ–¹æ³•</h4><p>åœ¨æ•°æ®åº“è¡¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†å‡å°æ•°æ®åº“æœåŠ¡å™¨çš„è´Ÿæ‹…ã€ç¼©çŸ­æŸ¥è¯¢æ—¶é—´ï¼Œå¸¸å¸¸ä¼šè€ƒè™‘åšåˆ†è¡¨è®¾è®¡ã€‚åˆ†è¡¨åˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯çºµå‘åˆ†è¡¨ï¼ˆå°†æœ¬æ¥å¯ä»¥åœ¨åŒä¸€ä¸ªè¡¨çš„å†…å®¹ï¼Œäººä¸ºåˆ’åˆ†å­˜å‚¨åœ¨ä¸ºå¤šä¸ªä¸åŒç»“æ„çš„è¡¨ï¼‰å’Œæ¨ªå‘åˆ†è¡¨ï¼ˆæŠŠå¤§çš„è¡¨ç»“æ„ï¼Œæ¨ªå‘åˆ‡å‰²ä¸ºåŒæ ·ç»“æ„çš„ä¸åŒè¡¨ï¼‰ã€‚</p><p>å…¶ä¸­ï¼Œçºµå‘åˆ†è¡¨å¸¸è§çš„æ–¹å¼æœ‰æ ¹æ®æ´»è·ƒåº¦åˆ†è¡¨ã€æ ¹æ®é‡è¦æ€§åˆ†è¡¨ç­‰ã€‚å…¶ä¸»è¦è§£å†³é—®é¢˜å¦‚ä¸‹ï¼š</p><ol><li>è¡¨ä¸è¡¨ä¹‹é—´èµ„æºäº‰ç”¨é—®é¢˜ï¼›</li><li>é”äº‰ç”¨æœºç‡å°ï¼›</li><li>å®ç°æ ¸å¿ƒä¸éæ ¸å¿ƒçš„åˆ†çº§å­˜å‚¨ï¼Œå¦‚UDBç™»é™†åº“æ‹†åˆ†æˆä¸€çº§äºŒçº§ä¸‰çº§åº“</li><li>è§£å†³äº†æ•°æ®åº“åŒæ­¥å‹åŠ›é—®é¢˜ã€‚</li></ol><p>æ¨ªå‘åˆ†è¡¨æ˜¯æŒ‡æ ¹æ®æŸäº›ç‰¹å®šçš„è§„åˆ™æ¥åˆ’åˆ†å¤§æ•°æ®é‡è¡¨ï¼Œå¦‚æ ¹æ®æ—¶é—´åˆ†è¡¨ã€‚å…¶ä¸»è¦è§£å†³é—®é¢˜å¦‚ä¸‹ï¼š</p><ol><li>å•è¡¨è¿‡å¤§é€ æˆçš„æ€§èƒ½é—®é¢˜ï¼›</li><li>å•è¡¨è¿‡å¤§é€ æˆçš„å•æœåŠ¡å™¨ç©ºé—´é—®é¢˜ã€‚</li></ol><h4 id="ç´¢å¼•é—®é¢˜"><a href="#ç´¢å¼•é—®é¢˜" class="headerlink" title="ç´¢å¼•é—®é¢˜"></a>ç´¢å¼•é—®é¢˜</h4><p>ç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å€¼è¿›è¡Œæ’åºçš„ç»“æ„ï¼Œå»ºç«‹ç´¢å¼•æœ‰åŠ©äºæ›´å¿«åœ°è·å–ä¿¡æ¯ã€‚ mysql æœ‰å››ç§ä¸åŒçš„ç´¢å¼•ç±»å‹ï¼š</p><ol><li>ä¸»é”®ç´¢æ­¤ ( PRIMARY )</li><li>å”¯ä¸€ç´¢å¼• ( UNIQUE )</li><li>æ™®é€šç´¢å¼• ( INDEX )</li><li>å…¨æ–‡ç´¢å¼•ï¼ˆFULLTEXT , MYISAM åŠ mysql 5.6 ä»¥ä¸Šçš„ Innodb ï¼‰</li></ol><p>å»ºç«‹ç´¢å¼•çš„ç›®çš„æ˜¯åŠ å¿«å¯¹è¡¨ä¸­è®°å½•çš„æŸ¥æ‰¾æˆ–æ’åºï¼Œç´¢å¼•ä¹Ÿå¹¶éè¶Šå¤šè¶Šå¥½ï¼Œå› ä¸ºåˆ›å»ºç´¢å¼•æ˜¯è¦ä»˜å‡ºä»£ä»·çš„ï¼šä¸€æ˜¯å¢åŠ äº†æ•°æ®åº“çš„å­˜å‚¨ç©ºé—´ï¼ŒäºŒæ˜¯åœ¨æ’å…¥å’Œä¿®æ”¹æ•°æ®æ—¶è¦èŠ±è´¹è¾ƒå¤šçš„æ—¶é—´ç»´æŠ¤ç´¢å¼•ã€‚</p><p>åœ¨è®¾è®¡è¡¨æˆ–ç´¢å¼•æ—¶ï¼Œå¸¸å‡ºç°ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li>å°‘å»ºç´¢å¼•æˆ–ä¸å»ºç´¢å¼•ã€‚è¿™ä¸ªé—®é¢˜æœ€çªå‡ºï¼Œå»ºè®®å»ºè¡¨æ—¶ DBA å¯ä»¥ä¸€èµ·ååŠ©æŠŠå…³ã€‚</li><li>ç´¢å¼•æ»¥ç”¨ã€‚æ»¥ç”¨ç´¢å¼•å°†å¯¼è‡´å†™è¯·æ±‚å˜æ…¢ï¼Œæ‹–æ…¢æ•´ä½“æ•°æ®åº“çš„å“åº”é€Ÿåº¦ï¼ˆ5.5 ä»¥ä¸‹çš„ mysql åªèƒ½ç”¨åˆ°ä¸€ä¸ªç´¢å¼•)ã€‚</li><li>ä»ä¸è€ƒè™‘è”åˆç´¢å¼•ã€‚å®é™…ä¸Šè”åˆç´¢å¼•çš„æ•ˆç‡å¾€å¾€è¦æ¯”å•åˆ—ç´¢å¼•çš„æ•ˆç‡æ›´é«˜ã€‚</li><li>éæœ€ä¼˜åˆ—é€‰æ‹©ã€‚ä½é€‰æ‹©æ€§çš„å­—æ®µä¸é€‚åˆå»ºå•åˆ—ç´¢å¼•ï¼Œå¦‚ status ç±»å‹çš„å­—æ®µã€‚</li></ol><h2 id="æ…¢-SQL-é—®é¢˜"><a href="#æ…¢-SQL-é—®é¢˜" class="headerlink" title="æ…¢ SQL é—®é¢˜"></a>æ…¢ SQL é—®é¢˜</h2><h4 id="å¯¼è‡´æ…¢-SQL-çš„åŸå› "><a href="#å¯¼è‡´æ…¢-SQL-çš„åŸå› " class="headerlink" title="å¯¼è‡´æ…¢ SQL çš„åŸå› "></a>å¯¼è‡´æ…¢ SQL çš„åŸå› </h4><p>åœ¨é‡åˆ°æ…¢ SQL æƒ…å†µæ—¶ï¼Œä¸èƒ½ç®€å•çš„æŠŠåŸå› å½’ç»“ä¸º SQL ç¼–å†™é—®é¢˜(è™½ç„¶è¿™æ˜¯æœ€å¸¸è§çš„å› ç´ )ï¼Œå®é™…ä¸Šå¯¼è‡´æ…¢ SQL æœ‰å¾ˆå¤šå› ç´ ï¼Œç”šè‡³åŒ…æ‹¬ç¡¬ä»¶å’Œ mysql æœ¬èº«çš„ bugã€‚æ ¹æ®å‡ºç°çš„æ¦‚ç‡ä»å¤§åˆ°å°ï¼Œç½—åˆ—å¦‚ä¸‹ï¼š</p><ol><li>SQLç¼–å†™é—®é¢˜</li><li>é”</li><li>ä¸šåŠ¡å®ä¾‹ç›¸äº’å¹²ç»•å¯¹ IO/CPU èµ„æºäº‰ç”¨</li><li>æœåŠ¡å™¨ç¡¬ä»¶</li><li>MYSQL BUG</li></ol><h4 id="ç”±-SQL-ç¼–å†™å¯¼è‡´çš„æ…¢-SQL-ä¼˜åŒ–"><a href="#ç”±-SQL-ç¼–å†™å¯¼è‡´çš„æ…¢-SQL-ä¼˜åŒ–" class="headerlink" title="ç”± SQL ç¼–å†™å¯¼è‡´çš„æ…¢ SQL ä¼˜åŒ–"></a>ç”± SQL ç¼–å†™å¯¼è‡´çš„æ…¢ SQL ä¼˜åŒ–</h4><p>é’ˆå¯¹SQLç¼–å†™å¯¼è‡´çš„æ…¢ SQLï¼Œä¼˜åŒ–èµ·æ¥è¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚æ­£å¦‚ä¸Šä¸€èŠ‚æåˆ°çš„æ­£ç¡®çš„ä½¿ç”¨ç´¢å¼•èƒ½åŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ç¼–å†™ SQL æ—¶å°±éœ€è¦æ³¨æ„ä¸ç´¢å¼•ç›¸å…³çš„è§„åˆ™ï¼š</p><ol><li>å­—æ®µç±»å‹è½¬æ¢å¯¼è‡´ä¸ç”¨ç´¢å¼•ï¼Œå¦‚å­—ç¬¦ä¸²ç±»å‹çš„ä¸ç”¨å¼•å·ï¼Œæ•°å­—ç±»å‹çš„ç”¨å¼•å·ç­‰ï¼Œè¿™æœ‰å¯èƒ½ä¼šç”¨ä¸åˆ°ç´¢å¼•å¯¼è‡´å…¨è¡¨æ‰«æï¼›</li><li>mysql ä¸æ”¯æŒå‡½æ•°è½¬æ¢ï¼Œæ‰€ä»¥å­—æ®µå‰é¢ä¸èƒ½åŠ å‡½æ•°ï¼Œå¦åˆ™è¿™å°†ç”¨ä¸åˆ°ç´¢å¼•ï¼›</li><li>ä¸è¦åœ¨å­—æ®µå‰é¢åŠ å‡è¿ç®—ï¼›</li><li>å­—ç¬¦ä¸²æ¯”è¾ƒé•¿çš„å¯ä»¥è€ƒè™‘ç´¢å¼•ä¸€éƒ¨ä»½å‡å°‘ç´¢å¼•æ–‡ä»¶å¤§å°ï¼Œæé«˜å†™å…¥æ•ˆç‡ï¼›</li><li>like % åœ¨å‰é¢ç”¨ä¸åˆ°ç´¢å¼•ï¼›</li><li>æ ¹æ®è”åˆç´¢å¼•çš„ç¬¬äºŒä¸ªåŠä»¥åçš„å­—æ®µå•ç‹¬æŸ¥è¯¢ç”¨ä¸åˆ°ç´¢å¼•ï¼›</li><li>ä¸è¦ä½¿ç”¨ select *ï¼›</li><li>æ’åºè¯·å°½é‡ä½¿ç”¨å‡åº ;</li><li>or çš„æŸ¥è¯¢å°½é‡ç”¨ union ä»£æ›¿ ï¼ˆInnodbï¼‰ï¼›</li><li>å¤åˆç´¢å¼•é«˜é€‰æ‹©æ€§çš„å­—æ®µæ’åœ¨å‰é¢ï¼›</li><li>order by / group by å­—æ®µåŒ…æ‹¬åœ¨ç´¢å¼•å½“ä¸­å‡å°‘æ’åºï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚</li></ol><p>é™¤äº†ä¸Šè¿°ç´¢å¼•ä½¿ç”¨è§„åˆ™å¤–ï¼ŒSQL ç¼–å†™æ—¶è¿˜éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š</p><ol><li>å°½é‡è§„é¿å¤§äº‹åŠ¡çš„ SQLï¼Œå¤§äº‹åŠ¡çš„ SQL ä¼šå½±å“æ•°æ®åº“çš„å¹¶å‘æ€§èƒ½åŠä¸»ä»åŒæ­¥ï¼›</li><li>åˆ†é¡µè¯­å¥ limit çš„é—®é¢˜ï¼›</li><li>åˆ é™¤è¡¨æ‰€æœ‰è®°å½•è¯·ç”¨ truncateï¼Œä¸è¦ç”¨ deleteï¼›</li><li>ä¸è®© mysql å¹²å¤šä½™çš„äº‹æƒ…ï¼Œå¦‚è®¡ç®—ï¼›</li><li>è¾“å†™ SQL å¸¦å­—æ®µï¼Œä»¥é˜²æ­¢åé¢è¡¨å˜æ›´å¸¦æ¥çš„é—®é¢˜ï¼Œæ€§èƒ½ä¹Ÿæ˜¯æ¯”è¾ƒä¼˜çš„ ( æ¶‰åŠåˆ°æ•°æ®å­—å…¸è§£æï¼Œè¯·è‡ªè¡ŒæŸ¥è¯¢èµ„æ–™)ï¼›</li><li>åœ¨ Innodbä¸Šç”¨ select count(*)ï¼Œå› ä¸º Innodb ä¼šå­˜å‚¨ç»Ÿè®¡ä¿¡æ¯ï¼›</li><li>æ…ç”¨ Order by rand()ã€‚</li></ol><h2 id="åˆ†æè¯Šæ–­å·¥å…·"><a href="#åˆ†æè¯Šæ–­å·¥å…·" class="headerlink" title="åˆ†æè¯Šæ–­å·¥å…·"></a>åˆ†æè¯Šæ–­å·¥å…·</h2><p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›å·¥ä½œè¾¾åˆ°é¢„é˜²æ…¢ SQL é—®é¢˜ï¼Œæ¯”å¦‚åœ¨ä¸Šçº¿å‰é¢„å…ˆç”¨è¯Šæ–­å·¥å…·å¯¹ SQL è¿›è¡Œåˆ†æã€‚å¸¸ç”¨çš„å·¥å…·æœ‰ï¼š</p><ol><li>mysqldumpslow</li><li>mysql profile</li><li>mysql explain</li></ol><p>å…·ä½“ä½¿ç”¨åŠåˆ†ææ–¹æ³•åœ¨æ­¤å°±ä¸èµ˜è¿°ï¼Œç½‘ä¸Šæœ‰ä¸°å¯Œçš„èµ„æºå¯ä»¥å‚è€ƒã€‚</p><h2 id="è¯¯æ“ä½œã€ç¨‹åº-bug-æ—¶æ€ä¹ˆåŠ"><a href="#è¯¯æ“ä½œã€ç¨‹åº-bug-æ—¶æ€ä¹ˆåŠ" class="headerlink" title="è¯¯æ“ä½œã€ç¨‹åº bug æ—¶æ€ä¹ˆåŠ"></a>è¯¯æ“ä½œã€ç¨‹åº bug æ—¶æ€ä¹ˆåŠ</h2><p>æå‡ºè¿™ä¸ªé—®é¢˜æ˜¾ç„¶ä¸»è¦æ˜¯é’ˆå¯¹åˆšå¼€å§‹å·¥ä½œçš„å¹´è½»åŒè¡Œä»¬â€¦â€¦å®é™…ä¸Šè¯¯æ“ä½œå’Œç¨‹åº bug å¯¼è‡´æ•°æ®è¯¯åˆ æˆ–è€…æ··ä¹±çš„é—®é¢˜å¹¶éå°‘è§ï¼Œä½†æ˜¯åˆšå…¥è¡Œçš„å¼€å‘å·¥ä½œè€…ä¼šæ¯”è¾ƒç´§å¼ ã€‚ä¸€ä¸ªæˆç†Ÿçš„ä¼ä¸šå¾€å¾€ä¼šæœ‰å®Œå–„çš„æ•°æ®ç®¡ç†è§„èŒƒå’Œè¾ƒä¸°å¯Œçš„æ•°æ®æ¢å¤æ–¹æ¡ˆï¼ˆåˆåˆ›å…¬å¸é™¤å¤–ï¼‰ï¼Œä¼šè¿›è¡Œæ•°æ®å¤‡ä»½å’Œæ•°æ®å®¹ç¾ã€‚å½“ä½ å‘ç°è¯¯æ“ä½œæˆ–ç¨‹åº bug å¯¼è‡´çº¿ä¸Šæ•°æ®è¢«è¯¯åˆ æˆ–è¯¯æ”¹åŠ¨æ—¶ï¼Œä¸€å®šä¸èƒ½æ…Œä¹±ï¼Œåº”åŠæ—¶ä¸ DBA è”ç³»ï¼Œç¬¬ä¸€æ—¶é—´è¿›è¡Œæ•°æ®æ¢å¤ï¼ˆä¸¥é‡æ—¶ç›´æ¥åœæ­¢æœåŠ¡ï¼‰ï¼Œå°½å¯èƒ½å‡å°‘å½±å“å’ŒæŸå¤±ã€‚å¯¹äºé‡è¦æ•°æ®ï¼ˆå¦‚èµ„é‡‘ï¼‰çš„æ“ä½œï¼Œåœ¨å¼€å‘æ—¶ä¸€å®šè¦åå¤è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿æ²¡æœ‰é—®é¢˜åå†ä¸Šçº¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¨‹åºç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸­å¸¸ç”¨Shellå‘½ä»¤</title>
      <link href="2018/05/04/2018-05-04-linux-shell/"/>
      <url>2018/05/04/2018-05-04-linux-shell/</url>
      
        <content type="html"><![CDATA[<p>ä½œä¸ºé¡¹ç›®å·¥ç¨‹å¸ˆï¼Œæ¥è§¦Linuxè¿˜æ˜¯è›®å¤šçš„ï¼Œæ€»ç»“ä¸‹å¸¸ç”¨çš„Shellå‘½ä»¤</p><h2 id="æ‰“åŒ…ä¸è§£å‹"><a href="#æ‰“åŒ…ä¸è§£å‹" class="headerlink" title="æ‰“åŒ…ä¸è§£å‹"></a>æ‰“åŒ…ä¸è§£å‹</h2><p>é¡¹ç›®ä¸Šéœ€è¦æ‰“åŒ…æˆ–è€…è§£å‹ï¼Œå¸¸å¸¸ç”¨äºå¤‡ä»½æˆ–è€…ä¸Šç‰ˆï¼Œè€Œæ‰“åŒ…å¸¸è§æ ¼å¼ä¸ºtaråŒ…ã€tar.gzåŒ…ã€waråŒ…è¿™ä¸‰ç§</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æ‰“.taråŒ…ï¼štar -cvf backup_20180504.tar ./etc ./src</span><br><span class="line">.taråŒ…æ‰“.gzåŒ…ï¼šgzip backup_20180504.tar</span><br><span class="line"></span><br><span class="line">è§£å‹.taråŒ…ï¼štar -xvf backup_20180504.tar</span><br><span class="line">è§£å‹.tar.gzåŒ…ï¼štar -xzvf backup_20180504.tar.gz</span><br><span class="line"></span><br><span class="line">æ‰“.waråŒ…ï¼šjar -cvf backup_20180504.war ./etc ./src</span><br><span class="line">è§£å‹.waråŒ…ï¼šjar -xvf backup_20180504.war</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹.taræ–‡ä»¶å†…å®¹ï¼štar -tvf backup_20180504.tar</span><br><span class="line">æŸ¥çœ‹.gzæ–‡ä»¶å†…å®¹ï¼štar -tvzf backup_20180504.tar.gz</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½"><a href="#æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½"></a>æŸ¥çœ‹ç³»ç»Ÿæ€§èƒ½</h2><p>ä¸»è¦æŸ¥çœ‹Linuxç³»ç»Ÿç£ç›˜ã€å†…å­˜ã€æœåŠ¡è¿›è¡Œå ç”¨ç©ºé—´ç­‰ä¿¡æ¯ï¼Œè¯¦ç»†å°±ä¸å¤šè¯´</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ï¼šdf</span><br><span class="line">æ€§èƒ½åˆ†æï¼štop</span><br><span class="line">æŸ¥çœ‹è¿›ç¨‹ï¼šps -ef|grep è¿›ç¨‹åç§°</span><br><span class="line">æŸ¥çœ‹ä¸»æœºipï¼šifconfig</span><br><span class="line">æŸ¥çœ‹ä¸»æœºåŸŸåï¼šhostname</span><br></pre></td></tr></table></figure><h2 id="æ¯”è¾ƒå¤§å°"><a href="#æ¯”è¾ƒå¤§å°" class="headerlink" title="æ¯”è¾ƒå¤§å°"></a>æ¯”è¾ƒå¤§å°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">-ne ä¸ç­‰äº</span><br><span class="line">-gt å¤§äº</span><br><span class="line">-ge å¤§äºç­‰äº</span><br><span class="line">-lt å°äº</span><br><span class="line">-le å°äºç­‰äº</span><br><span class="line">-eq ç­‰äº </span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ç§»åŠ¨æ–‡ä»¶ï¼šmv test1 ç›¸å¯¹è·¯å¾„æˆ–è€…ç»å¯¹è·¯å¾„</span><br><span class="line">æ›¿æ¢æ–‡ä»¶åç§°ï¼šmv test1 test2</span><br><span class="line">åŠ¨æ€æŸ¥çœ‹tomcatæ—¥å¿—ï¼štail -f catalina.log</span><br><span class="line">å¤åˆ¶æ–‡ä»¶ï¼šcp test1 test2</span><br><span class="line">æŸ¥çœ‹æ–‡ä»¶ï¼šcat test1</span><br><span class="line">ç¼–è¾‘æ–‡ä»¶ï¼švi test1    å¯åŠ¨ç¼–è¾‘æ¨¡å¼ï¼ši</span><br><span class="line">ä¿å­˜é€€å‡ºï¼š:wq</span><br><span class="line">æ£€æŸ¥è„šæœ¬è¯­æ³•ï¼šsh -n test.sh</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹ç«¯å£æœåŠ¡"><a href="#æŸ¥çœ‹ç«¯å£æœåŠ¡" class="headerlink" title="æŸ¥çœ‹ç«¯å£æœåŠ¡"></a>æŸ¥çœ‹ç«¯å£æœåŠ¡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹å¯ç”¨ç«¯å£ï¼šnetstat -lntp</span><br><span class="line">æŸ¥çœ‹å¯åŠ¨æœåŠ¡ï¼šsystemctl list-unit-files|grep enabled</span><br><span class="line">æœç´¢ç«¯å£ï¼šnetstat -aon|findstr <span class="string">&quot;8080&quot;</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶ä¸ç”¨æˆ·æ‰€æœ‰è€…æƒé™å˜æ›´"><a href="#æ–‡ä»¶ä¸ç”¨æˆ·æ‰€æœ‰è€…æƒé™å˜æ›´" class="headerlink" title="æ–‡ä»¶ä¸ç”¨æˆ·æ‰€æœ‰è€…æƒé™å˜æ›´"></a>æ–‡ä»¶ä¸ç”¨æˆ·æ‰€æœ‰è€…æƒé™å˜æ›´</h2><p>é¦–å…ˆè¦åç§°æ–‡ä»¶çš„æƒé™ï¼šè¯»ã€å†™ã€æ‰§è¡Œ</p><p><img src="/usr/image/article/developmentSkills/Shell/fileSafety.png" alt="Alt text"></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">å…¶ä¸­ï¼š æœ€å‰é¢é‚£ä¸ª - ä»£è¡¨çš„æ˜¯ç±»å‹  </span><br><span class="line">   ä¸­é—´é‚£ä¸‰ä¸ª rw- ä»£è¡¨çš„æ˜¯æ‰€æœ‰è€…ï¼ˆuserï¼‰  </span><br><span class="line">   ç„¶åé‚£ä¸‰ä¸ª rw- ä»£è¡¨çš„æ˜¯ç»„ç¾¤ï¼ˆgroupï¼‰  </span><br><span class="line">   æœ€åé‚£ä¸‰ä¸ª r--    ä»£è¡¨çš„æ˜¯å…¶ä»–äººï¼ˆotherï¼‰  </span><br><span class="line">  </span><br><span class="line">ç„¶åæˆ‘å†è§£é‡Šä¸€ä¸‹åé¢é‚£9ä½æ•°ï¼š  </span><br><span class="line">   r è¡¨ç¤ºæ–‡ä»¶å¯ä»¥è¢«è¯»ï¼ˆ<span class="built_in">read</span>ï¼‰  </span><br><span class="line">   w è¡¨ç¤ºæ–‡ä»¶å¯ä»¥è¢«å†™ï¼ˆwriteï¼‰  </span><br><span class="line">   x è¡¨ç¤ºæ–‡ä»¶å¯ä»¥è¢«æ‰§è¡Œï¼ˆå¦‚æœå®ƒæ˜¯ç¨‹åºçš„è¯ï¼‰  </span><br><span class="line">   - è¡¨ç¤ºç›¸åº”çš„æƒé™è¿˜æ²¡æœ‰è¢«æˆäºˆ  </span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶æƒé™æ§åˆ¶</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod -R 700 ./<span class="built_in">test</span></span><br><span class="line">chmod -R 500 ./<span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>æŒç»­æ›´æ–°â€¦</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ­å»ºmysqlã€apacheã€phpæœåŠ¡æ€»ç»“</title>
      <link href="2018/04/22/2018-04-22-linux-mysql-apache-php/"/>
      <url>2018/04/22/2018-04-22-linux-mysql-apache-php/</url>
      
        <content type="html"><![CDATA[<h2 id="é˜¿é‡Œäº‘ESCå®ä¾‹é…ç½®"><a href="#é˜¿é‡Œäº‘ESCå®ä¾‹é…ç½®" class="headerlink" title="é˜¿é‡Œäº‘ESCå®ä¾‹é…ç½®"></a>é˜¿é‡Œäº‘ESCå®ä¾‹é…ç½®</h2><blockquote><p>å¯¹äºæ–°æ‰‹ï¼Œæ¯”å¦‚æˆ‘ï¼Œäº†è§£äº‘æœåŠ¡æ— éå°±æ˜¯é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ï¼Œå¯¹äºå›½å¤–çš„æœåŠ¡å™¨äº†è§£ç”šå°‘ã€‚å­¦ç”Ÿæ—¶ä»£ä¼°è®¡ä¼šæœ‰å¾ˆå®æƒ çš„æ‰“æŠ˜ä¼˜æƒ å§ï¼Œåæ­£æˆ‘æ²¡é‡åˆ°è¿‡ï¼ˆæˆ‘å¤§å­¦çš„æ—¶å€™åªçŸ¥é“ç©ï¼Œä¹Ÿæ²¡å…³æ³¨è¿‡è¿™äº›~ï¼‰ã€‚åºŸè¯è¯´äº†è¿™ä¹ˆå¤šï¼Œç°åœ¨å¼€å§‹å§â€¦<br>####å®åè®¤è¯<br>é˜¿é‡Œäº‘è¿›è¡Œå®åè®¤è¯ä¹‹åï¼Œå…¥å£ï¼šäº§å“ïƒ å¼¹æ€§è®¡ç®—ïƒ äº‘æœåŠ¡å™¨ECSï¼Œé€‰æ‹©åˆé€‚çš„å‚æ•°é…ç½®è§„æ ¼ç‚¹å‡»è´­ä¹°å³å¯ã€‚<br>####æŸ¥çœ‹å®ä¾‹<br>è´­ä¹°æˆåŠŸä¹‹åï¼Œå¯ä»¥ä»ç®¡ç†æ§åˆ¶å°ïƒ äº‘è®¡ç®—åŸºç¡€æœåŠ¡ïƒ å®ä¾‹ä¸­æŸ¥çœ‹ã€‚</p></blockquote><p><img src="/usr/image/article/bashProfile/01/aliyunManage.png" alt="Alt text"></p><h4 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h4><blockquote><p>åˆå§‹çŠ¶æ€ä¸‹ç‚¹å‡»æ›´å¤šï¼Œé‡ç½®å¯†ç ï¼Œè¯¥å¯†ç å³ä¸ºrootå¯†ç ï¼Œå“¦å¯¹äº†ï¼Œè®¾ç½®å®Œè¿˜éœ€è¦é‡å¯ï¼Œä¹Ÿåœ¨æ›´å¤šï¼Œç‚¹å‡»é‡å¯å³å¯ï¼Œå¤§æ¦‚éœ€è¦40ç§’å§ã€‚<br>####SecureCRTç™»å½•<br>ç™»é™†æœåŠ¡ï¼Œä¸ªäººæ¨èä½¿ç”¨SecureCRTè¿›è¡Œç®¡ç†é…ç½®å¼€å‘ï¼Œé”®å…¥rootå¯†ç ï¼Œå¥½ï¼Œç°åœ¨è¿›å…¥Linuxå‘½ä»¤è¡Œçš„ä¸–ç•Œå•¦~</p></blockquote><h2 id="æ–°å»ºç”¨æˆ·"><a href="#æ–°å»ºç”¨æˆ·" class="headerlink" title="æ–°å»ºç”¨æˆ·"></a>æ–°å»ºç”¨æˆ·</h2><blockquote><p>Rootç”¨æˆ·æ‹¥æœ‰å†³å®šçš„æƒé™ï¼Œä¸»è¦ç”¨æˆ·å®‰å…¨è½¯ä»¶æœåŠ¡ï¼Œä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå±æ€§ç­‰ï¼Œä¸åˆ©äºå¼€å‘ä½¿ç”¨ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å…ˆç»™è‡ªå·±æ–°å»ºä¸€ä¸ªç”¨æˆ·å§ã€‚<br>####ä½¿ç”¨Rootæ–°å»ºç”¨æˆ·<br>ä¸‹åˆ—æ˜¯rootç”¨æˆ·ä¸‹é”®å…¥çš„å‘½ä»¤è¡Œï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># adduser testuser#åˆ›å»ºç”¨æˆ·testuser</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># passwd testuser #ä¸ºç”¨æˆ·testuseråˆ›å»ºå¯†ç </span></span><br></pre></td></tr></table></figure><blockquote><p>æ­¤æ—¶åœ¨/homeç›®å½•ä¸‹å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ç›®å½•testuser</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># userdel testuser#åˆ é™¤ç”¨æˆ·testuser</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># rm â€“rf * testuser   #åˆ é™¤ç”¨æˆ·testuseræ‰€åœ¨çš„ç›®å½•</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/addUser.png" alt="Alt text"></p><p>æ³¨æ„å„ç§å¯†ç è¦æ‹¿ä¸ªåˆ«äººçœ‹ä¸åˆ°çš„å°æœ¬æœ¬æˆ–è€…äº‘ç¬”è®°è®°ç€å“¦ï¼Œæ‰¾å¯†ç ä»€ä¹ˆçš„æœ€çƒ¦äº†ã€‚</p><h2 id="å®‰è£…MySQL"><a href="#å®‰è£…MySQL" class="headerlink" title="å®‰è£…MySQL"></a>å®‰è£…MySQL</h2><blockquote><p>é¦–å…ˆæˆ‘éƒ½æ˜¯å…ˆæŠŠæ•°æ®åº“æ­å»ºå¥½ï¼Œä¸ªäººåçˆ±mysqlï¼Œnavicatè¿›è¡Œå®¢æˆ·ç«¯ç®¡ç†ï¼Œä»¥ä¸‹æ“ä½œåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œã€‚<br>####ä¸‹è½½å‰å‡†å¤‡<br>ä¸‹è½½ä¹‹å‰å…ˆæ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…è¿‡mysql<br><img src="/usr/image/article/bashProfile/01/checkInstallMySQL.png" alt="Alt text"><br>æ— è¾“å‡ºå†…å®¹è¯´æ˜ç³»ç»Ÿæ²¡æœ‰æ£€æµ‹åˆ°å®‰è£…è¿‡mysqlã€‚<br>è‹¥æ£€æŸ¥åˆ°å­˜åœ¨å®‰è£…æ–‡ä»¶ï¼Œåˆ™å…ˆå¸è½½ï¼Œå¸è½½å‰å…ˆåœæ­¢mysqlæœåŠ¡ã€‚</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># service mysql status#æŸ¥çœ‹mysqlæœåŠ¡å¯åŠ¨çŠ¶æ€</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># service mysql stop  #åœæ­¢mysqlæœåŠ¡</span></span><br></pre></td></tr></table></figure><blockquote><p>å¸è½½ä¹‹å‰çš„ç‰ˆæœ¬</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># rpm â€“qa|grep â€“i mysql</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># rpm â€“e xxxx[ä¹‹å‰å®‰è£…çš„ç‰ˆæœ¬] --nodeps#å¸è½½mysqlç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><blockquote><p>ç›´æ¥ä½¿ç”¨yumå‘½ä»¤ä¸‹è½½mysql8.0æ¥è¿›è¡Œå®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹ä¼šæœ‰é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨rpmå‘½ä»¤å…ˆæ¥è¿›è¡Œä¸‹è½½ã€‚ä¸‹è½½è·¯å¾„ä¸ºï¼š<a href="http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm">http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</a><br>åœ¨Linuxä¸­ä¸‹è½½å‘½ä»¤ä¸ºï¼š</p></blockquote><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@XXX</span> <span class="operator">~</span>]# rpm <span class="operator">-</span>Uvh http:<span class="operator">/</span><span class="operator">/</span>dev.mysql.com<span class="operator">/</span><span class="keyword">get</span><span class="operator">/</span>mysql<span class="operator">-</span>community<span class="operator">-</span><span class="keyword">release</span><span class="operator">-</span>el7<span class="number">-5.</span>noarch.rpm</span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/downlaodMySQLURL.png" alt="Alt text"></p><blockquote><p>ä¸‹è½½å®Œæˆä¹‹åæŸ¥çœ‹ä¸€ä¸‹éƒ½æœ‰å“ªäº›mysqlçš„æ–‡ä»¶ï¼Œä½¿ç”¨å‘½ä»¤ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># yum repolist enabled | grep <span class="string">&quot;mysql.*-community.*&quot;</span></span></span><br></pre></td></tr></table></figure><blockquote><p>æ•ˆæœå¦‚å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/queryMySQLfiles.png" alt="Alt text"><br>####å®‰è£…<br>ä¸‹é¢å°±å¯ä»¥ä½¿ç”¨yumè¿›è¡Œå®‰è£…ã€‚è¾“å…¥å‘½ä»¤å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># yum install mysql-community-server</span></span><br></pre></td></tr></table></figure><blockquote><p>æ•ˆæœå¦‚å›¾<br><img src="/usr/image/article/bashProfile/01/installMySQL01.png" alt="Alt text"><br>å®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºå®‰è£…ä¸€äº›ç›¸å…³çš„è½¯ä»¶ï¼Œè¿™é‡Œç‚¹å‡»â€yâ€å›è½¦å°±å¯ä»¥äº†ï¼Œå¦‚å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/installMySQL02.png" alt="Alt text"><br>è¿˜æœ‰ä¸€ä¸ªæ–‡ä»¶éœ€è¦å®‰è£…ï¼Œç»§ç»­ç‚¹å‡»â€yâ€å›è½¦ï¼Œå¦‚å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/installMySQL03.png" alt="Alt text"><br>è¿™æ ·mysqlå°±å®‰è£…æˆåŠŸå•¦ã€‚<br>####åŸºç¡€ä¿¡æ¯é…ç½®<br>åœ¨é…ç½®ä¿¡æ¯ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå»é˜¿é‡Œäº‘å®ä¾‹è¿›è¡Œå®‰å…¨ç»„é…ç½®ï¼Œå¼€æ”¾3306mysqlæœåŠ¡ç«¯å£ã€‚<br><img src="/usr/image/article/bashProfile/01/aliyunManageSecurity.png" alt="Alt text"><br>ä¸è¿‡è¿˜æ²¡æœ‰ç»“æŸï¼Œè¿˜éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ä¿¡æ¯å“¦ã€‚<br>é¦–å…ˆå°†mysqlæœåŠ¡å¯åŠ¨ï¼Œå¼€å¯mysqlçš„è¿›ç¨‹ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<br>service mysqld startï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqldStart.png" alt="Alt text"><br>æŸ¥çœ‹mysqlæœåŠ¡è¿›ç¨‹ä¿¡æ¯ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<br>service mysqld statusï¼Œæ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqldStatus.png" alt="Alt text"><br>MysqlæœåŠ¡å¯åŠ¨ä¹‹åï¼Œè¿˜é€‰å“Ÿä¸€äº›åŸºæœ¬ä¿¡æ¯çš„é…ç½®ã€‚è¾“å…¥è®¾ç½®å‘½ä»¤ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># mysql_secure_installation</span></span><br></pre></td></tr></table></figure><blockquote><p>æ•ˆæœå¦‚å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqlSecureInstallation.png" alt="Alt text"><br>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š<br>åˆæ¬¡å®‰è£…æ—¶ï¼Œåªéœ€è¦å›è½¦å³å¯ï¼Œå¦‚æœä»¥å‰å®‰è£…è¿‡ï¼Œè¿™é‡Œä¼šæç¤ºéœ€è¦è¾“å…¥rootå¯†ç ï¼Œé”®å…¥rootå¯†ç å›è½¦ã€‚è¿™ç‚¹è¯·ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚ã€‚<br>ä¸‹åˆ—å‡ å¤„éœ€è¦è®¾ç½®çš„åœ°æ–¹å¦‚å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqlSecureInstallationSettings.png" alt="Alt text"><br>ç™»é™†mysqlï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># mysql â€“u root â€“p</span></span><br></pre></td></tr></table></figure><blockquote><p>è¾“å…¥æ•°æ®åº“rootçš„å¯†ç å›è½¦ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/loginMySQL.png" alt="Alt text"><br>Mysqlå°±æ­£å¼å®‰è£…è®¾ç½®å®Œæ¯•å•¦ï¼Œæ˜¯ä¸æ˜¯so easy!<br>####Navicatè¿æ¥æ•°æ®åº“<br>å¾ˆæ˜¾ç„¶å‘½ä»¤è¡Œæ–¹å¼å¾ˆä¸é€‚åˆå¼€å‘ä½¿ç”¨ï¼Œå¯è§†åŒ–ä¹Ÿä¸å¼ºï¼Œä¸ªäººæ¨èä½¿ç”¨Navicat Premiumæ•°æ®åº“è¿æ¥å·¥å…·è¿æ¥mysqlæ•°æ®åº“ï¼Œæ–¹ä¾¿ï¼<br>è¾“å…¥è¿æ¥ä¿¡æ¯ï¼Œå¦‚å›¾ä¸‹ï¼š<br><img src="/usr/image/article/bashProfile/01/checkNavicatLoginMysql.png" alt="Alt text"><br>ç‚¹å‡»è¿æ¥æµ‹è¯•ï¼Œå¦‚å›¾ä¸‹ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqlError1130.png" alt="Alt text"><br>ä¼šå‡ºç°â€Host is not allowed to connect to this MySQL serverâ€<br>å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå¾ˆæ˜æ˜¾è¿™æ˜¯ä¸å…è®¸è¿œç¨‹ç™»å½•ï¼Œåªèƒ½åœ¨localhostä¸»æœºè¿›è¡Œç™»å½•ã€‚æ‰€ä»¥éœ€è¦æˆæƒï¼Œå‘½ä»¤æ–¹æ³•å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">[root<span class="variable">@XXX</span> <span class="operator">~</span>]# mysql â€“u root <span class="operator">-</span>p</span><br><span class="line">Enter password: </span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br><span class="line">mysql<span class="operator">&gt;</span> FLUSH PRIVILEGES;</span><br><span class="line">mysql<span class="operator">&gt;</span> QUIT;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="/usr/image/article/bashProfile/01/solveMysqlError1130.png" alt="Alt text"><br>å›æ¥å†ç‚¹å‡»â€œè¿æ¥æµ‹è¯•â€ï¼Œä¼šå‡ºç°ä¸‹å›¾æŠ¥é”™ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqlError1045.png" alt="Alt text"><br>ä¸ç€æ€¥ï¼Œç°åœ¨å°±è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br>åœ¨SecureCRTä¸­ç™»å½•mysqlï¼ŒæŸ¥è¯¢mysql.userè¡¨ä¿¡æ¯ï¼Œå°†å¯†ç ä¸ºç©ºçš„æ•°æ®åˆ é™¤æ‰å³å¯ï¼Œåˆ é™¤ç©ºè´¦å·å’Œç©ºå¯†ç çš„æ•°æ®ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">[root@XXX ~]# mysql â€“u root â€“p</span><br><span class="line">Enter password: </span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; <span class="keyword">select</span> Host,<span class="keyword">User</span>,<span class="keyword">Password</span> <span class="keyword">from</span> <span class="keyword">user</span>;</span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/selectMysqlUser.png" alt="Alt text"></p><blockquote><p>åˆ é™¤Userå’ŒPasswordä¸ºç©ºçš„æ•°æ®ï¼Œæ”¾å¿ƒï¼Œå¯ä»¥åˆ çš„ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<br>delete from mysql.user where Password=â€™â€™;<br>åœ¨åˆšåˆšçš„mysql_secure_installationä¸­æˆ‘ä»¬å·²ç»é…ç½®äº†rootçš„ç™»å½•å¯†ç ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿè¿˜å¯ä»¥è®¾ç½®rootå¯†ç ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<br>Update mysql.user set password=password(â€˜rootå¯†ç â€™) where Host=â€™%â€™;<br>æœ€åè¯·ä¸€å®šè¦åšçš„æ“ä½œæ˜¯ï¼šåˆ·æ–°æƒé™<br>Flush privileges;<br>é€€å‡ºï¼šquit;<br>å†å›æ¥è¿æ¥æµ‹è¯•ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="/usr/image/article/bashProfile/01/checkNavicatLoginMysqlSuccess.png" alt="Alt text"><br>Mysqlç°åœ¨æ˜¯å½»åº•å¼„å¥½å•¦ã€‚è¯·å°½æƒ…çš„å¢åˆ æ”¹æŸ¥å§éªšå¹´~<br>####è§£å†³ä¸­æ–‡ä¹±ç <br>è¿›å…¥ç›®å½•</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># cd /usr/share/mysql</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># vi my-default.cnf</span></span><br></pre></td></tr></table></figure><blockquote><p>æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯ï¼š<br><img src="/usr/image/article/bashProfile/01/mysqlUTF8.png" alt="Alt text"><br>é‡å¯mysqlæœåŠ¡</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># service mysqld restart</span></span><br></pre></td></tr></table></figure><p>##å®‰è£…Apache<br>####æ£€æŸ¥ã€åˆ é™¤ã€å®‰è£…</p><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># rpm â€“qa|grep httpd     #æ£€æŸ¥æ˜¯å¦å®‰è£…apache</span></span><br><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># rpm â€“e åŒ…å â€“nodeps    #è‹¥æœ‰åˆ™åˆ é™¤</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/checkInstallApache.png" alt="Alt text"></p><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># yum install httpd #å®‰è£…ï¼Œæ ¹æ®æç¤ºï¼Œè¾“å…¥Yå³å¯</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/installApache01.png" alt="Alt text"></p><blockquote><p>éœ€è¦ç¡®è®¤å®‰è£…ä¸€äº›ç»„ä»¶ï¼Œè¾“å…¥Yå³å¯ï¼š<br><img src="/usr/image/article/bashProfile/01/installApache02.png" alt="Alt text"><br>####å¯åŠ¨ã€æµ‹è¯•<br>å¯åŠ¨å‘½ä»¤å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># service httpd start</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/httpdStart.png" alt="Alt text"></p><blockquote><p>æŸ¥çœ‹apacheæœåŠ¡åœå¯æƒ…å†µå¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta"># Service httpd status</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/httpdStatus.png" alt="Alt text"></p><blockquote><p>æ­¤æ—¶éœ€è¦æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼Œå®‰å…¨ç»„è§„åˆ™éœ€è¦æ·»åŠ ç«¯å£80çš„å®‰å…¨ç»„ï¼š<br><img src="/usr/image/article/bashProfile/01/aliyunManageSecurity01.png" alt="Alt text"><br>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥æœipï¼Œå¦‚ä¸‹è¡¨ç¤ºapacheå®‰è£…æˆåŠŸï¼š<br><img src="/usr/image/article/bashProfile/01/httpdTest.png" alt="Alt text"><br>##å®‰è£…PHP<br>####å®‰è£…PHP</p></blockquote><figure class="highlight autoit"><table><tr><td class="code"><pre><span class="line">[root<span class="symbol">@XXX</span> ~]<span class="meta">#yum install php</span></span><br></pre></td></tr></table></figure><p><img src="/usr/image/article/bashProfile/01/installPHP01.png" alt="Alt text"></p><blockquote><p>è¾“å…¥â€yâ€å›è½¦<br><img src="/usr/image/article/bashProfile/01/installPHP02.png" alt="Alt text"><br>å®‰è£…æˆåŠŸ<br>å®‰è£…ç»„ä»¶ï¼Œæ”¯æŒmysql</p></blockquote><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">yum install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-<span class="keyword">xml</span> <span class="title">php-xmlrpc</span> php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt</span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ®æç¤ºï¼Œè¾“å…¥Yå³å¯<br>####å¯åŠ¨HTTPD<br>é‡å¯httpd</p></blockquote><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">service httpd restart</span></span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®ip<br><img src="/usr/image/article/bashProfile/01/phpTest.png" alt="Alt text"></p><blockquote><p>OKå•¦<br>##å‚è€ƒæ–‡ç« <br>[0]<a href="https://www.cnblogs.com/zhaoxd07/p/5580126.html">ã€PHPã€‘linuxæ­å»ºPHPè¿è¡Œç¯å¢ƒ</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çœŸçš„å¾ˆå……å®ã€‚ã€‚</title>
      <link href="2017/12/22/2017-12-22-enrich/"/>
      <url>2017/12/22/2017-12-22-enrich/</url>
      
        <content type="html"><![CDATA[<p>é˜´é˜³å¸ˆå¼€æ–°æœäº†ï¼Œæˆ‘åˆ°æ–°æœåŠ¡ï¼Œæœæ–­éæ´²é…‹é•¿ï¼Œè¦å“­äº†</p><p>æœ€è¿‘åœ¨å®Œæˆå„ç§éœ€æ±‚<br>å®Œå…¨æ˜¯ä¸€ä¸ªäººåœ¨æï¼Œä¹Ÿæ…¢æ…¢çš„åœ¨å®Œå…¨æ¥æ‰‹è¿™ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯è¿˜æœ‰ä¸æ‡‚çš„åœ°æ–¹<br>ä¸€è¾¹å­¦ä¹ ä¸€è¾¹å¼€å‘çš„è¿‡ç¨‹ã€‚</p><p>æ™šä¸Šä¸‹ç­äº†å°±å­¦ä¹ Androidï¼Œçœ‹çš„ä¹¦æ˜¯ã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ç¬¬äºŒç‰ˆ<br>æ‰“å¼€äº†æ–°ä¸–ç•Œçš„å¤§é—¨å“ˆå“ˆå“ˆå“ˆï¼Œå¾ˆæœ‰æ„æ€</p><p>æœ€è¿‘æœ‰ä¸‹æ¥äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå¹³å°çš„è¥é”€æ´»åŠ¨ï¼Œ<br>ä¸å¾—ä¸ä½©æœç”²æ–¹çš„è„‘æ´ä¹Ÿæ˜¯å¥‡å¤§æ— æ¯”å•Š<br>éœ€æ±‚æ–‡æ¡£é‡Œçš„é‚€è¯·æœ‰ç¤¼ï¼ŒèŠ±ç‚¹å­çœŸå¤šï¼Œé‚£ä½ å¾ˆæ£’æ£’å“¦</p><p>éœ€æ±‚åˆ†ææ˜¯çœŸçš„éº»çƒ¦å”‰ï¼Œè¦åˆç†åˆ†æä¿®æ”¹çš„åœ°æ–¹ï¼Œåˆç†å°†åˆ†æçš„å·¥ä½œåˆ†é…å‡ºæ¥<br>è¿™æ˜¯å…¶ä¸­æœ€å°´å°¬çš„<br>åŠ æ²¹å§éªšå¹´</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€è¿‘çœŸçš„å¾ˆå¿™</title>
      <link href="2017/11/28/2017-11-28-toobusy/"/>
      <url>2017/11/28/2017-11-28-toobusy/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘æ˜¯çœŸçš„å¾ˆå¿™ï¼Œä¸Šä¸ªå‘¨å››ä¸Šçº¿ï¼ˆå¹³å°æ–°å¢ç½‘æ˜“æ”¯ä»˜æ¸ é“ï¼‰<br>æ¶‰åŠåˆ°ä¸Šçº¿çš„ç³»ç»Ÿæœ‰ï¼ˆå‰ç«¯ã€ç®¡ç†ç«¯ã€æ”¯ä»˜ã€è´¦æˆ·ã€æ¸…ç®—ã€è¥é”€ç³»ç»Ÿã€å‰ç«¯é€šè®¯ï¼‰çœŸçš„å¾ˆå¤šéœ€è¦å˜æ›´<br>å•å•æ–°å¢ä¸€ä¸ªæ”¯ä»˜æ¸ é“ï¼Œå°±éœ€è¦å˜æ›´è¿™ä¹ˆå¤šç³»ç»Ÿ<br>ä»ä¸Šå‘¨å››æ™šä¸Š23ç‚¹å¼€å§‹ä¸Šçº¿å˜æ›´ï¼ˆéœ€è¦ç­‰å¹³å°å¹¶è´¦ä¹‹åè¿›è¡Œä¸Šçº¿ï¼‰<br>ä¸Šçº¿è¿‡ç¨‹ä¸€ç›´æŒç»­åˆ°å‡Œæ™¨1ç‚¹åŠã€‚<br>ä¸Šçº¿ä¹‹åï¼Œå°±æ˜¯è¿›è¡Œæ‰€æœ‰çš„å˜æ›´çš„éªŒè¯ã€‚ä¸­é—´ä¹Ÿæ˜¯é—®é¢˜ä¸æ–­ï¼Œæœ€ä¸»è¦çš„é—®é¢˜å…¶å®æ˜¯ç¯å¢ƒé—®é¢˜ã€‚<br>è¿™ä¹Ÿæ˜¯æœ€éš¾ä»¥å¯Ÿè§‰çš„é—®é¢˜ï¼Œä¸€ç›´æŒç»­åˆ°å‘¨äº”çš„ä¸Šåˆ10ç‚¹å¤šï¼Œæ‰ç¡®ä¿æ²¡æœ‰é—®é¢˜ã€‚<br>åŒæ—¶æˆ‘ä»¬ä¹Ÿè¦ç›‘æ§ç”Ÿäº§ç¯å¢ƒçš„äº¤æ˜“ï¼Œæœ‰æ²¡æœ‰å‡ºç°å……å€¼å·®é”™ã€‚ã€‚ã€‚<br>è¿™æ ·å­ä¸€ç›´æŒç»­åˆ°ä¸‹åˆä¸‰ç‚¹å¤šï¼Œæœ€åæ‰ç¡®è®¤æ²¡æœ‰é‡å¤§è´¦åŠ¡é—®é¢˜ã€‚æ‰æ•¢ä¸‹ç­å›å»è¡¥äº¤ã€‚<br>ç¬¬ä¸€æ¬¡ç»å†è¿™ä¹ˆæ¼«é•¿çš„ä¸Šçº¿ï¼Œäººéƒ½è¦æ­»äº†ã€‚æŒç»­å·¥ä½œ30ä¸ªå°æ—¶ï¼Œäººéƒ½è¦è™šè„±äº†ã€‚ç°åœ¨å›æƒ³èµ·æ¥ç®€ç›´åæ€•ï¼</p><p>å‘¨å…­çš„æ—¶å€™ï¼Œå¹³å°å‡ºç°ç½‘æ˜“æ”¯ä»˜çš„å¯¹è´¦é—®é¢˜ï¼Œæµç¨‹è¿‡ä¸å»<br>äºæ˜¯æˆ‘ç´§æ€¥çš„æ‰“å¼€ç”µè„‘ï¼Œå¼€å§‹æŸ¥çœ‹æ—¥å¿—ï¼ŒæŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼Œå®šä½é—®é¢˜æ‰€åœ¨ã€‚<br>å‘ç°æœ‰ä¸€å¼ è¡¨æ•°æ®çš„å–å®¶è´¦å·å®šä¹‰çš„å­—æ®µé•¿åº¦å°äº†ï¼Œç”±äºåœ¨æµ‹è¯•ç¯å¢ƒä¸­ï¼Œè¿™ä¸ªå­—æ®µæ˜¯å¯ä»¥çš„<br>ç”Ÿäº§çš„æ—¶å€™ï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯è¶…é•¿äº†ï¼Œäºæ˜¯èµ¶ç´§å°†è¡¨å­—æ®µé•¿åº¦å’Œå¹³å°çš„æ•°æ®å¯¹è±¡çš„é•¿åº¦å®šé•¿ä¸€ç‚¹<br>ä¿è¯æ•°æ®å¯ä»¥å­˜è¡¨ã€‚</p><p>ç¨‹åºçŒ¿çœŸçš„å¾ˆè‹¦é€¼</p><p>ä¸‹æ¬¡æˆ‘å°†ç½‘æ˜“æ”¯ä»˜çš„æ•´ä¸ªæµç¨‹æ€»ç»“ä¸€ä¸‹ã€‚ã€‚è¿™ç¯‡åšå®¢ä¹Ÿæ˜¯æˆ‘åœ¨å‘¨äºŒçš„ä¸Šåˆï¼Œä¸Šç­æ—¶é—´å¿™é‡Œå·é—²çš„è‰è‰å†™å‡ºæ¥çš„<br>å› ä¸ºæˆ‘å®åœ¨æ²¡æœ‰å…¶ä»–æ—¶é—´æ¥å†™åšå®¢äº†T_T</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ æ²¹å§ éªšå¹´QAQ</title>
      <link href="2017/11/08/2017-11-08-fighting/"/>
      <url>2017/11/08/2017-11-08-fighting/</url>
      
        <content type="html"><![CDATA[<p><strong>æƒ³æ—©ç‚¹ä¸‹ç­..</strong></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p> è¿™ä¸¤ä¸ªæ˜ŸæœŸä¸‹æ¥ï¼ŒåŸºæœ¬æ˜¯æ¯å¤©åŠ ç­åˆ°æ™šä¸Š9ç‚¹ã€‚</p><p>å¯ä»¥è¯´è¿‡å¾—ç›¸å½“å……å®äº†ï¼Œæ¯å¤©çš„å·¥ä½œä¹Ÿæ˜¯é¢å¯¹ä¸åŒçš„æŒ‘æˆ˜ï¼ŒæŸ¥æ‰¾é—®é¢˜ï¼Œå®šä½é—®é¢˜ï¼Œè§£å†³é—®é¢˜ã€‚è¿˜è¦åè°ƒå’Œå®¢æˆ·ä¹‹å‰çš„å…³ç³»ï¼Œè¿™ä¸ªæ‰æ˜¯é€ æˆå·¥ä½œå¤ªç´¯çš„ä¸»è¦åŸå› äº†ã€‚QAQ</p><p>æ­¤åˆ»çš„æˆ‘æ­£ååœ¨åºŠä¸Šï¼Œæ¶ç€ç¬”è®°æœ¬å†™ç€è¿™åæ§½ç¯‡ã€‚å“ˆå“ˆï¼Œæœ¬æ¥æ­å»ºè¿™åšå®¢æ˜¯ç”¨æ¥å†™å·¥ä½œå­¦ä¹ å†…å®¹çš„ï¼Œä¸æ˜¯æ¥æŠ±æ€¨çš„ã€‚æ˜¯çœŸçš„æ²¡åœ°æ–¹åæ§½äº†ã€‚</p><p>ä¸€å…¥ç å†œæ·±ä¼¼æµ·å•Šï¼Œè‡ªå·±ä¹Ÿä¸æ˜¯æŠ€æœ¯å‡ºèº«ï¼Œå¤§å­¦ä¹Ÿä»æ¥æ²¡æœ‰è‡ªå·±å•ç‹¬åšè¿‡ä¸€ä¸ªç³»ç»Ÿï¼Œæ›´åˆ«è¯´ä»£ç æœ‰å¤šå‰å®³äº†ï¼Œç®€ç›´æ— æ³•ç›´è§†äº†ã€‚èƒ½è¿›åˆ°å…¬å¸æ¥å®ä¹ ä¹Ÿæ˜¯ä¸å®¹æ˜“å•Šï¼å¤§å››ä¸Šå­¦æœŸåˆšå¼€å­¦çš„æ—¶å€™ï¼Œé‚£æ—¶å€™ä¹Ÿæ˜¯è€ƒç ”çš„åŒå­¦å¼€å§‹å¤ä¹ çš„æ—¶é—´æ®µã€‚æˆ‘è¿·èŒ«è¿‡ä¸€æ®µæ—¶é—´ï¼Œå¤´è„‘ä¸€çƒ­ï¼Œå°±æŠ¥äº†ä¸ªè€ƒç ”å¤ä¹ ç­ï¼Œå»äº†3å¤©å¬è®²åº§ï¼Œå»äº†5å¤©å¤ä¹ æ•™å®¤å¼€å§‹è€ƒç ”çš„å¤ä¹ ã€‚æˆ‘å´è¿˜åœ¨è¿·èŒ«æœŸï¼Œä¸çŸ¥é“æœªæ¥ä½•å»ä½•ä»çš„æ ·å­ï¼Œå‘ç°è‡ªå·±éƒ½çœ‹ä¸è¿›å»ä¹¦äº†ï¼Œå¯èƒ½ä¸é€‚åˆè€ƒç ”è¿™æ¡è·¯å§ã€‚ç»è¿‡ä¸¤å¤©çš„æ—¶é—´ä»”ç»†çº ç»“ï¼Œæœ€ç»ˆè¿˜æ˜¯å†³å®šä¸å»è€ƒç ”äº†ï¼Œå‡ºå»å®ä¹ å»ã€‚</p><p>åœ¨äººç”Ÿçš„åˆ†å²”è·¯å£ä¸Šï¼Œæœ€ç»ˆçš„å†³å®šæƒåœ¨è‡ªå·±æ‰‹é‡Œï¼Œåšå‡ºä¸ä¼šè®©è‡ªå·±åæ‚”çš„äº‹æƒ…ï¼Œè‡³å°‘å›æƒ³ä¹Ÿä¸ä¼šè§‰å¾—åæ‚”å§ã€‚</p><h2 id="åˆ·é‡æ€ª"><a href="#åˆ·é‡æ€ª" class="headerlink" title="åˆ·é‡æ€ª"></a>åˆ·é‡æ€ª</h2><p>7æœˆä»½æˆ‘ä¹Ÿæ¥åˆ°äº†æ­¦æ±‰æ‰¾å·¥ä½œï¼Œæ‰¾å·¥ä½œçš„äº‹æƒ…å°±ä¸å¤šè¯´äº†ï¼Œç¬¬äºŒå®¶å°±æ˜¯ç°åœ¨çš„è¿™å®¶å…¬å¸ã€‚</p><p>è¿›äº†å…¬å¸å®ä¹ ï¼Œæ‰å‘ç°è‡ªå·±èƒ½åŠ›æœ‰å¤§å¤§çš„é—®é¢˜ï¼Œå…³é”®æ˜¯åŸºç¡€å¤ªå·®äº†ã€‚ç™½å¤©å¥½å¥½å­¦ä¹ ç†Ÿæ‚‰å…¬å¸é¡¹ç›®çš„å†™æ³•å’Œé€»è¾‘ï¼Œè¿˜æœ‰é“¶è¡Œä¸šåŠ¡åªæ˜¯ï¼Œå¯¹äº†å…¬å¸ä¸»è¦çš„å®¢æˆ·å¯¹è±¡éƒ½æ˜¯é“¶è¡Œä¸šåŠ¡ç›¸å…³çš„å¼€å‘ã€‚æ‰€ä»¥å­¦ä¹ é“¶è¡Œçš„ä¸šåŠ¡çŸ¥è¯†ä¹Ÿæ˜¯å¿…è¦çš„ä¸€ä¸ªé˜¶æ®µã€‚è¿™çœŸçš„å¾ˆé‡è¦ï¼</p><p>ä¸‹ç­äº†ä¹Ÿä¸æ•¢é—²ç€ï¼Œå½“æ—¶æ˜¯å®ä¹ å˜›ï¼Œéƒ½è¦å†™æ—¥æŠ¥ã€‚å†™å®Œæ—¥æŠ¥äº†ï¼Œä¹Ÿéƒ½ä¼šå»ç½‘ç«™ä¸Šçœ‹å­¦ä¹ è§†é¢‘ï¼Œæ²¡åŠæ³•ï¼ŒåŸºç¡€ä¸è¡Œå“ã€‚</p><p>å…¬å¸å¯¹æ–°äººä¹Ÿæœ‰å¾ˆå¥½çš„ç…§é¡¾ï¼Œä¼šä¸€ç‚¹ä¸€ç‚¹ç»™æˆ‘æ–°çš„ä»»åŠ¡ï¼Œç»™æˆ‘çš„ä»»åŠ¡ä¹Ÿæ˜¯æ²¡æœ‰æ—¶é—´çš„é™åˆ¶ï¼Œå½“æ—¶æˆ‘è‡ªå·±ä¹Ÿæ˜¯å¹¸è¿å§ï¼Œè¿›äº†ä¸€ä¸ªæ²¡å¤šå¤§javaé¡¹ç›®éœ€æ±‚çš„é¡¹ç›®ç»„ï¼Œå¯ä»¥å¾ˆå¥½çš„åœ¨æ—©ç‚¹ä¸‹ç­çš„æ—¶é—´å¥½å¥½ç»™è‡ªå·±å……å……ç”µã€‚</p><p>å°±è¿™æ ·å­å®ä¹ äº†å¤§åŠå¹´æ—¶é—´â€¦.</p><h2 id="æ‹¿buff"><a href="#æ‹¿buff" class="headerlink" title="æ‹¿buff"></a>æ‹¿buff</h2><p>æ¯•ä¸šåï¼ŒåŒæ—¶ä¹Ÿè½¬æ­£äº†ï¼Œå—¯ï¼Œæˆ‘å®ä¹ äº†å¤§æ¦‚æœ‰11ä¸ªæœˆï¼Œæ²¡æ¯•ä¸šè¯ä¸è®©è½¬æ­£ã€‚</p><p>è½¬æ­£åï¼Œè¿›äº†å¦å¤–ä¸€ä¸ªé¡¹ç›®ç»„ï¼Œä¸»è¦æ˜¯åšé“¶è¡Œç†è´¢ä¸šåŠ¡å¼€å‘çš„é¡¹ç›®ï¼Œè¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªä¹°ç†è´¢çš„é¡¹ç›®ã€‚å“ˆå“ˆå“ˆ</p><p>åæ­£æˆ‘ä¸€è¿›é¡¹ç›®ç»„ï¼Œå°±æ˜¯ä¸€è„¸è’™è”½å§ï¼Œå¹³æ—¶å¼€å‘å®Œå…¨æ²¡æ¥è§¦åˆ°ä¸šåŠ¡ç›¸å…³çš„çŸ¥è¯†ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„ä¸è¶³ã€‚</p><p>ç°åœ¨æƒ³æƒ³ï¼Œä¸šåŠ¡çŸ¥è¯†&gt;ä»£ç æŠ€æœ¯</p><p>çœŸçš„ä¸šåŠ¡åªæ˜¯æ˜¯çœŸçš„é‡è¦ã€‚ç¼–ç é¦–å…ˆéœ€è¦çš„æ€è·¯ï¼Œä»€ä¹ˆæ˜¯æ€è·¯ï¼Œå¯¹äºæˆ‘è¿™ä¸€è¡Œæ¥è¯´ï¼Œä¸šåŠ¡çŸ¥è¯†å°±æ˜¯æ€è·¯ï¼Œæ‰èƒ½å†™å‡ºä½ çš„è¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼Œä¸‹ä¸€æ­¥è¯¥å¤„ç†ä»€ä¹ˆæ•°æ®ï¼Œè®¡ç®—æ•°æ®ï¼Œè¯·æ±‚å’Œå“åº”æ•°æ®ï¼Œè¦ä»€ä¹ˆæ•°æ®å°±ç»™ä»€ä¹ˆæ•°æ®ï¼Œä¸ºäº†æ•°æ®çš„å®‰å…¨æ€§ï¼Œç­¾åå’ŒéªŒç­¾ä¹Ÿæ˜¯å¿…è¦çš„ã€‚æœ‰äº†æ€è·¯ï¼Œæ‰æœ‰é€»è¾‘ï¼Œåˆ†æå¥½éœ€æ±‚æ–‡æ¡£ï¼Œä¸‹æ‰‹å³æ€è·¯æ˜ç¡®ï¼Œä¸æ˜ç¡®é‡æ–°åˆ†æã€‚ä¸åœ¨ä¹è¿™ç‚¹æ—¶é—´ï¼Œå¾€å¾€å†™è®¾è®¡æ–‡æ¡£å ç”¨çš„æ—¶é—´æ˜¯å‘¨æœŸçš„40%ï¼Œå¼€å‘æ—¶é—´æ˜¯20%ï¼Œæµ‹è¯•æ—¶é—´æ˜¯40%è¿™ä¸ªæ ·å­ã€‚</p><p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå°±æ˜¯æƒ³å¤šï¼Œä¸šåŠ¡çŸ¥è¯†çœŸçš„å¾ˆé‡è¦å•Šå•Šå•Šå•Šã€‚<br>##æ‰“å°é¾™</p><p>ä»å»å¹´æ¯•ä¸šåˆ°ç°åœ¨ï¼Œç£•ç£•ç»Šç»Šçš„ï¼Œç”±äºæŠ€æœ¯æˆ–è€…ä¸šåŠ¡çŸ¥è¯†ä¸æ‡‚ï¼Œä¸å°‘è¢«è®­ã€‚è¯´å¤šäº†éƒ½æ˜¯æ³ªå•Šï¼</p><p>ç°åœ¨æƒ³æƒ³ä¹Ÿæ˜¯è‡ªå·±çš„å¥‹æ–—å²å§ã€‚</p><p>å‚ä¸äº†å¤§å¤§å°å°çš„é¡¹ç›®æˆ–è€…ä¸šåŠ¡çš„éœ€æ±‚å¼€å‘ï¼Œæ¥è§¦çš„ä¸œè¥¿å¤ªå¤šå¤ªå¤šäº†ï¼Œè™½ç„¶ç´¯äº†ç‚¹ï¼Œéƒ½æ˜¯è‡ªå·±çš„ç»å†ï¼Œè‡ªå·±å›å¤´æƒ³æƒ³ä¹Ÿå¾ˆæ»¡è¶³ã€‚</p><p>æˆ‘è¿™ä¸ªé˜¶æ®µä¹Ÿæ‰æ˜¯æ‰“å°é¾™çš„é˜¶æ®µï¼Œè¿˜æŒ‘ä¸èµ·å¤§æ‹…ã€‚ç›®å‰è¿™ä¸ªå¹³å°æ¶‰åŠåˆ°æ”¯ä»˜ç³»ç»Ÿã€è´¦æˆ·ç³»ç»Ÿã€äº§å“ç³»ç»Ÿã€æ¸…ç®—ç³»ç»Ÿã€é˜¿é‡Œäº‘å‰ç½®ç³»ç»Ÿã€å‰ç«¯ç³»ç»Ÿã€ç®¡ç†ç«¯ç³»ç»Ÿã€è¥é”€ç³»ç»Ÿã€å‰ç«¯æœåŠ¡ç«¯ç³»ç»Ÿã€‚ä¸€å…±9ä¸ªç³»ç»Ÿå•Šå•Šå•Šã€‚</p><p>æˆ‘è¿˜æœ‰ä¸€ä¸ªæ¸…ç®—ç³»ç»Ÿè¿˜æ²¡æœ‰ç†Ÿæ‚‰ï¼Œå…¶ä»–çš„éƒ½æœ‰æ¥è§¦å¼€å‘è¿‡æ¥å£ã€‚ä¹Ÿæ˜¯æœ€è¿‘æ–°å¢ä¸€ä¸ªæ”¯ä»˜æ¸ é“ï¼Œæˆ‘ä¸»è¦è´Ÿè´£äº†æ”¯ä»˜ç³»ç»Ÿå’Œæ¸…ç®—ç³»ç»Ÿçš„äº¤æ˜“æ¥å£å¼€å‘ã€‚ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡åœ¨æ¸…ç®—ä¸Šå¼€å‘äº¤æ˜“ã€‚æ„Ÿè§‰çœŸçš„ä¸ç®€å•å•Šå•Šå•Šï¼Œéœ€è¦å¤„ç†çš„æ•°æ®å¤ªåºå¤§äº†ï¼Œä¼šè®¡åˆ†å½•çš„è®¡ç®—ï¼Œäº¤æ˜“æ˜ç»†å¯¹è´¦ï¼Œè¿˜æœ‰è®°ä¸€å¤§å †çš„è¡¨æ•°æ®ï¼Œä¸€å¤§ä¸²çš„sqlè¯­å¥çœ‹å¾—å¤´éƒ½å¤§äº†ã€‚æ¸…ç®—ç³»ç»Ÿä¹Ÿæ˜¯æ•´ä¸ªå¹³å°æœ€æ ¸å¿ƒçš„ç³»ç»Ÿï¼Œæ‰€æœ‰æ¶‰åŠåˆ°è´¦åŠ¡é‡‘é¢çš„äº¤æ˜“éƒ½å¿…é¡»åœ¨æ¸…ç®—åšæ•°æ®å¤„ç†ã€‚ç³»ç»Ÿä¹‹é—´çš„é€šè®¯å¾ˆå¤šã€‚ç†æ¸…æ¥šè¿™äº›æ˜¯çœŸçš„éš¾å•Šå•Šå•Šã€‚</p><p>æˆ‘ç›®å‰ä¹Ÿæ˜¯å­¦ä¹ æ¸…ç®—ç³»ç»Ÿçš„æ‰€æœ‰äº¤æ˜“ï¼Œè¾¹å¼€å‘è¾¹å­¦ä¹ åšç¬”è®°ï¼Œå°½å¿«å¯ä»¥æ¥æ‰‹è¿™ä¸ªé¡¹ç›®å§ã€‚ä¹Ÿæ˜¯æˆ‘ç›®å‰çš„ä¸€ä¸ªå°ç›®æ ‡ã€‚</p><h2 id="æ‰“ç”·çˆµ"><a href="#æ‰“ç”·çˆµ" class="headerlink" title="æ‰“ç”·çˆµ"></a>æ‰“ç”·çˆµ</h2><p>ç°åœ¨è£…å¤‡ä¸è¡Œï¼Œç­‰å‡†å¤‡èµ·æ¥äº†ï¼Œåœ¨æ¥æŒ‘æˆ˜â€¦</p><p>å¾…ç»­â€¦..</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‹é“¾</title>
      <link href="2017/10/22/friends/"/>
      <url>2017/10/22/friends/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://lhcy.org/">ä»¥æ¢¦ä¸ºé©¬ï¼Œå¥”å‘è¿œæ–¹</a> - æ„¿æˆ‘ç»å†çš„è‹¦éš¾ä½ ä¸è¦ç»å†ï¼Œæ„¿æˆ‘å·²æœ‰çš„å¹¸ç¦ä½ è§¦æ‰‹å¯åŠ</li><li><a href="http://heng07.com/">ä¸€æ’çš„ç½‘å¿—</a> -  ä¸€æ’çš„ç½‘å¿—</li><li><a href="http://www.pxwei.com/">å½­å°ä¼Ÿ</a> - æ¢¦æƒ³çš„å¤©ç©ºåˆ†å¤–è“</li><li><a href="https://o0o0o0.cn/">ä¸‰åä¸‰è¨€</a> - ç©·å°½æ­¤ç”Ÿï¼Œä¸å¾—æ‹¥æŠ±</li><li><a href="https://blog.dazhu1988.com/">çŒªå“¥æ‚è®°</a> - å‡¡æ˜¯é¥è¿œçš„åœ°æ–¹å¯¹æˆ‘éƒ½æœ‰ä¸€ç§è¯±æƒ‘,ä¸æ˜¯è¯±æƒ‘äºç¾ä¸½,å°±æ˜¯è¯±æƒ‘äºä¼ è¯´.</li><li><a href="https://ji.ci/">è®°æ­¤</a> - ä¿®å·±å®‰äºº</li><li><a href="https://www.linasan.cn/">æ—é˜¿ä¸‰</a> - ä¸€ä¸ªéå¸¸å–œæ¬¢å‰ç«¯å¹¶ä¸”çƒ­çˆ±åç«¯çš„å‰ç«¯äººå‘˜</li><li><a href="http://im.dog/">èŠ­æ¯”</a> - ä»ç„¶åœ¨é€”ä¸­ï¼Œåªå¥½ç›¸ä¿¡é›¨éå¾Œæœ‰å½©è™¹ã€‚</li><li><a href="https://www.fangdongdemao.cn/">æˆ¿æ±çš„è²“</a> - ä»…ä»…æ˜¯å–œå¥½ï¼Œæ— å…³ä»»ä½•ï¼Œæˆ‘å†™æˆ‘çš„å°±å¥½ï¼Œè®°å½•ä¸‹æƒ³å†™çš„æ–‡å­—è€Œå·²</li><li><a href="https://cncyu.cn/">ä»–ä¸å¥¹çš„æ¢¦</a> - ä¸å…¶ä¸´æ¸Šç¾¡é±¼ï¼Œä¸å¦‚é€€è€Œç»“ç½‘</li><li><a href="http://note-star.cn/">æ€è¡Œè€…çš„æ˜Ÿçƒ</a> - æˆ‘å¬åˆ°è€¶è·¯æ’’å†·çš„é’Ÿå£°å“èµ·</li><li><a href="https://www.foreverblog.cn/">åå¹´ä¹‹çº¦</a> - ä¸€ä¸ªäººçš„å¯‚å¯ï¼Œä¸€ç¾¤äººçš„ç‹‚æ¬¢ã€‚</li><li><a href="http://storeweb.cn/">ä¸ªç«™å•†åº—</a> - ä¸€ä¸ªç²¾è‡´çš„ï¼Œå¸¦ç¤¾äº¤å…ƒç´ çš„ä¸ªäººç½‘ç«™å‘å¸ƒå¹³å°ï¼Œåšå®¢æ”¶å½•ç½‘ç«™</li><li><a href="http://www.hzv5.cn/">å–è¿œzzy</a> - ä¸€ä¸ªä¸çŸ¥åçš„ç¼–ç¨‹çˆ±å¥½è€…</li><li><a href="http://www.ruanyifeng.com/blog/">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a> - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</li><li><a href="https://www.xiangshitan.com/">å“çŸ³æ½­</a> - ä½•è°“å“çŸ³æ½­ï¼Œæ•…ä¹¡æœ‰ä¸€æ²³åå°æ²³ï¼Œå°æ²³æœ‰ä¸€æ½­åå“çŸ³æ½­</li><li><a href="https://www.menhood.wang/">é‚»ç”·</a> - æ´å†›çš„æ—¥å¸¸è®°å½•</li><li><a href="https://lzyz.fun/">æƒŠé¸¿</a> - æ´å†›çš„æ—¥å¸¸è®°å½•</li><li><a href="https://manman.qian.lu/">æ ¼å­è€å¸ˆ</a> - é‡è§æ¯ä¸€ä¸ªå­©å­çš„æˆé•¿</li><li><a href="http://blog.dngz.net/">å¿ƒçµåšå®¢</a> - ç”Ÿæ´»é‡Œ ä¸€å¤©å¤© ä¸€äº›äº› ä¸€ç‚¹ç‚¹ æ¶ˆå¤±äº†â€¦</li><li><a href="https://www.xcnte.com/">Xcnteâ€™ s Blog</a> - äººè¦æ¸…é†’ï¼Œå¤–é¢çš„æŒå£°è¶Šçƒ­çƒˆè¶Šå±é™©</li><li><a href="https://blog.52itstyle.vip/">æŸ’â€™s Blog</a> - å…¶å®æˆ‘æ˜¯ä¸€ä¸ªç¨‹åºå‘˜</li><li><a href="https://jkgblog.com/">Escherâ€™s Log</a> - ä¸€æ¡æ²¡æœ‰è¢«å¤ªé˜³æ™’å¹²çš„å’¸é±¼</li><li><a href="https://blog.52itstyle.vip/">æŸ’â€™s Blog</a> - å…¶å®æˆ‘æ˜¯ä¸€ä¸ªç¨‹åºå‘˜</li><li><a href="https://mrbird.cc/">mrbird</a> - Java </li><li><a href="https://liuyanzhao.com/">è¨€æ›Œåšå®¢</a> - å­¦å¦‚é€†æ°´è¡ŒèˆŸï¼Œä¸è¿›åˆ™é€€ </li><li><a href="http://www.glmapper.com/">glmapper</a> - ä»ç¨‹åºçš„ä¸–ç•Œä¸­å…¨èº«è€Œé€€</li><li><a href="http://www.jiangcuigong.com/">æ‘„å½±åšå®¢</a> - æ‘„å½±åšä¸»</li><li><a href="https://nekodeng.gitee.io/">itsNekoDeng</a> - åä¸‡ä¼ç‰¹çš®å¡ä¸˜ï¼Œæ¢¦æƒ³æ˜¯ä¸–ç•Œå’Œå¹³ï¼Œæƒ³è¦å‘å…‰å‘çƒ­</li><li><a href="https://www.aomanhao.top/">AomanHao</a> - çƒ­çˆ±å›¾åƒå¤„ç†ï¼Œä¼˜åŒ–å½©è‰²ä¸–ç•Œ</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¬¬ä¸€æ¬¡æ­å»ºåšå®¢å¹³å°</title>
      <link href="2017/10/21/2017-10-21-one/"/>
      <url>2017/10/21/2017-10-21-one/</url>
      
        <content type="html"><![CDATA[<p>ç»ˆäºæ­å»ºæˆåŠŸäº†</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äº</title>
      <link href="2017/10/21/me/"/>
      <url>2017/10/21/me/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤</p></blockquote><h2 id="ğŸ -å…³äºæœ¬ç«™"><a href="#ğŸ -å…³äºæœ¬ç«™" class="headerlink" title="ğŸ  å…³äºæœ¬ç«™"></a>ğŸ  å…³äºæœ¬ç«™</h2><p>è§‰å¾—ä¸ªäººåšå®¢æ˜¯ä»¶å¾ˆé…·çš„äº‹ï¼Œäºæ˜¯ï¼š<br>2017-10-20ï¼šé˜¿é‡Œäº‘è´­ä¹°äº‘æœåŠ¡<br>2017-10-20ï¼šè´­ä¹°åŸŸåï¼šniaobulashi.com<br>2017-10-21ï¼šå»ºç«‹åšå®¢ï¼Œå–åä¸º<strong>é¸Ÿä¸æ‹‰å±</strong><br>2018-06-03ï¼šæ›´åä¸º<strong>å—å±¿åŒ—å²›</strong>ï¼ˆç®¡å±€è¯´é¸Ÿä¸æ‹‰å±å«æœ‰è¿ç« è¯æ±‡ã€‚ã€‚ï¼‰ä½†æ˜¯æˆ‘è¿˜è¦å«ã€é¸Ÿä¸æ‹‰å±ã€‘ ::aru:nose::<br>2018-06-14ï¼šæ­£å¼æŒ‚ç‰ŒSSL<br>2018-06-15ï¼šå¯ç”¨åˆæ‹äº‘CDNæœåŠ¡<br>2019-07-03ï¼šæœåŠ¡å™¨å›ç‚‰é‡é€ ä½¿ç”¨å®å¡”é¢æ¿<br>2019-07-05ï¼šä½¿ç”¨åˆæ‹äº‘äº‘å­˜å‚¨æœåŠ¡<br>2020-04-08ï¼šä¸ç»­è´¹é˜¿é‡Œäº‘æœåŠ¡ï¼Œè½¬ç§»è‡³github pageï¼Œä½¿ç”¨hexoä¸»é¢˜ï¼Œè¯„è®ºè®°å½•å…¨æ— ï¼ˆTã€‚ã€‚Tï¼‰<br>åšå®¢å­˜æ´»è‡³ä»Šâ€¦</p><p>ä¸ºä»€ä¹ˆå«ã€é¸Ÿä¸æ‹‰å±ï¼ˆè¯—ï¼‰ã€‘ï¼šå½¢å®¹ä¸€ä¸ªåœ°æ–¹ç›¸å½“è´«ç˜ ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªåœ°æ–¹ç¼ºå°‘å‘å±•æ‰€éœ€è¦çš„å¿…è¦çš„æ¡ä»¶ï¼Œç”šè‡³è¿é¸Ÿå„¿éƒ½ä¸æ¥ã€‚<br>è¯´çš„å°±æ˜¯æˆ‘ï¼Œæˆ‘å¸Œæœ›è®©è¿™åœ°æ–¹ç™¾èŠ±ç››å¼€ï¼Œè®©è‡ªå·±æ›´åŠ ä¼˜ç§€ã€‚</p><h2 id="ğŸ‘¨â€ğŸ’»-åšä¸»æ˜¯è°"><a href="#ğŸ‘¨â€ğŸ’»-åšä¸»æ˜¯è°" class="headerlink" title="ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°"></a>ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°</h2><p><a href="http://www.yangtzeu.edu.cn/">é•¿æ±Ÿå¤§å­¦</a>ç½‘ç»œå·¥ç¨‹ä¸“ä¸š2016å¹´æ¯•ä¸šã€‚</p><p>åŠ±å¿—å‡è‚¥ã€‚ã€‚åŸºæœ¬ç¨³å®šäº†ï¼Œä¸å‡å•¦ ::aru:cheer:: </p><p>è®¤ä¸ºæ‰€æœ‰äº‹æƒ…çš„å‘ç”Ÿéƒ½æ˜¯å‘½ä¸­æ³¨å®šçš„ï¼Œå”¯ä¸€å¯ä»¥æ”¹å˜çš„æ˜¯åŠªåŠ›è®©ä»–æ›´å¥½ã€‚</p><p>å–œæ¬¢åŠ¨æ¼«ã€ç•ªå‰§ã€æ‘‡æ»šã€æ¸¸æˆ</p><p>å–œæ¬¢å»liveéŸ³ä¹èŠ‚å¬ç°åœº</p><p>å¸Œæœ›å’Œå¥³æœ‹å‹å»å¬å‘¨æ°ä¼¦çš„æ¼”å”±ä¼š</p><p>emmmï¼Œç©è¿‡**<a href="https://images.niaobulashi.com/typecho/uploads/2019/07/3964700045.jpg">å„ç§steamæ¸¸æˆ</a>**ï¼Œæ›¾ç»æ˜¯ä¸ªæ¸¸æˆå®…ï¼Œè¿˜æœ‰nså„ç§å¡å¸¦æ¸¸æˆ</p><p>ç°åœ¨ä¸æ€ä¹ˆç©äº†ï¼Œè¯¥ç»™è‡ªå·±å……å……ç”µäº† ::aru:sweat:: </p><h2 id="â›¹-å…´è¶£çˆ±å¥½"><a href="#â›¹-å…´è¶£çˆ±å¥½" class="headerlink" title="â›¹ å…´è¶£çˆ±å¥½"></a>â›¹ å…´è¶£çˆ±å¥½</h2><p>æœ¬äººæ“…é•¿Aiã€Fwã€Flã€Brã€Aeã€Prã€Idã€Psç­‰è½¯ä»¶çš„å®‰è£…ä¸å¸è½½ï¼Œç²¾é€šCSSã€Javascriptã€PHPã€ASPã€Cã€Cï¼‹ï¼‹ã€C#ã€Javaã€Rubyã€Perlã€Lispã€pythonã€Objective-Cã€Actionscriptã€Pascalç­‰å•è¯çš„æ‹¼å†™ï¼Œç†Ÿæ‚‰Windowsã€Linuxã€Macã€Androidã€IOSã€WP8ç­‰ç³»ç»Ÿçš„å¼€å…³æœºã€‚âˆ ( á› ã€âˆ )ï¼¿</p><p> ::aru:tongue:: </p><p>ä¸çš®äº†ã€‚<br>Java / JavaScript / SpringMVC / Linux / Mysql / Oracle / Redisç¼“å­˜æŠ€æœ¯ / SpringBoot / SpringCloud / Shiroå®‰å…¨æ¡†æ¶ / dubboæ¡†æ¶ / AngularJS / VueJs / ç§»åŠ¨å¼€å‘Flutter / äº’è”ç½‘é‡‘èç›¸å…³ä¸šåŠ¡ã€ä¿¡æ‰˜ä¸šåŠ¡ç­‰é“¶è¡Œä¸šåŠ¡å¼€å‘ / åŠªåŠ›é€ è½®å­</p><h2 id="ğŸ“¬-è”ç³»æˆ‘å‘€"><a href="#ğŸ“¬-è”ç³»æˆ‘å‘€" class="headerlink" title="ğŸ“¬ è”ç³»æˆ‘å‘€"></a>ğŸ“¬ è”ç³»æˆ‘å‘€</h2><p><a href="https://github.com/niaobulashi/">GitHub</a><br><a href="https://juejin.im/user/5b3de9155188251aa0161fe4">æ˜é‡‘</a><br><a href="https://www.zhihu.com/people/hu-lang-lang-91/activities">çŸ¥ä¹</a><br><a href="https://weibo.com/godloveharry">å¾®åš</a></p><h2 id="ğŸš€-æˆ‘çš„å¯„è¯­"><a href="#ğŸš€-æˆ‘çš„å¯„è¯­" class="headerlink" title="ğŸš€ æˆ‘çš„å¯„è¯­"></a>ğŸš€ æˆ‘çš„å¯„è¯­</h2><p>äººç”Ÿæœ‰å‡ ä¸ªåå¹´å‘¢ï¼Ÿç‚¹ç‚¹æ»´æ»´ï¼Œç”¨æ–‡å­—è®°å½•</p><h2 id="ğŸ¤¡-æˆ‘æ˜¯æ‰“å·¥äºº"><a href="#ğŸ¤¡-æˆ‘æ˜¯æ‰“å·¥äºº" class="headerlink" title="ğŸ¤¡ æˆ‘æ˜¯æ‰“å·¥äºº"></a>ğŸ¤¡ æˆ‘æ˜¯æ‰“å·¥äºº</h2><ul><li>2015å¹´8æœˆ-2020å¹´3æœˆï¼šADTEC<br> Javaé¡¹ç›®å·¥ç¨‹å¸ˆ</li><li>2020å¹´4æœˆ-2020å¹´7æœˆï¼šSOFTSTONE<br> Javaé¡¹ç›®å·¥ç¨‹å¸ˆ</li><li>2020å¹´7æœˆ-è‡³ä»Šï¼šYCWA<br> Javaé¡¹ç›®å·¥ç¨‹å¸ˆ</li></ul><h2 id="ğŸ¨ç›®å‰çŠ¶æ€"><a href="#ğŸ¨ç›®å‰çŠ¶æ€" class="headerlink" title="ğŸ¨ç›®å‰çŠ¶æ€"></a>ğŸ¨ç›®å‰çŠ¶æ€</h2><p>åœ¨è¥¿å®‰</p>]]></content>
      
      
      <categories>
          
          <category> ç”Ÿæ´»éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
